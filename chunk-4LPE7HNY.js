var VAe=Object.create;var _O=Object.defineProperty,HAe=Object.defineProperties,QAe=Object.getOwnPropertyDescriptor,jAe=Object.getOwnPropertyDescriptors,$Ae=Object.getOwnPropertyNames,QE=Object.getOwnPropertySymbols,I8=Object.getPrototypeOf,bO=Object.prototype.hasOwnProperty,k8=Object.prototype.propertyIsEnumerable,zAe=Reflect.get;var T8=(t,e,n)=>e in t?_O(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,V=(t,e)=>{for(var n in e||={})bO.call(e,n)&&T8(t,n,e[n]);if(QE)for(var n of QE(e))k8.call(e,n)&&T8(t,n,e[n]);return t},De=(t,e)=>HAe(t,jAe(e));var rA=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var gc=(t,e)=>{var n={};for(var i in t)bO.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&QE)for(var i of QE(t))e.indexOf(i)<0&&k8.call(t,i)&&(n[i]=t[i]);return n};var M8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var GAe=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of $Ae(e))!bO.call(t,r)&&r!==n&&_O(t,r,{get:()=>e[r],enumerable:!(i=QAe(e,r))||i.enumerable});return t};var yO=(t,e,n)=>(n=t!=null?VAe(I8(t)):{},GAe(e||!t||!t.__esModule?_O(n,"default",{value:t,enumerable:!0}):n,t));var CO=(t,e,n)=>zAe(I8(t),n,e);var ue=(t,e,n)=>new Promise((i,r)=>{var o=l=>{try{a(n.next(l))}catch(c){r(c)}},s=l=>{try{a(n.throw(l))}catch(c){r(c)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var U3=M8(($vt,Hne)=>{"use strict";Hne.exports=function(){function t(r){return r}function e(r){return typeof r=="string"?r.toLowerCase():r}function n(r,o){if(o=typeof o=="object"?o:{direction:o},typeof r!="function"){var s=r;r=function(u){return u[s]?u[s]:""}}if(r.length===1){var a=r,l=o.ignoreCase?e:t,c=o.cmp||function(u,p){return u<p?-1:u>p?1:0};r=function(u,p){return c(l(a(u)),l(a(p)))}}let d={"-1":"",desc:""};return o.direction in d?function(u,p){return-r(u,p)}:r}function i(r,o){var s=typeof this=="function"&&!this.firstBy?this:!1,a=n(r,o),l=s?function(c,d){return s(c,d)||a(c,d)}:a;return l.thenBy=i,l}return i.firstBy=i,i}()});var _ue=M8((x5,S5)=>{"use strict";(function(t,e){typeof x5=="object"&&typeof S5<"u"?S5.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.html2canvas=e())})(x5,function(){"use strict";var t=function(f,h){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,m){A.__proto__=m}||function(A,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(A[_]=m[_])},t(f,h)};function e(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");t(f,h);function A(){this.constructor=f}f.prototype=h===null?Object.create(h):(A.prototype=h.prototype,new A)}var n=function(){return n=Object.assign||function(h){for(var A,m=1,_=arguments.length;m<_;m++){A=arguments[m];for(var S in A)Object.prototype.hasOwnProperty.call(A,S)&&(h[S]=A[S])}return h},n.apply(this,arguments)};function i(f,h,A,m){function _(S){return S instanceof A?S:new A(function(I){I(S)})}return new(A||(A=Promise))(function(S,I){function B(J){try{q(m.next(J))}catch(te){I(te)}}function R(J){try{q(m.throw(J))}catch(te){I(te)}}function q(J){J.done?S(J.value):_(J.value).then(B,R)}q((m=m.apply(f,h||[])).next())})}function r(f,h){var A={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},m,_,S,I;return I={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function B(q){return function(J){return R([q,J])}}function R(q){if(m)throw new TypeError("Generator is already executing.");for(;A;)try{if(m=1,_&&(S=q[0]&2?_.return:q[0]?_.throw||((S=_.return)&&S.call(_),0):_.next)&&!(S=S.call(_,q[1])).done)return S;switch(_=0,S&&(q=[q[0]&2,S.value]),q[0]){case 0:case 1:S=q;break;case 4:return A.label++,{value:q[1],done:!1};case 5:A.label++,_=q[1],q=[0];continue;case 7:q=A.ops.pop(),A.trys.pop();continue;default:if(S=A.trys,!(S=S.length>0&&S[S.length-1])&&(q[0]===6||q[0]===2)){A=0;continue}if(q[0]===3&&(!S||q[1]>S[0]&&q[1]<S[3])){A.label=q[1];break}if(q[0]===6&&A.label<S[1]){A.label=S[1],S=q;break}if(S&&A.label<S[2]){A.label=S[2],A.ops.push(q);break}S[2]&&A.ops.pop(),A.trys.pop();continue}q=h.call(f,A)}catch(J){q=[6,J],_=0}finally{m=S=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}}function o(f,h,A){if(A||arguments.length===2)for(var m=0,_=h.length,S;m<_;m++)(S||!(m in h))&&(S||(S=Array.prototype.slice.call(h,0,m)),S[m]=h[m]);return f.concat(S||h)}for(var s=function(){function f(h,A,m,_){this.left=h,this.top=A,this.width=m,this.height=_}return f.prototype.add=function(h,A,m,_){return new f(this.left+h,this.top+A,this.width+m,this.height+_)},f.fromClientRect=function(h,A){return new f(A.left+h.windowBounds.left,A.top+h.windowBounds.top,A.width,A.height)},f.fromDOMRectList=function(h,A){var m=Array.from(A).find(function(_){return _.width!==0});return m?new f(m.left+h.windowBounds.left,m.top+h.windowBounds.top,m.width,m.height):f.EMPTY},f.EMPTY=new f(0,0,0,0),f}(),a=function(f,h){return s.fromClientRect(f,h.getBoundingClientRect())},l=function(f){var h=f.body,A=f.documentElement;if(!h||!A)throw new Error("Unable to get document size");var m=Math.max(Math.max(h.scrollWidth,A.scrollWidth),Math.max(h.offsetWidth,A.offsetWidth),Math.max(h.clientWidth,A.clientWidth)),_=Math.max(Math.max(h.scrollHeight,A.scrollHeight),Math.max(h.offsetHeight,A.offsetHeight),Math.max(h.clientHeight,A.clientHeight));return new s(0,0,m,_)},c=function(f){for(var h=[],A=0,m=f.length;A<m;){var _=f.charCodeAt(A++);if(_>=55296&&_<=56319&&A<m){var S=f.charCodeAt(A++);(S&64512)===56320?h.push(((_&1023)<<10)+(S&1023)+65536):(h.push(_),A--)}else h.push(_)}return h},d=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];if(String.fromCodePoint)return String.fromCodePoint.apply(String,f);var A=f.length;if(!A)return"";for(var m=[],_=-1,S="";++_<A;){var I=f[_];I<=65535?m.push(I):(I-=65536,m.push((I>>10)+55296,I%1024+56320)),(_+1===A||m.length>16384)&&(S+=String.fromCharCode.apply(String,m),m.length=0)}return S},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=typeof Uint8Array>"u"?[]:new Uint8Array(256),g=0;g<u.length;g++)p[u.charCodeAt(g)]=g;for(var v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),x=0;x<v.length;x++)b[v.charCodeAt(x)]=x;for(var T=function(f){var h=f.length*.75,A=f.length,m,_=0,S,I,B,R;f[f.length-1]==="="&&(h--,f[f.length-2]==="="&&h--);var q=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(h):new Array(h),J=Array.isArray(q)?q:new Uint8Array(q);for(m=0;m<A;m+=4)S=b[f.charCodeAt(m)],I=b[f.charCodeAt(m+1)],B=b[f.charCodeAt(m+2)],R=b[f.charCodeAt(m+3)],J[_++]=S<<2|I>>4,J[_++]=(I&15)<<4|B>>2,J[_++]=(B&3)<<6|R&63;return q},k=function(f){for(var h=f.length,A=[],m=0;m<h;m+=2)A.push(f[m+1]<<8|f[m]);return A},U=function(f){for(var h=f.length,A=[],m=0;m<h;m+=4)A.push(f[m+3]<<24|f[m+2]<<16|f[m+1]<<8|f[m]);return A},D=5,N=11,z=2,Z=N-D,ne=65536>>D,ee=1<<D,he=ee-1,ge=1024>>D,Ee=ne+ge,St=Ee,qt=32,bt=St+qt,pt=65536>>N,jt=1<<Z,wn=jt-1,it=function(f,h,A){return f.slice?f.slice(h,A):new Uint16Array(Array.prototype.slice.call(f,h,A))},Lt=function(f,h,A){return f.slice?f.slice(h,A):new Uint32Array(Array.prototype.slice.call(f,h,A))},Pe=function(f,h){var A=T(f),m=Array.isArray(A)?U(A):new Uint32Array(A),_=Array.isArray(A)?k(A):new Uint16Array(A),S=24,I=it(_,S/2,m[4]/2),B=m[5]===2?it(_,(S+m[4])/2):Lt(m,Math.ceil((S+m[4])/4));return new Ut(m[0],m[1],m[2],m[3],I,B)},Ut=function(){function f(h,A,m,_,S,I){this.initialValue=h,this.errorValue=A,this.highStart=m,this.highValueIndex=_,this.index=S,this.data=I}return f.prototype.get=function(h){var A;if(h>=0){if(h<55296||h>56319&&h<=65535)return A=this.index[h>>D],A=(A<<z)+(h&he),this.data[A];if(h<=65535)return A=this.index[ne+(h-55296>>D)],A=(A<<z)+(h&he),this.data[A];if(h<this.highStart)return A=bt-pt+(h>>N),A=this.index[A],A+=h>>D&wn,A=this.index[A],A=(A<<z)+(h&he),this.data[A];if(h<=1114111)return this.data[this.highValueIndex]}return this.errorValue},f}(),vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Li=0;Li<vn.length;Li++)qn[vn.charCodeAt(Li)]=Li;var Yr="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",jm=50,b_=1,$m=2,zm=3,y_=4,Fd=5,O5=7,R5=8,B5=9,Yu=10,SP=11,F5=12,TP=13,Lue=14,C_=15,IP=16,eE=17,w_=18,Uue=19,N5=20,kP=21,E_=22,MP=23,Gm=24,Xs=25,x_=26,S_=27,Wm=28,Vue=29,Yf=30,Hue=31,tE=32,nE=33,DP=34,PP=35,OP=36,T_=37,RP=38,iE=39,rE=40,BP=41,L5=42,Que=43,jue=[9001,65288],U5="!",cn="\xD7",oE="\xF7",FP=Pe(Yr),Nd=[Yf,OP],NP=[b_,$m,zm,Fd],V5=[Yu,R5],H5=[S_,x_],$ue=NP.concat(V5),Q5=[RP,iE,rE,DP,PP],zue=[C_,TP],Gue=function(f,h){h===void 0&&(h="strict");var A=[],m=[],_=[];return f.forEach(function(S,I){var B=FP.get(S);if(B>jm?(_.push(!0),B-=jm):_.push(!1),["normal","auto","loose"].indexOf(h)!==-1&&[8208,8211,12316,12448].indexOf(S)!==-1)return m.push(I),A.push(IP);if(B===y_||B===SP){if(I===0)return m.push(I),A.push(Yf);var R=A[I-1];return $ue.indexOf(R)===-1?(m.push(m[I-1]),A.push(R)):(m.push(I),A.push(Yf))}if(m.push(I),B===Hue)return A.push(h==="strict"?kP:T_);if(B===L5||B===Vue)return A.push(Yf);if(B===Que)return S>=131072&&S<=196605||S>=196608&&S<=262141?A.push(T_):A.push(Yf);A.push(B)}),[m,A,_]},LP=function(f,h,A,m){var _=m[A];if(Array.isArray(f)?f.indexOf(_)!==-1:f===_)for(var S=A;S<=m.length;){S++;var I=m[S];if(I===h)return!0;if(I!==Yu)break}if(_===Yu)for(var S=A;S>0;){S--;var B=m[S];if(Array.isArray(f)?f.indexOf(B)!==-1:f===B)for(var R=A;R<=m.length;){R++;var I=m[R];if(I===h)return!0;if(I!==Yu)break}if(B!==Yu)break}return!1},j5=function(f,h){for(var A=f;A>=0;){var m=h[A];if(m===Yu)A--;else return m}return 0},Wue=function(f,h,A,m,_){if(A[m]===0)return cn;var S=m-1;if(Array.isArray(_)&&_[S]===!0)return cn;var I=S-1,B=S+1,R=h[S],q=I>=0?h[I]:0,J=h[B];if(R===$m&&J===zm)return cn;if(NP.indexOf(R)!==-1)return U5;if(NP.indexOf(J)!==-1||V5.indexOf(J)!==-1)return cn;if(j5(S,h)===R5)return oE;if(FP.get(f[S])===SP||(R===tE||R===nE)&&FP.get(f[B])===SP||R===O5||J===O5||R===B5||[Yu,TP,C_].indexOf(R)===-1&&J===B5||[eE,w_,Uue,Gm,Wm].indexOf(J)!==-1||j5(S,h)===E_||LP(MP,E_,S,h)||LP([eE,w_],kP,S,h)||LP(F5,F5,S,h))return cn;if(R===Yu)return oE;if(R===MP||J===MP)return cn;if(J===IP||R===IP)return oE;if([TP,C_,kP].indexOf(J)!==-1||R===Lue||q===OP&&zue.indexOf(R)!==-1||R===Wm&&J===OP||J===N5||Nd.indexOf(J)!==-1&&R===Xs||Nd.indexOf(R)!==-1&&J===Xs||R===S_&&[T_,tE,nE].indexOf(J)!==-1||[T_,tE,nE].indexOf(R)!==-1&&J===x_||Nd.indexOf(R)!==-1&&H5.indexOf(J)!==-1||H5.indexOf(R)!==-1&&Nd.indexOf(J)!==-1||[S_,x_].indexOf(R)!==-1&&(J===Xs||[E_,C_].indexOf(J)!==-1&&h[B+1]===Xs)||[E_,C_].indexOf(R)!==-1&&J===Xs||R===Xs&&[Xs,Wm,Gm].indexOf(J)!==-1)return cn;if([Xs,Wm,Gm,eE,w_].indexOf(J)!==-1)for(var te=S;te>=0;){var ce=h[te];if(ce===Xs)return cn;if([Wm,Gm].indexOf(ce)!==-1)te--;else break}if([S_,x_].indexOf(J)!==-1)for(var te=[eE,w_].indexOf(R)!==-1?I:S;te>=0;){var ce=h[te];if(ce===Xs)return cn;if([Wm,Gm].indexOf(ce)!==-1)te--;else break}if(RP===R&&[RP,iE,DP,PP].indexOf(J)!==-1||[iE,DP].indexOf(R)!==-1&&[iE,rE].indexOf(J)!==-1||[rE,PP].indexOf(R)!==-1&&J===rE||Q5.indexOf(R)!==-1&&[N5,x_].indexOf(J)!==-1||Q5.indexOf(J)!==-1&&R===S_||Nd.indexOf(R)!==-1&&Nd.indexOf(J)!==-1||R===Gm&&Nd.indexOf(J)!==-1||Nd.concat(Xs).indexOf(R)!==-1&&J===E_&&jue.indexOf(f[B])===-1||Nd.concat(Xs).indexOf(J)!==-1&&R===w_)return cn;if(R===BP&&J===BP){for(var Ke=A[S],Te=1;Ke>0&&(Ke--,h[Ke]===BP);)Te++;if(Te%2!==0)return cn}return R===tE&&J===nE?cn:oE},Kue=function(f,h){h||(h={lineBreak:"normal",wordBreak:"normal"});var A=Gue(f,h.lineBreak),m=A[0],_=A[1],S=A[2];(h.wordBreak==="break-all"||h.wordBreak==="break-word")&&(_=_.map(function(B){return[Xs,Yf,L5].indexOf(B)!==-1?T_:B}));var I=h.wordBreak==="keep-all"?S.map(function(B,R){return B&&f[R]>=19968&&f[R]<=40959}):void 0;return[m,_,I]},que=function(){function f(h,A,m,_){this.codePoints=h,this.required=A===U5,this.start=m,this.end=_}return f.prototype.slice=function(){return d.apply(void 0,this.codePoints.slice(this.start,this.end))},f}(),Yue=function(f,h){var A=c(f),m=Kue(A,h),_=m[0],S=m[1],I=m[2],B=A.length,R=0,q=0;return{next:function(){if(q>=B)return{done:!0,value:null};for(var J=cn;q<B&&(J=Wue(A,S,_,++q,I))===cn;);if(J!==cn||q===B){var te=new que(A,J,R,q);return R=q,{value:te,done:!1}}return{done:!0,value:null}}}},Xue=1,Zue=2,I_=4,$5=8,sE=10,z5=47,k_=92,Jue=9,ehe=32,aE=34,M_=61,the=35,nhe=36,ihe=37,lE=39,cE=40,D_=41,rhe=95,ys=45,ohe=33,she=60,ahe=62,lhe=64,che=91,dhe=93,uhe=61,hhe=123,dE=63,fhe=125,G5=124,phe=126,mhe=128,W5=65533,UP=42,Xf=43,Ahe=44,ghe=58,vhe=59,P_=46,_he=0,bhe=8,yhe=11,Che=14,whe=31,Ehe=127,fc=-1,K5=48,q5=97,Y5=101,xhe=102,She=117,The=122,X5=65,Z5=69,J5=70,Ihe=85,khe=90,Fo=function(f){return f>=K5&&f<=57},Mhe=function(f){return f>=55296&&f<=57343},Km=function(f){return Fo(f)||f>=X5&&f<=J5||f>=q5&&f<=xhe},Dhe=function(f){return f>=q5&&f<=The},Phe=function(f){return f>=X5&&f<=khe},Ohe=function(f){return Dhe(f)||Phe(f)},Rhe=function(f){return f>=mhe},uE=function(f){return f===sE||f===Jue||f===ehe},hE=function(f){return Ohe(f)||Rhe(f)||f===rhe},e6=function(f){return hE(f)||Fo(f)||f===ys},Bhe=function(f){return f>=_he&&f<=bhe||f===yhe||f>=Che&&f<=whe||f===Ehe},Xu=function(f,h){return f!==k_?!1:h!==sE},fE=function(f,h,A){return f===ys?hE(h)||Xu(h,A):hE(f)?!0:!!(f===k_&&Xu(f,h))},VP=function(f,h,A){return f===Xf||f===ys?Fo(h)?!0:h===P_&&Fo(A):Fo(f===P_?h:f)},Fhe=function(f){var h=0,A=1;(f[h]===Xf||f[h]===ys)&&(f[h]===ys&&(A=-1),h++);for(var m=[];Fo(f[h]);)m.push(f[h++]);var _=m.length?parseInt(d.apply(void 0,m),10):0;f[h]===P_&&h++;for(var S=[];Fo(f[h]);)S.push(f[h++]);var I=S.length,B=I?parseInt(d.apply(void 0,S),10):0;(f[h]===Z5||f[h]===Y5)&&h++;var R=1;(f[h]===Xf||f[h]===ys)&&(f[h]===ys&&(R=-1),h++);for(var q=[];Fo(f[h]);)q.push(f[h++]);var J=q.length?parseInt(d.apply(void 0,q),10):0;return A*(_+B*Math.pow(10,-I))*Math.pow(10,R*J)},Nhe={type:2},Lhe={type:3},Uhe={type:4},Vhe={type:13},Hhe={type:8},Qhe={type:21},jhe={type:9},$he={type:10},zhe={type:11},Ghe={type:12},Whe={type:14},pE={type:23},Khe={type:1},qhe={type:25},Yhe={type:24},Xhe={type:26},Zhe={type:27},Jhe={type:28},efe={type:29},tfe={type:31},HP={type:32},t6=function(){function f(){this._value=[]}return f.prototype.write=function(h){this._value=this._value.concat(c(h))},f.prototype.read=function(){for(var h=[],A=this.consumeToken();A!==HP;)h.push(A),A=this.consumeToken();return h},f.prototype.consumeToken=function(){var h=this.consumeCodePoint();switch(h){case aE:return this.consumeStringToken(aE);case the:var A=this.peekCodePoint(0),m=this.peekCodePoint(1),_=this.peekCodePoint(2);if(e6(A)||Xu(m,_)){var S=fE(A,m,_)?Zue:Xue,I=this.consumeName();return{type:5,value:I,flags:S}}break;case nhe:if(this.peekCodePoint(0)===M_)return this.consumeCodePoint(),Vhe;break;case lE:return this.consumeStringToken(lE);case cE:return Nhe;case D_:return Lhe;case UP:if(this.peekCodePoint(0)===M_)return this.consumeCodePoint(),Whe;break;case Xf:if(VP(h,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(h),this.consumeNumericToken();break;case Ahe:return Uhe;case ys:var B=h,R=this.peekCodePoint(0),q=this.peekCodePoint(1);if(VP(B,R,q))return this.reconsumeCodePoint(h),this.consumeNumericToken();if(fE(B,R,q))return this.reconsumeCodePoint(h),this.consumeIdentLikeToken();if(R===ys&&q===ahe)return this.consumeCodePoint(),this.consumeCodePoint(),Yhe;break;case P_:if(VP(h,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(h),this.consumeNumericToken();break;case z5:if(this.peekCodePoint(0)===UP)for(this.consumeCodePoint();;){var J=this.consumeCodePoint();if(J===UP&&(J=this.consumeCodePoint(),J===z5))return this.consumeToken();if(J===fc)return this.consumeToken()}break;case ghe:return Xhe;case vhe:return Zhe;case she:if(this.peekCodePoint(0)===ohe&&this.peekCodePoint(1)===ys&&this.peekCodePoint(2)===ys)return this.consumeCodePoint(),this.consumeCodePoint(),qhe;break;case lhe:var te=this.peekCodePoint(0),ce=this.peekCodePoint(1),Ke=this.peekCodePoint(2);if(fE(te,ce,Ke)){var I=this.consumeName();return{type:7,value:I}}break;case che:return Jhe;case k_:if(Xu(h,this.peekCodePoint(0)))return this.reconsumeCodePoint(h),this.consumeIdentLikeToken();break;case dhe:return efe;case uhe:if(this.peekCodePoint(0)===M_)return this.consumeCodePoint(),Hhe;break;case hhe:return zhe;case fhe:return Ghe;case She:case Ihe:var Te=this.peekCodePoint(0),Ve=this.peekCodePoint(1);return Te===Xf&&(Km(Ve)||Ve===dE)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(h),this.consumeIdentLikeToken();case G5:if(this.peekCodePoint(0)===M_)return this.consumeCodePoint(),jhe;if(this.peekCodePoint(0)===G5)return this.consumeCodePoint(),Qhe;break;case phe:if(this.peekCodePoint(0)===M_)return this.consumeCodePoint(),$he;break;case fc:return HP}return uE(h)?(this.consumeWhiteSpace(),tfe):Fo(h)?(this.reconsumeCodePoint(h),this.consumeNumericToken()):hE(h)?(this.reconsumeCodePoint(h),this.consumeIdentLikeToken()):{type:6,value:d(h)}},f.prototype.consumeCodePoint=function(){var h=this._value.shift();return typeof h>"u"?-1:h},f.prototype.reconsumeCodePoint=function(h){this._value.unshift(h)},f.prototype.peekCodePoint=function(h){return h>=this._value.length?-1:this._value[h]},f.prototype.consumeUnicodeRangeToken=function(){for(var h=[],A=this.consumeCodePoint();Km(A)&&h.length<6;)h.push(A),A=this.consumeCodePoint();for(var m=!1;A===dE&&h.length<6;)h.push(A),A=this.consumeCodePoint(),m=!0;if(m){var _=parseInt(d.apply(void 0,h.map(function(R){return R===dE?K5:R})),16),S=parseInt(d.apply(void 0,h.map(function(R){return R===dE?J5:R})),16);return{type:30,start:_,end:S}}var I=parseInt(d.apply(void 0,h),16);if(this.peekCodePoint(0)===ys&&Km(this.peekCodePoint(1))){this.consumeCodePoint(),A=this.consumeCodePoint();for(var B=[];Km(A)&&B.length<6;)B.push(A),A=this.consumeCodePoint();var S=parseInt(d.apply(void 0,B),16);return{type:30,start:I,end:S}}else return{type:30,start:I,end:I}},f.prototype.consumeIdentLikeToken=function(){var h=this.consumeName();return h.toLowerCase()==="url"&&this.peekCodePoint(0)===cE?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===cE?(this.consumeCodePoint(),{type:19,value:h}):{type:20,value:h}},f.prototype.consumeUrlToken=function(){var h=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===fc)return{type:22,value:""};var A=this.peekCodePoint(0);if(A===lE||A===aE){var m=this.consumeStringToken(this.consumeCodePoint());return m.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===fc||this.peekCodePoint(0)===D_)?(this.consumeCodePoint(),{type:22,value:m.value}):(this.consumeBadUrlRemnants(),pE)}for(;;){var _=this.consumeCodePoint();if(_===fc||_===D_)return{type:22,value:d.apply(void 0,h)};if(uE(_))return this.consumeWhiteSpace(),this.peekCodePoint(0)===fc||this.peekCodePoint(0)===D_?(this.consumeCodePoint(),{type:22,value:d.apply(void 0,h)}):(this.consumeBadUrlRemnants(),pE);if(_===aE||_===lE||_===cE||Bhe(_))return this.consumeBadUrlRemnants(),pE;if(_===k_)if(Xu(_,this.peekCodePoint(0)))h.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),pE;else h.push(_)}},f.prototype.consumeWhiteSpace=function(){for(;uE(this.peekCodePoint(0));)this.consumeCodePoint()},f.prototype.consumeBadUrlRemnants=function(){for(;;){var h=this.consumeCodePoint();if(h===D_||h===fc)return;Xu(h,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},f.prototype.consumeStringSlice=function(h){for(var A=5e4,m="";h>0;){var _=Math.min(A,h);m+=d.apply(void 0,this._value.splice(0,_)),h-=_}return this._value.shift(),m},f.prototype.consumeStringToken=function(h){var A="",m=0;do{var _=this._value[m];if(_===fc||_===void 0||_===h)return A+=this.consumeStringSlice(m),{type:0,value:A};if(_===sE)return this._value.splice(0,m),Khe;if(_===k_){var S=this._value[m+1];S!==fc&&S!==void 0&&(S===sE?(A+=this.consumeStringSlice(m),m=-1,this._value.shift()):Xu(_,S)&&(A+=this.consumeStringSlice(m),A+=d(this.consumeEscapedCodePoint()),m=-1))}m++}while(!0)},f.prototype.consumeNumber=function(){var h=[],A=I_,m=this.peekCodePoint(0);for((m===Xf||m===ys)&&h.push(this.consumeCodePoint());Fo(this.peekCodePoint(0));)h.push(this.consumeCodePoint());m=this.peekCodePoint(0);var _=this.peekCodePoint(1);if(m===P_&&Fo(_))for(h.push(this.consumeCodePoint(),this.consumeCodePoint()),A=$5;Fo(this.peekCodePoint(0));)h.push(this.consumeCodePoint());m=this.peekCodePoint(0),_=this.peekCodePoint(1);var S=this.peekCodePoint(2);if((m===Z5||m===Y5)&&((_===Xf||_===ys)&&Fo(S)||Fo(_)))for(h.push(this.consumeCodePoint(),this.consumeCodePoint()),A=$5;Fo(this.peekCodePoint(0));)h.push(this.consumeCodePoint());return[Fhe(h),A]},f.prototype.consumeNumericToken=function(){var h=this.consumeNumber(),A=h[0],m=h[1],_=this.peekCodePoint(0),S=this.peekCodePoint(1),I=this.peekCodePoint(2);if(fE(_,S,I)){var B=this.consumeName();return{type:15,number:A,flags:m,unit:B}}return _===ihe?(this.consumeCodePoint(),{type:16,number:A,flags:m}):{type:17,number:A,flags:m}},f.prototype.consumeEscapedCodePoint=function(){var h=this.consumeCodePoint();if(Km(h)){for(var A=d(h);Km(this.peekCodePoint(0))&&A.length<6;)A+=d(this.consumeCodePoint());uE(this.peekCodePoint(0))&&this.consumeCodePoint();var m=parseInt(A,16);return m===0||Mhe(m)||m>1114111?W5:m}return h===fc?W5:h},f.prototype.consumeName=function(){for(var h="";;){var A=this.consumeCodePoint();if(e6(A))h+=d(A);else if(Xu(A,this.peekCodePoint(0)))h+=d(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(A),h}},f}(),n6=function(){function f(h){this._tokens=h}return f.create=function(h){var A=new t6;return A.write(h),new f(A.read())},f.parseValue=function(h){return f.create(h).parseComponentValue()},f.parseValues=function(h){return f.create(h).parseComponentValues()},f.prototype.parseComponentValue=function(){for(var h=this.consumeToken();h.type===31;)h=this.consumeToken();if(h.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(h);var A=this.consumeComponentValue();do h=this.consumeToken();while(h.type===31);if(h.type===32)return A;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},f.prototype.parseComponentValues=function(){for(var h=[];;){var A=this.consumeComponentValue();if(A.type===32)return h;h.push(A),h.push()}},f.prototype.consumeComponentValue=function(){var h=this.consumeToken();switch(h.type){case 11:case 28:case 2:return this.consumeSimpleBlock(h.type);case 19:return this.consumeFunction(h)}return h},f.prototype.consumeSimpleBlock=function(h){for(var A={type:h,values:[]},m=this.consumeToken();;){if(m.type===32||ife(m,h))return A;this.reconsumeToken(m),A.values.push(this.consumeComponentValue()),m=this.consumeToken()}},f.prototype.consumeFunction=function(h){for(var A={name:h.value,values:[],type:18};;){var m=this.consumeToken();if(m.type===32||m.type===3)return A;this.reconsumeToken(m),A.values.push(this.consumeComponentValue())}},f.prototype.consumeToken=function(){var h=this._tokens.shift();return typeof h>"u"?HP:h},f.prototype.reconsumeToken=function(h){this._tokens.unshift(h)},f}(),O_=function(f){return f.type===15},qm=function(f){return f.type===17},ei=function(f){return f.type===20},nfe=function(f){return f.type===0},QP=function(f,h){return ei(f)&&f.value===h},i6=function(f){return f.type!==31},Ym=function(f){return f.type!==31&&f.type!==4},pc=function(f){var h=[],A=[];return f.forEach(function(m){if(m.type===4){if(A.length===0)throw new Error("Error parsing function args, zero tokens for arg");h.push(A),A=[];return}m.type!==31&&A.push(m)}),A.length&&h.push(A),h},ife=function(f,h){return h===11&&f.type===12||h===28&&f.type===29?!0:h===2&&f.type===3},Zu=function(f){return f.type===17||f.type===15},Rr=function(f){return f.type===16||Zu(f)},r6=function(f){return f.length>1?[f[0],f[1]]:[f[0]]},bo={type:17,number:0,flags:I_},jP={type:16,number:50,flags:I_},Ju={type:16,number:100,flags:I_},R_=function(f,h,A){var m=f[0],_=f[1];return[bi(m,h),bi(typeof _<"u"?_:m,A)]},bi=function(f,h){if(f.type===16)return f.number/100*h;if(O_(f))switch(f.unit){case"rem":case"em":return 16*f.number;case"px":default:return f.number}return f.number},o6="deg",s6="grad",a6="rad",l6="turn",mE={name:"angle",parse:function(f,h){if(h.type===15)switch(h.unit){case o6:return Math.PI*h.number/180;case s6:return Math.PI/200*h.number;case a6:return h.number;case l6:return Math.PI*2*h.number}throw new Error("Unsupported angle type")}},c6=function(f){return f.type===15&&(f.unit===o6||f.unit===s6||f.unit===a6||f.unit===l6)},d6=function(f){var h=f.filter(ei).map(function(A){return A.value}).join(" ");switch(h){case"to bottom right":case"to right bottom":case"left top":case"top left":return[bo,bo];case"to top":case"bottom":return Oa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[bo,Ju];case"to right":case"left":return Oa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ju,Ju];case"to bottom":case"top":return Oa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ju,bo];case"to left":case"right":return Oa(270)}return 0},Oa=function(f){return Math.PI*f/180},eh={name:"color",parse:function(f,h){if(h.type===18){var A=rfe[h.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported color function "'+h.name+'"');return A(f,h.values)}if(h.type===5){if(h.value.length===3){var m=h.value.substring(0,1),_=h.value.substring(1,2),S=h.value.substring(2,3);return nh(parseInt(m+m,16),parseInt(_+_,16),parseInt(S+S,16),1)}if(h.value.length===4){var m=h.value.substring(0,1),_=h.value.substring(1,2),S=h.value.substring(2,3),I=h.value.substring(3,4);return nh(parseInt(m+m,16),parseInt(_+_,16),parseInt(S+S,16),parseInt(I+I,16)/255)}if(h.value.length===6){var m=h.value.substring(0,2),_=h.value.substring(2,4),S=h.value.substring(4,6);return nh(parseInt(m,16),parseInt(_,16),parseInt(S,16),1)}if(h.value.length===8){var m=h.value.substring(0,2),_=h.value.substring(2,4),S=h.value.substring(4,6),I=h.value.substring(6,8);return nh(parseInt(m,16),parseInt(_,16),parseInt(S,16),parseInt(I,16)/255)}}if(h.type===20){var B=Ld[h.value.toUpperCase()];if(typeof B<"u")return B}return Ld.TRANSPARENT}},th=function(f){return(255&f)===0},oo=function(f){var h=255&f,A=255&f>>8,m=255&f>>16,_=255&f>>24;return h<255?"rgba("+_+","+m+","+A+","+h/255+")":"rgb("+_+","+m+","+A+")"},nh=function(f,h,A,m){return(f<<24|h<<16|A<<8|Math.round(m*255)<<0)>>>0},u6=function(f,h){if(f.type===17)return f.number;if(f.type===16){var A=h===3?1:255;return h===3?f.number/100*A:Math.round(f.number/100*A)}return 0},h6=function(f,h){var A=h.filter(Ym);if(A.length===3){var m=A.map(u6),_=m[0],S=m[1],I=m[2];return nh(_,S,I,1)}if(A.length===4){var B=A.map(u6),_=B[0],S=B[1],I=B[2],R=B[3];return nh(_,S,I,R)}return 0};function $P(f,h,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(h-f)*A*6+f:A<1/2?h:A<2/3?(h-f)*6*(2/3-A)+f:f}var f6=function(f,h){var A=h.filter(Ym),m=A[0],_=A[1],S=A[2],I=A[3],B=(m.type===17?Oa(m.number):mE.parse(f,m))/(Math.PI*2),R=Rr(_)?_.number/100:0,q=Rr(S)?S.number/100:0,J=typeof I<"u"&&Rr(I)?bi(I,1):1;if(R===0)return nh(q*255,q*255,q*255,1);var te=q<=.5?q*(R+1):q+R-q*R,ce=q*2-te,Ke=$P(ce,te,B+1/3),Te=$P(ce,te,B),Ve=$P(ce,te,B-1/3);return nh(Ke*255,Te*255,Ve*255,J)},rfe={hsl:f6,hsla:f6,rgb:h6,rgba:h6},B_=function(f,h){return eh.parse(f,n6.create(h).parseComponentValue())},Ld={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ofe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(f,h){return h.map(function(A){if(ei(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sfe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},AE=function(f,h){var A=eh.parse(f,h[0]),m=h[1];return m&&Rr(m)?{color:A,stop:m}:{color:A,stop:null}},p6=function(f,h){var A=f[0],m=f[f.length-1];A.stop===null&&(A.stop=bo),m.stop===null&&(m.stop=Ju);for(var _=[],S=0,I=0;I<f.length;I++){var B=f[I].stop;if(B!==null){var R=bi(B,h);R>S?_.push(R):_.push(S),S=R}else _.push(null)}for(var q=null,I=0;I<_.length;I++){var J=_[I];if(J===null)q===null&&(q=I);else if(q!==null){for(var te=I-q,ce=_[q-1],Ke=(J-ce)/(te+1),Te=1;Te<=te;Te++)_[q+Te-1]=Ke*Te;q=null}}return f.map(function(Ve,Kt){var st=Ve.color;return{color:st,stop:Math.max(Math.min(1,_[Kt]/h),0)}})},afe=function(f,h,A){var m=h/2,_=A/2,S=bi(f[0],h)-m,I=_-bi(f[1],A);return(Math.atan2(I,S)+Math.PI*2)%(Math.PI*2)},lfe=function(f,h,A){var m=typeof f=="number"?f:afe(f,h,A),_=Math.abs(h*Math.sin(m))+Math.abs(A*Math.cos(m)),S=h/2,I=A/2,B=_/2,R=Math.sin(m-Math.PI/2)*B,q=Math.cos(m-Math.PI/2)*B;return[_,S-q,S+q,I-R,I+R]},_l=function(f,h){return Math.sqrt(f*f+h*h)},m6=function(f,h,A,m,_){var S=[[0,0],[0,h],[f,0],[f,h]];return S.reduce(function(I,B){var R=B[0],q=B[1],J=_l(A-R,m-q);return(_?J<I.optimumDistance:J>I.optimumDistance)?{optimumCorner:B,optimumDistance:J}:I},{optimumDistance:_?1/0:-1/0,optimumCorner:null}).optimumCorner},cfe=function(f,h,A,m,_){var S=0,I=0;switch(f.size){case 0:f.shape===0?S=I=Math.min(Math.abs(h),Math.abs(h-m),Math.abs(A),Math.abs(A-_)):f.shape===1&&(S=Math.min(Math.abs(h),Math.abs(h-m)),I=Math.min(Math.abs(A),Math.abs(A-_)));break;case 2:if(f.shape===0)S=I=Math.min(_l(h,A),_l(h,A-_),_l(h-m,A),_l(h-m,A-_));else if(f.shape===1){var B=Math.min(Math.abs(A),Math.abs(A-_))/Math.min(Math.abs(h),Math.abs(h-m)),R=m6(m,_,h,A,!0),q=R[0],J=R[1];S=_l(q-h,(J-A)/B),I=B*S}break;case 1:f.shape===0?S=I=Math.max(Math.abs(h),Math.abs(h-m),Math.abs(A),Math.abs(A-_)):f.shape===1&&(S=Math.max(Math.abs(h),Math.abs(h-m)),I=Math.max(Math.abs(A),Math.abs(A-_)));break;case 3:if(f.shape===0)S=I=Math.max(_l(h,A),_l(h,A-_),_l(h-m,A),_l(h-m,A-_));else if(f.shape===1){var B=Math.max(Math.abs(A),Math.abs(A-_))/Math.max(Math.abs(h),Math.abs(h-m)),te=m6(m,_,h,A,!1),q=te[0],J=te[1];S=_l(q-h,(J-A)/B),I=B*S}break}return Array.isArray(f.size)&&(S=bi(f.size[0],m),I=f.size.length===2?bi(f.size[1],_):S),[S,I]},dfe=function(f,h){var A=Oa(180),m=[];return pc(h).forEach(function(_,S){if(S===0){var I=_[0];if(I.type===20&&I.value==="to"){A=d6(_);return}else if(c6(I)){A=mE.parse(f,I);return}}var B=AE(f,_);m.push(B)}),{angle:A,stops:m,type:1}},gE=function(f,h){var A=Oa(180),m=[];return pc(h).forEach(function(_,S){if(S===0){var I=_[0];if(I.type===20&&["top","left","right","bottom"].indexOf(I.value)!==-1){A=d6(_);return}else if(c6(I)){A=(mE.parse(f,I)+Oa(270))%Oa(360);return}}var B=AE(f,_);m.push(B)}),{angle:A,stops:m,type:1}},ufe=function(f,h){var A=Oa(180),m=[],_=1,S=0,I=3,B=[];return pc(h).forEach(function(R,q){var J=R[0];if(q===0){if(ei(J)&&J.value==="linear"){_=1;return}else if(ei(J)&&J.value==="radial"){_=2;return}}if(J.type===18){if(J.name==="from"){var te=eh.parse(f,J.values[0]);m.push({stop:bo,color:te})}else if(J.name==="to"){var te=eh.parse(f,J.values[0]);m.push({stop:Ju,color:te})}else if(J.name==="color-stop"){var ce=J.values.filter(Ym);if(ce.length===2){var te=eh.parse(f,ce[1]),Ke=ce[0];qm(Ke)&&m.push({stop:{type:16,number:Ke.number*100,flags:Ke.flags},color:te})}}}}),_===1?{angle:(A+Oa(180))%Oa(360),stops:m,type:_}:{size:I,shape:S,stops:m,position:B,type:_}},A6="closest-side",g6="farthest-side",v6="closest-corner",_6="farthest-corner",b6="circle",y6="ellipse",C6="cover",w6="contain",hfe=function(f,h){var A=0,m=3,_=[],S=[];return pc(h).forEach(function(I,B){var R=!0;if(B===0){var q=!1;R=I.reduce(function(te,ce){if(q)if(ei(ce))switch(ce.value){case"center":return S.push(jP),te;case"top":case"left":return S.push(bo),te;case"right":case"bottom":return S.push(Ju),te}else(Rr(ce)||Zu(ce))&&S.push(ce);else if(ei(ce))switch(ce.value){case b6:return A=0,!1;case y6:return A=1,!1;case"at":return q=!0,!1;case A6:return m=0,!1;case C6:case g6:return m=1,!1;case w6:case v6:return m=2,!1;case _6:return m=3,!1}else if(Zu(ce)||Rr(ce))return Array.isArray(m)||(m=[]),m.push(ce),!1;return te},R)}if(R){var J=AE(f,I);_.push(J)}}),{size:m,shape:A,stops:_,position:S,type:2}},vE=function(f,h){var A=0,m=3,_=[],S=[];return pc(h).forEach(function(I,B){var R=!0;if(B===0?R=I.reduce(function(J,te){if(ei(te))switch(te.value){case"center":return S.push(jP),!1;case"top":case"left":return S.push(bo),!1;case"right":case"bottom":return S.push(Ju),!1}else if(Rr(te)||Zu(te))return S.push(te),!1;return J},R):B===1&&(R=I.reduce(function(J,te){if(ei(te))switch(te.value){case b6:return A=0,!1;case y6:return A=1,!1;case w6:case A6:return m=0,!1;case g6:return m=1,!1;case v6:return m=2,!1;case C6:case _6:return m=3,!1}else if(Zu(te)||Rr(te))return Array.isArray(m)||(m=[]),m.push(te),!1;return J},R)),R){var q=AE(f,I);_.push(q)}}),{size:m,shape:A,stops:_,position:S,type:2}},ffe=function(f){return f.type===1},pfe=function(f){return f.type===2},zP={name:"image",parse:function(f,h){if(h.type===22){var A={url:h.value,type:0};return f.cache.addImage(h.value),A}if(h.type===18){var m=E6[h.name];if(typeof m>"u")throw new Error('Attempting to parse an unsupported image function "'+h.name+'"');return m(f,h.values)}throw new Error("Unsupported image type "+h.type)}};function mfe(f){return!(f.type===20&&f.value==="none")&&(f.type!==18||!!E6[f.name])}for(var E6={"linear-gradient":dfe,"-moz-linear-gradient":gE,"-ms-linear-gradient":gE,"-o-linear-gradient":gE,"-webkit-linear-gradient":gE,"radial-gradient":hfe,"-moz-radial-gradient":vE,"-ms-radial-gradient":vE,"-o-radial-gradient":vE,"-webkit-radial-gradient":vE,"-webkit-gradient":ufe},Afe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(f,h){if(h.length===0)return[];var A=h[0];return A.type===20&&A.value==="none"?[]:h.filter(function(m){return Ym(m)&&mfe(m)}).map(function(m){return zP.parse(f,m)})}},gfe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(f,h){return h.map(function(A){if(ei(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},vfe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(f,h){return pc(h).map(function(A){return A.filter(Rr)}).map(r6)}},_fe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(f,h){return pc(h).map(function(A){return A.filter(ei).map(function(m){return m.value}).join(" ")}).map(bfe)}},bfe=function(f){switch(f){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},F_=function(f){return f.AUTO="auto",f.CONTAIN="contain",f.COVER="cover",f}(F_||{}),yfe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(f,h){return pc(h).map(function(A){return A.filter(Cfe)})}},Cfe=function(f){return ei(f)||Rr(f)},_E=function(f){return{name:"border-"+f+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wfe=_E("top"),Efe=_E("right"),xfe=_E("bottom"),Sfe=_E("left"),bE=function(f){return{name:"border-radius-"+f,initialValue:"0 0",prefix:!1,type:1,parse:function(h,A){return r6(A.filter(Rr))}}},Tfe=bE("top-left"),Ife=bE("top-right"),kfe=bE("bottom-right"),Mfe=bE("bottom-left"),yE=function(f){return{name:"border-"+f+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(h,A){switch(A){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Dfe=yE("top"),Pfe=yE("right"),Ofe=yE("bottom"),Rfe=yE("left"),CE=function(f){return{name:"border-"+f+"-width",initialValue:"0",type:0,prefix:!1,parse:function(h,A){return O_(A)?A.number:0}}},Bfe=CE("top"),Ffe=CE("right"),Nfe=CE("bottom"),Lfe=CE("left"),Ufe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Vfe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(f,h){switch(h){case"rtl":return 1;case"ltr":default:return 0}}},Hfe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(f,h){return h.filter(ei).reduce(function(A,m){return A|Qfe(m.value)},0)}},Qfe=function(f){switch(f){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},jfe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(f,h){switch(h){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$fe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(f,h){return h.type===20&&h.value==="normal"?0:h.type===17||h.type===15?h.number:0}},GP=function(f){return f.NORMAL="normal",f.STRICT="strict",f}(GP||{}),zfe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(f,h){switch(h){case"strict":return GP.STRICT;case"normal":default:return GP.NORMAL}}},Gfe={name:"line-height",initialValue:"normal",prefix:!1,type:4},x6=function(f,h){return ei(f)&&f.value==="normal"?1.2*h:f.type===17?h*f.number:Rr(f)?bi(f,h):h},Wfe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(f,h){return h.type===20&&h.value==="none"?null:zP.parse(f,h)}},Kfe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(f,h){switch(h){case"inside":return 0;case"outside":default:return 1}}},WP={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(f,h){switch(h){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},wE=function(f){return{name:"margin-"+f,initialValue:"0",prefix:!1,type:4}},qfe=wE("top"),Yfe=wE("right"),Xfe=wE("bottom"),Zfe=wE("left"),Jfe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(f,h){return h.filter(ei).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},epe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(f,h){switch(h){case"break-word":return"break-word";case"normal":default:return"normal"}}},EE=function(f){return{name:"padding-"+f,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},tpe=EE("top"),npe=EE("right"),ipe=EE("bottom"),rpe=EE("left"),ope={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(f,h){switch(h){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},spe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(f,h){switch(h){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ape={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(f,h){return h.length===1&&QP(h[0],"none")?[]:pc(h).map(function(A){for(var m={color:Ld.TRANSPARENT,offsetX:bo,offsetY:bo,blur:bo},_=0,S=0;S<A.length;S++){var I=A[S];Zu(I)?(_===0?m.offsetX=I:_===1?m.offsetY=I:m.blur=I,_++):m.color=eh.parse(f,I)}return m})}},lpe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(f,h){switch(h){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},cpe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(f,h){if(h.type===20&&h.value==="none")return null;if(h.type===18){var A=hpe[h.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported transform function "'+h.name+'"');return A(h.values)}return null}},dpe=function(f){var h=f.filter(function(A){return A.type===17}).map(function(A){return A.number});return h.length===6?h:null},upe=function(f){var h=f.filter(function(R){return R.type===17}).map(function(R){return R.number}),A=h[0],m=h[1];h[2],h[3];var _=h[4],S=h[5];h[6],h[7],h[8],h[9],h[10],h[11];var I=h[12],B=h[13];return h[14],h[15],h.length===16?[A,m,_,S,I,B]:null},hpe={matrix:dpe,matrix3d:upe},S6={type:16,number:50,flags:I_},fpe=[S6,S6],ppe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(f,h){var A=h.filter(Rr);return A.length!==2?fpe:[A[0],A[1]]}},mpe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(f,h){switch(h){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},xE=function(f){return f.NORMAL="normal",f.BREAK_ALL="break-all",f.KEEP_ALL="keep-all",f}(xE||{}),Ape={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(f,h){switch(h){case"break-all":return xE.BREAK_ALL;case"keep-all":return xE.KEEP_ALL;case"normal":default:return xE.NORMAL}}},gpe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(f,h){if(h.type===20)return{auto:!0,order:0};if(qm(h))return{auto:!1,order:h.number};throw new Error("Invalid z-index number parsed")}},T6={name:"time",parse:function(f,h){if(h.type===15)switch(h.unit.toLowerCase()){case"s":return 1e3*h.number;case"ms":return h.number}throw new Error("Unsupported time type")}},vpe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(f,h){return qm(h)?h.number:1}},_pe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},bpe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(f,h){return h.filter(ei).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return A!==0})}},ype={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(f,h){var A=[],m=[];return h.forEach(function(_){switch(_.type){case 20:case 0:A.push(_.value);break;case 17:A.push(_.number.toString());break;case 4:m.push(A.join(" ")),A.length=0;break}}),A.length&&m.push(A.join(" ")),m.map(function(_){return _.indexOf(" ")===-1?_:"'"+_+"'"})}},Cpe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wpe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(f,h){if(qm(h))return h.number;if(ei(h))switch(h.value){case"bold":return 700;case"normal":default:return 400}return 400}},Epe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(f,h){return h.filter(ei).map(function(A){return A.value})}},xpe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(f,h){switch(h){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Xr=function(f,h){return(f&h)!==0},Spe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(f,h){if(h.length===0)return[];var A=h[0];return A.type===20&&A.value==="none"?[]:h}},Tpe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(f,h){if(h.length===0)return null;var A=h[0];if(A.type===20&&A.value==="none")return null;for(var m=[],_=h.filter(i6),S=0;S<_.length;S++){var I=_[S],B=_[S+1];if(I.type===20){var R=B&&qm(B)?B.number:1;m.push({counter:I.value,increment:R})}}return m}},Ipe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(f,h){if(h.length===0)return[];for(var A=[],m=h.filter(i6),_=0;_<m.length;_++){var S=m[_],I=m[_+1];if(ei(S)&&S.value!=="none"){var B=I&&qm(I)?I.number:0;A.push({counter:S.value,reset:B})}}return A}},kpe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(f,h){return h.filter(O_).map(function(A){return T6.parse(f,A)})}},Mpe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(f,h){if(h.length===0)return null;var A=h[0];if(A.type===20&&A.value==="none")return null;var m=[],_=h.filter(nfe);if(_.length%2!==0)return null;for(var S=0;S<_.length;S+=2){var I=_[S].value,B=_[S+1].value;m.push({open:I,close:B})}return m}},I6=function(f,h,A){if(!f)return"";var m=f[Math.min(h,f.length-1)];return m?A?m.open:m.close:""},Dpe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(f,h){return h.length===1&&QP(h[0],"none")?[]:pc(h).map(function(A){for(var m={color:255,offsetX:bo,offsetY:bo,blur:bo,spread:bo,inset:!1},_=0,S=0;S<A.length;S++){var I=A[S];QP(I,"inset")?m.inset=!0:Zu(I)?(_===0?m.offsetX=I:_===1?m.offsetY=I:_===2?m.blur=I:m.spread=I,_++):m.color=eh.parse(f,I)}return m})}},Ppe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(f,h){var A=[0,1,2],m=[];return h.filter(ei).forEach(function(_){switch(_.value){case"stroke":m.push(1);break;case"fill":m.push(0);break;case"markers":m.push(2);break}}),A.forEach(function(_){m.indexOf(_)===-1&&m.push(_)}),m}},Ope={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Rpe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(f,h){return O_(h)?h.number:0}},Bpe=function(){function f(h,A){var m,_;this.animationDuration=Ye(h,kpe,A.animationDuration),this.backgroundClip=Ye(h,ofe,A.backgroundClip),this.backgroundColor=Ye(h,sfe,A.backgroundColor),this.backgroundImage=Ye(h,Afe,A.backgroundImage),this.backgroundOrigin=Ye(h,gfe,A.backgroundOrigin),this.backgroundPosition=Ye(h,vfe,A.backgroundPosition),this.backgroundRepeat=Ye(h,_fe,A.backgroundRepeat),this.backgroundSize=Ye(h,yfe,A.backgroundSize),this.borderTopColor=Ye(h,wfe,A.borderTopColor),this.borderRightColor=Ye(h,Efe,A.borderRightColor),this.borderBottomColor=Ye(h,xfe,A.borderBottomColor),this.borderLeftColor=Ye(h,Sfe,A.borderLeftColor),this.borderTopLeftRadius=Ye(h,Tfe,A.borderTopLeftRadius),this.borderTopRightRadius=Ye(h,Ife,A.borderTopRightRadius),this.borderBottomRightRadius=Ye(h,kfe,A.borderBottomRightRadius),this.borderBottomLeftRadius=Ye(h,Mfe,A.borderBottomLeftRadius),this.borderTopStyle=Ye(h,Dfe,A.borderTopStyle),this.borderRightStyle=Ye(h,Pfe,A.borderRightStyle),this.borderBottomStyle=Ye(h,Ofe,A.borderBottomStyle),this.borderLeftStyle=Ye(h,Rfe,A.borderLeftStyle),this.borderTopWidth=Ye(h,Bfe,A.borderTopWidth),this.borderRightWidth=Ye(h,Ffe,A.borderRightWidth),this.borderBottomWidth=Ye(h,Nfe,A.borderBottomWidth),this.borderLeftWidth=Ye(h,Lfe,A.borderLeftWidth),this.boxShadow=Ye(h,Dpe,A.boxShadow),this.color=Ye(h,Ufe,A.color),this.direction=Ye(h,Vfe,A.direction),this.display=Ye(h,Hfe,A.display),this.float=Ye(h,jfe,A.cssFloat),this.fontFamily=Ye(h,ype,A.fontFamily),this.fontSize=Ye(h,Cpe,A.fontSize),this.fontStyle=Ye(h,xpe,A.fontStyle),this.fontVariant=Ye(h,Epe,A.fontVariant),this.fontWeight=Ye(h,wpe,A.fontWeight),this.letterSpacing=Ye(h,$fe,A.letterSpacing),this.lineBreak=Ye(h,zfe,A.lineBreak),this.lineHeight=Ye(h,Gfe,A.lineHeight),this.listStyleImage=Ye(h,Wfe,A.listStyleImage),this.listStylePosition=Ye(h,Kfe,A.listStylePosition),this.listStyleType=Ye(h,WP,A.listStyleType),this.marginTop=Ye(h,qfe,A.marginTop),this.marginRight=Ye(h,Yfe,A.marginRight),this.marginBottom=Ye(h,Xfe,A.marginBottom),this.marginLeft=Ye(h,Zfe,A.marginLeft),this.opacity=Ye(h,vpe,A.opacity);var S=Ye(h,Jfe,A.overflow);this.overflowX=S[0],this.overflowY=S[S.length>1?1:0],this.overflowWrap=Ye(h,epe,A.overflowWrap),this.paddingTop=Ye(h,tpe,A.paddingTop),this.paddingRight=Ye(h,npe,A.paddingRight),this.paddingBottom=Ye(h,ipe,A.paddingBottom),this.paddingLeft=Ye(h,rpe,A.paddingLeft),this.paintOrder=Ye(h,Ppe,A.paintOrder),this.position=Ye(h,spe,A.position),this.textAlign=Ye(h,ope,A.textAlign),this.textDecorationColor=Ye(h,_pe,(m=A.textDecorationColor)!==null&&m!==void 0?m:A.color),this.textDecorationLine=Ye(h,bpe,(_=A.textDecorationLine)!==null&&_!==void 0?_:A.textDecoration),this.textShadow=Ye(h,ape,A.textShadow),this.textTransform=Ye(h,lpe,A.textTransform),this.transform=Ye(h,cpe,A.transform),this.transformOrigin=Ye(h,ppe,A.transformOrigin),this.visibility=Ye(h,mpe,A.visibility),this.webkitTextStrokeColor=Ye(h,Ope,A.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ye(h,Rpe,A.webkitTextStrokeWidth),this.wordBreak=Ye(h,Ape,A.wordBreak),this.zIndex=Ye(h,gpe,A.zIndex)}return f.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},f.prototype.isTransparent=function(){return th(this.backgroundColor)},f.prototype.isTransformed=function(){return this.transform!==null},f.prototype.isPositioned=function(){return this.position!==0},f.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},f.prototype.isFloating=function(){return this.float!==0},f.prototype.isInlineLevel=function(){return Xr(this.display,4)||Xr(this.display,33554432)||Xr(this.display,268435456)||Xr(this.display,536870912)||Xr(this.display,67108864)||Xr(this.display,134217728)},f}(),Fpe=function(){function f(h,A){this.content=Ye(h,Spe,A.content),this.quotes=Ye(h,Mpe,A.quotes)}return f}(),k6=function(){function f(h,A){this.counterIncrement=Ye(h,Tpe,A.counterIncrement),this.counterReset=Ye(h,Ipe,A.counterReset)}return f}(),Ye=function(f,h,A){var m=new t6,_=A!==null&&typeof A<"u"?A.toString():h.initialValue;m.write(_);var S=new n6(m.read());switch(h.type){case 2:var I=S.parseComponentValue();return h.parse(f,ei(I)?I.value:h.initialValue);case 0:return h.parse(f,S.parseComponentValue());case 1:return h.parse(f,S.parseComponentValues());case 4:return S.parseComponentValue();case 3:switch(h.format){case"angle":return mE.parse(f,S.parseComponentValue());case"color":return eh.parse(f,S.parseComponentValue());case"image":return zP.parse(f,S.parseComponentValue());case"length":var B=S.parseComponentValue();return Zu(B)?B:bo;case"length-percentage":var R=S.parseComponentValue();return Rr(R)?R:bo;case"time":return T6.parse(f,S.parseComponentValue())}break}},Npe="data-html2canvas-debug",Lpe=function(f){var h=f.getAttribute(Npe);switch(h){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},KP=function(f,h){var A=Lpe(f);return A===1||h===A},mc=function(){function f(h,A){if(this.context=h,this.textNodes=[],this.elements=[],this.flags=0,KP(A,3))debugger;this.styles=new Bpe(h,window.getComputedStyle(A,null)),lO(A)&&(this.styles.animationDuration.some(function(m){return m>0})&&(A.style.animationDuration="0s"),this.styles.transform!==null&&(A.style.transform="none")),this.bounds=a(this.context,A),KP(A,4)&&(this.flags|=16)}return f}(),Upe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",M6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N_=typeof Uint8Array>"u"?[]:new Uint8Array(256),SE=0;SE<M6.length;SE++)N_[M6.charCodeAt(SE)]=SE;for(var Vpe=function(f){var h=f.length*.75,A=f.length,m,_=0,S,I,B,R;f[f.length-1]==="="&&(h--,f[f.length-2]==="="&&h--);var q=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(h):new Array(h),J=Array.isArray(q)?q:new Uint8Array(q);for(m=0;m<A;m+=4)S=N_[f.charCodeAt(m)],I=N_[f.charCodeAt(m+1)],B=N_[f.charCodeAt(m+2)],R=N_[f.charCodeAt(m+3)],J[_++]=S<<2|I>>4,J[_++]=(I&15)<<4|B>>2,J[_++]=(B&3)<<6|R&63;return q},Hpe=function(f){for(var h=f.length,A=[],m=0;m<h;m+=2)A.push(f[m+1]<<8|f[m]);return A},Qpe=function(f){for(var h=f.length,A=[],m=0;m<h;m+=4)A.push(f[m+3]<<24|f[m+2]<<16|f[m+1]<<8|f[m]);return A},Zf=5,qP=11,YP=2,jpe=qP-Zf,D6=65536>>Zf,$pe=1<<Zf,XP=$pe-1,zpe=1024>>Zf,Gpe=D6+zpe,Wpe=Gpe,Kpe=32,qpe=Wpe+Kpe,Ype=65536>>qP,Xpe=1<<jpe,Zpe=Xpe-1,P6=function(f,h,A){return f.slice?f.slice(h,A):new Uint16Array(Array.prototype.slice.call(f,h,A))},Jpe=function(f,h,A){return f.slice?f.slice(h,A):new Uint32Array(Array.prototype.slice.call(f,h,A))},eme=function(f,h){var A=Vpe(f),m=Array.isArray(A)?Qpe(A):new Uint32Array(A),_=Array.isArray(A)?Hpe(A):new Uint16Array(A),S=24,I=P6(_,S/2,m[4]/2),B=m[5]===2?P6(_,(S+m[4])/2):Jpe(m,Math.ceil((S+m[4])/4));return new tme(m[0],m[1],m[2],m[3],I,B)},tme=function(){function f(h,A,m,_,S,I){this.initialValue=h,this.errorValue=A,this.highStart=m,this.highValueIndex=_,this.index=S,this.data=I}return f.prototype.get=function(h){var A;if(h>=0){if(h<55296||h>56319&&h<=65535)return A=this.index[h>>Zf],A=(A<<YP)+(h&XP),this.data[A];if(h<=65535)return A=this.index[D6+(h-55296>>Zf)],A=(A<<YP)+(h&XP),this.data[A];if(h<this.highStart)return A=qpe-Ype+(h>>qP),A=this.index[A],A+=h>>Zf&Zpe,A=this.index[A],A=(A<<YP)+(h&XP),this.data[A];if(h<=1114111)return this.data[this.highValueIndex]}return this.errorValue},f}(),O6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nme=typeof Uint8Array>"u"?[]:new Uint8Array(256),TE=0;TE<O6.length;TE++)nme[O6.charCodeAt(TE)]=TE;var ime=1,ZP=2,JP=3,R6=4,B6=5,rme=7,F6=8,eO=9,tO=10,N6=11,L6=12,U6=13,V6=14,nO=15,ome=function(f){for(var h=[],A=0,m=f.length;A<m;){var _=f.charCodeAt(A++);if(_>=55296&&_<=56319&&A<m){var S=f.charCodeAt(A++);(S&64512)===56320?h.push(((_&1023)<<10)+(S&1023)+65536):(h.push(_),A--)}else h.push(_)}return h},sme=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];if(String.fromCodePoint)return String.fromCodePoint.apply(String,f);var A=f.length;if(!A)return"";for(var m=[],_=-1,S="";++_<A;){var I=f[_];I<=65535?m.push(I):(I-=65536,m.push((I>>10)+55296,I%1024+56320)),(_+1===A||m.length>16384)&&(S+=String.fromCharCode.apply(String,m),m.length=0)}return S},ame=eme(Upe),Ra="\xD7",iO="\xF7",lme=function(f){return ame.get(f)},cme=function(f,h,A){var m=A-2,_=h[m],S=h[A-1],I=h[A];if(S===ZP&&I===JP)return Ra;if(S===ZP||S===JP||S===R6||I===ZP||I===JP||I===R6)return iO;if(S===F6&&[F6,eO,N6,L6].indexOf(I)!==-1||(S===N6||S===eO)&&(I===eO||I===tO)||(S===L6||S===tO)&&I===tO||I===U6||I===B6||I===rme||S===ime)return Ra;if(S===U6&&I===V6){for(;_===B6;)_=h[--m];if(_===V6)return Ra}if(S===nO&&I===nO){for(var B=0;_===nO;)B++,_=h[--m];if(B%2===0)return Ra}return iO},dme=function(f){var h=ome(f),A=h.length,m=0,_=0,S=h.map(lme);return{next:function(){if(m>=A)return{done:!0,value:null};for(var I=Ra;m<A&&(I=cme(h,S,++m))===Ra;);if(I!==Ra||m===A){var B=sme.apply(null,h.slice(_,m));return _=m,{value:B,done:!1}}return{done:!0,value:null}}}},ume=function(f){for(var h=dme(f),A=[],m;!(m=h.next()).done;)m.value&&A.push(m.value.slice());return A},hme=function(f){var h=123;if(f.createRange){var A=f.createRange();if(A.getBoundingClientRect){var m=f.createElement("boundtest");m.style.height=h+"px",m.style.display="block",f.body.appendChild(m),A.selectNode(m);var _=A.getBoundingClientRect(),S=Math.round(_.height);if(f.body.removeChild(m),S===h)return!0}}return!1},fme=function(f){var h=f.createElement("boundtest");h.style.width="50px",h.style.display="block",h.style.fontSize="12px",h.style.letterSpacing="0px",h.style.wordSpacing="0px",f.body.appendChild(h);var A=f.createRange();h.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var m=h.firstChild,_=c(m.data).map(function(R){return d(R)}),S=0,I={},B=_.every(function(R,q){A.setStart(m,S),A.setEnd(m,S+R.length);var J=A.getBoundingClientRect();S+=R.length;var te=J.x>I.x||J.y>I.y;return I=J,q===0?!0:te});return f.body.removeChild(h),B},pme=function(){return typeof new Image().crossOrigin<"u"},mme=function(){return typeof new XMLHttpRequest().responseType=="string"},Ame=function(f){var h=new Image,A=f.createElement("canvas"),m=A.getContext("2d");if(!m)return!1;h.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{m.drawImage(h,0,0),A.toDataURL()}catch{return!1}return!0},H6=function(f){return f[0]===0&&f[1]===255&&f[2]===0&&f[3]===255},gme=function(f){var h=f.createElement("canvas"),A=100;h.width=A,h.height=A;var m=h.getContext("2d");if(!m)return Promise.reject(!1);m.fillStyle="rgb(0, 255, 0)",m.fillRect(0,0,A,A);var _=new Image,S=h.toDataURL();_.src=S;var I=rO(A,A,0,0,_);return m.fillStyle="red",m.fillRect(0,0,A,A),Q6(I).then(function(B){m.drawImage(B,0,0);var R=m.getImageData(0,0,A,A).data;m.fillStyle="red",m.fillRect(0,0,A,A);var q=f.createElement("div");return q.style.backgroundImage="url("+S+")",q.style.height=A+"px",H6(R)?Q6(rO(A,A,0,0,q)):Promise.reject(!1)}).then(function(B){return m.drawImage(B,0,0),H6(m.getImageData(0,0,A,A).data)}).catch(function(){return!1})},rO=function(f,h,A,m,_){var S="http://www.w3.org/2000/svg",I=document.createElementNS(S,"svg"),B=document.createElementNS(S,"foreignObject");return I.setAttributeNS(null,"width",f.toString()),I.setAttributeNS(null,"height",h.toString()),B.setAttributeNS(null,"width","100%"),B.setAttributeNS(null,"height","100%"),B.setAttributeNS(null,"x",A.toString()),B.setAttributeNS(null,"y",m.toString()),B.setAttributeNS(null,"externalResourcesRequired","true"),I.appendChild(B),B.appendChild(_),I},Q6=function(f){return new Promise(function(h,A){var m=new Image;m.onload=function(){return h(m)},m.onerror=A,m.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(f))})},yo={get SUPPORT_RANGE_BOUNDS(){var f=hme(document);return Object.defineProperty(yo,"SUPPORT_RANGE_BOUNDS",{value:f}),f},get SUPPORT_WORD_BREAKING(){var f=yo.SUPPORT_RANGE_BOUNDS&&fme(document);return Object.defineProperty(yo,"SUPPORT_WORD_BREAKING",{value:f}),f},get SUPPORT_SVG_DRAWING(){var f=Ame(document);return Object.defineProperty(yo,"SUPPORT_SVG_DRAWING",{value:f}),f},get SUPPORT_FOREIGNOBJECT_DRAWING(){var f=typeof Array.from=="function"&&typeof window.fetch=="function"?gme(document):Promise.resolve(!1);return Object.defineProperty(yo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:f}),f},get SUPPORT_CORS_IMAGES(){var f=pme();return Object.defineProperty(yo,"SUPPORT_CORS_IMAGES",{value:f}),f},get SUPPORT_RESPONSE_TYPE(){var f=mme();return Object.defineProperty(yo,"SUPPORT_RESPONSE_TYPE",{value:f}),f},get SUPPORT_CORS_XHR(){var f="withCredentials"in new XMLHttpRequest;return Object.defineProperty(yo,"SUPPORT_CORS_XHR",{value:f}),f},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var f=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(yo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:f}),f}},L_=function(){function f(h,A){this.text=h,this.bounds=A}return f}(),vme=function(f,h,A,m){var _=yme(h,A),S=[],I=0;return _.forEach(function(B){if(A.textDecorationLine.length||B.trim().length>0)if(yo.SUPPORT_RANGE_BOUNDS){var R=j6(m,I,B.length).getClientRects();if(R.length>1){var q=oO(B),J=0;q.forEach(function(ce){S.push(new L_(ce,s.fromDOMRectList(f,j6(m,J+I,ce.length).getClientRects()))),J+=ce.length})}else S.push(new L_(B,s.fromDOMRectList(f,R)))}else{var te=m.splitText(B.length);S.push(new L_(B,_me(f,m))),m=te}else yo.SUPPORT_RANGE_BOUNDS||(m=m.splitText(B.length));I+=B.length}),S},_me=function(f,h){var A=h.ownerDocument;if(A){var m=A.createElement("html2canvaswrapper");m.appendChild(h.cloneNode(!0));var _=h.parentNode;if(_){_.replaceChild(m,h);var S=a(f,m);return m.firstChild&&_.replaceChild(m.firstChild,m),S}}return s.EMPTY},j6=function(f,h,A){var m=f.ownerDocument;if(!m)throw new Error("Node has no owner document");var _=m.createRange();return _.setStart(f,h),_.setEnd(f,h+A),_},oO=function(f){if(yo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var h=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(h.segment(f)).map(function(A){return A.segment})}return ume(f)},bme=function(f,h){if(yo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(f)).map(function(m){return m.segment})}return wme(f,h)},yme=function(f,h){return h.letterSpacing!==0?oO(f):bme(f,h)},Cme=[32,160,4961,65792,65793,4153,4241],wme=function(f,h){for(var A=Yue(f,{lineBreak:h.lineBreak,wordBreak:h.overflowWrap==="break-word"?"break-word":h.wordBreak}),m=[],_,S=function(){if(_.value){var I=_.value.slice(),B=c(I),R="";B.forEach(function(q){Cme.indexOf(q)===-1?R+=d(q):(R.length&&m.push(R),m.push(d(q)),R="")}),R.length&&m.push(R)}};!(_=A.next()).done;)S();return m},Eme=function(){function f(h,A,m){this.text=xme(A.data,m.textTransform),this.textBounds=vme(h,this.text,m,A)}return f}(),xme=function(f,h){switch(h){case 1:return f.toLowerCase();case 3:return f.replace(Sme,Tme);case 2:return f.toUpperCase();default:return f}},Sme=/(^|\s|:|-|\(|\))([a-z])/g,Tme=function(f,h,A){return f.length>0?h+A.toUpperCase():f},$6=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;return _.src=m.currentSrc||m.src,_.intrinsicWidth=m.naturalWidth,_.intrinsicHeight=m.naturalHeight,_.context.cache.addImage(_.src),_}return h}(mc),z6=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;return _.canvas=m,_.intrinsicWidth=m.width,_.intrinsicHeight=m.height,_}return h}(mc),G6=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this,S=new XMLSerializer,I=a(A,m);return m.setAttribute("width",I.width+"px"),m.setAttribute("height",I.height+"px"),_.svg="data:image/svg+xml,"+encodeURIComponent(S.serializeToString(m)),_.intrinsicWidth=m.width.baseVal.value,_.intrinsicHeight=m.height.baseVal.value,_.context.cache.addImage(_.svg),_}return h}(mc),W6=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;return _.value=m.value,_}return h}(mc),sO=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;return _.start=m.start,_.reversed=typeof m.reversed=="boolean"&&m.reversed===!0,_}return h}(mc),Ime=[{type:15,flags:0,unit:"px",number:3}],kme=[{type:16,flags:0,number:50}],Mme=function(f){return f.width>f.height?new s(f.left+(f.width-f.height)/2,f.top,f.height,f.height):f.width<f.height?new s(f.left,f.top+(f.height-f.width)/2,f.width,f.width):f},Dme=function(f){var h=f.type===Pme?new Array(f.value.length+1).join("\u2022"):f.value;return h.length===0?f.placeholder||"":h},IE="checkbox",kE="radio",Pme="password",K6=707406591,aO=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;switch(_.type=m.type.toLowerCase(),_.checked=m.checked,_.value=Dme(m),(_.type===IE||_.type===kE)&&(_.styles.backgroundColor=3739148031,_.styles.borderTopColor=_.styles.borderRightColor=_.styles.borderBottomColor=_.styles.borderLeftColor=2779096575,_.styles.borderTopWidth=_.styles.borderRightWidth=_.styles.borderBottomWidth=_.styles.borderLeftWidth=1,_.styles.borderTopStyle=_.styles.borderRightStyle=_.styles.borderBottomStyle=_.styles.borderLeftStyle=1,_.styles.backgroundClip=[0],_.styles.backgroundOrigin=[0],_.bounds=Mme(_.bounds)),_.type){case IE:_.styles.borderTopRightRadius=_.styles.borderTopLeftRadius=_.styles.borderBottomRightRadius=_.styles.borderBottomLeftRadius=Ime;break;case kE:_.styles.borderTopRightRadius=_.styles.borderTopLeftRadius=_.styles.borderBottomRightRadius=_.styles.borderBottomLeftRadius=kme;break}return _}return h}(mc),q6=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this,S=m.options[m.selectedIndex||0];return _.value=S&&S.text||"",_}return h}(mc),Y6=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;return _.value=m.value,_}return h}(mc),X6=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;_.src=m.src,_.width=parseInt(m.width,10)||0,_.height=parseInt(m.height,10)||0,_.backgroundColor=_.styles.backgroundColor;try{if(m.contentWindow&&m.contentWindow.document&&m.contentWindow.document.documentElement){_.tree=J6(A,m.contentWindow.document.documentElement);var S=m.contentWindow.document.documentElement?B_(A,getComputedStyle(m.contentWindow.document.documentElement).backgroundColor):Ld.TRANSPARENT,I=m.contentWindow.document.body?B_(A,getComputedStyle(m.contentWindow.document.body).backgroundColor):Ld.TRANSPARENT;_.backgroundColor=th(S)?th(I)?_.styles.backgroundColor:I:S}}catch{}return _}return h}(mc),Ome=["OL","UL","MENU"],ME=function(f,h,A,m){for(var _=h.firstChild,S=void 0;_;_=S)if(S=_.nextSibling,e8(_)&&_.data.trim().length>0)A.textNodes.push(new Eme(f,_,A.styles));else if(Xm(_))if(s8(_)&&_.assignedNodes)_.assignedNodes().forEach(function(B){return ME(f,B,A,m)});else{var I=Z6(f,_);I.styles.isVisible()&&(Rme(_,I,m)?I.flags|=4:Bme(I.styles)&&(I.flags|=2),Ome.indexOf(_.tagName)!==-1&&(I.flags|=8),A.elements.push(I),_.slot,_.shadowRoot?ME(f,_.shadowRoot,I,m):!PE(_)&&!t8(_)&&!OE(_)&&ME(f,_,I,m))}},Z6=function(f,h){return dO(h)?new $6(f,h):n8(h)?new z6(f,h):t8(h)?new G6(f,h):Fme(h)?new W6(f,h):Nme(h)?new sO(f,h):Lme(h)?new aO(f,h):OE(h)?new q6(f,h):PE(h)?new Y6(f,h):r8(h)?new X6(f,h):new mc(f,h)},J6=function(f,h){var A=Z6(f,h);return A.flags|=4,ME(f,h,A,A),A},Rme=function(f,h,A){return h.styles.isPositionedWithZIndex()||h.styles.opacity<1||h.styles.isTransformed()||cO(f)&&A.styles.isTransparent()},Bme=function(f){return f.isPositioned()||f.isFloating()},e8=function(f){return f.nodeType===Node.TEXT_NODE},Xm=function(f){return f.nodeType===Node.ELEMENT_NODE},lO=function(f){return Xm(f)&&typeof f.style<"u"&&!DE(f)},DE=function(f){return typeof f.className=="object"},Fme=function(f){return f.tagName==="LI"},Nme=function(f){return f.tagName==="OL"},Lme=function(f){return f.tagName==="INPUT"},Ume=function(f){return f.tagName==="HTML"},t8=function(f){return f.tagName==="svg"},cO=function(f){return f.tagName==="BODY"},n8=function(f){return f.tagName==="CANVAS"},i8=function(f){return f.tagName==="VIDEO"},dO=function(f){return f.tagName==="IMG"},r8=function(f){return f.tagName==="IFRAME"},o8=function(f){return f.tagName==="STYLE"},Vme=function(f){return f.tagName==="SCRIPT"},PE=function(f){return f.tagName==="TEXTAREA"},OE=function(f){return f.tagName==="SELECT"},s8=function(f){return f.tagName==="SLOT"},a8=function(f){return f.tagName.indexOf("-")>0},Hme=function(){function f(){this.counters={}}return f.prototype.getCounterValue=function(h){var A=this.counters[h];return A&&A.length?A[A.length-1]:1},f.prototype.getCounterValues=function(h){var A=this.counters[h];return A||[]},f.prototype.pop=function(h){var A=this;h.forEach(function(m){return A.counters[m].pop()})},f.prototype.parse=function(h){var A=this,m=h.counterIncrement,_=h.counterReset,S=!0;m!==null&&m.forEach(function(B){var R=A.counters[B.counter];R&&B.increment!==0&&(S=!1,R.length||R.push(1),R[Math.max(0,R.length-1)]+=B.increment)});var I=[];return S&&_.forEach(function(B){var R=A.counters[B.counter];I.push(B.counter),R||(R=A.counters[B.counter]=[]),R.push(B.reset)}),I},f}(),l8={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},c8={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Qme={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},jme={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},Zm=function(f,h,A,m,_,S){return f<h||f>A?V_(f,_,S.length>0):m.integers.reduce(function(I,B,R){for(;f>=B;)f-=B,I+=m.values[R];return I},"")+S},d8=function(f,h,A,m){var _="";do A||f--,_=m(f)+_,f/=h;while(f*h>=h);return _},Er=function(f,h,A,m,_){var S=A-h+1;return(f<0?"-":"")+(d8(Math.abs(f),S,m,function(I){return d(Math.floor(I%S)+h)})+_)},Jf=function(f,h,A){A===void 0&&(A=". ");var m=h.length;return d8(Math.abs(f),m,!1,function(_){return h[Math.floor(_%m)]})+A},Jm=1,ih=2,rh=4,U_=8,Ud=function(f,h,A,m,_,S){if(f<-9999||f>9999)return V_(f,4,_.length>0);var I=Math.abs(f),B=_;if(I===0)return h[0]+B;for(var R=0;I>0&&R<=4;R++){var q=I%10;q===0&&Xr(S,Jm)&&B!==""?B=h[q]+B:q>1||q===1&&R===0||q===1&&R===1&&Xr(S,ih)||q===1&&R===1&&Xr(S,rh)&&f>100||q===1&&R>1&&Xr(S,U_)?B=h[q]+(R>0?A[R-1]:"")+B:q===1&&R>0&&(B=A[R-1]+B),I=Math.floor(I/10)}return(f<0?m:"")+B},u8="\u5341\u767E\u5343\u842C",h8="\u62FE\u4F70\u4EDF\u842C",f8="\u30DE\u30A4\u30CA\u30B9",uO="\uB9C8\uC774\uB108\uC2A4",V_=function(f,h,A){var m=A?". ":"",_=A?"\u3001":"",S=A?", ":"",I=A?" ":"";switch(h){case 0:return"\u2022"+I;case 1:return"\u25E6"+I;case 2:return"\u25FE"+I;case 5:var B=Er(f,48,57,!0,m);return B.length<4?"0"+B:B;case 4:return Jf(f,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",_);case 6:return Zm(f,1,3999,l8,3,m).toLowerCase();case 7:return Zm(f,1,3999,l8,3,m);case 8:return Er(f,945,969,!1,m);case 9:return Er(f,97,122,!1,m);case 10:return Er(f,65,90,!1,m);case 11:return Er(f,1632,1641,!0,m);case 12:case 49:return Zm(f,1,9999,c8,3,m);case 35:return Zm(f,1,9999,c8,3,m).toLowerCase();case 13:return Er(f,2534,2543,!0,m);case 14:case 30:return Er(f,6112,6121,!0,m);case 15:return Jf(f,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",_);case 16:return Jf(f,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",_);case 17:case 48:return Ud(f,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",u8,"\u8CA0",_,ih|rh|U_);case 47:return Ud(f,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",h8,"\u8CA0",_,Jm|ih|rh|U_);case 42:return Ud(f,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",u8,"\u8D1F",_,ih|rh|U_);case 41:return Ud(f,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",h8,"\u8D1F",_,Jm|ih|rh|U_);case 26:return Ud(f,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",f8,_,0);case 25:return Ud(f,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",f8,_,Jm|ih|rh);case 31:return Ud(f,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",uO,S,Jm|ih|rh);case 33:return Ud(f,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",uO,S,0);case 32:return Ud(f,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",uO,S,Jm|ih|rh);case 18:return Er(f,2406,2415,!0,m);case 20:return Zm(f,1,19999,jme,3,m);case 21:return Er(f,2790,2799,!0,m);case 22:return Er(f,2662,2671,!0,m);case 22:return Zm(f,1,10999,Qme,3,m);case 23:return Jf(f,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return Jf(f,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return Er(f,3302,3311,!0,m);case 28:return Jf(f,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",_);case 29:return Jf(f,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",_);case 34:return Er(f,3792,3801,!0,m);case 37:return Er(f,6160,6169,!0,m);case 38:return Er(f,4160,4169,!0,m);case 39:return Er(f,2918,2927,!0,m);case 40:return Er(f,1776,1785,!0,m);case 43:return Er(f,3046,3055,!0,m);case 44:return Er(f,3174,3183,!0,m);case 45:return Er(f,3664,3673,!0,m);case 46:return Er(f,3872,3881,!0,m);case 3:default:return Er(f,48,57,!0,m)}},p8="data-html2canvas-ignore",m8=function(){function f(h,A,m){if(this.context=h,this.options=m,this.scrolledElements=[],this.referenceElement=A,this.counters=new Hme,this.quoteDepth=0,!A.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(A.ownerDocument.documentElement,!1)}return f.prototype.toIFrame=function(h,A){var m=this,_=$me(h,A);if(!_.contentWindow)return Promise.reject("Unable to find iframe window");var S=h.defaultView.pageXOffset,I=h.defaultView.pageYOffset,B=_.contentWindow,R=B.document,q=Wme(_).then(function(){return i(m,void 0,void 0,function(){var J,te;return r(this,function(ce){switch(ce.label){case 0:return this.scrolledElements.forEach(Xme),B&&(B.scrollTo(A.left,A.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(B.scrollY!==A.top||B.scrollX!==A.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(B.scrollX-A.left,B.scrollY-A.top,0,0))),J=this.options.onclone,te=this.clonedReferenceElement,typeof te>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:R.fonts&&R.fonts.ready?[4,R.fonts.ready]:[3,2];case 1:ce.sent(),ce.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Gme(R)]:[3,4];case 3:ce.sent(),ce.label=4;case 4:return typeof J=="function"?[2,Promise.resolve().then(function(){return J(R,te)}).then(function(){return _})]:[2,_]}})})});return R.open(),R.write(qme(document.doctype)+"<html></html>"),Yme(this.referenceElement.ownerDocument,S,I),R.replaceChild(R.adoptNode(this.documentElement),R.documentElement),R.close(),q},f.prototype.createElementClone=function(h){if(KP(h,2))debugger;if(n8(h))return this.createCanvasClone(h);if(i8(h))return this.createVideoClone(h);if(o8(h))return this.createStyleClone(h);var A=h.cloneNode(!1);return dO(A)&&(dO(h)&&h.currentSrc&&h.currentSrc!==h.src&&(A.src=h.currentSrc,A.srcset=""),A.loading==="lazy"&&(A.loading="eager")),a8(A)?this.createCustomElementClone(A):A},f.prototype.createCustomElementClone=function(h){var A=document.createElement("html2canvascustomelement");return hO(h.style,A),A},f.prototype.createStyleClone=function(h){try{var A=h.sheet;if(A&&A.cssRules){var m=[].slice.call(A.cssRules,0).reduce(function(S,I){return I&&typeof I.cssText=="string"?S+I.cssText:S},""),_=h.cloneNode(!1);return _.textContent=m,_}}catch(S){if(this.context.logger.error("Unable to access cssRules property",S),S.name!=="SecurityError")throw S}return h.cloneNode(!1)},f.prototype.createCanvasClone=function(h){var A;if(this.options.inlineImages&&h.ownerDocument){var m=h.ownerDocument.createElement("img");try{return m.src=h.toDataURL(),m}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",h)}}var _=h.cloneNode(!1);try{_.width=h.width,_.height=h.height;var S=h.getContext("2d"),I=_.getContext("2d");if(I)if(!this.options.allowTaint&&S)I.putImageData(S.getImageData(0,0,h.width,h.height),0,0);else{var B=(A=h.getContext("webgl2"))!==null&&A!==void 0?A:h.getContext("webgl");if(B){var R=B.getContextAttributes();R?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",h)}I.drawImage(h,0,0)}return _}catch{this.context.logger.info("Unable to clone canvas as it is tainted",h)}return _},f.prototype.createVideoClone=function(h){var A=h.ownerDocument.createElement("canvas");A.width=h.offsetWidth,A.height=h.offsetHeight;var m=A.getContext("2d");try{return m&&(m.drawImage(h,0,0,A.width,A.height),this.options.allowTaint||m.getImageData(0,0,A.width,A.height)),A}catch{this.context.logger.info("Unable to clone video as it is tainted",h)}var _=h.ownerDocument.createElement("canvas");return _.width=h.offsetWidth,_.height=h.offsetHeight,_},f.prototype.appendChildNode=function(h,A,m){(!Xm(A)||!Vme(A)&&!A.hasAttribute(p8)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(A)))&&(!this.options.copyStyles||!Xm(A)||!o8(A))&&h.appendChild(this.cloneNode(A,m))},f.prototype.cloneChildNodes=function(h,A,m){for(var _=this,S=h.shadowRoot?h.shadowRoot.firstChild:h.firstChild;S;S=S.nextSibling)if(Xm(S)&&s8(S)&&typeof S.assignedNodes=="function"){var I=S.assignedNodes();I.length&&I.forEach(function(B){return _.appendChildNode(A,B,m)})}else this.appendChildNode(A,S,m)},f.prototype.cloneNode=function(h,A){if(e8(h))return document.createTextNode(h.data);if(!h.ownerDocument)return h.cloneNode(!1);var m=h.ownerDocument.defaultView;if(m&&Xm(h)&&(lO(h)||DE(h))){var _=this.createElementClone(h);_.style.transitionProperty="none";var S=m.getComputedStyle(h),I=m.getComputedStyle(h,":before"),B=m.getComputedStyle(h,":after");this.referenceElement===h&&lO(_)&&(this.clonedReferenceElement=_),cO(_)&&eAe(_);var R=this.counters.parse(new k6(this.context,S)),q=this.resolvePseudoContent(h,_,I,RE.BEFORE);a8(h)&&(A=!0),i8(h)||this.cloneChildNodes(h,_,A),q&&_.insertBefore(q,_.firstChild);var J=this.resolvePseudoContent(h,_,B,RE.AFTER);return J&&_.appendChild(J),this.counters.pop(R),(S&&(this.options.copyStyles||DE(h))&&!r8(h)||A)&&hO(S,_),(h.scrollTop!==0||h.scrollLeft!==0)&&this.scrolledElements.push([_,h.scrollLeft,h.scrollTop]),(PE(h)||OE(h))&&(PE(_)||OE(_))&&(_.value=h.value),_}return h.cloneNode(!1)},f.prototype.resolvePseudoContent=function(h,A,m,_){var S=this;if(m){var I=m.content,B=A.ownerDocument;if(!(!B||!I||I==="none"||I==="-moz-alt-content"||m.display==="none")){this.counters.parse(new k6(this.context,m));var R=new Fpe(this.context,m),q=B.createElement("html2canvaspseudoelement");hO(m,q),R.content.forEach(function(te){if(te.type===0)q.appendChild(B.createTextNode(te.value));else if(te.type===22){var ce=B.createElement("img");ce.src=te.value,ce.style.opacity="1",q.appendChild(ce)}else if(te.type===18){if(te.name==="attr"){var Ke=te.values.filter(ei);Ke.length&&q.appendChild(B.createTextNode(h.getAttribute(Ke[0].value)||""))}else if(te.name==="counter"){var Te=te.values.filter(Ym),Ve=Te[0],Kt=Te[1];if(Ve&&ei(Ve)){var st=S.counters.getCounterValue(Ve.value),nt=Kt&&ei(Kt)?WP.parse(S.context,Kt.value):3;q.appendChild(B.createTextNode(V_(st,nt,!1)))}}else if(te.name==="counters"){var En=te.values.filter(Ym),Ve=En[0],Yt=En[1],Kt=En[2];if(Ve&&ei(Ve)){var Ot=S.counters.getCounterValues(Ve.value),We=Kt&&ei(Kt)?WP.parse(S.context,Kt.value):3,mn=Yt&&Yt.type===0?Yt.value:"",An=Ot.map(function(Cs){return V_(Cs,We,!1)}).join(mn);q.appendChild(B.createTextNode(An))}}}else if(te.type===20)switch(te.value){case"open-quote":q.appendChild(B.createTextNode(I6(R.quotes,S.quoteDepth++,!0)));break;case"close-quote":q.appendChild(B.createTextNode(I6(R.quotes,--S.quoteDepth,!1)));break;default:q.appendChild(B.createTextNode(te.value))}}),q.className=fO+" "+pO;var J=_===RE.BEFORE?" "+fO:" "+pO;return DE(A)?A.className.baseValue+=J:A.className+=J,q}}},f.destroy=function(h){return h.parentNode?(h.parentNode.removeChild(h),!0):!1},f}(),RE=function(f){return f[f.BEFORE=0]="BEFORE",f[f.AFTER=1]="AFTER",f}(RE||{}),$me=function(f,h){var A=f.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=h.width.toString(),A.height=h.height.toString(),A.scrolling="no",A.setAttribute(p8,"true"),f.body.appendChild(A),A},zme=function(f){return new Promise(function(h){if(f.complete){h();return}if(!f.src){h();return}f.onload=h,f.onerror=h})},Gme=function(f){return Promise.all([].slice.call(f.images,0).map(zme))},Wme=function(f){return new Promise(function(h,A){var m=f.contentWindow;if(!m)return A("No window assigned for iframe");var _=m.document;m.onload=f.onload=function(){m.onload=f.onload=null;var S=setInterval(function(){_.body.childNodes.length>0&&_.readyState==="complete"&&(clearInterval(S),h(f))},50)}})},Kme=["all","d","content"],hO=function(f,h){for(var A=f.length-1;A>=0;A--){var m=f.item(A);Kme.indexOf(m)===-1&&h.style.setProperty(m,f.getPropertyValue(m))}return h},qme=function(f){var h="";return f&&(h+="<!DOCTYPE ",f.name&&(h+=f.name),f.internalSubset&&(h+=f.internalSubset),f.publicId&&(h+='"'+f.publicId+'"'),f.systemId&&(h+='"'+f.systemId+'"'),h+=">"),h},Yme=function(f,h,A){f&&f.defaultView&&(h!==f.defaultView.pageXOffset||A!==f.defaultView.pageYOffset)&&f.defaultView.scrollTo(h,A)},Xme=function(f){var h=f[0],A=f[1],m=f[2];h.scrollLeft=A,h.scrollTop=m},Zme=":before",Jme=":after",fO="___html2canvas___pseudoelement_before",pO="___html2canvas___pseudoelement_after",A8=`{
    content: "" !important;
    display: none !important;
}`,eAe=function(f){tAe(f,"."+fO+Zme+A8+`
         .`+pO+Jme+A8)},tAe=function(f,h){var A=f.ownerDocument;if(A){var m=A.createElement("style");m.textContent=h,f.appendChild(m)}},g8=function(){function f(){}return f.getOrigin=function(h){var A=f._link;return A?(A.href=h,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},f.isSameOrigin=function(h){return f.getOrigin(h)===f._origin},f.setContext=function(h){f._link=h.document.createElement("a"),f._origin=f.getOrigin(h.location.href)},f._origin="about:blank",f}(),nAe=function(){function f(h,A){this.context=h,this._options=A,this._cache={}}return f.prototype.addImage=function(h){var A=Promise.resolve();return this.has(h)||(AO(h)||sAe(h))&&(this._cache[h]=this.loadImage(h)).catch(function(){}),A},f.prototype.match=function(h){return this._cache[h]},f.prototype.loadImage=function(h){return i(this,void 0,void 0,function(){var A,m,_,S,I=this;return r(this,function(B){switch(B.label){case 0:return A=g8.isSameOrigin(h),m=!mO(h)&&this._options.useCORS===!0&&yo.SUPPORT_CORS_IMAGES&&!A,_=!mO(h)&&!A&&!AO(h)&&typeof this._options.proxy=="string"&&yo.SUPPORT_CORS_XHR&&!m,!A&&this._options.allowTaint===!1&&!mO(h)&&!AO(h)&&!_&&!m?[2]:(S=h,_?[4,this.proxy(S)]:[3,2]);case 1:S=B.sent(),B.label=2;case 2:return this.context.logger.debug("Added image "+h.substring(0,256)),[4,new Promise(function(R,q){var J=new Image;J.onload=function(){return R(J)},J.onerror=q,(aAe(S)||m)&&(J.crossOrigin="anonymous"),J.src=S,J.complete===!0&&setTimeout(function(){return R(J)},500),I._options.imageTimeout>0&&setTimeout(function(){return q("Timed out ("+I._options.imageTimeout+"ms) loading image")},I._options.imageTimeout)})];case 3:return[2,B.sent()]}})})},f.prototype.has=function(h){return typeof this._cache[h]<"u"},f.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},f.prototype.proxy=function(h){var A=this,m=this._options.proxy;if(!m)throw new Error("No proxy defined");var _=h.substring(0,256);return new Promise(function(S,I){var B=yo.SUPPORT_RESPONSE_TYPE?"blob":"text",R=new XMLHttpRequest;R.onload=function(){if(R.status===200)if(B==="text")S(R.response);else{var te=new FileReader;te.addEventListener("load",function(){return S(te.result)},!1),te.addEventListener("error",function(ce){return I(ce)},!1),te.readAsDataURL(R.response)}else I("Failed to proxy resource "+_+" with status code "+R.status)},R.onerror=I;var q=m.indexOf("?")>-1?"&":"?";if(R.open("GET",""+m+q+"url="+encodeURIComponent(h)+"&responseType="+B),B!=="text"&&R instanceof XMLHttpRequest&&(R.responseType=B),A._options.imageTimeout){var J=A._options.imageTimeout;R.timeout=J,R.ontimeout=function(){return I("Timed out ("+J+"ms) proxying "+_)}}R.send()})},f}(),iAe=/^data:image\/svg\+xml/i,rAe=/^data:image\/.*;base64,/i,oAe=/^data:image\/.*/i,sAe=function(f){return yo.SUPPORT_SVG_DRAWING||!lAe(f)},mO=function(f){return oAe.test(f)},aAe=function(f){return rAe.test(f)},AO=function(f){return f.substr(0,4)==="blob"},lAe=function(f){return f.substr(-3).toLowerCase()==="svg"||iAe.test(f)},ze=function(){function f(h,A){this.type=0,this.x=h,this.y=A}return f.prototype.add=function(h,A){return new f(this.x+h,this.y+A)},f}(),eA=function(f,h,A){return new ze(f.x+(h.x-f.x)*A,f.y+(h.y-f.y)*A)},BE=function(){function f(h,A,m,_){this.type=1,this.start=h,this.startControl=A,this.endControl=m,this.end=_}return f.prototype.subdivide=function(h,A){var m=eA(this.start,this.startControl,h),_=eA(this.startControl,this.endControl,h),S=eA(this.endControl,this.end,h),I=eA(m,_,h),B=eA(_,S,h),R=eA(I,B,h);return A?new f(this.start,m,I,R):new f(R,B,S,this.end)},f.prototype.add=function(h,A){return new f(this.start.add(h,A),this.startControl.add(h,A),this.endControl.add(h,A),this.end.add(h,A))},f.prototype.reverse=function(){return new f(this.end,this.endControl,this.startControl,this.start)},f}(),Ba=function(f){return f.type===1},cAe=function(){function f(h){var A=h.styles,m=h.bounds,_=R_(A.borderTopLeftRadius,m.width,m.height),S=_[0],I=_[1],B=R_(A.borderTopRightRadius,m.width,m.height),R=B[0],q=B[1],J=R_(A.borderBottomRightRadius,m.width,m.height),te=J[0],ce=J[1],Ke=R_(A.borderBottomLeftRadius,m.width,m.height),Te=Ke[0],Ve=Ke[1],Kt=[];Kt.push((S+R)/m.width),Kt.push((Te+te)/m.width),Kt.push((I+Ve)/m.height),Kt.push((q+ce)/m.height);var st=Math.max.apply(Math,Kt);st>1&&(S/=st,I/=st,R/=st,q/=st,te/=st,ce/=st,Te/=st,Ve/=st);var nt=m.width-R,En=m.height-ce,Yt=m.width-te,Ot=m.height-Ve,We=A.borderTopWidth,mn=A.borderRightWidth,An=A.borderBottomWidth,Rt=A.borderLeftWidth,Br=bi(A.paddingTop,h.bounds.width),Cs=bi(A.paddingRight,h.bounds.width),Zs=bi(A.paddingBottom,h.bounds.width),ti=bi(A.paddingLeft,h.bounds.width);this.topLeftBorderDoubleOuterBox=S>0||I>0?Ui(m.left+Rt/3,m.top+We/3,S-Rt/3,I-We/3,Yn.TOP_LEFT):new ze(m.left+Rt/3,m.top+We/3),this.topRightBorderDoubleOuterBox=S>0||I>0?Ui(m.left+nt,m.top+We/3,R-mn/3,q-We/3,Yn.TOP_RIGHT):new ze(m.left+m.width-mn/3,m.top+We/3),this.bottomRightBorderDoubleOuterBox=te>0||ce>0?Ui(m.left+Yt,m.top+En,te-mn/3,ce-An/3,Yn.BOTTOM_RIGHT):new ze(m.left+m.width-mn/3,m.top+m.height-An/3),this.bottomLeftBorderDoubleOuterBox=Te>0||Ve>0?Ui(m.left+Rt/3,m.top+Ot,Te-Rt/3,Ve-An/3,Yn.BOTTOM_LEFT):new ze(m.left+Rt/3,m.top+m.height-An/3),this.topLeftBorderDoubleInnerBox=S>0||I>0?Ui(m.left+Rt*2/3,m.top+We*2/3,S-Rt*2/3,I-We*2/3,Yn.TOP_LEFT):new ze(m.left+Rt*2/3,m.top+We*2/3),this.topRightBorderDoubleInnerBox=S>0||I>0?Ui(m.left+nt,m.top+We*2/3,R-mn*2/3,q-We*2/3,Yn.TOP_RIGHT):new ze(m.left+m.width-mn*2/3,m.top+We*2/3),this.bottomRightBorderDoubleInnerBox=te>0||ce>0?Ui(m.left+Yt,m.top+En,te-mn*2/3,ce-An*2/3,Yn.BOTTOM_RIGHT):new ze(m.left+m.width-mn*2/3,m.top+m.height-An*2/3),this.bottomLeftBorderDoubleInnerBox=Te>0||Ve>0?Ui(m.left+Rt*2/3,m.top+Ot,Te-Rt*2/3,Ve-An*2/3,Yn.BOTTOM_LEFT):new ze(m.left+Rt*2/3,m.top+m.height-An*2/3),this.topLeftBorderStroke=S>0||I>0?Ui(m.left+Rt/2,m.top+We/2,S-Rt/2,I-We/2,Yn.TOP_LEFT):new ze(m.left+Rt/2,m.top+We/2),this.topRightBorderStroke=S>0||I>0?Ui(m.left+nt,m.top+We/2,R-mn/2,q-We/2,Yn.TOP_RIGHT):new ze(m.left+m.width-mn/2,m.top+We/2),this.bottomRightBorderStroke=te>0||ce>0?Ui(m.left+Yt,m.top+En,te-mn/2,ce-An/2,Yn.BOTTOM_RIGHT):new ze(m.left+m.width-mn/2,m.top+m.height-An/2),this.bottomLeftBorderStroke=Te>0||Ve>0?Ui(m.left+Rt/2,m.top+Ot,Te-Rt/2,Ve-An/2,Yn.BOTTOM_LEFT):new ze(m.left+Rt/2,m.top+m.height-An/2),this.topLeftBorderBox=S>0||I>0?Ui(m.left,m.top,S,I,Yn.TOP_LEFT):new ze(m.left,m.top),this.topRightBorderBox=R>0||q>0?Ui(m.left+nt,m.top,R,q,Yn.TOP_RIGHT):new ze(m.left+m.width,m.top),this.bottomRightBorderBox=te>0||ce>0?Ui(m.left+Yt,m.top+En,te,ce,Yn.BOTTOM_RIGHT):new ze(m.left+m.width,m.top+m.height),this.bottomLeftBorderBox=Te>0||Ve>0?Ui(m.left,m.top+Ot,Te,Ve,Yn.BOTTOM_LEFT):new ze(m.left,m.top+m.height),this.topLeftPaddingBox=S>0||I>0?Ui(m.left+Rt,m.top+We,Math.max(0,S-Rt),Math.max(0,I-We),Yn.TOP_LEFT):new ze(m.left+Rt,m.top+We),this.topRightPaddingBox=R>0||q>0?Ui(m.left+Math.min(nt,m.width-mn),m.top+We,nt>m.width+mn?0:Math.max(0,R-mn),Math.max(0,q-We),Yn.TOP_RIGHT):new ze(m.left+m.width-mn,m.top+We),this.bottomRightPaddingBox=te>0||ce>0?Ui(m.left+Math.min(Yt,m.width-Rt),m.top+Math.min(En,m.height-An),Math.max(0,te-mn),Math.max(0,ce-An),Yn.BOTTOM_RIGHT):new ze(m.left+m.width-mn,m.top+m.height-An),this.bottomLeftPaddingBox=Te>0||Ve>0?Ui(m.left+Rt,m.top+Math.min(Ot,m.height-An),Math.max(0,Te-Rt),Math.max(0,Ve-An),Yn.BOTTOM_LEFT):new ze(m.left+Rt,m.top+m.height-An),this.topLeftContentBox=S>0||I>0?Ui(m.left+Rt+ti,m.top+We+Br,Math.max(0,S-(Rt+ti)),Math.max(0,I-(We+Br)),Yn.TOP_LEFT):new ze(m.left+Rt+ti,m.top+We+Br),this.topRightContentBox=R>0||q>0?Ui(m.left+Math.min(nt,m.width+Rt+ti),m.top+We+Br,nt>m.width+Rt+ti?0:R-Rt+ti,q-(We+Br),Yn.TOP_RIGHT):new ze(m.left+m.width-(mn+Cs),m.top+We+Br),this.bottomRightContentBox=te>0||ce>0?Ui(m.left+Math.min(Yt,m.width-(Rt+ti)),m.top+Math.min(En,m.height+We+Br),Math.max(0,te-(mn+Cs)),ce-(An+Zs),Yn.BOTTOM_RIGHT):new ze(m.left+m.width-(mn+Cs),m.top+m.height-(An+Zs)),this.bottomLeftContentBox=Te>0||Ve>0?Ui(m.left+Rt+ti,m.top+Ot,Math.max(0,Te-(Rt+ti)),Ve-(An+Zs),Yn.BOTTOM_LEFT):new ze(m.left+Rt+ti,m.top+m.height-(An+Zs))}return f}(),Yn=function(f){return f[f.TOP_LEFT=0]="TOP_LEFT",f[f.TOP_RIGHT=1]="TOP_RIGHT",f[f.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",f[f.BOTTOM_LEFT=3]="BOTTOM_LEFT",f}(Yn||{}),Ui=function(f,h,A,m,_){var S=4*((Math.sqrt(2)-1)/3),I=A*S,B=m*S,R=f+A,q=h+m;switch(_){case Yn.TOP_LEFT:return new BE(new ze(f,q),new ze(f,q-B),new ze(R-I,h),new ze(R,h));case Yn.TOP_RIGHT:return new BE(new ze(f,h),new ze(f+I,h),new ze(R,q-B),new ze(R,q));case Yn.BOTTOM_RIGHT:return new BE(new ze(R,h),new ze(R,h+B),new ze(f+I,q),new ze(f,q));case Yn.BOTTOM_LEFT:default:return new BE(new ze(R,q),new ze(R-I,q),new ze(f,h+B),new ze(f,h))}},FE=function(f){return[f.topLeftBorderBox,f.topRightBorderBox,f.bottomRightBorderBox,f.bottomLeftBorderBox]},dAe=function(f){return[f.topLeftContentBox,f.topRightContentBox,f.bottomRightContentBox,f.bottomLeftContentBox]},NE=function(f){return[f.topLeftPaddingBox,f.topRightPaddingBox,f.bottomRightPaddingBox,f.bottomLeftPaddingBox]},uAe=function(){function f(h,A,m){this.offsetX=h,this.offsetY=A,this.matrix=m,this.type=0,this.target=6}return f}(),LE=function(){function f(h,A){this.path=h,this.target=A,this.type=1}return f}(),hAe=function(){function f(h){this.opacity=h,this.type=2,this.target=6}return f}(),fAe=function(f){return f.type===0},v8=function(f){return f.type===1},pAe=function(f){return f.type===2},_8=function(f,h){return f.length===h.length?f.some(function(A,m){return A===h[m]}):!1},mAe=function(f,h,A,m,_){return f.map(function(S,I){switch(I){case 0:return S.add(h,A);case 1:return S.add(h+m,A);case 2:return S.add(h+m,A+_);case 3:return S.add(h,A+_)}return S})},b8=function(){function f(h){this.element=h,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return f}(),y8=function(){function f(h,A){if(this.container=h,this.parent=A,this.effects=[],this.curves=new cAe(this.container),this.container.styles.opacity<1&&this.effects.push(new hAe(this.container.styles.opacity)),this.container.styles.transform!==null){var m=this.container.bounds.left+this.container.styles.transformOrigin[0].number,_=this.container.bounds.top+this.container.styles.transformOrigin[1].number,S=this.container.styles.transform;this.effects.push(new uAe(m,_,S))}if(this.container.styles.overflowX!==0){var I=FE(this.curves),B=NE(this.curves);_8(I,B)?this.effects.push(new LE(I,6)):(this.effects.push(new LE(I,2)),this.effects.push(new LE(B,4)))}}return f.prototype.getEffects=function(h){for(var A=[2,3].indexOf(this.container.styles.position)===-1,m=this.parent,_=this.effects.slice(0);m;){var S=m.effects.filter(function(R){return!v8(R)});if(A||m.container.styles.position!==0||!m.parent){if(_.unshift.apply(_,S),A=[2,3].indexOf(m.container.styles.position)===-1,m.container.styles.overflowX!==0){var I=FE(m.curves),B=NE(m.curves);_8(I,B)||_.unshift(new LE(B,6))}}else _.unshift.apply(_,S);m=m.parent}return _.filter(function(R){return Xr(R.target,h)})},f}(),gO=function(f,h,A,m){f.container.elements.forEach(function(_){var S=Xr(_.flags,4),I=Xr(_.flags,2),B=new y8(_,f);Xr(_.styles.display,2048)&&m.push(B);var R=Xr(_.flags,8)?[]:m;if(S||I){var q=S||_.styles.isPositioned()?A:h,J=new b8(B);if(_.styles.isPositioned()||_.styles.opacity<1||_.styles.isTransformed()){var te=_.styles.zIndex.order;if(te<0){var ce=0;q.negativeZIndex.some(function(Te,Ve){return te>Te.element.container.styles.zIndex.order?(ce=Ve,!1):ce>0}),q.negativeZIndex.splice(ce,0,J)}else if(te>0){var Ke=0;q.positiveZIndex.some(function(Te,Ve){return te>=Te.element.container.styles.zIndex.order?(Ke=Ve+1,!1):Ke>0}),q.positiveZIndex.splice(Ke,0,J)}else q.zeroOrAutoZIndexOrTransformedOrOpacity.push(J)}else _.styles.isFloating()?q.nonPositionedFloats.push(J):q.nonPositionedInlineLevel.push(J);gO(B,J,S?J:A,R)}else _.styles.isInlineLevel()?h.inlineLevel.push(B):h.nonInlineLevel.push(B),gO(B,h,A,R);Xr(_.flags,8)&&C8(_,R)})},C8=function(f,h){for(var A=f instanceof sO?f.start:1,m=f instanceof sO?f.reversed:!1,_=0;_<h.length;_++){var S=h[_];S.container instanceof W6&&typeof S.container.value=="number"&&S.container.value!==0&&(A=S.container.value),S.listValue=V_(A,S.container.styles.listStyleType,!0),A+=m?-1:1}},AAe=function(f){var h=new y8(f,null),A=new b8(h),m=[];return gO(h,A,A,m),C8(h.container,m),A},w8=function(f,h){switch(h){case 0:return Fa(f.topLeftBorderBox,f.topLeftPaddingBox,f.topRightBorderBox,f.topRightPaddingBox);case 1:return Fa(f.topRightBorderBox,f.topRightPaddingBox,f.bottomRightBorderBox,f.bottomRightPaddingBox);case 2:return Fa(f.bottomRightBorderBox,f.bottomRightPaddingBox,f.bottomLeftBorderBox,f.bottomLeftPaddingBox);case 3:default:return Fa(f.bottomLeftBorderBox,f.bottomLeftPaddingBox,f.topLeftBorderBox,f.topLeftPaddingBox)}},gAe=function(f,h){switch(h){case 0:return Fa(f.topLeftBorderBox,f.topLeftBorderDoubleOuterBox,f.topRightBorderBox,f.topRightBorderDoubleOuterBox);case 1:return Fa(f.topRightBorderBox,f.topRightBorderDoubleOuterBox,f.bottomRightBorderBox,f.bottomRightBorderDoubleOuterBox);case 2:return Fa(f.bottomRightBorderBox,f.bottomRightBorderDoubleOuterBox,f.bottomLeftBorderBox,f.bottomLeftBorderDoubleOuterBox);case 3:default:return Fa(f.bottomLeftBorderBox,f.bottomLeftBorderDoubleOuterBox,f.topLeftBorderBox,f.topLeftBorderDoubleOuterBox)}},vAe=function(f,h){switch(h){case 0:return Fa(f.topLeftBorderDoubleInnerBox,f.topLeftPaddingBox,f.topRightBorderDoubleInnerBox,f.topRightPaddingBox);case 1:return Fa(f.topRightBorderDoubleInnerBox,f.topRightPaddingBox,f.bottomRightBorderDoubleInnerBox,f.bottomRightPaddingBox);case 2:return Fa(f.bottomRightBorderDoubleInnerBox,f.bottomRightPaddingBox,f.bottomLeftBorderDoubleInnerBox,f.bottomLeftPaddingBox);case 3:default:return Fa(f.bottomLeftBorderDoubleInnerBox,f.bottomLeftPaddingBox,f.topLeftBorderDoubleInnerBox,f.topLeftPaddingBox)}},_Ae=function(f,h){switch(h){case 0:return UE(f.topLeftBorderStroke,f.topRightBorderStroke);case 1:return UE(f.topRightBorderStroke,f.bottomRightBorderStroke);case 2:return UE(f.bottomRightBorderStroke,f.bottomLeftBorderStroke);case 3:default:return UE(f.bottomLeftBorderStroke,f.topLeftBorderStroke)}},UE=function(f,h){var A=[];return Ba(f)?A.push(f.subdivide(.5,!1)):A.push(f),Ba(h)?A.push(h.subdivide(.5,!0)):A.push(h),A},Fa=function(f,h,A,m){var _=[];return Ba(f)?_.push(f.subdivide(.5,!1)):_.push(f),Ba(A)?_.push(A.subdivide(.5,!0)):_.push(A),Ba(m)?_.push(m.subdivide(.5,!0).reverse()):_.push(m),Ba(h)?_.push(h.subdivide(.5,!1).reverse()):_.push(h),_},E8=function(f){var h=f.bounds,A=f.styles;return h.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},VE=function(f){var h=f.styles,A=f.bounds,m=bi(h.paddingLeft,A.width),_=bi(h.paddingRight,A.width),S=bi(h.paddingTop,A.width),I=bi(h.paddingBottom,A.width);return A.add(m+h.borderLeftWidth,S+h.borderTopWidth,-(h.borderRightWidth+h.borderLeftWidth+m+_),-(h.borderTopWidth+h.borderBottomWidth+S+I))},bAe=function(f,h){return f===0?h.bounds:f===2?VE(h):E8(h)},yAe=function(f,h){return f===0?h.bounds:f===2?VE(h):E8(h)},vO=function(f,h,A){var m=bAe(nA(f.styles.backgroundOrigin,h),f),_=yAe(nA(f.styles.backgroundClip,h),f),S=CAe(nA(f.styles.backgroundSize,h),A,m),I=S[0],B=S[1],R=R_(nA(f.styles.backgroundPosition,h),m.width-I,m.height-B),q=wAe(nA(f.styles.backgroundRepeat,h),R,S,m,_),J=Math.round(m.left+R[0]),te=Math.round(m.top+R[1]);return[q,J,te,I,B]},tA=function(f){return ei(f)&&f.value===F_.AUTO},HE=function(f){return typeof f=="number"},CAe=function(f,h,A){var m=h[0],_=h[1],S=h[2],I=f[0],B=f[1];if(!I)return[0,0];if(Rr(I)&&B&&Rr(B))return[bi(I,A.width),bi(B,A.height)];var R=HE(S);if(ei(I)&&(I.value===F_.CONTAIN||I.value===F_.COVER)){if(HE(S)){var q=A.width/A.height;return q<S!=(I.value===F_.COVER)?[A.width,A.width/S]:[A.height*S,A.height]}return[A.width,A.height]}var J=HE(m),te=HE(_),ce=J||te;if(tA(I)&&(!B||tA(B))){if(J&&te)return[m,_];if(!R&&!ce)return[A.width,A.height];if(ce&&R){var Ke=J?m:_*S,Te=te?_:m/S;return[Ke,Te]}var Ve=J?m:A.width,Kt=te?_:A.height;return[Ve,Kt]}if(R){var st=0,nt=0;return Rr(I)?st=bi(I,A.width):Rr(B)&&(nt=bi(B,A.height)),tA(I)?st=nt*S:(!B||tA(B))&&(nt=st/S),[st,nt]}var En=null,Yt=null;if(Rr(I)?En=bi(I,A.width):B&&Rr(B)&&(Yt=bi(B,A.height)),En!==null&&(!B||tA(B))&&(Yt=J&&te?En/m*_:A.height),Yt!==null&&tA(I)&&(En=J&&te?Yt/_*m:A.width),En!==null&&Yt!==null)return[En,Yt];throw new Error("Unable to calculate background-size for element")},nA=function(f,h){var A=f[h];return typeof A>"u"?f[0]:A},wAe=function(f,h,A,m,_){var S=h[0],I=h[1],B=A[0],R=A[1];switch(f){case 2:return[new ze(Math.round(m.left),Math.round(m.top+I)),new ze(Math.round(m.left+m.width),Math.round(m.top+I)),new ze(Math.round(m.left+m.width),Math.round(R+m.top+I)),new ze(Math.round(m.left),Math.round(R+m.top+I))];case 3:return[new ze(Math.round(m.left+S),Math.round(m.top)),new ze(Math.round(m.left+S+B),Math.round(m.top)),new ze(Math.round(m.left+S+B),Math.round(m.height+m.top)),new ze(Math.round(m.left+S),Math.round(m.height+m.top))];case 1:return[new ze(Math.round(m.left+S),Math.round(m.top+I)),new ze(Math.round(m.left+S+B),Math.round(m.top+I)),new ze(Math.round(m.left+S+B),Math.round(m.top+I+R)),new ze(Math.round(m.left+S),Math.round(m.top+I+R))];default:return[new ze(Math.round(_.left),Math.round(_.top)),new ze(Math.round(_.left+_.width),Math.round(_.top)),new ze(Math.round(_.left+_.width),Math.round(_.height+_.top)),new ze(Math.round(_.left),Math.round(_.height+_.top))]}},EAe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",x8="Hidden Text",xAe=function(){function f(h){this._data={},this._document=h}return f.prototype.parseMetrics=function(h,A){var m=this._document.createElement("div"),_=this._document.createElement("img"),S=this._document.createElement("span"),I=this._document.body;m.style.visibility="hidden",m.style.fontFamily=h,m.style.fontSize=A,m.style.margin="0",m.style.padding="0",m.style.whiteSpace="nowrap",I.appendChild(m),_.src=EAe,_.width=1,_.height=1,_.style.margin="0",_.style.padding="0",_.style.verticalAlign="baseline",S.style.fontFamily=h,S.style.fontSize=A,S.style.margin="0",S.style.padding="0",S.appendChild(this._document.createTextNode(x8)),m.appendChild(S),m.appendChild(_);var B=_.offsetTop-S.offsetTop+2;m.removeChild(S),m.appendChild(this._document.createTextNode(x8)),m.style.lineHeight="normal",_.style.verticalAlign="super";var R=_.offsetTop-m.offsetTop+2;return I.removeChild(m),{baseline:B,middle:R}},f.prototype.getMetrics=function(h,A){var m=h+" "+A;return typeof this._data[m]>"u"&&(this._data[m]=this.parseMetrics(h,A)),this._data[m]},f}(),S8=function(){function f(h,A){this.context=h,this.options=A}return f}(),SAe=1e4,TAe=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;return _._activeEffects=[],_.canvas=m.canvas?m.canvas:document.createElement("canvas"),_.ctx=_.canvas.getContext("2d"),m.canvas||(_.canvas.width=Math.floor(m.width*m.scale),_.canvas.height=Math.floor(m.height*m.scale),_.canvas.style.width=m.width+"px",_.canvas.style.height=m.height+"px"),_.fontMetrics=new xAe(document),_.ctx.scale(_.options.scale,_.options.scale),_.ctx.translate(-m.x,-m.y),_.ctx.textBaseline="bottom",_._activeEffects=[],_.context.logger.debug("Canvas renderer initialized ("+m.width+"x"+m.height+") with scale "+m.scale),_}return h.prototype.applyEffects=function(A){for(var m=this;this._activeEffects.length;)this.popEffect();A.forEach(function(_){return m.applyEffect(_)})},h.prototype.applyEffect=function(A){this.ctx.save(),pAe(A)&&(this.ctx.globalAlpha=A.opacity),fAe(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),v8(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},h.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},h.prototype.renderStack=function(A){return i(this,void 0,void 0,function(){var m;return r(this,function(_){switch(_.label){case 0:return m=A.element.container.styles,m.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})},h.prototype.renderNode=function(A){return i(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:if(Xr(A.container.flags,16))debugger;return A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return m.sent(),[4,this.renderNodeContent(A)];case 2:m.sent(),m.label=3;case 3:return[2]}})})},h.prototype.renderTextWithLetterSpacing=function(A,m,_){var S=this;if(m===0)this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+_);else{var I=oO(A.text);I.reduce(function(B,R){return S.ctx.fillText(R,B,A.bounds.top+_),B+S.ctx.measureText(R).width},A.bounds.left)}},h.prototype.createFontStyle=function(A){var m=A.fontVariant.filter(function(I){return I==="normal"||I==="small-caps"}).join(""),_=PAe(A.fontFamily).join(", "),S=O_(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,m,A.fontWeight,S,_].join(" "),_,S]},h.prototype.renderTextNode=function(A,m){return i(this,void 0,void 0,function(){var _,S,I,B,R,q,J,te,ce=this;return r(this,function(Ke){return _=this.createFontStyle(m),S=_[0],I=_[1],B=_[2],this.ctx.font=S,this.ctx.direction=m.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",R=this.fontMetrics.getMetrics(I,B),q=R.baseline,J=R.middle,te=m.paintOrder,A.textBounds.forEach(function(Te){te.forEach(function(Ve){switch(Ve){case 0:ce.ctx.fillStyle=oo(m.color),ce.renderTextWithLetterSpacing(Te,m.letterSpacing,q);var Kt=m.textShadow;Kt.length&&Te.text.trim().length&&(Kt.slice(0).reverse().forEach(function(st){ce.ctx.shadowColor=oo(st.color),ce.ctx.shadowOffsetX=st.offsetX.number*ce.options.scale,ce.ctx.shadowOffsetY=st.offsetY.number*ce.options.scale,ce.ctx.shadowBlur=st.blur.number,ce.renderTextWithLetterSpacing(Te,m.letterSpacing,q)}),ce.ctx.shadowColor="",ce.ctx.shadowOffsetX=0,ce.ctx.shadowOffsetY=0,ce.ctx.shadowBlur=0),m.textDecorationLine.length&&(ce.ctx.fillStyle=oo(m.textDecorationColor||m.color),m.textDecorationLine.forEach(function(st){switch(st){case 1:ce.ctx.fillRect(Te.bounds.left,Math.round(Te.bounds.top+q),Te.bounds.width,1);break;case 2:ce.ctx.fillRect(Te.bounds.left,Math.round(Te.bounds.top),Te.bounds.width,1);break;case 3:ce.ctx.fillRect(Te.bounds.left,Math.ceil(Te.bounds.top+J),Te.bounds.width,1);break}}));break;case 1:m.webkitTextStrokeWidth&&Te.text.trim().length&&(ce.ctx.strokeStyle=oo(m.webkitTextStrokeColor),ce.ctx.lineWidth=m.webkitTextStrokeWidth,ce.ctx.lineJoin=window.chrome?"miter":"round",ce.ctx.strokeText(Te.text,Te.bounds.left,Te.bounds.top+q)),ce.ctx.strokeStyle="",ce.ctx.lineWidth=0,ce.ctx.lineJoin="miter";break}})}),[2]})})},h.prototype.renderReplacedElement=function(A,m,_){if(_&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var S=VE(A),I=NE(m);this.path(I),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(_,0,0,A.intrinsicWidth,A.intrinsicHeight,S.left,S.top,S.width,S.height),this.ctx.restore()}},h.prototype.renderNodeContent=function(A){return i(this,void 0,void 0,function(){var m,_,S,I,B,R,nt,nt,q,J,te,ce,Yt,Ke,Te,Ot,Ve,Kt,st,nt,En,Yt,Ot;return r(this,function(We){switch(We.label){case 0:this.applyEffects(A.getEffects(4)),m=A.container,_=A.curves,S=m.styles,I=0,B=m.textNodes,We.label=1;case 1:return I<B.length?(R=B[I],[4,this.renderTextNode(R,S)]):[3,4];case 2:We.sent(),We.label=3;case 3:return I++,[3,1];case 4:if(!(m instanceof $6))return[3,8];We.label=5;case 5:return We.trys.push([5,7,,8]),[4,this.context.cache.match(m.src)];case 6:return nt=We.sent(),this.renderReplacedElement(m,_,nt),[3,8];case 7:return We.sent(),this.context.logger.error("Error loading image "+m.src),[3,8];case 8:if(m instanceof z6&&this.renderReplacedElement(m,_,m.canvas),!(m instanceof G6))return[3,12];We.label=9;case 9:return We.trys.push([9,11,,12]),[4,this.context.cache.match(m.svg)];case 10:return nt=We.sent(),this.renderReplacedElement(m,_,nt),[3,12];case 11:return We.sent(),this.context.logger.error("Error loading svg "+m.svg.substring(0,255)),[3,12];case 12:return m instanceof X6&&m.tree?(q=new h(this.context,{scale:this.options.scale,backgroundColor:m.backgroundColor,x:0,y:0,width:m.width,height:m.height}),[4,q.render(m.tree)]):[3,14];case 13:J=We.sent(),m.width&&m.height&&this.ctx.drawImage(J,0,0,m.width,m.height,m.bounds.left,m.bounds.top,m.bounds.width,m.bounds.height),We.label=14;case 14:if(m instanceof aO&&(te=Math.min(m.bounds.width,m.bounds.height),m.type===IE?m.checked&&(this.ctx.save(),this.path([new ze(m.bounds.left+te*.39363,m.bounds.top+te*.79),new ze(m.bounds.left+te*.16,m.bounds.top+te*.5549),new ze(m.bounds.left+te*.27347,m.bounds.top+te*.44071),new ze(m.bounds.left+te*.39694,m.bounds.top+te*.5649),new ze(m.bounds.left+te*.72983,m.bounds.top+te*.23),new ze(m.bounds.left+te*.84,m.bounds.top+te*.34085),new ze(m.bounds.left+te*.39363,m.bounds.top+te*.79)]),this.ctx.fillStyle=oo(K6),this.ctx.fill(),this.ctx.restore()):m.type===kE&&m.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(m.bounds.left+te/2,m.bounds.top+te/2,te/4,0,Math.PI*2,!0),this.ctx.fillStyle=oo(K6),this.ctx.fill(),this.ctx.restore())),IAe(m)&&m.value.length){switch(ce=this.createFontStyle(S),Yt=ce[0],Ke=ce[1],Te=this.fontMetrics.getMetrics(Yt,Ke).baseline,this.ctx.font=Yt,this.ctx.fillStyle=oo(S.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=MAe(m.styles.textAlign),Ot=VE(m),Ve=0,m.styles.textAlign){case 1:Ve+=Ot.width/2;break;case 2:Ve+=Ot.width;break}Kt=Ot.add(Ve,0,0,-Ot.height/2+1),this.ctx.save(),this.path([new ze(Ot.left,Ot.top),new ze(Ot.left+Ot.width,Ot.top),new ze(Ot.left+Ot.width,Ot.top+Ot.height),new ze(Ot.left,Ot.top+Ot.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new L_(m.value,Kt),S.letterSpacing,Te),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Xr(m.styles.display,2048))return[3,20];if(m.styles.listStyleImage===null)return[3,19];if(st=m.styles.listStyleImage,st.type!==0)return[3,18];nt=void 0,En=st.url,We.label=15;case 15:return We.trys.push([15,17,,18]),[4,this.context.cache.match(En)];case 16:return nt=We.sent(),this.ctx.drawImage(nt,m.bounds.left-(nt.width+10),m.bounds.top),[3,18];case 17:return We.sent(),this.context.logger.error("Error loading list-style-image "+En),[3,18];case 18:return[3,20];case 19:A.listValue&&m.styles.listStyleType!==-1&&(Yt=this.createFontStyle(S)[0],this.ctx.font=Yt,this.ctx.fillStyle=oo(S.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ot=new s(m.bounds.left,m.bounds.top+bi(m.styles.paddingTop,m.bounds.width),m.bounds.width,x6(S.lineHeight,S.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new L_(A.listValue,Ot),S.letterSpacing,x6(S.lineHeight,S.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),We.label=20;case 20:return[2]}})})},h.prototype.renderStackContent=function(A){return i(this,void 0,void 0,function(){var m,_,st,S,I,st,B,R,st,q,J,st,te,ce,st,Ke,Te,st,Ve,Kt,st;return r(this,function(nt){switch(nt.label){case 0:if(Xr(A.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:nt.sent(),m=0,_=A.negativeZIndex,nt.label=2;case 2:return m<_.length?(st=_[m],[4,this.renderStack(st)]):[3,5];case 3:nt.sent(),nt.label=4;case 4:return m++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:nt.sent(),S=0,I=A.nonInlineLevel,nt.label=7;case 7:return S<I.length?(st=I[S],[4,this.renderNode(st)]):[3,10];case 8:nt.sent(),nt.label=9;case 9:return S++,[3,7];case 10:B=0,R=A.nonPositionedFloats,nt.label=11;case 11:return B<R.length?(st=R[B],[4,this.renderStack(st)]):[3,14];case 12:nt.sent(),nt.label=13;case 13:return B++,[3,11];case 14:q=0,J=A.nonPositionedInlineLevel,nt.label=15;case 15:return q<J.length?(st=J[q],[4,this.renderStack(st)]):[3,18];case 16:nt.sent(),nt.label=17;case 17:return q++,[3,15];case 18:te=0,ce=A.inlineLevel,nt.label=19;case 19:return te<ce.length?(st=ce[te],[4,this.renderNode(st)]):[3,22];case 20:nt.sent(),nt.label=21;case 21:return te++,[3,19];case 22:Ke=0,Te=A.zeroOrAutoZIndexOrTransformedOrOpacity,nt.label=23;case 23:return Ke<Te.length?(st=Te[Ke],[4,this.renderStack(st)]):[3,26];case 24:nt.sent(),nt.label=25;case 25:return Ke++,[3,23];case 26:Ve=0,Kt=A.positiveZIndex,nt.label=27;case 27:return Ve<Kt.length?(st=Kt[Ve],[4,this.renderStack(st)]):[3,30];case 28:nt.sent(),nt.label=29;case 29:return Ve++,[3,27];case 30:return[2]}})})},h.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},h.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},h.prototype.formatPath=function(A){var m=this;A.forEach(function(_,S){var I=Ba(_)?_.start:_;S===0?m.ctx.moveTo(I.x,I.y):m.ctx.lineTo(I.x,I.y),Ba(_)&&m.ctx.bezierCurveTo(_.startControl.x,_.startControl.y,_.endControl.x,_.endControl.y,_.end.x,_.end.y)})},h.prototype.renderRepeat=function(A,m,_,S){this.path(A),this.ctx.fillStyle=m,this.ctx.translate(_,S),this.ctx.fill(),this.ctx.translate(-_,-S)},h.prototype.resizeImage=function(A,m,_){var S;if(A.width===m&&A.height===_)return A;var I=(S=this.canvas.ownerDocument)!==null&&S!==void 0?S:document,B=I.createElement("canvas");B.width=Math.max(1,m),B.height=Math.max(1,_);var R=B.getContext("2d");return R.drawImage(A,0,0,A.width,A.height,0,0,m,_),B},h.prototype.renderBackgroundImage=function(A){return i(this,void 0,void 0,function(){var m,_,S,I,B,R;return r(this,function(q){switch(q.label){case 0:m=A.styles.backgroundImage.length-1,_=function(J){var te,ce,Ke,Br,ws,Es,ti,Co,An,Te,Br,ws,Es,ti,Co,Ve,Kt,st,nt,En,Yt,Ot,We,mn,An,Rt,Br,Cs,Zs,ti,Co,oh,ws,Es,ep,Ac,sh,tp,np,Vd,ip,Hd;return r(this,function(iA){switch(iA.label){case 0:if(J.type!==0)return[3,5];te=void 0,ce=J.url,iA.label=1;case 1:return iA.trys.push([1,3,,4]),[4,S.context.cache.match(ce)];case 2:return te=iA.sent(),[3,4];case 3:return iA.sent(),S.context.logger.error("Error loading background-image "+ce),[3,4];case 4:return te&&(Ke=vO(A,m,[te.width,te.height,te.width/te.height]),Br=Ke[0],ws=Ke[1],Es=Ke[2],ti=Ke[3],Co=Ke[4],An=S.ctx.createPattern(S.resizeImage(te,ti,Co),"repeat"),S.renderRepeat(Br,An,ws,Es)),[3,6];case 5:ffe(J)?(Te=vO(A,m,[null,null,null]),Br=Te[0],ws=Te[1],Es=Te[2],ti=Te[3],Co=Te[4],Ve=lfe(J.angle,ti,Co),Kt=Ve[0],st=Ve[1],nt=Ve[2],En=Ve[3],Yt=Ve[4],Ot=document.createElement("canvas"),Ot.width=ti,Ot.height=Co,We=Ot.getContext("2d"),mn=We.createLinearGradient(st,En,nt,Yt),p6(J.stops,Kt).forEach(function(H_){return mn.addColorStop(H_.stop,oo(H_.color))}),We.fillStyle=mn,We.fillRect(0,0,ti,Co),ti>0&&Co>0&&(An=S.ctx.createPattern(Ot,"repeat"),S.renderRepeat(Br,An,ws,Es))):pfe(J)&&(Rt=vO(A,m,[null,null,null]),Br=Rt[0],Cs=Rt[1],Zs=Rt[2],ti=Rt[3],Co=Rt[4],oh=J.position.length===0?[jP]:J.position,ws=bi(oh[0],ti),Es=bi(oh[oh.length-1],Co),ep=cfe(J,ws,Es,ti,Co),Ac=ep[0],sh=ep[1],Ac>0&&sh>0&&(tp=S.ctx.createRadialGradient(Cs+ws,Zs+Es,0,Cs+ws,Zs+Es,Ac),p6(J.stops,Ac*2).forEach(function(H_){return tp.addColorStop(H_.stop,oo(H_.color))}),S.path(Br),S.ctx.fillStyle=tp,Ac!==sh?(np=A.bounds.left+.5*A.bounds.width,Vd=A.bounds.top+.5*A.bounds.height,ip=sh/Ac,Hd=1/ip,S.ctx.save(),S.ctx.translate(np,Vd),S.ctx.transform(1,0,0,ip,0,0),S.ctx.translate(-np,-Vd),S.ctx.fillRect(Cs,Hd*(Zs-Vd)+Vd,ti,Co*Hd),S.ctx.restore()):S.ctx.fill())),iA.label=6;case 6:return m--,[2]}})},S=this,I=0,B=A.styles.backgroundImage.slice(0).reverse(),q.label=1;case 1:return I<B.length?(R=B[I],[5,_(R)]):[3,4];case 2:q.sent(),q.label=3;case 3:return I++,[3,1];case 4:return[2]}})})},h.prototype.renderSolidBorder=function(A,m,_){return i(this,void 0,void 0,function(){return r(this,function(S){return this.path(w8(_,m)),this.ctx.fillStyle=oo(A),this.ctx.fill(),[2]})})},h.prototype.renderDoubleBorder=function(A,m,_,S){return i(this,void 0,void 0,function(){var I,B;return r(this,function(R){switch(R.label){case 0:return m<3?[4,this.renderSolidBorder(A,_,S)]:[3,2];case 1:return R.sent(),[2];case 2:return I=gAe(S,_),this.path(I),this.ctx.fillStyle=oo(A),this.ctx.fill(),B=vAe(S,_),this.path(B),this.ctx.fill(),[2]}})})},h.prototype.renderNodeBackgroundAndBorders=function(A){return i(this,void 0,void 0,function(){var m,_,S,I,B,R,q,J,te=this;return r(this,function(ce){switch(ce.label){case 0:return this.applyEffects(A.getEffects(2)),m=A.container.styles,_=!th(m.backgroundColor)||m.backgroundImage.length,S=[{style:m.borderTopStyle,color:m.borderTopColor,width:m.borderTopWidth},{style:m.borderRightStyle,color:m.borderRightColor,width:m.borderRightWidth},{style:m.borderBottomStyle,color:m.borderBottomColor,width:m.borderBottomWidth},{style:m.borderLeftStyle,color:m.borderLeftColor,width:m.borderLeftWidth}],I=kAe(nA(m.backgroundClip,0),A.curves),_||m.boxShadow.length?(this.ctx.save(),this.path(I),this.ctx.clip(),th(m.backgroundColor)||(this.ctx.fillStyle=oo(m.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:ce.sent(),this.ctx.restore(),m.boxShadow.slice(0).reverse().forEach(function(Ke){te.ctx.save();var Te=FE(A.curves),Ve=Ke.inset?0:SAe,Kt=mAe(Te,-Ve+(Ke.inset?1:-1)*Ke.spread.number,(Ke.inset?1:-1)*Ke.spread.number,Ke.spread.number*(Ke.inset?-2:2),Ke.spread.number*(Ke.inset?-2:2));Ke.inset?(te.path(Te),te.ctx.clip(),te.mask(Kt)):(te.mask(Te),te.ctx.clip(),te.path(Kt)),te.ctx.shadowOffsetX=Ke.offsetX.number+Ve,te.ctx.shadowOffsetY=Ke.offsetY.number,te.ctx.shadowColor=oo(Ke.color),te.ctx.shadowBlur=Ke.blur.number,te.ctx.fillStyle=Ke.inset?oo(Ke.color):"rgba(0,0,0,1)",te.ctx.fill(),te.ctx.restore()}),ce.label=2;case 2:B=0,R=0,q=S,ce.label=3;case 3:return R<q.length?(J=q[R],J.style!==0&&!th(J.color)&&J.width>0?J.style!==2?[3,5]:[4,this.renderDashedDottedBorder(J.color,J.width,B,A.curves,2)]:[3,11]):[3,13];case 4:return ce.sent(),[3,11];case 5:return J.style!==3?[3,7]:[4,this.renderDashedDottedBorder(J.color,J.width,B,A.curves,3)];case 6:return ce.sent(),[3,11];case 7:return J.style!==4?[3,9]:[4,this.renderDoubleBorder(J.color,J.width,B,A.curves)];case 8:return ce.sent(),[3,11];case 9:return[4,this.renderSolidBorder(J.color,B,A.curves)];case 10:ce.sent(),ce.label=11;case 11:B++,ce.label=12;case 12:return R++,[3,3];case 13:return[2]}})})},h.prototype.renderDashedDottedBorder=function(A,m,_,S,I){return i(this,void 0,void 0,function(){var B,R,q,J,te,ce,Ke,Te,Ve,Kt,st,nt,En,Yt,Ot,We,Ot,We;return r(this,function(mn){return this.ctx.save(),B=_Ae(S,_),R=w8(S,_),I===2&&(this.path(R),this.ctx.clip()),Ba(R[0])?(q=R[0].start.x,J=R[0].start.y):(q=R[0].x,J=R[0].y),Ba(R[1])?(te=R[1].end.x,ce=R[1].end.y):(te=R[1].x,ce=R[1].y),_===0||_===2?Ke=Math.abs(q-te):Ke=Math.abs(J-ce),this.ctx.beginPath(),I===3?this.formatPath(B):this.formatPath(R.slice(0,2)),Te=m<3?m*3:m*2,Ve=m<3?m*2:m,I===3&&(Te=m,Ve=m),Kt=!0,Ke<=Te*2?Kt=!1:Ke<=Te*2+Ve?(st=Ke/(2*Te+Ve),Te*=st,Ve*=st):(nt=Math.floor((Ke+Ve)/(Te+Ve)),En=(Ke-nt*Te)/(nt-1),Yt=(Ke-(nt+1)*Te)/nt,Ve=Yt<=0||Math.abs(Ve-En)<Math.abs(Ve-Yt)?En:Yt),Kt&&(I===3?this.ctx.setLineDash([0,Te+Ve]):this.ctx.setLineDash([Te,Ve])),I===3?(this.ctx.lineCap="round",this.ctx.lineWidth=m):this.ctx.lineWidth=m*2+1.1,this.ctx.strokeStyle=oo(A),this.ctx.stroke(),this.ctx.setLineDash([]),I===2&&(Ba(R[0])&&(Ot=R[3],We=R[0],this.ctx.beginPath(),this.formatPath([new ze(Ot.end.x,Ot.end.y),new ze(We.start.x,We.start.y)]),this.ctx.stroke()),Ba(R[1])&&(Ot=R[1],We=R[2],this.ctx.beginPath(),this.formatPath([new ze(Ot.end.x,Ot.end.y),new ze(We.start.x,We.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},h.prototype.render=function(A){return i(this,void 0,void 0,function(){var m;return r(this,function(_){switch(_.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=oo(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),m=AAe(A),[4,this.renderStack(m)];case 1:return _.sent(),this.applyEffects([]),[2,this.canvas]}})})},h}(S8),IAe=function(f){return f instanceof Y6||f instanceof q6?!0:f instanceof aO&&f.type!==kE&&f.type!==IE},kAe=function(f,h){switch(f){case 0:return FE(h);case 2:return dAe(h);case 1:default:return NE(h)}},MAe=function(f){switch(f){case 1:return"center";case 2:return"right";case 0:default:return"left"}},DAe=["-apple-system","system-ui"],PAe=function(f){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?f.filter(function(h){return DAe.indexOf(h)===-1}):f},OAe=function(f){e(h,f);function h(A,m){var _=f.call(this,A,m)||this;return _.canvas=m.canvas?m.canvas:document.createElement("canvas"),_.ctx=_.canvas.getContext("2d"),_.options=m,_.canvas.width=Math.floor(m.width*m.scale),_.canvas.height=Math.floor(m.height*m.scale),_.canvas.style.width=m.width+"px",_.canvas.style.height=m.height+"px",_.ctx.scale(_.options.scale,_.options.scale),_.ctx.translate(-m.x,-m.y),_.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+m.width+"x"+m.height+" at "+m.x+","+m.y+") with scale "+m.scale),_}return h.prototype.render=function(A){return i(this,void 0,void 0,function(){var m,_;return r(this,function(S){switch(S.label){case 0:return m=rO(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,RAe(m)];case 1:return _=S.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=oo(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(_,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},h}(S8),RAe=function(f){return new Promise(function(h,A){var m=new Image;m.onload=function(){h(m)},m.onerror=A,m.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(f))})},BAe=function(){function f(h){var A=h.id,m=h.enabled;this.id=A,this.enabled=m,this.start=Date.now()}return f.prototype.debug=function(){for(var h=[],A=0;A<arguments.length;A++)h[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,o([this.id,this.getTime()+"ms"],h)):this.info.apply(this,h))},f.prototype.getTime=function(){return Date.now()-this.start},f.prototype.info=function(){for(var h=[],A=0;A<arguments.length;A++)h[A]=arguments[A];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,o([this.id,this.getTime()+"ms"],h))},f.prototype.warn=function(){for(var h=[],A=0;A<arguments.length;A++)h[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,o([this.id,this.getTime()+"ms"],h)):this.info.apply(this,h))},f.prototype.error=function(){for(var h=[],A=0;A<arguments.length;A++)h[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,o([this.id,this.getTime()+"ms"],h)):this.info.apply(this,h))},f.instances={},f}(),FAe=function(){function f(h,A){var m;this.windowBounds=A,this.instanceName="#"+f.instanceCount++,this.logger=new BAe({id:this.instanceName,enabled:h.logging}),this.cache=(m=h.cache)!==null&&m!==void 0?m:new nAe(this,h)}return f.instanceCount=1,f}(),NAe=function(f,h){return h===void 0&&(h={}),LAe(f,h)};typeof window<"u"&&g8.setContext(window);var LAe=function(f,h){return i(void 0,void 0,void 0,function(){var A,m,_,S,I,B,R,q,J,te,ce,Ke,Te,Ve,Kt,st,nt,En,Yt,Ot,mn,We,mn,An,Rt,Br,Cs,Zs,ti,Co,oh,ws,Es,ep,Ac,sh,tp,np,Vd,ip;return r(this,function(Hd){switch(Hd.label){case 0:if(!f||typeof f!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(A=f.ownerDocument,!A)throw new Error("Element is not attached to a Document");if(m=A.defaultView,!m)throw new Error("Document is not attached to a Window");return _={allowTaint:(An=h.allowTaint)!==null&&An!==void 0?An:!1,imageTimeout:(Rt=h.imageTimeout)!==null&&Rt!==void 0?Rt:15e3,proxy:h.proxy,useCORS:(Br=h.useCORS)!==null&&Br!==void 0?Br:!1},S=n({logging:(Cs=h.logging)!==null&&Cs!==void 0?Cs:!0,cache:h.cache},_),I={windowWidth:(Zs=h.windowWidth)!==null&&Zs!==void 0?Zs:m.innerWidth,windowHeight:(ti=h.windowHeight)!==null&&ti!==void 0?ti:m.innerHeight,scrollX:(Co=h.scrollX)!==null&&Co!==void 0?Co:m.pageXOffset,scrollY:(oh=h.scrollY)!==null&&oh!==void 0?oh:m.pageYOffset},B=new s(I.scrollX,I.scrollY,I.windowWidth,I.windowHeight),R=new FAe(S,B),q=(ws=h.foreignObjectRendering)!==null&&ws!==void 0?ws:!1,J={allowTaint:(Es=h.allowTaint)!==null&&Es!==void 0?Es:!1,onclone:h.onclone,ignoreElements:h.ignoreElements,inlineImages:q,copyStyles:q},R.logger.debug("Starting document clone with size "+B.width+"x"+B.height+" scrolled to "+-B.left+","+-B.top),te=new m8(R,f,J),ce=te.clonedReferenceElement,ce?[4,te.toIFrame(A,B)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ke=Hd.sent(),Te=cO(ce)||Ume(ce)?l(ce.ownerDocument):a(R,ce),Ve=Te.width,Kt=Te.height,st=Te.left,nt=Te.top,En=UAe(R,ce,h.backgroundColor),Yt={canvas:h.canvas,backgroundColor:En,scale:(Ac=(ep=h.scale)!==null&&ep!==void 0?ep:m.devicePixelRatio)!==null&&Ac!==void 0?Ac:1,x:((sh=h.x)!==null&&sh!==void 0?sh:0)+st,y:((tp=h.y)!==null&&tp!==void 0?tp:0)+nt,width:(np=h.width)!==null&&np!==void 0?np:Math.ceil(Ve),height:(Vd=h.height)!==null&&Vd!==void 0?Vd:Math.ceil(Kt)},q?(R.logger.debug("Document cloned, using foreign object rendering"),mn=new OAe(R,Yt),[4,mn.render(ce)]):[3,3];case 2:return Ot=Hd.sent(),[3,5];case 3:return R.logger.debug("Document cloned, element located at "+st+","+nt+" with size "+Ve+"x"+Kt+" using computed rendering"),R.logger.debug("Starting DOM parsing"),We=J6(R,ce),En===We.styles.backgroundColor&&(We.styles.backgroundColor=Ld.TRANSPARENT),R.logger.debug("Starting renderer for element at "+Yt.x+","+Yt.y+" with size "+Yt.width+"x"+Yt.height),mn=new TAe(R,Yt),[4,mn.render(We)];case 4:Ot=Hd.sent(),Hd.label=5;case 5:return(!((ip=h.removeContainer)!==null&&ip!==void 0)||ip)&&(m8.destroy(Ke)||R.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),R.logger.debug("Finished rendering"),[2,Ot]}})})},UAe=function(f,h,A){var m=h.ownerDocument,_=m.documentElement?B_(f,getComputedStyle(m.documentElement).backgroundColor):Ld.TRANSPARENT,S=m.body?B_(f,getComputedStyle(m.body).backgroundColor):Ld.TRANSPARENT,I=typeof A=="string"?B_(f,A):A===null?Ld.TRANSPARENT:4294967295;return h===m.documentElement?th(_)?th(S)?I:S:_:I};return NAe})});var wO;function jE(){return wO}function vc(t){let e=wO;return wO=t,e}var D8=Symbol("NotFound");function oA(t){return t===D8||t?.name==="\u0275NotFound"}function KE(t,e){return Object.is(t,e)}var No=null,$E=!1,EO=1,WAe=null,Zr=Symbol("SIGNAL");function Dt(t){let e=No;return No=t,e}function qE(){return No}var ah={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function rp(t){if($E)throw new Error("");if(No===null)return;No.consumerOnSignalRead(t);let e=No.producersTail;if(e!==void 0&&e.producer===t)return;let n,i=No.recomputing;if(i&&(n=e!==void 0?e.nextProducer:No.producers,n!==void 0&&n.producer===t)){No.producersTail=n,n.lastReadVersion=t.version;return}let r=t.consumersTail;if(r!==void 0&&r.consumer===No&&(!i||qAe(r,No)))return;let o=sA(No),s={producer:t,consumer:No,nextProducer:n,prevConsumer:r,lastReadVersion:t.version,nextConsumer:void 0};No.producersTail=s,e!==void 0?e.nextProducer=s:No.producers=s,o&&O8(t,s)}function P8(){EO++}function YE(t){if(!(sA(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===EO)){if(!t.producerMustRecompute(t)&&!op(t)){WE(t);return}t.producerRecomputeValue(t),WE(t)}}function xO(t){if(t.consumers===void 0)return;let e=$E;$E=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let i=n.consumer;i.dirty||KAe(i)}}finally{$E=e}}function SO(){return No?.consumerAllowSignalWrites!==!1}function KAe(t){t.dirty=!0,xO(t),t.consumerMarkedDirty?.(t)}function WE(t){t.dirty=!1,t.lastCleanEpoch=EO}function Qd(t){return t&&(t.producersTail=void 0,t.recomputing=!0),Dt(t)}function lh(t,e){if(Dt(e),!t)return;t.recomputing=!1;let n=t.producersTail,i=n!==void 0?n.nextProducer:t.producers;if(i!==void 0){if(sA(t))do i=TO(i);while(i!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function op(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,i=e.lastReadVersion;if(i!==n.version||(YE(n),i!==n.version))return!0}return!1}function ch(t){if(sA(t)){let e=t.producers;for(;e!==void 0;)e=TO(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function O8(t,e){let n=t.consumersTail,i=sA(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!i)for(let r=t.producers;r!==void 0;r=r.nextProducer)O8(r.producer,r)}function TO(t){let e=t.producer,n=t.nextProducer,i=t.nextConsumer,r=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:e.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(e.consumers=i,!sA(e)){let o=e.producers;for(;o!==void 0;)o=TO(o)}return n}function sA(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function XE(t){WAe?.(t)}function qAe(t,e){let n=e.producersTail;if(n!==void 0){let i=e.producers;do{if(i===t)return!0;if(i===n)break;i=i.nextProducer}while(i!==void 0)}return!1}function j_(t,e){let n=Object.create(YAe);n.computation=t,e!==void 0&&(n.equal=e);let i=()=>{if(YE(n),rp(n),n.value===Q_)throw n.error;return n.value};return i[Zr]=n,XE(n),i}var zE=Symbol("UNSET"),GE=Symbol("COMPUTING"),Q_=Symbol("ERRORED"),YAe=De(V({},ah),{value:zE,dirty:!0,error:null,equal:KE,kind:"computed",producerMustRecompute(t){return t.value===zE||t.value===GE},producerRecomputeValue(t){if(t.value===GE)throw new Error("");let e=t.value;t.value=GE;let n=Qd(t),i,r=!1;try{i=t.computation(),Dt(null),r=e!==zE&&e!==Q_&&i!==Q_&&t.equal(e,i)}catch(o){i=Q_,t.error=o}finally{lh(t,n)}if(r){t.value=e;return}t.value=i,t.version++}});function XAe(){throw new Error}var R8=XAe;function B8(t){R8(t)}function IO(t){R8=t}var ZAe=null;function kO(t,e){let n=Object.create($_);n.value=t,e!==void 0&&(n.equal=e);let i=()=>F8(n);return i[Zr]=n,XE(n),[i,s=>aA(n,s),s=>MO(n,s)]}function F8(t){return rp(t),t.value}function aA(t,e){SO()||B8(t),t.equal(t.value,e)||(t.value=e,JAe(t))}function MO(t,e){SO()||B8(t),aA(t,e(t.value))}var $_=De(V({},ah),{equal:KE,value:void 0,kind:"signal"});function JAe(t){t.version++,P8(),xO(t),ZAe?.(t)}function Tt(t){return typeof t=="function"}function dh(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ZE=dh(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function sp(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var At=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(Tt(i))try{i()}catch(o){e=o instanceof ZE?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{N8(o)}catch(s){e=e??[],s instanceof ZE?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ZE(e)}}add(e){var n;if(e&&e!==this)if(this.closed)N8(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&sp(n,e)}remove(e){let{_finalizers:n}=this;n&&sp(n,e),e instanceof t&&e._removeParent(this)}};At.EMPTY=(()=>{let t=new At;return t.closed=!0,t})();var DO=At.EMPTY;function JE(t){return t instanceof At||t&&"closed"in t&&Tt(t.remove)&&Tt(t.add)&&Tt(t.unsubscribe)}function N8(t){Tt(t)?t():t.unsubscribe()}var bl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var lA={setTimeout(t,e,...n){let{delegate:i}=lA;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=lA;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ex(t){lA.setTimeout(()=>{let{onUnhandledError:e}=bl;if(e)e(t);else throw t})}function jd(){}var L8=PO("C",void 0,void 0);function U8(t){return PO("E",void 0,t)}function V8(t){return PO("N",t,void 0)}function PO(t,e,n){return{kind:t,value:e,error:n}}var ap=null;function cA(t){if(bl.useDeprecatedSynchronousErrorHandling){let e=!ap;if(e&&(ap={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=ap;if(ap=null,n)throw i}}else t()}function H8(t){bl.useDeprecatedSynchronousErrorHandling&&ap&&(ap.errorThrown=!0,ap.error=t)}var lp=class extends At{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,JE(e)&&e.add(this)):this.destination=nge}static create(e,n,i){return new $d(e,n,i)}next(e){this.isStopped?RO(V8(e),this):this._next(e)}error(e){this.isStopped?RO(U8(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?RO(L8,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ege=Function.prototype.bind;function OO(t,e){return ege.call(t,e)}var BO=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){tx(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){tx(i)}else tx(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tx(n)}}},$d=class extends lp{constructor(e,n,i){super();let r;if(Tt(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&bl.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&OO(e.next,o),error:e.error&&OO(e.error,o),complete:e.complete&&OO(e.complete,o)}):r=e}this.destination=new BO(r)}};function tx(t){bl.useDeprecatedSynchronousErrorHandling?H8(t):ex(t)}function tge(t){throw t}function RO(t,e){let{onStoppedNotification:n}=bl;n&&lA.setTimeout(()=>n(t,e))}var nge={closed:!0,next:jd,error:tge,complete:jd};var dA=typeof Symbol=="function"&&Symbol.observable||"@@observable";function is(t){return t}function FO(...t){return NO(t)}function NO(t){return t.length===0?is:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=rge(n)?n:new $d(n,i,r);return cA(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Q8(i),new i((r,o)=>{let s=new $d({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[dA](){return this}pipe(...n){return NO(n)(this)}toPromise(n){return n=Q8(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function Q8(t){var e;return(e=t??bl.Promise)!==null&&e!==void 0?e:Promise}function ige(t){return t&&Tt(t.next)&&Tt(t.error)&&Tt(t.complete)}function rge(t){return t&&t instanceof lp||ige(t)&&JE(t)}function LO(t){return Tt(t?.lift)}function _t(t){return e=>{if(LO(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function at(t,e,n,i,r){return new UO(t,e,n,i,r)}var UO=class extends lp{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function uA(){return _t((t,e)=>{let n=null;t._refCount++;let i=at(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var uh=class extends Xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,LO(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new At;let n=this.getSubject();e.add(this.source.subscribe(at(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=At.EMPTY)}return e}refCount(){return uA()(this)}};var hA={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:i}=hA;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);let r=e(o=>{n=void 0,t(o)});return new At(()=>n?.(r))},requestAnimationFrame(...t){let{delegate:e}=hA;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=hA;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var j8=dh(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=(()=>{class t extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new nx(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new j8}next(n){cA(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){cA(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){cA(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?DO:(this.currentObservers=null,o.push(n),new At(()=>{this.currentObservers=null,sp(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new Xe;return n.source=this,n}}return t.create=(e,n)=>new nx(e,n),t})(),nx=class extends O{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:DO}};var fn=class extends O{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var z_={now(){return(z_.delegate||Date).now()},delegate:void 0};var rs=class extends O{constructor(e=1/0,n=1/0,i=z_){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var ix=class extends At{constructor(e,n){super()}schedule(e,n=0){return this}};var G_={setInterval(t,e,...n){let{delegate:i}=G_;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=G_;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hh=class extends ix{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return G_.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&G_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,sp(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var oge=1,VO,HO={};function $8(t){return t in HO?(delete HO[t],!0):!1}var z8={setImmediate(t){let e=oge++;return HO[e]=!0,VO||(VO=Promise.resolve()),VO.then(()=>$8(e)&&t()),e},clearImmediate(t){$8(t)}};var{setImmediate:sge,clearImmediate:age}=z8,W_={setImmediate(...t){let{delegate:e}=W_;return(e?.setImmediate||sge)(...t)},clearImmediate(t){let{delegate:e}=W_;return(e?.clearImmediate||age)(t)},delegate:void 0};var rx=class extends hh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return i!==null&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=W_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);let{actions:o}=e;n!=null&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==n&&(W_.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}};var fA=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};fA.now=z_.now;var fh=class extends fA{constructor(e,n=fA.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var ox=class extends fh{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}};var QO=new ox(rx);var Js=new fh(hh),G8=Js;var sx=class extends hh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return i!==null&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=hA.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);let{actions:o}=e;n!=null&&n===e._scheduled&&((r=o[o.length-1])===null||r===void 0?void 0:r.id)!==n&&(hA.cancelAnimationFrame(n),e._scheduled=void 0)}};var ax=class extends fh{flush(e){this._active=!0;let n;e?n=e.id:(n=this._scheduled,this._scheduled=void 0);let{actions:i}=this,r;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}};var K_=new ax(sx);var Ji=new Xe(t=>t.complete());function lx(t){return t&&Tt(t.schedule)}function jO(t){return t[t.length-1]}function cx(t){return Tt(jO(t))?t.pop():void 0}function _c(t){return lx(jO(t))?t.pop():void 0}function W8(t,e){return typeof jO(t)=="number"?t.pop():e}var $O=function(t,e){return $O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},$O(t,e)};function xs(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$O(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var xe=function(){return xe=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},xe.apply(this,arguments)};function q_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function pe(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function me(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,r,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(d){return l([c,d])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(i=1,r&&(o=c[0]&2?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,r=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],r=0}finally{i=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Xt(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),r,o=[],s;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(a){s={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return o}function Ln(t,e,n){if(n||arguments.length===2)for(var i=0,r=e.length,o;i<r;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function cp(t){return this instanceof cp?(this.v=t,this):new cp(t)}function K8(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(g){return function(v){return Promise.resolve(v).then(g,u)}}function a(g,v){i[g]&&(r[g]=function(b){return new Promise(function(x,T){o.push([g,b,x,T])>1||l(g,b)})},v&&(r[g]=v(r[g])))}function l(g,v){try{c(i[g](v))}catch(b){p(o[0][3],b)}}function c(g){g.value instanceof cp?Promise.resolve(g.value.v).then(d,u):p(o[0][2],g)}function d(g){l("next",g)}function u(g){l("throw",g)}function p(g,v){g(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function q8(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Xt=="function"?Xt(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var pA=t=>t&&typeof t.length=="number"&&typeof t!="function";function dx(t){return Tt(t?.then)}function ux(t){return Tt(t[dA])}function hx(t){return Symbol.asyncIterator&&Tt(t?.[Symbol.asyncIterator])}function fx(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lge(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var px=lge();function mx(t){return Tt(t?.[px])}function Ax(t){return K8(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield cp(n.read());if(r)return yield cp(void 0);yield yield cp(i)}}finally{n.releaseLock()}})}function gx(t){return Tt(t?.getReader)}function Zt(t){if(t instanceof Xe)return t;if(t!=null){if(ux(t))return cge(t);if(pA(t))return dge(t);if(dx(t))return uge(t);if(hx(t))return Y8(t);if(mx(t))return hge(t);if(gx(t))return fge(t)}throw fx(t)}function cge(t){return new Xe(e=>{let n=t[dA]();if(Tt(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dge(t){return new Xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function uge(t){return new Xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ex)})}function hge(t){return new Xe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Y8(t){return new Xe(e=>{pge(t,e).catch(n=>e.error(n))})}function fge(t){return Y8(Ax(t))}function pge(t,e){var n,i,r,o;return pe(this,void 0,void 0,function*(){try{for(n=q8(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Lo(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function vx(t,e=0){return _t((n,i)=>{n.subscribe(at(i,r=>Lo(i,t,()=>i.next(r),e),()=>Lo(i,t,()=>i.complete(),e),r=>Lo(i,t,()=>i.error(r),e)))})}function _x(t,e=0){return _t((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function X8(t,e){return Zt(t).pipe(_x(e),vx(e))}function Z8(t,e){return Zt(t).pipe(_x(e),vx(e))}function J8(t,e){return new Xe(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function e$(t,e){return new Xe(n=>{let i;return Lo(n,e,()=>{i=t[px](),Lo(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>Tt(i?.return)&&i.return()})}function bx(t,e){if(!t)throw new Error("Iterable cannot be null");return new Xe(n=>{Lo(n,e,()=>{let i=t[Symbol.asyncIterator]();Lo(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function t$(t,e){return bx(Ax(t),e)}function n$(t,e){if(t!=null){if(ux(t))return X8(t,e);if(pA(t))return J8(t,e);if(dx(t))return Z8(t,e);if(hx(t))return bx(t,e);if(mx(t))return e$(t,e);if(gx(t))return t$(t,e)}throw fx(t)}function ui(t,e){return e?n$(t,e):Zt(t)}function Re(...t){let e=_c(t);return ui(t,e)}function mA(t,e){let n=Tt(t)?t:()=>t,i=r=>r.error(n());return new Xe(e?r=>e.schedule(i,0,r):i)}function os(t){return!!t&&(t instanceof Xe||Tt(t.lift)&&Tt(t.subscribe))}var yl=dh(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Y_(t,e){let n=typeof e=="object";return new Promise((i,r)=>{let o=!1,s;t.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):n?i(e.defaultValue):r(new yl)}})})}function yx(t){return t instanceof Date&&!isNaN(t)}var mge=dh(t=>function(n=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function zO(t,e){let{first:n,each:i,with:r=Age,scheduler:o=e??Js,meta:s=null}=yx(t)?{first:t}:typeof t=="number"?{each:t}:t;if(n==null&&i==null)throw new TypeError("No timeout provided.");return _t((a,l)=>{let c,d,u=null,p=0,g=v=>{d=Lo(l,o,()=>{try{c.unsubscribe(),Zt(r({meta:s,lastValue:u,seen:p})).subscribe(l)}catch(b){l.error(b)}},v)};c=a.subscribe(at(l,v=>{d?.unsubscribe(),p++,l.next(u=v),i>0&&g(i)},void 0,void 0,()=>{d?.closed||d?.unsubscribe(),u=null})),!p&&g(n!=null?typeof n=="number"?n:+n-o.now():i)})}function Age(t){throw new mge(t)}function se(t,e){return _t((n,i)=>{let r=0;n.subscribe(at(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:gge}=Array;function vge(t,e){return gge(e)?t(...e):t(e)}function AA(t){return se(e=>vge(t,e))}var{isArray:_ge}=Array,{getPrototypeOf:bge,prototype:yge,keys:Cge}=Object;function Cx(t){if(t.length===1){let e=t[0];if(_ge(e))return{args:e,keys:null};if(wge(e)){let n=Cge(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function wge(t){return t&&typeof t=="object"&&bge(t)===yge}function wx(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function dp(...t){let e=_c(t),n=cx(t),{args:i,keys:r}=Cx(t);if(i.length===0)return ui([],e);let o=new Xe(Ege(i,e,r?s=>wx(r,s):is));return n?o.pipe(AA(n)):o}function Ege(t,e,n=is){return i=>{i$(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)i$(e,()=>{let c=ui(t[l],e),d=!1;c.subscribe(at(i,u=>{o[l]=u,d||(d=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function i$(t,e,n){t?Lo(n,t,e):e()}function r$(t,e,n,i,r,o,s,a){let l=[],c=0,d=0,u=!1,p=()=>{u&&!l.length&&!c&&e.complete()},g=b=>c<i?v(b):l.push(b),v=b=>{o&&e.next(b),c++;let x=!1;Zt(n(b,d++)).subscribe(at(e,T=>{r?.(T),o?g(T):e.next(T)},()=>{x=!0},void 0,()=>{if(x)try{for(c--;l.length&&c<i;){let T=l.shift();s?Lo(e,s,()=>v(T)):v(T)}p()}catch(T){e.error(T)}}))};return t.subscribe(at(e,g,()=>{u=!0,p()})),()=>{a?.()}}function ni(t,e,n=1/0){return Tt(e)?ni((i,r)=>se((o,s)=>e(i,o,r,s))(Zt(t(i,r))),n):(typeof e=="number"&&(n=e),_t((i,r)=>r$(i,r,t,n)))}function bc(t=1/0){return ni(is,t)}function o$(){return bc(1)}function ea(...t){return o$()(ui(t,_c(t)))}function Uo(t){return new Xe(e=>{Zt(t()).subscribe(e)})}function X_(...t){let e=cx(t),{args:n,keys:i}=Cx(t),r=new Xe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let d=0;d<s;d++){let u=!1;Zt(n[d]).subscribe(at(o,p=>{u||(u=!0,c--),a[d]=p},()=>l--,void 0,()=>{(!l||!u)&&(c||o.next(i?wx(i,a):a),o.complete())}))}});return e?r.pipe(AA(e)):r}var xge=["addListener","removeListener"],Sge=["addEventListener","removeEventListener"],Tge=["on","off"];function ta(t,e,n,i){if(Tt(n)&&(i=n,n=void 0),i)return ta(t,e,n).pipe(AA(i));let[r,o]=Mge(t)?Sge.map(s=>a=>t[s](e,a,n)):Ige(t)?xge.map(s$(t,e)):kge(t)?Tge.map(s$(t,e)):[];if(!r&&pA(t))return ni(s=>ta(s,e,n))(Zt(t));if(!r)throw new TypeError("Invalid event target");return new Xe(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function s$(t,e){return n=>i=>t[n](e,i)}function Ige(t){return Tt(t.addListener)&&Tt(t.removeListener)}function kge(t){return Tt(t.on)&&Tt(t.off)}function Mge(t){return Tt(t.addEventListener)&&Tt(t.removeEventListener)}function wo(t=0,e,n=G8){let i=-1;return e!=null&&(lx(e)?n=e:i=e),new Xe(r=>{let o=yx(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Z_(t=0,e=Js){return t<0&&(t=0),wo(t,t,e)}function hi(...t){let e=_c(t),n=W8(t,1/0),i=t;return i.length?i.length===1?Zt(i[0]):bc(n)(ui(i,e)):Ji}var{isArray:Dge}=Array;function a$(t){return t.length===1&&Dge(t[0])?t[0]:t}function qe(t,e){return _t((n,i)=>{let r=0;n.subscribe(at(i,o=>t.call(e,o,r++)&&i.next(o)))})}function GO(...t){return t=a$(t),t.length===1?Zt(t[0]):new Xe(Pge(t))}function Pge(t){return e=>{let n=[];for(let i=0;n&&!e.closed&&i<t.length;i++)n.push(Zt(t[i]).subscribe(at(e,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}e.next(r)})))}}function l$(t){return _t((e,n)=>{let i=!1,r=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;let c=r;r=null,n.next(c)}s&&n.complete()},l=()=>{o=null,s&&n.complete()};e.subscribe(at(n,c=>{i=!0,r=c,o||Zt(t(c)).subscribe(o=at(n,a,l))},()=>{s=!0,(!i||!o||o.closed)&&n.complete()}))})}function up(t,e=Js){return l$(()=>wo(t,e))}function WO(t){return _t((e,n)=>{let i=[];return e.subscribe(at(n,r=>i.push(r),()=>{n.next(i),n.complete()})),Zt(t).subscribe(at(n,()=>{let r=i;i=[],n.next(r)},jd)),()=>{i=null}})}function yc(t){return _t((e,n)=>{let i=null,r=!1,o;i=e.subscribe(at(n,void 0,void 0,s=>{o=Zt(t(s,yc(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function c$(t,e,n,i,r){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(at(s,d=>{let u=c++;l=a?t(l,d,u):(a=!0,d),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Na(t,e){return Tt(e)?ni(t,e,1):ni(t,1)}function so(t,e=Js){return _t((n,i)=>{let r=null,o=null,s=null,a=()=>{if(r){r.unsubscribe(),r=null;let c=o;o=null,i.next(c)}};function l(){let c=s+t,d=e.now();if(d<c){r=this.schedule(void 0,c-d),i.add(r);return}a()}n.subscribe(at(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function ph(t){return _t((e,n)=>{let i=!1;e.subscribe(at(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Jt(t){return t<=0?()=>Ji:_t((e,n)=>{let i=0;e.subscribe(at(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function d$(){return _t((t,e)=>{t.subscribe(at(e,jd))})}function u$(t){return se(()=>t)}function KO(t,e){return e?n=>ea(e.pipe(Jt(1),d$()),n.pipe(KO(t))):ni((n,i)=>Zt(t(n,i)).pipe(Jt(1),u$(n)))}function gA(t,e=Js){let n=wo(t,e);return KO(()=>n)}function La(t,e=is){return t=t??Oge,_t((n,i)=>{let r,o=!0;n.subscribe(at(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function Oge(t,e){return t===e}function Ex(t=Rge){return _t((e,n)=>{let i=!1;e.subscribe(at(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function Rge(){return new yl}function mh(t){return _t((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function zd(t,e){let n=arguments.length>=2;return i=>i.pipe(t?qe((r,o)=>t(r,o,i)):is,Jt(1),n?ph(e):Ex(()=>new yl))}function vA(t){return t<=0?()=>Ji:_t((e,n)=>{let i=[];e.subscribe(at(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function qO(t,e){let n=arguments.length>=2;return i=>i.pipe(t?qe((r,o)=>t(r,o,i)):is,vA(1),n?ph(e):Ex(()=>new yl))}function Ah(){return _t((t,e)=>{let n,i=!1;t.subscribe(at(e,r=>{let o=n;n=r,i&&e.next([o,r]),i=!0}))})}function YO(t,e){return _t(c$(t,e,arguments.length>=2,!0))}function ss(t={}){let{connector:e=()=>new O,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,c=0,d=!1,u=!1,p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),s=l=void 0,d=u=!1},v=()=>{let b=s;g(),b?.unsubscribe()};return _t((b,x)=>{c++,!u&&!d&&p();let T=l=l??e();x.add(()=>{c--,c===0&&!u&&!d&&(a=XO(v,r))}),T.subscribe(x),!s&&c>0&&(s=new $d({next:k=>T.next(k),error:k=>{u=!0,p(),a=XO(g,n,k),T.error(k)},complete:()=>{d=!0,p(),a=XO(g,i),T.complete()}}),Zt(b).subscribe(s))})(o)}}function XO(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new $d({next:()=>{i.unsubscribe(),t()}});return Zt(e(...n)).subscribe(i)}function gh(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,ss({connector:()=>new rs(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function _A(t){return qe((e,n)=>t<=n)}function h$(t){return _t((e,n)=>{let i=!1,r=0;e.subscribe(at(n,o=>(i||(i=!t(o,r++)))&&n.next(o)))})}function yi(...t){let e=_c(t);return _t((n,i)=>{(e?ea(t,n,e):ea(t,n)).subscribe(i)})}function nn(t,e){return _t((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(at(i,l=>{r?.unsubscribe();let c=0,d=o++;Zt(t(l,d)).subscribe(r=at(i,u=>i.next(e?e(l,u,d,c++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function en(t){return _t((e,n)=>{Zt(t).subscribe(at(n,()=>n.complete(),jd)),!n.closed&&e.subscribe(n)})}function ZO(t,e=!1){return _t((n,i)=>{let r=0;n.subscribe(at(i,o=>{let s=t(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}function lt(t,e,n){let i=Tt(t)||e||n?{next:t,error:e,complete:n}:t;return i?_t((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(at(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):is}function f$(t,e){return _t((n,i)=>{let{leading:r=!0,trailing:o=!1}=e??{},s=!1,a=null,l=null,c=!1,d=()=>{l?.unsubscribe(),l=null,o&&(g(),c&&i.complete())},u=()=>{l=null,c&&i.complete()},p=v=>l=Zt(t(v)).subscribe(at(i,d,u)),g=()=>{if(s){s=!1;let v=a;a=null,i.next(v),!c&&p(v)}};n.subscribe(at(i,v=>{s=!0,a=v,!(l&&!l.closed)&&(r?g():p(v))},()=>{c=!0,!(o&&s&&l&&!l.closed)&&i.complete()}))})}function xx(t,e=Js,n){let i=wo(t,e);return f$(()=>i,n)}function p$(t){let e=Dt(null);try{return t()}finally{Dt(e)}}var Mx="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",be=class extends Error{code;constructor(e,n){super(Cl(e,n)),this.code=e}};function Bge(t){return`NG0${Math.abs(t)}`}function Cl(t,e){return`${Bge(t)}${e?": "+e:""}`}var Fr=globalThis;function Un(t){for(let e in t)if(t[e]===Un)return e;throw Error("")}function g$(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Wd(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Wd).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let i=n.indexOf(`
`);return i>=0?n.slice(0,i):n}function Dx(t,e){return t?e?`${t} ${e}`:t:e||""}var Fge=Un({__forward_ref__:Un});function kn(t){return t.__forward_ref__=kn,t.toString=function(){return Wd(this())},t}function Jr(t){return dR(t)?t():t}function dR(t){return typeof t=="function"&&t.hasOwnProperty(Fge)&&t.__forward_ref__===kn}function v$(t,e){t==null&&uR(e,t,null,"!=")}function uR(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function je(t){return{providers:t.providers||[],imports:t.imports||[]}}function rb(t){return Nge(t,Px)}function hR(t){return rb(t)!==null}function Nge(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Lge(t){let e=t?.[Px]??null;return e||null}function eR(t){return t&&t.hasOwnProperty(Tx)?t[Tx]:null}var Px=Un({\u0275prov:Un}),Tx=Un({\u0275inj:Un}),ie=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fR(t){return t&&!!t.\u0275providers}var pR=Un({\u0275cmp:Un}),mR=Un({\u0275dir:Un}),AR=Un({\u0275pipe:Un}),gR=Un({\u0275mod:Un}),tb=Un({\u0275fac:Un}),Ap=Un({__NG_ELEMENT_ID__:Un}),m$=Un({__NG_ENV_ID__:Un});function Ho(t){return typeof t=="string"?t:t==null?"":String(t)}function Ix(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ho(t)}var vR=Un({ngErrorCode:Un}),_$=Un({ngErrorMessage:Un}),eb=Un({ngTokenPath:Un});function _R(t,e){return b$("",-200,e)}function Ox(t,e){throw new be(-201,!1)}function Uge(t,e){t[eb]??=[];let n=t[eb],i;typeof e=="object"&&"multi"in e&&e?.multi===!0?(v$(e.provide,"Token with multi: true should have a provide property"),i=Ix(e.provide)):i=Ix(e),n[0]!==i&&t[eb].unshift(i)}function Vge(t,e){let n=t[eb],i=t[vR],r=t[_$]||t.message;return t.message=Qge(r,i,n,e),t}function b$(t,e,n){let i=new be(e,t);return i[vR]=e,i[_$]=t,n&&(i[eb]=n),i}function Hge(t){return t[vR]}function Qge(t,e,n=[],i=null){let r="";n&&n.length>1&&(r=` Path: ${n.join(" -> ")}.`);let o=i?` Source: ${i}.`:"";return Cl(e,`${t}${o}${r}`)}var tR;function y$(){return tR}function as(t){let e=tR;return tR=t,e}function bR(t,e,n){let i=rb(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&8)return null;if(e!==void 0)return e;Ox(t,"Injector")}var jge={},hp=jge,nR="__NG_DI_FLAG__",iR=class{injector;constructor(e){this.injector=e}retrieve(e,n){let i=fp(n)||0;try{return this.injector.get(e,i&8?null:hp,i)}catch(r){if(oA(r))return r;throw r}}};function $ge(t,e=0){let n=jE();if(n===void 0)throw new be(-203,!1);if(n===null)return bR(t,void 0,e);{let i=zge(e),r=n.retrieve(t,i);if(oA(r)){if(i.optional)return null;throw r}return r}}function K(t,e=0){return(y$()||$ge)(Jr(t),e)}function E(t,e){return K(t,fp(e))}function fp(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zge(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function rR(t){let e=[];for(let n=0;n<t.length;n++){let i=Jr(t[n]);if(Array.isArray(i)){if(i.length===0)throw new be(900,!1);let r,o=0;for(let s=0;s<i.length;s++){let a=i[s],l=Gge(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(K(r,o))}else e.push(K(i))}return e}function Rx(t,e){return t[nR]=e,t.prototype[nR]=e,t}function Gge(t){return t[nR]}function vh(t,e){let n=t.hasOwnProperty(tb);return n?t[tb]:null}function C$(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function w$(t){return t.flat(Number.POSITIVE_INFINITY)}function Bx(t,e){t.forEach(n=>Array.isArray(n)?Bx(n,e):e(n))}function yR(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ob(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function E$(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function x$(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function Fx(t,e,n){let i=yA(t,e);return i>=0?t[i|1]=n:(i=~i,x$(t,i,e,n)),i}function Nx(t,e){let n=yA(t,e);if(n>=0)return t[n|1]}function yA(t,e){return Wge(t,e,1)}function Wge(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var wl={},Vo=[],Kd=new ie(""),CR=new ie("",-1),wR=new ie(""),nb=class{get(e,n=hp){if(n===hp){let r=b$("",-201);throw r.name="\u0275NotFound",r}return n}};function ER(t){return t[gR]||null}function Cc(t){return t[pR]||null}function Lx(t){return t[mR]||null}function xR(t){return t[AR]||null}function gp(t){return{\u0275providers:t}}function S$(...t){return{\u0275providers:SR(!0,t),\u0275fromNgModule:!0}}function SR(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return Bx(e,s=>{let a=s;kx(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&T$(r,o),n}function T$(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];TR(r,o=>{e(o,i)})}}function kx(t,e,n,i){if(t=Jr(t),!t)return!1;let r=null,o=eR(t),s=!o&&Cc(t);if(!o&&!s){let l=t.ngModule;if(o=eR(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)kx(c,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Bx(o.imports,d=>{kx(d,e,n,i)&&(c||=[],c.push(d))})}finally{}c!==void 0&&T$(c,e)}if(!a){let c=vh(r)||(()=>new r);e({provide:r,useFactory:c,deps:Vo},r),e({provide:wR,useValue:r,multi:!0},r),e({provide:Kd,useValue:()=>K(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;TR(l,d=>{e(d,c)})}}else return!1;return r!==t&&t.providers!==void 0}function TR(t,e){for(let n of t)fR(n)&&(n=n.\u0275providers),Array.isArray(n)?TR(n,e):e(n)}var Kge=Un({provide:String,useValue:Un});function I$(t){return t!==null&&typeof t=="object"&&Kge in t}function qge(t){return!!(t&&t.useExisting)}function Yge(t){return!!(t&&t.useFactory)}function pp(t){return typeof t=="function"}function k$(t){return!!t.useClass}var sb=new ie(""),Sx={},A$={},JO;function CA(){return JO===void 0&&(JO=new nb),JO}var Xn=class{},mp=class extends Xn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,sR(e,s=>this.processProvider(s)),this.records.set(CR,bA(void 0,this)),r.has("environment")&&this.records.set(Xn,bA(void 0,this));let o=this.records.get(sb);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wR,Vo,{self:!0}))}retrieve(e,n){let i=fp(n)||0;try{return this.get(e,hp,i)}catch(r){if(oA(r))return r;throw r}}destroy(){J_(this),this._destroyed=!0;let e=Dt(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Dt(e)}}onDestroy(e){return J_(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){J_(this);let n=vc(this),i=as(void 0),r;try{return e()}finally{vc(n),as(i)}}get(e,n=hp,i){if(J_(this),e.hasOwnProperty(m$))return e[m$](this);let r=fp(i),o,s=vc(this),a=as(void 0);try{if(!(r&4)){let c=this.records.get(e);if(c===void 0){let d=tve(e)&&rb(e);d&&this.injectableDefInScope(d)?c=bA(oR(e),Sx):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let l=r&2?CA():this.parent;return n=r&8&&n===hp?null:n,l.get(e,n)}catch(l){let c=Hge(l);throw c===-200||c===-201?new be(c,null):l}finally{as(a),vc(s)}}resolveInjectorInitializers(){let e=Dt(null),n=vc(this),i=as(void 0),r;try{let o=this.get(Kd,Vo,{self:!0});for(let s of o)s()}finally{vc(n),as(i),Dt(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Wd(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Jr(e);let n=pp(e)?e:Jr(e&&e.provide),i=Zge(e);if(!pp(e)&&e.multi===!0){let r=this.records.get(n);r||(r=bA(void 0,Sx,!0),r.factory=()=>rR(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n,i){let r=Dt(null);try{if(n.value===A$)throw _R(Wd(e));return n.value===Sx&&(n.value=A$,n.value=n.factory(void 0,i)),typeof n.value=="object"&&n.value&&eve(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Dt(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Jr(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function oR(t){let e=rb(t),n=e!==null?e.factory:vh(t);if(n!==null)return n;if(t instanceof ie)throw new be(204,!1);if(t instanceof Function)return Xge(t);throw new be(204,!1)}function Xge(t){if(t.length>0)throw new be(204,!1);let n=Lge(t);return n!==null?()=>n.factory(t):()=>new t}function Zge(t){if(I$(t))return bA(void 0,t.useValue);{let e=IR(t);return bA(e,Sx)}}function IR(t,e,n){let i;if(pp(t)){let r=Jr(t);return vh(r)||oR(r)}else if(I$(t))i=()=>Jr(t.useValue);else if(Yge(t))i=()=>t.useFactory(...rR(t.deps||[]));else if(qge(t))i=(r,o)=>K(Jr(t.useExisting),o!==void 0&&o&8?8:void 0);else{let r=Jr(t&&(t.useClass||t.provide));if(Jge(t))i=()=>new r(...rR(t.deps));else return vh(r)||oR(r)}return i}function J_(t){if(t.destroyed)throw new be(205,!1)}function bA(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Jge(t){return!!t.deps}function eve(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function tve(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function sR(t,e){for(let n of t)Array.isArray(n)?sR(n,e):n&&fR(n)?sR(n.\u0275providers,e):e(n)}function ao(t,e){let n;t instanceof mp?(J_(t),n=t):n=new iR(t);let i,r=vc(n),o=as(void 0);try{return e()}finally{vc(r),as(o)}}function kR(){return y$()!==void 0||jE()!=null}var El=0,xt=1,Pt=2,eo=3,Va=4,ls=5,vp=6,wA=7,xr=8,_p=9,wc=10,ii=11,EA=12,MR=13,bp=14,cs=15,bh=16,yp=17,Ec=18,ab=19,DR=20,Gd=21,Ux=22,qd=23,ia=24,Cp=25,fi=26,M$=1,PR=6,yh=7,lb=8,wp=9,lo=10;function xc(t){return Array.isArray(t)&&typeof t[M$]=="object"}function xl(t){return Array.isArray(t)&&t[M$]===!0}function OR(t){return(t.flags&4)!==0}function Ch(t){return t.componentOffset>-1}function xA(t){return(t.flags&1)===1}function Sl(t){return!!t.template}function SA(t){return(t[Pt]&512)!==0}function Ep(t){return(t[Pt]&256)===256}var RR="svg",D$="math";function Ha(t){for(;Array.isArray(t);)t=t[El];return t}function BR(t,e){return Ha(e[t])}function Tl(t,e){return Ha(e[t.index])}function cb(t,e){return t.data[e]}function TA(t,e){return t[e]}function FR(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Qa(t,e){let n=e[t];return xc(n)?n:n[El]}function P$(t){return(t[Pt]&4)===4}function Vx(t){return(t[Pt]&128)===128}function O$(t){return xl(t[eo])}function ra(t,e){return e==null?null:t[e]}function NR(t){t[yp]=0}function LR(t){t[Pt]&1024||(t[Pt]|=1024,Vx(t)&&wh(t))}function R$(t,e){for(;t>0;)e=e[bp],t--;return e}function db(t){return!!(t[Pt]&9216||t[ia]?.dirty)}function Hx(t){t[wc].changeDetectionScheduler?.notify(8),t[Pt]&64&&(t[Pt]|=1024),db(t)&&wh(t)}function wh(t){t[wc].changeDetectionScheduler?.notify(0);let e=_h(t);for(;e!==null&&!(e[Pt]&8192||(e[Pt]|=8192,!Vx(e)));)e=_h(e)}function UR(t,e){if(Ep(t))throw new be(911,!1);t[Gd]===null&&(t[Gd]=[]),t[Gd].push(e)}function B$(t,e){if(t[Gd]===null)return;let n=t[Gd].indexOf(e);n!==-1&&t[Gd].splice(n,1)}function _h(t){let e=t[eo];return xl(e)?e[eo]:e}function VR(t){return t[wA]??=[]}function HR(t){return t.cleanup??=[]}function F$(t,e,n,i){let r=VR(e);r.push(n),t.firstCreatePass&&HR(t).push(i,r.length-1)}var $t={lFrame:W$(null),bindingsEnabled:!0,skipHydrationRootTNode:null},ub=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(ub||{}),nve=0,aR=!1;function N$(){return $t.lFrame.elementDepthCount}function L$(){$t.lFrame.elementDepthCount++}function QR(){$t.lFrame.elementDepthCount--}function Qx(){return $t.bindingsEnabled}function jR(){return $t.skipHydrationRootTNode!==null}function $R(t){return $t.skipHydrationRootTNode===t}function zR(){$t.skipHydrationRootTNode=null}function rt(){return $t.lFrame.lView}function Ci(){return $t.lFrame.tView}function Y(t){return $t.lFrame.contextLView=t,t[xr]}function X(t){return $t.lFrame.contextLView=null,t}function Nr(){let t=GR();for(;t!==null&&t.type===64;)t=t.parent;return t}function GR(){return $t.lFrame.currentTNode}function U$(){let t=$t.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function IA(t,e){let n=$t.lFrame;n.currentTNode=t,n.isParent=e}function WR(){return $t.lFrame.isParent}function KR(){$t.lFrame.isParent=!1}function V$(){return $t.lFrame.contextLView}function qR(t){uR("Must never be called in production mode"),nve=t}function YR(){return aR}function kA(t){let e=aR;return aR=t,e}function Yd(){let t=$t.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jx(){return $t.lFrame.bindingIndex}function H$(t){return $t.lFrame.bindingIndex=t}function Xd(){return $t.lFrame.bindingIndex++}function MA(t){let e=$t.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Q$(){return $t.lFrame.inI18n}function j$(t,e){let n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=t,$x(e)}function $$(){return $t.lFrame.currentDirectiveIndex}function $x(t){$t.lFrame.currentDirectiveIndex=t}function z$(t){let e=$t.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zx(){return $t.lFrame.currentQueryIndex}function hb(t){$t.lFrame.currentQueryIndex=t}function ive(t){let e=t[xt];return e.type===2?e.declTNode:e.type===1?t[ls]:null}function XR(t,e,n){if(n&4){let r=e,o=t;for(;r=r.parent,r===null&&!(n&1);)if(r=ive(o),r===null||(o=o[bp],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=$t.lFrame=G$();return i.currentTNode=e,i.lView=t,!0}function Gx(t){let e=G$(),n=t[xt];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function G$(){let t=$t.lFrame,e=t===null?null:t.child;return e===null?W$(t):e}function W$(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function K$(){let t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ZR=K$;function Wx(){let t=K$();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function q$(t){return($t.lFrame.contextLView=R$(t,$t.lFrame.contextLView))[xr]}function ja(){return $t.lFrame.selectedIndex}function Eh(t){$t.lFrame.selectedIndex=t}function fb(){let t=$t.lFrame;return cb(t.tView,t.selectedIndex)}function oa(){$t.lFrame.currentNamespace=RR}function DA(){rve()}function rve(){$t.lFrame.currentNamespace=null}function Y$(){return $t.lFrame.currentNamespace}var X$=!0;function Kx(){return X$}function pb(t){X$=t}function lR(t,e=null,n=null,i){let r=JR(t,e,n,i);return r.resolveInjectorInitializers(),r}function JR(t,e=null,n=null,i,r=new Set){let o=[n||Vo,S$(t)];return i=i||(typeof t=="object"?void 0:Wd(t)),new mp(o,e||CA(),i||null,r)}var Ge=class t{static THROW_IF_NOT_FOUND=hp;static NULL=new nb;static create(e,n){if(Array.isArray(e))return lR({name:""},n,e,"");{let i=e.name??"";return lR({name:i},e.parent,e.providers,i)}}static \u0275prov=W({token:t,providedIn:"any",factory:()=>K(CR)});static __NG_ELEMENT_ID__=-1},ut=new ie(""),Qo=(()=>{class t{static __NG_ELEMENT_ID__=ove;static __NG_ENV_ID__=n=>n}return t})(),ib=class extends Qo{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ep(this._lView)}onDestroy(e){let n=this._lView;return UR(n,e),()=>B$(n,e)}};function ove(){return new ib(rt())}var na=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ds=new ie("",{providedIn:"root",factory:()=>{let t=E(Xn),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(na),e.handleError(n))}}}),Z$={provide:Kd,useValue:()=>void E(na),multi:!0};function Sc(t){return typeof t=="function"&&t[Zr]!==void 0}function gn(t,e){let[n,i,r]=kO(t,e?.equal),o=n,s=o[Zr];return o.set=i,o.update=r,o.asReadonly=eB.bind(o),o}function eB(){let t=this[Zr];if(t.readonlyFn===void 0){let e=()=>this();e[Zr]=t,t.readonlyFn=e}return t.readonlyFn}function tB(t){return Sc(t)&&typeof t.set=="function"}var Ua=class{},mb=new ie("",{providedIn:"root",factory:()=>!1});var nB=new ie(""),iB=new ie("");var xp=(()=>{class t{view;node;constructor(n,i){this.view=n,this.node=i}static __NG_ELEMENT_ID__=sve}return t})();function sve(){return new xp(rt(),Nr())}var Tc=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new fn(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Xe(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),PA=(()=>{class t{internalPendingTasks=E(Tc);scheduler=E(Ua);errorHandler=E(ds);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let i=this.add();n().catch(this.errorHandler).finally(i)}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})();function Sp(...t){}var Ab=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>new cR})}return t})(),cR=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,i=this.queues.get(n);i.has(e)&&(i.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let i=this.queues.get(n);i.has(e)||i.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,i]of this.queues)n===null?e||=this.flushQueue(i):e||=n.run(()=>this.flushQueue(i));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let i of e)i.dirty&&(this.dirtyEffectCount--,n=!0,i.run());return n}};function VA(t){return{toString:t}.toString()}var qx="__parameters__";function hve(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function eF(t,e,n){return VA(()=>{let i=hve(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,d){let u=l.hasOwnProperty(qx)?l[qx]:Object.defineProperty(l,qx,{value:[]})[qx];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),l}}return r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var tF=Rx(eF("Inject",t=>({token:t})),-1),HA=Rx(eF("Optional"),8);var nF=Rx(eF("SkipSelf"),4);function Rz(t){let e=Fr.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function fve(t){return typeof t=="function"}var sS=class{previousValue;currentValue;firstChange;constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Bz(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}var gt=(()=>{let t=()=>Fz;return t.ngInherit=!0,t})();function Fz(t){return t.type.prototype.ngOnChanges&&(t.setInput=mve),pve}function pve(){let t=Lz(this),e=t?.current;if(e){let n=t.previous;if(n===wl)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function mve(t,e,n,i,r){let o=this.declaredInputs[i],s=Lz(t)||Ave(t,{previous:wl,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new sS(c&&c.currentValue,n,l===wl),Bz(t,e,r,n)}var Nz="__ngSimpleChanges__";function Lz(t){return t[Nz]||null}function Ave(t,e){return t[Nz]=e}var J$=[];var pi=function(t,e=null,n){for(let i=0;i<J$.length;i++){let r=J$[i];r(t,e,n)}};function gve(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=Fz(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Uz(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function tS(t,e,n){Vz(t,e,3,n)}function nS(t,e,n,i){(t[Pt]&3)===n&&Vz(t,e,n,i)}function rB(t,e){let n=t[Pt];(n&3)===e&&(n&=16383,n+=1,t[Pt]=n)}function Vz(t,e,n,i){let r=i!==void 0?t[yp]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[yp]+=65536),(a<o||o==-1)&&(vve(t,n,e,l),t[yp]=(t[yp]&4294901760)+l+2),l++}function ez(t,e){pi(4,t,e);let n=Dt(null);try{e.call(t)}finally{Dt(n),pi(5,t,e)}}function vve(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[Pt]>>14<t[yp]>>16&&(t[Pt]&3)===e&&(t[Pt]+=16384,ez(a,o)):ez(a,o)}var RA=-1,kp=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,i,r){this.factory=e,this.name=r,this.canSeeViewProviders=n,this.injectImpl=i}};function _ve(t){return(t.flags&8)!==0}function bve(t){return(t.flags&16)!==0}function yve(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];Cve(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function Hz(t){return t===3||t===4||t===6}function Cve(t){return t.charCodeAt(0)===64}function BA(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?tz(t,n,r,null,e[++i]):tz(t,n,r,null,null))}}return t}function tz(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){r!==null&&(t[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r)}function Qz(t){return t!==RA}function aS(t){return t&32767}function wve(t){return t>>16}function lS(t,e){let n=wve(t),i=e;for(;n>0;)i=i[bp],n--;return i}var mB=!0;function cS(t){let e=mB;return mB=t,e}var Eve=256,jz=Eve-1,$z=5,xve=0,Ic={};function Sve(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ap)&&(i=n[Ap]),i==null&&(i=n[Ap]=xve++);let r=i&jz,o=1<<r;e.data[t+(r>>$z)]|=o}function dS(t,e){let n=zz(t,e);if(n!==-1)return n;let i=e[xt];i.firstCreatePass&&(t.injectorIndex=e.length,oB(i.data,t),oB(e,null),oB(i.blueprint,null));let r=iF(t,e),o=t.injectorIndex;if(Qz(r)){let s=aS(r),a=lS(r,e),l=a[xt].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function oB(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zz(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function iF(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=Yz(r),i===null)return RA;if(n++,r=r[bp],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return RA}function AB(t,e,n){Sve(t,e,n)}function Tve(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(Hz(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===e)return n[r+1];r=r+2}}}return null}function Gz(t,e,n){if(n&8||t!==void 0)return t;Ox(e,"NodeInjector")}function Wz(t,e,n,i){if(n&8&&i===void 0&&(i=null),(n&3)===0){let r=t[_p],o=as(void 0);try{return r?r.get(e,i,n&8):bR(e,i,n&8)}finally{as(o)}}return Gz(i,e,n)}function Kz(t,e,n,i=0,r){if(t!==null){if(e[Pt]&2048&&!(i&2)){let s=Dve(t,e,n,i,Ic);if(s!==Ic)return s}let o=qz(t,e,n,i,Ic);if(o!==Ic)return o}return Wz(e,n,i,r)}function qz(t,e,n,i,r){let o=kve(n);if(typeof o=="function"){if(!XR(e,t,i))return i&1?Gz(r,n,i):Wz(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&8))Ox(n);else return s}finally{ZR()}}else if(typeof o=="number"){let s=null,a=zz(t,e),l=RA,c=i&1?e[cs][ls]:null;for((a===-1||i&4)&&(l=a===-1?iF(t,e):e[a+8],l===RA||!iz(i,!1)?a=-1:(s=e[xt],a=aS(l),e=lS(l,e)));a!==-1;){let d=e[xt];if(nz(o,a,d.data)){let u=Ive(a,e,n,s,i,c);if(u!==Ic)return u}l=e[a+8],l!==RA&&iz(i,e[xt].data[a+8]===c)&&nz(o,a,e)?(s=d,a=aS(l),e=lS(l,e)):a=-1}}return r}function Ive(t,e,n,i,r,o){let s=e[xt],a=s.data[t+8],l=i==null?Ch(a)&&mB:i!=s&&(a.type&3)!==0,c=r&1&&o===a,d=iS(a,s,n,l,c);return d!==null?_b(e,s,d,a,r):Ic}function iS(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,d=o>>20,u=i?a:a+d,p=r?a+d:c;for(let g=u;g<p;g++){let v=s[g];if(g<l&&n===v||g>=l&&v.type===n)return g}if(r){let g=s[l];if(g&&Sl(g)&&g.type===n)return l}return null}function _b(t,e,n,i,r){let o=t[n],s=e.data;if(o instanceof kp){let a=o;if(a.resolving){let g=Ix(s[n]);throw _R(g)}let l=cS(a.canSeeViewProviders);a.resolving=!0;let c=s[n].type||s[n],d,u=a.injectImpl?as(a.injectImpl):null,p=XR(t,i,0);try{o=t[n]=a.factory(void 0,r,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&gve(n,s[n],e)}finally{u!==null&&as(u),cS(l),a.resolving=!1,ZR()}}return o}function kve(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ap)?t[Ap]:void 0;return typeof e=="number"?e>=0?e&jz:Mve:e}function nz(t,e,n){let i=1<<t;return!!(n[e+(t>>$z)]&i)}function iz(t,e){return!(t&2)&&!(t&1&&e)}var Ip=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return Kz(this._tNode,this._lView,e,fp(i),n)}};function Mve(){return new Ip(Nr(),rt())}function ri(t){return VA(()=>{let e=t.prototype.constructor,n=e[tb]||gB(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[tb]||gB(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function gB(t){return dR(t)?()=>{let e=gB(Jr(t));return e&&e()}:vh(t)}function Dve(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[Pt]&2048&&!SA(s);){let a=qz(o,s,n,i|2,Ic);if(a!==Ic)return a;let l=o.parent;if(!l){let c=s[DR];if(c){let d=c.get(n,Ic,i);if(d!==Ic)return d}l=Yz(s),s=s[bp]}o=l}return r}function Yz(t){let e=t[xt],n=e.type;return n===2?e.declTNode:n===1?t[ls]:null}function Ib(t){return Tve(Nr(),t)}function Pve(){return QA(Nr(),rt())}function QA(t,e){return new Se(Tl(t,e))}var Se=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Pve}return t})();function Xz(t){return t instanceof Se?t.nativeElement:t}function Ove(){return this._results[Symbol.iterator]()}var Zd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new O}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=w$(e);(this._changesDetected=!C$(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ove};function Zz(t){return(t.flags&128)===128}var rF=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(rF||{}),Jz=new Map,Rve=0;function Bve(){return Rve++}function Fve(t){Jz.set(t[ab],t)}function vB(t){Jz.delete(t[ab])}var rz="__ngContext__";function FA(t,e){xc(e)?(t[rz]=e[ab],Fve(e)):t[rz]=e}function eG(t){return nG(t[EA])}function tG(t){return nG(t[Va])}function nG(t){for(;t!==null&&!xl(t);)t=t[Va];return t}var _B;function oF(t){_B=t}function sF(){if(_B!==void 0)return _B;if(typeof document<"u")return document;throw new be(210,!1)}var Th=new ie("",{providedIn:"root",factory:()=>Nve}),Nve="ng",xS=new ie(""),$a=new ie("",{providedIn:"platform",factory:()=>"unknown"});var kb=new ie(""),jA=new ie("",{providedIn:"root",factory:()=>sF().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Lve="h",Uve="b";var iG="r";var rG="di";var oG=!1,sG=new ie("",{providedIn:"root",factory:()=>oG});var Vve=(t,e,n,i)=>{};function Hve(t,e,n,i){Vve(t,e,n,i)}function SS(t){return(t.flags&32)===32}var Qve=()=>null;function aG(t,e,n=!1){return Qve(t,e,n)}function lG(t,e){let n=t.contentQueries;if(n!==null){let i=Dt(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];hb(o),a.contentQueries(2,e[s],s)}}}finally{Dt(i)}}}function bB(t,e,n){hb(0);let i=Dt(null);try{e(t,n)}finally{Dt(i)}}function aF(t,e,n){if(OR(e)){let i=Dt(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Dt(i)}}}var Jd=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jd||{}),Yx;function jve(){if(Yx===void 0&&(Yx=null,Fr.trustedTypes))try{Yx=Fr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Yx}function TS(t){return jve()?.createHTML(t)||t}var Xx;function cG(){if(Xx===void 0&&(Xx=null,Fr.trustedTypes))try{Xx=Fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xx}function oz(t){return cG()?.createHTML(t)||t}function sz(t){return cG()?.createScriptURL(t)||t}var eu=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mx})`}},yB=class extends eu{getTypeName(){return"HTML"}},CB=class extends eu{getTypeName(){return"Style"}},wB=class extends eu{getTypeName(){return"Script"}},EB=class extends eu{getTypeName(){return"URL"}},xB=class extends eu{getTypeName(){return"ResourceURL"}};function sa(t){return t instanceof eu?t.changingThisBreaksApplicationSecurity:t}function Mc(t,e){let n=dG(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Mx})`)}return n===e}function dG(t){return t instanceof eu&&t.getTypeName()||null}function lF(t){return new yB(t)}function cF(t){return new CB(t)}function dF(t){return new wB(t)}function uF(t){return new EB(t)}function hF(t){return new xB(t)}function $ve(t){let e=new TB(t);return zve()?new SB(e):e}var SB=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(TS(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},TB=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=TS(e),n}};function zve(){try{return!!new window.DOMParser().parseFromString(TS(""),"text/html")}catch{return!1}}var Gve=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mb(t){return t=String(t),t.match(Gve)?t:"unsafe:"+t}function tu(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Db(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var uG=tu("area,br,col,hr,img,wbr"),hG=tu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fG=tu("rp,rt"),Wve=Db(fG,hG),Kve=Db(hG,tu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qve=Db(fG,tu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),az=Db(uG,Kve,qve,Wve),pG=tu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yve=tu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xve=tu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Zve=Db(pG,Yve,Xve),Jve=tu("script,style,template"),IB=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=n_e(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=t_e(n);if(o){n=o;break}n=r.pop()}}return this.buf.join("")}startElement(e){let n=lz(e).toLowerCase();if(!az.hasOwnProperty(n))return this.sanitizedSomething=!0,!Jve.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,a=s.toLowerCase();if(!Zve.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;pG[a]&&(l=Mb(l)),this.buf.push(" ",s,'="',cz(l),'"')}return this.buf.push(">"),!0}endElement(e){let n=lz(e).toLowerCase();az.hasOwnProperty(n)&&!uG.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(cz(e))}};function e_e(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function t_e(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw mG(e);return e}function n_e(t){let e=t.firstChild;if(e&&e_e(t,e))throw mG(e);return e}function lz(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function mG(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var i_e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r_e=/([^\#-~ |!])/g;function cz(t){return t.replace(/&/g,"&amp;").replace(i_e,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(r_e,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Zx;function IS(t,e){let n=null;try{Zx=Zx||$ve(t);let i=e?String(e):"";n=Zx.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Zx.getInertBodyElement(i)}while(i!==o);let a=new IB().sanitizeChildren(dz(n)||n);return TS(a)}finally{if(n){let i=dz(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function dz(t){return"content"in t&&o_e(t)?t.content:null}function o_e(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var jo=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(jo||{});function Eo(t){let e=pF();return e?oz(e.sanitize(jo.HTML,t)||""):Mc(t,"HTML")?oz(sa(t)):IS(sF(),Ho(t))}function $A(t){let e=pF();return e?e.sanitize(jo.URL,t)||"":Mc(t,"URL")?sa(t):Mb(Ho(t))}function AG(t){let e=pF();if(e)return sz(e.sanitize(jo.RESOURCE_URL,t)||"");if(Mc(t,"ResourceURL"))return sz(sa(t));throw new be(904,!1)}function s_e(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?AG:$A}function fF(t,e,n){return s_e(e,n)(t)}function pF(){let t=rt();return t&&t[wc].sanitizer}var a_e=/^>|^->|<!--|-->|--!>|<!-$/g,l_e=/(<|>)/g,c_e="\u200B$1\u200B";function d_e(t){return t.replace(a_e,e=>e.replace(l_e,c_e))}function u_e(t){return t.ownerDocument.defaultView}function mF(t){return t.ownerDocument}function gG(t){return t instanceof Function?t():t}function h_e(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}var vG="ng-template";function f_e(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&h_e(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(AF(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function AF(t){return t.type===4&&t.value!==vG}function p_e(t,e,n){let i=t.type===4&&!n?vG:t.value;return e===i}function m_e(t,e,n){let i=4,r=t.attrs,o=r!==null?v_e(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Il(i)&&!Il(l))return!1;if(s&&Il(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!p_e(t,l,n)||l===""&&e.length===1){if(Il(i))return!1;s=!0}}else if(i&8){if(r===null||!f_e(t,r,l,n)){if(Il(i))return!1;s=!0}}else{let c=e[++a],d=A_e(l,r,AF(t),n);if(d===-1){if(Il(i))return!1;s=!0;continue}if(c!==""){let u;if(d>o?u="":u=r[d+1].toLowerCase(),i&2&&c!==u){if(Il(i))return!1;s=!0}}}}return Il(i)||s}function Il(t){return(t&1)===0}function A_e(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return __e(e,t)}function _G(t,e,n=!1){for(let i=0;i<e.length;i++)if(m_e(t,e[i],n))return!0;return!1}function g_e(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function v_e(t){for(let e=0;e<t.length;e++){let n=t[e];if(Hz(n))return e}return t.length}function __e(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function b_e(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function uz(t,e){return t?":not("+e.trim()+")":e}function y_e(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Il(s)&&(e+=uz(o,r),r=""),i=s,o=o||!Il(i);n++}return r!==""&&(e+=uz(o,r)),e}function C_e(t){return t.map(y_e).join(",")}function w_e(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Il(r))break;r=o}i++}return n.length&&e.push(1,...n),e}var Lr={};function E_e(t,e){return t.createText(e)}function x_e(t,e,n){t.setValue(e,n)}function S_e(t,e){return t.createComment(d_e(e))}function bG(t,e,n){return t.createElement(e,n)}function uS(t,e,n,i,r){t.insertBefore(e,n,i,r)}function yG(t,e,n){t.appendChild(e,n)}function hz(t,e,n,i,r){i!==null?uS(t,e,n,i,r):yG(t,e,n)}function CG(t,e,n){t.removeChild(null,e,n)}function T_e(t,e,n){t.setAttribute(e,"style",n)}function I_e(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wG(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&yve(t,e,i),r!==null&&I_e(t,e,r),o!==null&&T_e(t,e,o)}function gF(t,e,n,i,r,o,s,a,l,c,d){let u=fi+i,p=u+r,g=k_e(u,p),v=typeof c=="function"?c():c;return g[xt]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}function k_e(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Lr);return n}function M_e(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=gF(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vF(t,e,n,i,r,o,s,a,l,c,d){let u=e.blueprint.slice();return u[El]=r,u[Pt]=i|4|128|8|64|1024,(c!==null||t&&t[Pt]&2048)&&(u[Pt]|=2048),NR(u),u[eo]=u[bp]=t,u[xr]=n,u[wc]=s||t&&t[wc],u[ii]=a||t&&t[ii],u[_p]=l||t&&t[_p]||null,u[ls]=o,u[ab]=Bve(),u[vp]=d,u[DR]=c,u[cs]=e.type==2?t[cs]:u,u}function D_e(t,e,n){let i=Tl(e,t),r=M_e(n),o=t[wc].rendererFactory,s=_F(t,vF(t,r,null,EG(n),i,e,null,o.createRenderer(i,n),null,null,null));return t[e.index]=s}function EG(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function xG(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function _F(t,e){return t[EA]?t[MR][Va]=e:t[EA]=e,t[MR]=e,e}function y(t=1){SG(Ci(),rt(),ja()+t,!1)}function SG(t,e,n,i){if(!i)if((e[Pt]&3)===3){let o=t.preOrderCheckHooks;o!==null&&tS(e,o,n)}else{let o=t.preOrderHooks;o!==null&&nS(e,o,0,n)}Eh(n)}var kS=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(kS||{});function kB(t,e,n,i){let r=Dt(null);try{let[o,s,a]=t.inputs[n],l=null;(s&kS.SignalBased)!==0&&(l=e[o][Zr]),l!==null&&l.transformFn!==void 0?i=l.transformFn(i):a!==null&&(i=a.call(e,i)),t.setInput!==null?t.setInput(e,l,i,n,o):Bz(e,l,o,i)}finally{Dt(r)}}var Ml=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ml||{}),P_e;function bF(t,e){return P_e(t,e)}function OA(t,e,n,i,r){if(i!=null){let o,s=!1;xl(i)?o=i:xc(i)&&(s=!0,i=i[El]);let a=Ha(i);t===0&&n!==null?r==null?yG(e,n,a):uS(e,n,a,r||null,!0):t===1&&n!==null?uS(e,n,a,r||null,!0):t===2?CG(e,a,s):t===3&&e.destroyNode(a),o!=null&&Q_e(e,t,o,n,r)}}function O_e(t,e){TG(t,e),e[El]=null,e[ls]=null}function R_e(t,e,n,i,r,o){i[El]=r,i[ls]=e,DS(t,i,n,1,r,o)}function TG(t,e){e[wc].changeDetectionScheduler?.notify(9),DS(t,e,e[ii],2,null,null)}function B_e(t){let e=t[EA];if(!e)return sB(t[xt],t);for(;e;){let n=null;if(xc(e))n=e[EA];else{let i=e[lo];i&&(n=i)}if(!n){for(;e&&!e[Va]&&e!==t;)xc(e)&&sB(e[xt],e),e=e[eo];e===null&&(e=t),xc(e)&&sB(e[xt],e),n=e&&e[Va]}e=n}}function yF(t,e){let n=t[wp],i=n.indexOf(e);n.splice(i,1)}function MS(t,e){if(Ep(e))return;let n=e[ii];n.destroyNode&&DS(t,e,n,3,null,null),B_e(e)}function sB(t,e){if(Ep(e))return;let n=Dt(null);try{e[Pt]&=-129,e[Pt]|=256,e[ia]&&ch(e[ia]),N_e(t,e),F_e(t,e),e[xt].type===1&&e[ii].destroy();let i=e[bh];if(i!==null&&xl(e[eo])){i!==e[eo]&&yF(i,e);let r=e[Ec];r!==null&&r.detachView(t)}vB(e)}finally{Dt(n)}}function F_e(t,e){let n=t.cleanup,i=e[wA];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?i[a]():i[-a].unsubscribe(),s+=2}else{let a=i[n[s+1]];n[s].call(a)}i!==null&&(e[wA]=null);let r=e[Gd];if(r!==null){e[Gd]=null;for(let s=0;s<r.length;s++){let a=r[s];a()}}let o=e[qd];if(o!==null){e[qd]=null;for(let s of o)s.destroy()}}function N_e(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof kp)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];pi(4,a,l);try{l.call(a)}finally{pi(5,a,l)}}else{pi(4,r,o);try{o.call(r)}finally{pi(5,r,o)}}}}}function IG(t,e,n){return L_e(t,e.parent,n)}function L_e(t,e,n){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return n[El];if(Ch(i)){let{encapsulation:r}=t.data[i.directiveStart+i.componentOffset];if(r===Jd.None||r===Jd.Emulated)return null}return Tl(i,n)}function kG(t,e,n){return V_e(t,e,n)}function U_e(t,e,n){return t.type&40?Tl(t,n):null}var V_e=U_e,fz;function CF(t,e,n,i){let r=IG(t,i,e),o=e[ii],s=i.parent||e[ls],a=kG(s,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)hz(o,r,n[l],a,!1);else hz(o,r,n,a,!1);fz!==void 0&&fz(o,i,e,n,r)}function gb(t,e){if(e!==null){let n=e.type;if(n&3)return Tl(e,t);if(n&4)return MB(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return gb(t,i);{let r=t[e.index];return xl(r)?MB(-1,r):Ha(r)}}else{if(n&128)return gb(t,e.next);if(n&32)return bF(e,t)()||Ha(t[e.index]);{let i=MG(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=_h(t[cs]);return gb(r,i)}else return gb(t,e.next)}}}return null}function MG(t,e){if(e!==null){let i=t[cs][ls],r=e.projection;return i.projection[r]}return null}function MB(t,e){let n=lo+t+1;if(n<e.length){let i=e[n],r=i[xt].firstChild;if(r!==null)return gb(i,r)}return e[yh]}function wF(t,e,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&e===0&&(a&&FA(Ha(a),i),n.flags|=2),!SS(n))if(l&8)wF(t,e,n.child,i,r,o,!1),OA(e,t,r,a,o);else if(l&32){let c=bF(n,i),d;for(;d=c();)OA(e,t,r,d,o);OA(e,t,r,a,o)}else l&16?DG(t,e,i,n,r,o):OA(e,t,r,a,o);n=s?n.projectionNext:n.next}}function DS(t,e,n,i,r,o){wF(n,i,t.firstChild,e,r,o,!1)}function H_e(t,e,n){let i=e[ii],r=IG(t,n,e),o=n.parent||e[ls],s=kG(o,n,e);DG(i,0,e,n,r,s)}function DG(t,e,n,i,r,o){let s=n[cs],l=s[ls].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];OA(e,t,r,d,o)}else{let c=l,d=s[eo];Zz(i)&&(c.flags|=128),wF(t,e,c,d,r,o,!0)}}function Q_e(t,e,n,i,r){let o=n[yh],s=Ha(n);o!==s&&OA(e,t,i,o,r);for(let a=lo;a<n.length;a++){let l=n[a];DS(l[xt],l,t,e,i,o)}}function j_e(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Ml.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Ml.Important),t.setStyle(n,i,r,o))}}function PG(t,e,n,i,r){let o=ja(),s=i&2;try{Eh(-1),s&&e.length>fi&&SG(t,e,fi,!1),pi(s?2:0,r,n),n(i,r)}finally{Eh(o),pi(s?3:1,r,n)}}function PS(t,e,n){q_e(t,e,n),(n.flags&64)===64&&Y_e(t,e,n)}function Pb(t,e,n=Tl){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function $_e(t,e,n,i){let o=i.get(sG,oG)||n===Jd.ShadowDom,s=t.selectRootElement(e,o);return z_e(s),s}function z_e(t){G_e(t)}var G_e=()=>null;function W_e(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function OG(t,e,n,i,r,o){let s=e[xt];if(TF(t,s,e,n,i)){Ch(t)&&K_e(e,t.index);return}t.type&3&&(n=W_e(n)),RG(t,e,n,i,r,o)}function RG(t,e,n,i,r,o){if(t.type&3){let s=Tl(t,e);i=o!=null?o(i,t.value||"",n):i,r.setProperty(s,n,i)}else t.type&12}function K_e(t,e){let n=Qa(e,t);n[Pt]&16||(n[Pt]|=64)}function q_e(t,e,n){let i=n.directiveStart,r=n.directiveEnd;Ch(n)&&D_e(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||dS(n,e);let o=n.initialInputs;for(let s=i;s<r;s++){let a=t.data[s],l=_b(e,t,s,n);if(FA(l,e),o!==null&&ebe(e,s-i,l,a,n,o),Sl(a)){let c=Qa(n.index,e);c[xr]=_b(e,t,s,n)}}}function Y_e(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=$$();try{Eh(o);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];$x(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&X_e(l,c)}}finally{Eh(-1),$x(s)}}function X_e(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function EF(t,e){let n=t.directiveRegistry,i=null;if(n)for(let r=0;r<n.length;r++){let o=n[r];_G(e,o.selectors,!1)&&(i??=[],Sl(o)?i.unshift(o):i.push(o))}return i}function Z_e(t,e,n,i,r,o){let s=Tl(t,e);J_e(e[ii],s,o,t.value,n,i,r)}function J_e(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Ho(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function ebe(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];kB(i,n,l,c)}}function xF(t,e,n,i,r){let o=fi+n,s=e[xt],a=r(s,e,t,i,n);e[o]=a,IA(t,!0);let l=t.type===2;return l?(wG(e[ii],a,t),(N$()===0||xA(t))&&FA(a,e),L$()):FA(a,e),Kx()&&(!l||!SS(t))&&CF(s,e,a,t),t}function SF(t){let e=t;return WR()?KR():(e=e.parent,IA(e,!1)),e}function tbe(t,e){let n=t[_p];if(!n)return;n.get(ds,null)?.(e)}function TF(t,e,n,i,r){let o=t.inputs?.[i],s=t.hostDirectiveInputs?.[i],a=!1;if(s)for(let l=0;l<s.length;l+=2){let c=s[l],d=s[l+1],u=e.data[c];kB(u,n[c],d,r),a=!0}if(o)for(let l of o){let c=n[l],d=e.data[l];kB(d,c,i,r),a=!0}return a}function nbe(t,e){let n=Qa(e,t),i=n[xt];ibe(i,n);let r=n[El];r!==null&&n[vp]===null&&(n[vp]=aG(r,n[_p])),pi(18),IF(i,n,n[xr]),pi(19,n[xr])}function ibe(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function IF(t,e,n){Gx(e);try{let i=t.viewQuery;i!==null&&bB(1,i,n);let r=t.template;r!==null&&PG(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ec]?.finishViewCreation(t),t.staticContentQueries&&lG(t,e),t.staticViewQueries&&bB(2,t.viewQuery,n);let o=t.components;o!==null&&rbe(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Pt]&=-5,Wx()}}function rbe(t,e){for(let n=0;n<e.length;n++)nbe(t,e[n])}function Ob(t,e,n,i){let r=Dt(null);try{let o=e.tView,a=t[Pt]&4096?4096:16,l=vF(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[e.index];l[bh]=c;let d=t[Ec];return d!==null&&(l[Ec]=d.createEmbeddedView(o)),IF(o,l,n),l}finally{Dt(r)}}function NA(t,e){return!e||e.firstChild===null||Zz(t)}var pz=!1,obe=new ie("");function bb(t,e,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&i.push(Ha(o)),xl(o)&&BG(o,i);let s=n.type;if(s&8)bb(t,e,n.child,i);else if(s&32){let a=bF(n,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=MG(e,n);if(Array.isArray(a))i.push(...a);else{let l=_h(e[cs]);bb(l[xt],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function BG(t,e){for(let n=lo;n<t.length;n++){let i=t[n],r=i[xt].firstChild;r!==null&&bb(i[xt],i,r,e)}t[yh]!==t[El]&&e.push(t[yh])}function FG(t){if(t[Cp]!==null){for(let e of t[Cp])e.impl.addSequence(e);t[Cp].length=0}}var NG=[];function sbe(t){return t[ia]??abe(t)}function abe(t){let e=NG.pop()??Object.create(cbe);return e.lView=t,e}function lbe(t){t.lView[ia]!==t&&(t.lView=null,NG.push(t))}var cbe=De(V({},ah),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{wh(t.lView)},consumerOnSignalRead(){this.lView[ia]=this}});function dbe(t){let e=t[ia]??Object.create(ube);return e.lView=t,e}var ube=De(V({},ah),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=_h(t.lView);for(;e&&!LG(e[xt]);)e=_h(e);e&&LR(e)},consumerOnSignalRead(){this.lView[ia]=this}});function LG(t){return t.type!==2}function UG(t){if(t[qd]===null)return;let e=!0;for(;e;){let n=!1;for(let i of t[qd])i.dirty&&(n=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=n&&!!(t[Pt]&8192)}}var hbe=100;function kF(t,e=0){let i=t[wc].rendererFactory,r=!1;r||i.begin?.();try{fbe(t,e)}finally{r||i.end?.()}}function fbe(t,e){let n=YR();try{kA(!0),DB(t,e);let i=0;for(;db(t);){if(i===hbe)throw new be(103,!1);i++,DB(t,1)}}finally{kA(n)}}function VG(t,e){qR(e?ub.Exhaustive:ub.OnlyDirtyViews);try{kF(t)}finally{qR(ub.Off)}}function pbe(t,e,n,i){if(Ep(e))return;let r=e[Pt],o=!1,s=!1;Gx(e);let a=!0,l=null,c=null;o||(LG(t)?(c=sbe(e),l=Qd(c)):qE()===null?(a=!1,c=dbe(e),l=Qd(c)):e[ia]&&(ch(e[ia]),e[ia]=null));try{NR(e),H$(t.bindingStartIndex),n!==null&&PG(t,e,n,2,i);let d=(r&3)===3;if(!o)if(d){let g=t.preOrderCheckHooks;g!==null&&tS(e,g,null)}else{let g=t.preOrderHooks;g!==null&&nS(e,g,0,null),rB(e,0)}if(s||mbe(e),UG(e),HG(e,0),t.contentQueries!==null&&lG(t,e),!o)if(d){let g=t.contentCheckHooks;g!==null&&tS(e,g)}else{let g=t.contentHooks;g!==null&&nS(e,g,1),rB(e,1)}gbe(t,e);let u=t.components;u!==null&&jG(e,u,0);let p=t.viewQuery;if(p!==null&&bB(2,p,i),!o)if(d){let g=t.viewCheckHooks;g!==null&&tS(e,g)}else{let g=t.viewHooks;g!==null&&nS(e,g,2),rB(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ux]){for(let g of e[Ux])g();e[Ux]=null}o||(FG(e),e[Pt]&=-73)}catch(d){throw o||wh(e),d}finally{c!==null&&(lh(c,l),a&&lbe(c)),Wx()}}function HG(t,e){for(let n=eG(t);n!==null;n=tG(n))for(let i=lo;i<n.length;i++){let r=n[i];QG(r,e)}}function mbe(t){for(let e=eG(t);e!==null;e=tG(e)){if(!(e[Pt]&2))continue;let n=e[wp];for(let i=0;i<n.length;i++){let r=n[i];LR(r)}}}function Abe(t,e,n){pi(18);let i=Qa(e,t);QG(i,n),pi(19,i[xr])}function QG(t,e){Vx(t)&&DB(t,e)}function DB(t,e){let i=t[xt],r=t[Pt],o=t[ia],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&op(o)),s||=!1,o&&(o.dirty=!1),t[Pt]&=-9217,s)pbe(i,t,i.template,t[xr]);else if(r&8192){let a=Dt(null);try{UG(t),HG(t,1);let l=i.components;l!==null&&jG(t,l,1),FG(t)}finally{Dt(a)}}}function jG(t,e,n){for(let i=0;i<e.length;i++)Abe(t,e[i],n)}function gbe(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Eh(~r);else{let o=r,s=n[++i],a=n[++i];j$(s,o);let l=e[o];pi(24,l),a(2,l),pi(25,l)}}}finally{Eh(-1)}}function MF(t,e){let n=YR()?64:1088;for(t[wc].changeDetectionScheduler?.notify(e);t;){t[Pt]|=n;let i=_h(t);if(SA(t)&&!i)return t;t=i}return null}function $G(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function zG(t,e){let n=lo+e;if(n<t.length)return t[n]}function Rb(t,e,n,i=!0){let r=e[xt];if(vbe(r,e,t,n),i){let s=MB(n,t),a=e[ii],l=a.parentNode(t[yh]);l!==null&&R_e(r,t[ls],a,e,l,s)}let o=e[vp];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function GG(t,e){let n=yb(t,e);return n!==void 0&&MS(n[xt],n),n}function yb(t,e){if(t.length<=lo)return;let n=lo+e,i=t[n];if(i){let r=i[bh];r!==null&&r!==t&&yF(r,i),e>0&&(t[n-1][Va]=i[Va]);let o=ob(t,lo+e);O_e(i[xt],i);let s=o[Ec];s!==null&&s.detachView(o[xt]),i[eo]=null,i[Va]=null,i[Pt]&=-129}return i}function vbe(t,e,n,i){let r=lo+i,o=n.length;i>0&&(n[r-1][Va]=e),i<o-lo?(e[Va]=n[r],yR(n,lo+i,e)):(n.push(e),e[Va]=null),e[eo]=n;let s=e[bh];s!==null&&n!==s&&WG(s,e);let a=e[Ec];a!==null&&a.insertView(t),Hx(e),e[Pt]|=128}function WG(t,e){let n=t[wp],i=e[eo];if(xc(i))t[Pt]|=2;else{let r=i[eo][cs];e[cs]!==r&&(t[Pt]|=2)}n===null?t[wp]=[e]:n.push(e)}var xh=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[xt];return bb(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[xr]}set context(e){this._lView[xr]=e}get destroyed(){return Ep(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[eo];if(xl(e)){let n=e[lb],i=n?n.indexOf(this):-1;i>-1&&(yb(e,i),ob(n,i))}this._attachedToViewContainer=!1}MS(this._lView[xt],this._lView)}onDestroy(e){UR(this._lView,e)}markForCheck(){MF(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Pt]&=-129}reattach(){Hx(this._lView),this._lView[Pt]|=128}detectChanges(){this._lView[Pt]|=1024,kF(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[_p].get(obe,pz)}catch{this.exhaustive=pz}}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=SA(this._lView),n=this._lView[bh];n!==null&&!e&&yF(n,this._lView),TG(this._lView[xt],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=e;let n=SA(this._lView),i=this._lView[bh];i!==null&&!n&&WG(i,this._lView),Hx(this._lView)}};var Mi=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=_be;constructor(n,i,r){this._declarationLView=n,this._declarationTContainer=i,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,r){let o=Ob(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:r});return new xh(o)}}return t})();function _be(){return OS(Nr(),rt())}function OS(t,e){return t.type&4?new Mi(e,t,QA(t,e)):null}function zA(t,e,n,i,r){let o=t.data[e];if(o===null)o=bbe(t,e,n,i,r),Q$()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=U$();o.injectorIndex=s===null?-1:s.injectorIndex}return IA(o,!0),o}function bbe(t,e,n,i,r){let o=GR(),s=WR(),a=s?o:o&&o.parent,l=t.data[e]=Cbe(t,a,n,e,i,r);return ybe(t,l,o,s),l}function ybe(t,e,n,i){t.firstChild===null&&(t.firstChild=e),n!==null&&(i?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function Cbe(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return jR()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var EYe=new RegExp(`^(\\d+)*(${Uve}|${Lve})*(.*)`);function wbe(t){let e=t[PR]??[],i=t[eo][ii],r=[];for(let o of e)o.data[rG]!==void 0?r.push(o):Ebe(o,i);t[PR]=r}function Ebe(t,e){let n=0,i=t.firstChild;if(i){let r=t.data[iG];for(;n<r;){let o=i.nextSibling;CG(e,i,!1),i=o,n++}}}var xbe=()=>null,Sbe=()=>null;function hS(t,e){return xbe(t,e)}function KG(t,e,n){return Sbe(t,e,n)}var qG=class{},RS=class{},PB=class{resolveComponentFactory(e){throw new be(917,!1)}},Bb=class{static NULL=new PB},er=class{},_n=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>Tbe()}return t})();function Tbe(){let t=rt(),e=Nr(),n=Qa(e.index,t);return(xc(n)?n:t)[ii]}var YG=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>null})}return t})();var rS={},OB=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){let r=this.injector.get(e,rS,i);return r!==rS||n===rS?r:this.parentInjector.get(e,n,i)}};function fS(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=Dx(r,a);else if(o==2){let l=a,c=e[++s];i=Dx(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}function L(t,e=0){let n=rt();if(n===null)return K(t,e);let i=Nr();return Kz(i,n,Jr(t),e)}function Fb(){let t="invalid";throw new Error(t)}function XG(t,e,n,i,r){let o=i===null?null:{"":-1},s=r(t,n);if(s!==null){let a=s,l=null,c=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,l,c]=d.resolveHostDirectives(s);break}Mbe(t,e,n,a,o,l,c)}o!==null&&i!==null&&Ibe(n,i,o)}function Ibe(t,e,n){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new be(-301,!1);i.push(e[r],o)}}function kbe(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Mbe(t,e,n,i,r,o,s){let a=i.length,l=!1;for(let p=0;p<a;p++){let g=i[p];!l&&Sl(g)&&(l=!0,kbe(t,n,p)),AB(dS(n,e),t,g.type)}Fbe(n,t.data.length,a);for(let p=0;p<a;p++){let g=i[p];g.providersResolver&&g.providersResolver(g)}let c=!1,d=!1,u=xG(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let g=i[p];if(n.mergedAttrs=BA(n.mergedAttrs,g.hostAttrs),Pbe(t,n,e,u,g),Bbe(u,g,r),s!==null&&s.has(g)){let[b,x]=s.get(g);n.directiveToIndex.set(g.type,[u,b+n.directiveStart,x+n.directiveStart])}else(o===null||!o.has(g))&&n.directiveToIndex.set(g.type,u);g.contentQueries!==null&&(n.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(n.flags|=64);let v=g.type.prototype;!c&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),c=!0),!d&&(v.ngOnChanges||v.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}Dbe(t,n,o)}function Dbe(t,e,n){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=t.data[i];if(n===null||!n.has(r))mz(0,e,r,i),mz(1,e,r,i),gz(e,i,!1);else{let o=n.get(r);Az(0,e,o,i),Az(1,e,o,i),gz(e,i,!0)}}}function mz(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),ZG(e,o)}}function Az(t,e,n,i){let r=t===0?n.inputs:n.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(i,o),ZG(e,s)}}function ZG(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function gz(t,e,n){let{attrs:i,inputs:r,hostDirectiveInputs:o}=t;if(i===null||!n&&r===null||n&&o===null||AF(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<i.length;){let l=i[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!n&&r.hasOwnProperty(l)){let c=r[l];for(let d of c)if(d===e){s??=[],s.push(l,i[a+1]);break}}else if(n&&o.hasOwnProperty(l)){let c=o[l];for(let d=0;d<c.length;d+=2)if(c[d]===e){s??=[],s.push(c[d+1],i[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Pbe(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=vh(r.type,!0)),s=new kp(o,Sl(r),L,null);t.blueprint[i]=s,n[i]=s,Obe(t,e,i,xG(t,n,r.hostVars,Lr),r)}function Obe(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Rbe(s)!=a&&s.push(a),s.push(n,i,o)}}function Rbe(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Bbe(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Sl(e)&&(n[""]=t)}}function Fbe(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function DF(t,e,n,i,r,o,s,a){let l=e[xt],c=l.consts,d=ra(c,s),u=zA(l,t,n,i,d);return o&&XG(l,e,u,ra(c,a),r),u.mergedAttrs=BA(u.mergedAttrs,u.attrs),u.attrs!==null&&fS(u,u.attrs,!1),u.mergedAttrs!==null&&fS(u,u.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,u),u}function PF(t,e){Uz(t,e),OR(e)&&t.queries.elementEnd(e)}function Nbe(t,e,n,i,r,o){let s=e.consts,a=ra(s,r),l=zA(e,t,n,i,a);if(l.mergedAttrs=BA(l.mergedAttrs,l.attrs),o!=null){let c=ra(s,o);l.localNames=[];for(let d=0;d<c.length;d+=2)l.localNames.push(c[d],-1)}return l.attrs!==null&&fS(l,l.attrs,!1),l.mergedAttrs!==null&&fS(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function OF(t){return BS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function JG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function BS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function GA(t,e,n){return t[e]=n}function e7(t,e){return t[e]}function us(t,e,n){if(n===Lr)return!1;let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function Cb(t,e,n,i){let r=us(t,e,n);return us(t,e+1,i)||r}function t7(t,e,n,i,r){let o=Cb(t,e,n,i);return us(t,e+2,r)||o}function RF(t,e,n,i,r,o){let s=Cb(t,e,n,i);return Cb(t,e+2,r,o)||s}function oS(t,e,n){return function i(r){let o=Ch(t)?Qa(t.index,e):e;MF(o,5);let s=e[xr],a=vz(e,s,n,r),l=i.__ngNextListenerFn__;for(;l;)a=vz(e,s,l,r)&&a,l=l.__ngNextListenerFn__;return a}}function vz(t,e,n,i){let r=Dt(null);try{return pi(6,e,n),n(i)!==!1}catch(o){return tbe(t,o),!1}finally{pi(7,e,n),Dt(r)}}function n7(t,e,n,i,r,o,s,a){let l=xA(t),c=!1,d=null;if(!i&&l&&(d=Lbe(e,n,o,t.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,c=!0}else{let u=Tl(t,n),p=i?i(u):u;Hve(n,p,o,a);let g=r.listen(p,o,a),v=i?b=>i(Ha(b[t.index])):t.index;i7(v,e,n,o,a,g,!1)}return c}function Lbe(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[wA],l=r[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function i7(t,e,n,i,r,o,s){let a=e.firstCreatePass?HR(e):null,l=VR(n),c=l.length;l.push(r,o),a&&a.push(i,t,c,(c+1)*(s?-1:1))}function _z(t,e,n,i,r,o){let s=e[n],a=e[xt],c=a.data[n].outputs[i],u=s[c].subscribe(o);i7(t.index,a,e,r,o,u,!0)}var RB=Symbol("BINDING");var pS=class extends Bb{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cc(e);return new Sh(n,this.ngModule)}};function Ube(t){return Object.keys(t).map(e=>{let[n,i,r]=t[e],o={propName:n,templateName:e,isSignal:(i&kS.SignalBased)!==0};return r&&(o.transform=r),o})}function Vbe(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function Hbe(t,e,n){let i=e instanceof Xn?e:e?.injector;return i&&t.getStandaloneInjector!==null&&(i=t.getStandaloneInjector(i)||i),i?new OB(n,i):n}function Qbe(t){let e=t.get(er,null);if(e===null)throw new be(407,!1);let n=t.get(YG,null),i=t.get(Ua,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:i,ngReflect:!1}}function jbe(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return bG(e,n,n==="svg"?RR:n==="math"?D$:null)}var Sh=class extends RS{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Ube(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Vbe(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=C_e(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,i,r,o,s){pi(22);let a=Dt(null);try{let l=this.componentDef,c=$be(i,l,s,o),d=Hbe(l,r||this.ngModule,e),u=Qbe(d),p=u.rendererFactory.createRenderer(null,l),g=i?$_e(p,i,l.encapsulation,d):jbe(l,p),v=s?.some(bz)||o?.some(T=>typeof T!="function"&&T.bindings.some(bz)),b=vF(null,c,null,512|EG(l),null,null,u,p,d,null,aG(g,d,!0));b[fi]=g,Gx(b);let x=null;try{let T=DF(fi,b,2,"#host",()=>c.directiveRegistry,!0,0);g&&(wG(p,g,T),FA(g,b)),PS(c,b,T),aF(c,T,b),PF(c,T),n!==void 0&&Gbe(T,this.ngContentSelectors,n),x=Qa(T.index,b),b[xr]=x[xr],IF(c,b,null)}catch(T){throw x!==null&&vB(x),vB(b),T}finally{pi(23),Wx()}return new mS(this.componentType,b,!!v)}finally{Dt(a)}}};function $be(t,e,n,i){let r=t?["ng-version","20.1.7"]:w_e(e.selectors[0]),o=null,s=null,a=0;if(n)for(let d of n)a+=d[RB].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(i)for(let d=0;d<i.length;d++){let u=i[d];if(typeof u!="function")for(let p of u.bindings){a+=p[RB].requiredVars;let g=d+1;p.create&&(p.targetIdx=g,(o??=[]).push(p)),p.update&&(p.targetIdx=g,(s??=[]).push(p))}}let l=[e];if(i)for(let d of i){let u=typeof d=="function"?d:d.type,p=Lx(u);l.push(p)}return gF(0,null,zbe(o,s),1,a,l,null,null,null,[r],null)}function zbe(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let i of t)i.create();if(n&2&&e)for(let i of e)i.update()}}function bz(t){let e=t[RB].kind;return e==="input"||e==="twoWay"}var mS=class extends qG{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,i){super(),this._rootLView=n,this._hasInputBindings=i,this._tNode=cb(n[xt],fi),this.location=QA(this._tNode,n),this.instance=Qa(this._tNode.index,n)[xr],this.hostView=this.changeDetectorRef=new xh(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let r=this._rootLView,o=TF(i,r[xt],r,e,n);this.previousInputValues.set(e,n);let s=Qa(i.index,r);MF(s,1)}get injector(){return new Ip(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Gbe(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null&&o.length?Array.from(o):null)}}var mi=(()=>{class t{static __NG_ELEMENT_ID__=Wbe}return t})();function Wbe(){let t=Nr();return o7(t,rt())}var Kbe=mi,r7=class extends Kbe{_lContainer;_hostTNode;_hostLView;constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return QA(this._hostTNode,this._hostLView)}get injector(){return new Ip(this._hostTNode,this._hostLView)}get parentInjector(){let e=iF(this._hostTNode,this._hostLView);if(Qz(e)){let n=lS(e,this._hostLView),i=aS(e),r=n[xt].data[i+8];return new Ip(r,n)}else return new Ip(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=yz(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-lo}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=hS(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,NA(this._hostTNode,s)),a}createComponent(e,n,i,r,o,s,a){let l=e&&!fve(e),c;if(l)c=n;else{let x=n||{};c=x.index,i=x.injector,r=x.projectableNodes,o=x.environmentInjector||x.ngModuleRef,s=x.directives,a=x.bindings}let d=l?e:new Sh(Cc(e)),u=i||this.parentInjector;if(!o&&d.ngModule==null){let T=(l?u:this.parentInjector).get(Xn,null);T&&(o=T)}let p=Cc(d.componentType??{}),g=hS(this._lContainer,p?.id??null),v=g?.firstChild??null,b=d.create(u,r,v,o,s,a);return this.insertImpl(b.hostView,c,NA(this._hostTNode,g)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(O$(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[eo],c=new r7(l,l[ls],l[eo]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Rb(s,r,o,i),e.attachToViewContainerRef(),yR(aB(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=yz(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=yb(this._lContainer,n);i&&(ob(aB(this._lContainer),n),MS(i[xt],i))}detach(e){let n=this._adjustIndex(e,-1),i=yb(this._lContainer,n);return i&&ob(aB(this._lContainer),n)!=null?new xh(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function yz(t){return t[lb]}function aB(t){return t[lb]||(t[lb]=[])}function o7(t,e){let n,i=e[t.index];return xl(i)?n=i:(n=$G(i,e,null,t),e[t.index]=n,_F(e,n)),Ybe(n,e,t,i),new r7(n,t,e)}function qbe(t,e){let n=t[ii],i=n.createComment(""),r=Tl(e,t),o=n.parentNode(r);return uS(n,o,i,n.nextSibling(r),!1),i}var Ybe=Jbe,Xbe=()=>!1;function Zbe(t,e,n){return Xbe(t,e,n)}function Jbe(t,e,n,i){if(t[yh])return;let r;n.type&8?r=Ha(i):r=qbe(e,n),t[yh]=r}var BB=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},FB=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)FF(e,n).matches!==null&&this.queries[n].setDirty()}},AS=class{flags;read;predicate;constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=r0e(e):this.predicate=e}},NB=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},LB=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,e0e(n,o)),this.matchTNodeWithReadOption(e,n,iS(n,e,o,!1,!1))}else i===Mi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,iS(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Se||r===mi||r===Mi&&n.type&4)this.addMatch(n.index,-2);else{let o=iS(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function e0e(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function t0e(t,e){return t.type&11?QA(t,e):t.type&4?OS(t,e):null}function n0e(t,e,n,i){return n===-1?t0e(e,t):n===-2?i0e(t,e,i):_b(t,t[xt],n,e)}function i0e(t,e,n){if(n===Se)return QA(e,t);if(n===Mi)return OS(e,t);if(n===mi)return o7(e,t)}function s7(t,e,n,i){let r=e[Ec].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let d=o[c];a.push(n0e(e,d,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function UB(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=s7(t,e,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],d=e[-l];for(let u=lo;u<d.length;u++){let p=d[u];p[bh]===p[eo]&&UB(p[xt],p,c,i)}if(d[wp]!==null){let u=d[wp];for(let p=0;p<u.length;p++){let g=u[p];UB(g[xt],g,c,i)}}}}}return i}function BF(t,e){return t[Ec].queries[e].queryList}function a7(t,e,n){let i=new Zd((n&4)===4);return F$(t,e,i,i.destroy),(e[Ec]??=new FB).queries.push(new BB(i))-1}function l7(t,e,n){let i=Ci();return i.firstCreatePass&&(d7(i,new AS(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),a7(i,rt(),e)}function c7(t,e,n,i){let r=Ci();if(r.firstCreatePass){let o=Nr();d7(r,new AS(e,n,i),o.index),o0e(r,t),(n&2)===2&&(r.staticContentQueries=!0)}return a7(r,rt(),n)}function r0e(t){return t.split(",").map(e=>e.trim())}function d7(t,e,n){t.queries===null&&(t.queries=new NB),t.queries.track(new LB(e,n))}function o0e(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function FF(t,e){return t.queries.getByIndex(e)}function u7(t,e){let n=t[xt],i=FF(n,e);return i.crossesNgTemplate?UB(n,t,e,[]):s7(n,t,i,e)}function h7(t,e,n){let i,r=j_(()=>{i._dirtyCounter();let o=s0e(i,t);if(e&&o===void 0)throw new be(-951,!1);return o});return i=r[Zr],i._dirtyCounter=gn(0),i._flatValue=void 0,r}function NF(t){return h7(!0,!1,t)}function LF(t){return h7(!0,!0,t)}function f7(t,e){let n=t[Zr];n._lView=rt(),n._queryIndex=e,n._queryList=BF(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function s0e(t,e){let n=t._lView,i=t._queryIndex;if(n===void 0||i===void 0||n[Pt]&4)return e?void 0:Vo;let r=BF(n,i),o=u7(n,i);return r.reset(o,Xz),e?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}function p7(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(a=>l0e(r,a)))}return o}return gS.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,d=r.styleUrls;r.styleUrls.forEach((u,p)=>{a.push(""),s.push(i(u).then(g=>{a[c+p]=g,d.splice(d.indexOf(u),1),d.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>c0e(o));e.push(l)}),m7(),Promise.all(e).then(()=>{})}var gS=new Map,a0e=new Set;function m7(){let t=gS;return gS=new Map,t}function A7(){return gS.size===0}function l0e(t,e){return typeof e=="string"?e:e.status!==void 0&&e.status!==200?Promise.reject(new be(918,!1)):e.text()}function c0e(t){a0e.delete(t)}var Cz=new Set;function Dc(t){Cz.has(t)||(Cz.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var kc=class{},FS=class{};var wb=class extends kc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new pS(this);constructor(e,n,i,r=!0){super(),this.ngModuleType=e,this._parent=n;let o=ER(e);this._bootstrapComponents=gG(o.bootstrap),this._r3Injector=JR(e,n,[{provide:kc,useValue:this},{provide:Bb,useValue:this.componentFactoryResolver},...i],Wd(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Eb=class extends FS{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new wb(this.moduleType,e,[])}};function g7(t,e,n){return new wb(t,e,n,!1)}var vS=class extends kc{injector;componentFactoryResolver=new pS(this);instance=null;constructor(e){super();let n=new mp([...e.providers,{provide:kc,useValue:this},{provide:Bb,useValue:this.componentFactoryResolver}],e.parent||CA(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function WA(t,e,n=null){return new vS({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var d0e=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=SR(!1,n.type),r=i.length>0?WA([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:t,providedIn:"environment",factory:()=>new t(K(Xn))})}return t})();function re(t){return VA(()=>{let e=_7(t),n=De(V({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===rF.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(d0e).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jd.Emulated,styles:t.styles||Vo,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Dc("NgStandalone"),b7(n);let i=t.dependencies;return n.directiveDefs=_S(i,v7),n.pipeDefs=_S(i,xR),n.id=f0e(n),n})}function v7(t){return Cc(t)||Lx(t)}function $e(t){return VA(()=>({type:t.type,bootstrap:t.bootstrap||Vo,declarations:t.declarations||Vo,imports:t.imports||Vo,exports:t.exports||Vo,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function u0e(t,e){if(t==null)return wl;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a,l;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o,l=r[3]||null):(o=r,s=r,a=kS.None,l=null),n[o]=[i,a,l],e[o]=s}return n}function h0e(t){if(t==null)return wl;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function ye(t){return VA(()=>{let e=_7(t);return b7(e),e})}function Sr(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _7(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||wl,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Vo,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:u0e(t.inputs,e),outputs:h0e(t.outputs),debugInfo:null}}function b7(t){t.features?.forEach(e=>e(t))}function _S(t,e){return t?()=>{let n=typeof t=="function"?t():t,i=[];for(let r of n){let o=e(r);o!==null&&i.push(o)}return i}:null}function f0e(t){let e=0,n=typeof t.consts=="function"?"":t.consts,i=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function p0e(t){return Object.getPrototypeOf(t.prototype).constructor}function rn(t){let e=p0e(t.type),n=!0,i=[t];for(;e;){let r;if(Sl(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new be(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=lB(t.inputs),s.declaredInputs=lB(t.declaredInputs),s.outputs=lB(t.outputs);let a=r.hostBindings;a&&_0e(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&g0e(t,l),c&&v0e(t,c),m0e(t,r),g$(t.outputs,r.outputs),Sl(r)&&r.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===rn&&(n=!1)}}e=Object.getPrototypeOf(e)}A0e(i)}function m0e(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n])}}function A0e(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=BA(r.hostAttrs,n=BA(n,r.hostAttrs))}}function lB(t){return t===wl?{}:t===Vo?[]:t}function g0e(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function v0e(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function _0e(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function UF(t){let e=n=>{let i=Array.isArray(t);n.hostDirectives===null?(n.resolveHostDirectives=b0e,n.hostDirectives=i?t.map(VB):[t]):i?n.hostDirectives.unshift(...t.map(VB)):n.hostDirectives.unshift(t)};return e.ngInherit=!0,e}function b0e(t){let e=[],n=!1,i=null,r=null;for(let o=0;o<t.length;o++){let s=t[o];if(s.hostDirectives!==null){let a=e.length;i??=new Map,r??=new Map,y7(s,e,i),r.set(s,[a,e.length-1])}o===0&&Sl(s)&&(n=!0,e.push(s))}for(let o=n?1:0;o<t.length;o++)e.push(t[o]);return[e,i,r]}function y7(t,e,n){if(t.hostDirectives!==null)for(let i of t.hostDirectives)if(typeof i=="function"){let r=i();for(let o of r)wz(VB(o),e,n)}else wz(i,e,n)}function wz(t,e,n){let i=Lx(t.directive);y0e(i.declaredInputs,t.inputs),y7(i,e,n),n.set(i,t),e.push(i)}function VB(t){return typeof t=="function"?{directive:Jr(t),inputs:wl,outputs:wl}:{directive:Jr(t.directive),inputs:Ez(t.inputs),outputs:Ez(t.outputs)}}function Ez(t){if(t===void 0||t.length===0)return wl;let e={};for(let n=0;n<t.length;n+=2)e[t[n]]=t[n+1];return e}function y0e(t,e){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],r=t[n];t[i]=r}}function C7(t,e,n,i,r,o,s,a){if(n.firstCreatePass){t.mergedAttrs=BA(t.mergedAttrs,t.attrs);let d=t.tView=gF(2,t,r,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),d.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),IA(t,!1);let l=w0e(n,e,t,i);Kx()&&CF(n,e,l,t),FA(l,e);let c=$G(l,e,l,t);e[i+fi]=c,_F(e,c),Zbe(c,t,e)}function C0e(t,e,n,i,r,o,s,a,l,c,d){let u=n+fi,p;return e.firstCreatePass?(p=zA(e,u,4,s||null,a||null),Qx()&&XG(e,t,p,ra(e.consts,c),EF),Uz(e,p)):p=e.data[u],C7(p,t,e,n,i,r,o,l),xA(p)&&PS(e,t,p),c!=null&&Pb(t,p,d),p}function LA(t,e,n,i,r,o,s,a,l,c,d){let u=n+fi,p;if(e.firstCreatePass){if(p=zA(e,u,4,s||null,a||null),c!=null){let g=ra(e.consts,c);p.localNames=[];for(let v=0;v<g.length;v+=2)p.localNames.push(g[v],-1)}}else p=e.data[u];return C7(p,t,e,n,i,r,o,l),c!=null&&Pb(t,p,d),p}function Vn(t,e,n,i,r,o,s,a){let l=rt(),c=Ci(),d=ra(c.consts,o);return C0e(l,c,t,e,n,i,r,d,void 0,s,a),Vn}function KA(t,e,n,i,r,o,s,a){let l=rt(),c=Ci(),d=ra(c.consts,o);return LA(l,c,t,e,n,i,r,d,void 0,s,a),KA}var w0e=E0e;function E0e(t,e,n,i){return pb(!0),e[ii].createComment("")}var NS=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(NS||{}),Ih=new ie(""),w7=!1,HB=class extends O{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,kR()&&(this.destroyRef=E(Qo,{optional:!0})??void 0,this.pendingTasks=E(Tc,{optional:!0})??void 0)}emit(e){let n=Dt(null);try{super.next(e)}finally{Dt(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof At&&e.add(a),a}wrapInTimeout(e){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Ae=HB;function E7(t){let e,n;function i(){t=Sp;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),i()})),()=>i()}function xz(t){return queueMicrotask(()=>t()),()=>{t=Sp}}var VF="isAngularZone",bS=VF+"_ID",x0e=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=w7}=e;if(typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,I0e(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(VF)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new be(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,S0e,Sp,Sp);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},S0e={};function HF(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function T0e(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){E7(()=>{t.callbackScheduled=!1,QB(t),t.isCheckStableRunning=!0,HF(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),QB(t)}function I0e(t){let e=()=>{T0e(t)},n=x0e++;t._inner=t._inner.fork({name:"angular",properties:{[VF]:!0,[bS]:n,[bS+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(k0e(l))return i.invokeTask(o,s,a,l);try{return Sz(t),i.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Tz(t)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return Sz(t),i.invoke(o,s,a,l,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!M0e(l)&&e(),Tz(t)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,QB(t),HF(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function QB(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Sz(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tz(t){t._nesting--,HF(t)}var xb=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function k0e(t){return x7(t,"__ignore_ng_zone__")}function M0e(t){return x7(t,"__scheduler_tick__")}function x7(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}function S7(t="zone.js",e){return t==="noop"?new xb:t==="zone.js"?new Ie(e):t}var LS=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),QF=[0,1,2,3],jF=(()=>{class t{ngZone=E(Ie);scheduler=E(Ua);errorHandler=E(na,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(Ih,{optional:!0})}execute(){let n=this.sequences.size>0;n&&pi(16),this.executing=!0;for(let i of QF)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&pi(17)}register(n){let{view:i}=n;i!==void 0?((i[Cp]??=[]).push(n),wh(i),i[Pt]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,i){return i?i.run(NS.AFTER_NEXT_RENDER,n):n()}static \u0275prov=W({token:t,providedIn:"root",factory:()=>new t})}return t})(),Sb=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,i,r,o,s=null){this.impl=e,this.hooks=n,this.view=i,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Cp];e&&(this.view[Cp]=e.filter(n=>n!==this))}};function Di(t,e){let n=e?.injector??E(Ge);return Dc("NgAfterNextRender"),P0e(t,n,e,!0)}function D0e(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function P0e(t,e,n,i){let r=e.get(LS);r.impl??=e.get(jF);let o=e.get(Ih,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Qo):null,a=e.get(xp,null,{optional:!0}),l=new Sb(r.impl,D0e(t),a?.view,i,s,o?.snapshot(null));return r.impl.register(l),l}var US=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var VS=new ie(""),qA=new ie(""),Nb=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(n,i,r){this._ngZone=n,this.registry=i,kR()&&(this._destroyRef=E(Qo,{optional:!0})??void 0),$F||(T7(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){let n=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),i=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{n.unsubscribe(),i.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static \u0275fac=function(i){return new(i||t)(K(Ie),K(Lb),K(qA))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Lb=(()=>{class t{_applications=new Map;registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return $F?.findTestabilityInTree(this,n,i)??null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function T7(t){$F=t}var $F;function nu(t){return!!t&&typeof t.then=="function"}function HS(t){return!!t&&typeof t.subscribe=="function"}var zF=new ie("");function QS(t){return gp([{provide:zF,multi:!0,useValue:t}])}var GF=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i});appInits=E(zF,{optional:!0})??[];injector=E(Ge);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=ao(this.injector,r);if(nu(o))n.push(o);else if(HS(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jS=new ie("");function I7(){IO(()=>{let t="";throw new be(600,t)})}function k7(t){return t.isBoundToModule}var O0e=10;function WF(t,e){return Array.isArray(e)?e.reduce(WF,t):V(V({},t),e)}var co=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(ds);afterRenderManager=E(LS);zonelessEnabled=E(mb);rootEffectScheduler=E(Ab);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new O;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=E(Tc);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(se(n=>!n))}constructor(){E(Ih,{optional:!0})}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}_injector=E(Xn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,i){return this.bootstrapImpl(n,i)}bootstrapImpl(n,i,r=Ge.NULL){return this._injector.get(Ie).run(()=>{pi(10);let s=n instanceof RS;if(!this._injector.get(GF).done){let v="";throw new be(405,v)}let l;s?l=n:l=this._injector.get(Bb).resolveComponentFactory(n),this.componentTypes.push(l.componentType);let c=k7(l)?void 0:this._injector.get(kc),d=i||l.selector,u=l.create(r,[],d,c),p=u.location.nativeElement,g=u.injector.get(VS,null);return g?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),vb(this.components,u),g?.unregisterApplication(p)}),this._loadComponent(u),pi(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){pi(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(NS.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new be(101,!1);let n=Dt(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Dt(n),this.afterTick.next(),pi(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(er,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<O0e;)pi(14),this.synchronizeOnce(),pi(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!db(r))continue;let o=i&&!this.zonelessEnabled?0:1;kF(r,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>db(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;vb(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(n),this._injector.get(jS,[]).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vb(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new be(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ct(t,e,n,i){let r=rt(),o=Xd();if(us(r,o,e)){let s=Ci(),a=fb();Z_e(a,r,t,e,n,i)}return ct}var jB=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),o=this.detach(r);if(r-i>1){let s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,n){this.attach(n,this.detach(e))}};function cB(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function R0e(t,e,n){let i,r,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let c=t.at(o),d=e[o],u=cB(o,c,o,d,n);if(u!==0){u<0&&t.updateValue(o,d),o++;continue}let p=t.at(s),g=e[l],v=cB(s,p,l,g,n);if(v!==0){v<0&&t.updateValue(s,g),s--,l--;continue}let b=n(o,c),x=n(s,p),T=n(o,d);if(Object.is(T,x)){let k=n(l,g);Object.is(k,b)?(t.swap(o,s),t.updateValue(s,g),l--,s--):t.move(s,o),t.updateValue(o,d),o++;continue}if(i??=new yS,r??=kz(t,o,s,n),$B(t,i,o,T))t.updateValue(o,d),o++,s++;else if(r.has(T))i.set(b,t.detach(o)),s--;else{let k=t.create(o,e[o]);t.attach(o,k),o++,s++}}for(;o<=l;)Iz(t,i,n,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),c=l.next();for(;!c.done&&o<=s;){let d=t.at(o),u=c.value,p=cB(o,d,o,u,n);if(p!==0)p<0&&t.updateValue(o,u),o++,c=l.next();else{i??=new yS,r??=kz(t,o,s,n);let g=n(o,u);if($B(t,i,o,g))t.updateValue(o,u),o++,s++,c=l.next();else if(!r.has(g))t.attach(o,t.create(o,u)),o++,s++,c=l.next();else{let v=n(o,d);i.set(v,t.detach(o)),s--}}}for(;!c.done;)Iz(t,i,n,t.length,c.value),c=l.next()}for(;o<=s;)t.destroy(t.detach(s--));i?.forEach(l=>{t.destroy(l)})}function $B(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function Iz(t,e,n,i,r){if($B(t,e,i,n(i,r)))t.updateValue(i,r);else{let o=t.create(i,r);t.attach(i,o)}}function kz(t,e,n,i){let r=new Set;for(let o=e;o<=n;o++)r.add(i(o,t.at(o)));return r}var yS=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function H(t,e,n,i,r,o,s,a){Dc("NgControlFlow");let l=rt(),c=Ci(),d=ra(c.consts,o);return LA(l,c,t,e,n,i,r,d,256,s,a),KF}function KF(t,e,n,i,r,o,s,a){Dc("NgControlFlow");let l=rt(),c=Ci(),d=ra(c.consts,o);return LA(l,c,t,e,n,i,r,d,512,s,a),KF}function Q(t,e){Dc("NgControlFlow");let n=rt(),i=Xd(),r=n[i]!==Lr?n[i]:-1,o=r!==-1?CS(n,fi+r):void 0,s=0;if(us(n,i,t)){let a=Dt(null);try{if(o!==void 0&&GG(o,s),t!==-1){let l=fi+t,c=CS(n,l),d=KB(n[xt],l),u=KG(c,d,n),p=Ob(n,d,e,{dehydratedView:u});Rb(c,p,s,NA(d,u))}}finally{Dt(a)}}else if(o!==void 0){let a=zG(o,s);a!==void 0&&(a[xr]=e)}}var zB=class{lContainer;$implicit;$index;constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-lo}};function B0e(t){return t}function Mn(t,e){return e}var GB=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function Bt(t,e,n,i,r,o,s,a,l,c,d,u,p){Dc("NgControlFlow");let g=rt(),v=Ci(),b=l!==void 0,x=rt(),T=a?s.bind(x[cs][xr]):s,k=new GB(b,T);x[fi+t]=k,LA(g,v,t+1,e,n,i,r,ra(v.consts,o),256),b&&LA(g,v,t+2,l,c,d,u,ra(v.consts,p),512)}var WB=class extends jB{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i}get length(){return this.lContainer.length-lo}at(e){return this.getLView(e)[xr].$implicit}attach(e,n){let i=n[vp];this.needsIndexUpdate||=e!==this.length,Rb(this.lContainer,n,e,NA(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,F0e(this.lContainer,e)}create(e,n){let i=hS(this.lContainer,this.templateTNode.tView.ssrId),r=Ob(this.hostLView,this.templateTNode,new zB(this.lContainer,n,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){MS(e[xt],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[xr].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[xr].$index=e}getLView(e){return N0e(this.lContainer,e)}};function Ft(t){let e=Dt(null),n=ja();try{let i=rt(),r=i[xt],o=i[n],s=n+1,a=CS(i,s);if(o.liveCollection===void 0){let c=KB(r,s);o.liveCollection=new WB(a,i,c)}else o.liveCollection.reset();let l=o.liveCollection;if(R0e(l,t,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let c=Xd(),d=l.length===0;if(us(i,c,d)){let u=n+2,p=CS(i,u);if(d){let g=KB(r,u),v=KG(p,g,i),b=Ob(i,g,void 0,{dehydratedView:v});Rb(p,b,0,NA(g,v))}else r.firstUpdatePass&&wbe(p),GG(p,0)}}}finally{Dt(e)}}function CS(t,e){return t[e]}function F0e(t,e){return yb(t,e)}function N0e(t,e){return zG(t,e)}function KB(t,e){return cb(t,e)}function P(t,e,n){let i=rt(),r=Xd();if(us(i,r,e)){let o=Ci(),s=fb();OG(s,i,t,e,i[ii],n)}return P}function qB(t,e,n,i,r){TF(e,t,n,r?"class":"style",i)}function C(t,e,n,i){let r=rt(),o=r[xt],s=t+fi,a=o.firstCreatePass?DF(s,r,2,e,EF,Qx(),n,i):o.data[s];if(xF(a,r,t,e,M7),xA(a)){let l=r[xt];PS(l,r,a),aF(l,a,r)}return i!=null&&Pb(r,a),C}function w(){let t=Ci(),e=Nr(),n=SF(e);return t.firstCreatePass&&PF(t,n),$R(n)&&zR(),QR(),n.classesWithoutHost!=null&&_ve(n)&&qB(t,n,rt(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&bve(n)&&qB(t,n,rt(),n.stylesWithoutHost,!1),w}function $(t,e,n,i){return C(t,e,n,i),w(),$}function hs(t,e,n,i){let r=rt(),o=r[xt],s=t+fi,a=o.firstCreatePass?Nbe(s,o,2,e,n,i):o.data[s];return xF(a,r,t,e,M7),i!=null&&Pb(r,a),hs}function Ss(){let t=Nr(),e=SF(t);return $R(e)&&zR(),QR(),Ss}function aa(t,e,n,i){return hs(t,e,n,i),Ss(),aa}var M7=(t,e,n,i,r)=>(pb(!0),bG(e[ii],i,Y$()));function qF(t,e,n){let i=rt(),r=i[xt],o=t+fi,s=r.firstCreatePass?DF(o,i,8,"ng-container",EF,Qx(),e,n):r.data[o];if(xF(s,i,t,"ng-container",L0e),xA(s)){let a=i[xt];PS(a,i,s),aF(a,s,i)}return n!=null&&Pb(i,s),qF}function YF(){let t=Ci(),e=Nr(),n=SF(e);return t.firstCreatePass&&PF(t,n),YF}function YA(t,e,n){return qF(t,e,n),YF(),YA}var L0e=(t,e,n,i,r)=>(pb(!0),S_e(e[ii],""));function fe(){return rt()}function wi(t,e,n){let i=rt(),r=Xd();if(us(i,r,e)){let o=Ci(),s=fb();RG(s,i,t,e,i[ii],n)}return wi}var Tp=void 0;function U0e(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var V0e=["en",[["a","p"],["AM","PM"],Tp],[["AM","PM"],Tp,Tp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tp,"{1} 'at' {0}",Tp],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",U0e],dB={};function fs(t){let e=H0e(t),n=Mz(e);if(n)return n;let i=e.split("-")[0];if(n=Mz(i),n)return n;if(i==="en")return V0e;throw new be(701,!1)}function Mz(t){return t in dB||(dB[t]=Fr.ng&&Fr.ng.common&&Fr.ng.common.locales&&Fr.ng.common.locales[t]),dB[t]}var tr=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(tr||{});function H0e(t){return t.toLowerCase().replace(/_/g,"-")}var Ub="en-US",Q0e="USD";var j0e=Ub;function D7(t){typeof t=="string"&&(j0e=t.toLowerCase().replace(/_/g,"-"))}function G(t,e,n){let i=rt(),r=Ci(),o=Nr();return P7(r,i,i[ii],o,t,e,n),G}function $S(t,e,n){let i=rt(),r=Ci(),o=Nr();return(o.type&3||n)&&n7(o,r,i,n,i[ii],t,e,oS(o,i,e)),$S}function P7(t,e,n,i,r,o,s){let a=!0,l=null;if((i.type&3||s)&&(l??=oS(i,e,o),n7(i,t,e,s,n,r,o,l)&&(a=!1)),a){let c=i.outputs?.[r],d=i.hostDirectiveOutputs?.[r];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],g=d[u+1];l??=oS(i,e,o),_z(i,e,p,g,r,l)}if(c&&c.length)for(let u of c)l??=oS(i,e,o),_z(i,e,u,r,r,l)}}function M(t=1){return q$(t)}function $0e(t,e){let n=null,i=g_e(t);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){n=r;continue}if(i===null?_G(t,o,!0):b_e(i,o))return r}return n}function Dn(t){let e=rt()[cs][ls];if(!e.projection){let n=t?t.length:1,i=e.projection=E$(n,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?$0e(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function Vt(t,e=0,n,i,r,o){let s=rt(),a=Ci(),l=i?t+1:null;l!==null&&LA(s,a,l,i,r,o,null,n);let c=zA(a,fi+t,16,null,n||null);c.projection===null&&(c.projection=e),KR();let u=!s[vp]||jR();s[cs][ls].projection[c.projection]===null&&l!==null?z0e(s,a,l):u&&!SS(c)&&H_e(a,s,c)}function z0e(t,e,n){let i=fi+n,r=e.data[i],o=t[i],s=hS(o,r.tView.ssrId),a=Ob(t,r,void 0,{dehydratedView:s});Rb(o,a,0,NA(r,s))}function Ur(t,e,n,i){c7(t,e,n,i)}function Fe(t,e,n){l7(t,e,n)}function Ce(t){let e=rt(),n=Ci(),i=zx();hb(i+1);let r=FF(n,i);if(t.dirty&&P$(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=u7(e,i);t.reset(o,Xz),t.notifyOnChanges()}return!0}return!1}function we(){return BF(rt(),zx())}function XF(t,e,n,i,r){f7(e,c7(t,n,i,r))}function XA(t,e,n,i){f7(t,l7(e,n,i))}function zS(t=1){hb(zx()+t)}function It(t){let e=V$();return TA(e,fi+t)}function Jx(t,e){return t<<17|e<<2}function Mp(t){return t>>17&32767}function G0e(t){return(t&2)==2}function W0e(t,e){return t&131071|e<<17}function YB(t){return t|2}function UA(t){return(t&131068)>>2}function uB(t,e){return t&-131069|e<<2}function K0e(t){return(t&1)===1}function XB(t){return t|1}function q0e(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Mp(s),l=UA(s);t[i]=n;let c=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||yA(u,d)>0)&&(c=!0)}else d=n;if(r)if(l!==0){let p=Mp(t[a+1]);t[i+1]=Jx(p,a),p!==0&&(t[p+1]=uB(t[p+1],i)),t[a+1]=W0e(t[a+1],i)}else t[i+1]=Jx(a,0),a!==0&&(t[a+1]=uB(t[a+1],i)),a=i;else t[i+1]=Jx(l,0),a===0?a=i:t[l+1]=uB(t[l+1],i),l=i;c&&(t[i+1]=YB(t[i+1])),Dz(t,d,i,!0),Dz(t,d,i,!1),Y0e(e,d,t,i,o),s=Jx(a,l),o?e.classBindings=s:e.styleBindings=s}function Y0e(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&yA(o,e)>=0&&(n[i+1]=XB(n[i+1]))}function Dz(t,e,n,i){let r=t[n+1],o=e===null,s=i?Mp(r):UA(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];X0e(l,e)&&(a=!0,t[s+1]=i?XB(c):YB(c)),s=i?Mp(c):UA(c)}a&&(t[n+1]=i?YB(r):XB(r))}function X0e(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?yA(t,e)>=0:!1}var kl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Z0e(t){return t.substring(kl.key,kl.keyEnd)}function J0e(t){return eye(t),O7(t,R7(t,0,kl.textEnd))}function O7(t,e){let n=kl.textEnd;return n===e?-1:(e=kl.keyEnd=tye(t,kl.key=e,n),R7(t,e,n))}function eye(t){kl.key=0,kl.keyEnd=0,kl.value=0,kl.valueEnd=0,kl.textEnd=t.length}function R7(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function tye(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Zn(t,e,n){return B7(t,e,n,!1),Zn}function le(t,e){return B7(t,e,null,!0),le}function xn(t){iye(cye,nye,t,!0)}function nye(t,e){for(let n=J0e(e);n>=0;n=O7(e,n))Fx(t,Z0e(e),!0)}function B7(t,e,n,i){let r=rt(),o=Ci(),s=MA(2);if(o.firstUpdatePass&&N7(o,t,s,i),e!==Lr&&us(r,s,e)){let a=o.data[ja()];L7(o,a,r,r[ii],t,r[s+1]=uye(e,n),i,s)}}function iye(t,e,n,i){let r=Ci(),o=MA(2);r.firstUpdatePass&&N7(r,null,o,i);let s=rt();if(n!==Lr&&us(s,o,n)){let a=r.data[ja()];if(U7(a,i)&&!F7(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=Dx(l,n||"")),qB(r,a,s,n,i)}else dye(r,a,s,s[ii],s[o+1],s[o+1]=lye(t,e,n),i,o)}}function F7(t,e){return e>=t.expandoStartIndex}function N7(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[ja()],s=F7(t,n);U7(o,i)&&e===null&&!s&&(e=!1),e=rye(r,o,e,i),q0e(r,o,e,n,s,i)}}function rye(t,e,n,i){let r=z$(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=hB(null,t,e,n,i),n=Tb(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=hB(r,t,e,n,i),o===null){let l=oye(t,e,i);l!==void 0&&Array.isArray(l)&&(l=hB(null,t,e,l[1],i),l=Tb(l,e.attrs,i),sye(t,e,i,l))}else o=aye(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function oye(t,e,n){let i=n?e.classBindings:e.styleBindings;if(UA(i)!==0)return t[Mp(i)]}function sye(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Mp(r)]=i}function aye(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=Tb(i,s,n)}return Tb(i,e.attrs,n)}function hB(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=Tb(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Tb(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Fx(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lye(t,e,n){if(n==null||n==="")return Vo;let i=[],r=sa(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else typeof r=="string"&&e(i,r);return i}function cye(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&Fx(t,i,n)}function dye(t,e,n,i,r,o,s,a){r===Lr&&(r=Vo);let l=0,c=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let p=l<r.length?r[l+1]:void 0,g=c<o.length?o[c+1]:void 0,v=null,b;d===u?(l+=2,c+=2,p!==g&&(v=u,b=g)):u===null||d!==null&&d<u?(l+=2,v=d):(c+=2,v=u,b=g),v!==null&&L7(t,e,n,i,v,b,s,a),d=l<r.length?r[l]:null,u=c<o.length?o[c]:null}}function L7(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],d=K0e(c)?Pz(l,e,n,r,UA(c),s):void 0;if(!wS(d)){wS(o)||G0e(c)&&(o=Pz(l,null,n,r,a,s));let u=BR(ja(),n);j_e(i,s,u,r,o)}}function Pz(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),d=c?l[1]:l,u=d===null,p=n[r+1];p===Lr&&(p=u?Vo:void 0);let g=u?Nx(p,i):d===i?p:void 0;if(c&&!wS(g)&&(g=Nx(l,i)),wS(g)&&(a=g,s))return a;let v=t[r+1];r=s?Mp(v):UA(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Nx(l,i))}return a}function wS(t){return t!==void 0}function uye(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Wd(sa(t)))),t}function U7(t,e){return(t.flags&(e?8:16))!==0}function F(t,e=""){let n=rt(),i=Ci(),r=t+fi,o=i.firstCreatePass?zA(i,r,1,e,null):i.data[r],s=hye(i,n,o,e,t);n[r]=s,Kx()&&CF(i,n,s,o),IA(o,!1)}var hye=(t,e,n,i,r)=>(pb(!0),E_e(e[ii],i));function V7(t,e,n,i=""){return us(t,Xd(),n)?e+Ho(n)+i:Lr}function H7(t,e,n,i,r,o=""){let s=jx(),a=Cb(t,s,n,r);return MA(2),a?e+Ho(n)+i+Ho(r)+o:Lr}function Q7(t,e,n,i,r,o,s,a=""){let l=jx(),c=t7(t,l,n,r,s);return MA(3),c?e+Ho(n)+i+Ho(r)+o+Ho(s)+a:Lr}function fye(t,e,n,i,r,o,s,a,l,c=""){let d=jx(),u=RF(t,d,n,r,s,l);return MA(4),u?e+Ho(n)+i+Ho(r)+o+Ho(s)+a+Ho(l)+c:Lr}function Ne(t){return ht("",t),Ne}function ht(t,e,n){let i=rt(),r=V7(i,t,e,n);return r!==Lr&&GS(i,ja(),r),ht}function xo(t,e,n,i,r){let o=rt(),s=H7(o,t,e,n,i,r);return s!==Lr&&GS(o,ja(),s),xo}function j7(t,e,n,i,r,o,s){let a=rt(),l=Q7(a,t,e,n,i,r,o,s);return l!==Lr&&GS(a,ja(),l),j7}function $7(t,e,n,i,r,o,s,a,l){let c=rt(),d=fye(c,t,e,n,i,r,o,s,a,l);return d!==Lr&&GS(c,ja(),d),$7}function GS(t,e,n){let i=BR(e,t);x_e(t[ii],i,n)}function Ze(t,e,n){tB(e)&&(e=e());let i=rt(),r=Xd();if(us(i,r,e)){let o=Ci(),s=fb();OG(s,i,t,e,i[ii],n)}return Ze}function tt(t,e){let n=tB(t);return n&&t.set(e),n}function Je(t,e){let n=rt(),i=Ci(),r=Nr();return P7(i,n,n[ii],r,t,e),Je}function ZF(t){return us(rt(),Xd(),t)?Ho(t):Lr}function Ts(t,e,n=""){return V7(rt(),t,e,n)}function JF(t,e,n,i,r=""){return H7(rt(),t,e,n,i,r)}function e2(t,e,n,i,r,o,s=""){return Q7(rt(),t,e,n,i,r,o,s)}function pye(t,e,n){let i=Ci();if(i.firstCreatePass){let r=Sl(t);ZB(n,i.data,i.blueprint,r,!0),ZB(e,i.data,i.blueprint,r,!1)}}function ZB(t,e,n,i,r){if(t=Jr(t),Array.isArray(t))for(let o=0;o<t.length;o++)ZB(t[o],e,n,i,r);else{let o=Ci(),s=rt(),a=Nr(),l=pp(t)?t:Jr(t.provide),c=IR(t),d=a.providerIndexes&1048575,u=a.directiveStart,p=a.providerIndexes>>20;if(pp(t)||!t.multi){let g=new kp(c,r,L,null),v=pB(l,e,r?d:d+p,u);v===-1?(AB(dS(a,s),o,l),fB(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[v]=g,s[v]=g)}else{let g=pB(l,e,d+p,u),v=pB(l,e,d,d+p),b=g>=0&&n[g],x=v>=0&&n[v];if(r&&!x||!r&&!b){AB(dS(a,s),o,l);let T=gye(r?Aye:mye,n.length,r,i,c,t);!r&&x&&(n[v].providerFactory=T),fB(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(T),s.push(T)}else{let T=z7(n[r?v:g],c,!r&&i);fB(o,t,g>-1?g:v,T)}!r&&i&&x&&n[v].componentProviders++}}}function fB(t,e,n,i){let r=pp(e),o=k$(e);if(r||o){let l=(o?Jr(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let d=c.indexOf(n);d===-1?c.push(n,[i,l]):c[d+1].push(i,l)}else c.push(n,l)}}}function z7(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function pB(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function mye(t,e,n,i,r){return JB(this.multi,[])}function Aye(t,e,n,i,r){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=_b(i,i[xt],this.providerFactory.index,r);s=l.slice(0,a),JB(o,s);for(let c=a;c<l.length;c++)s.push(l[c])}else s=[],JB(o,s);return s}function JB(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function gye(t,e,n,i,r,o){let s=new kp(t,n,L,null);return s.multi=[],s.index=e,s.componentProviders=0,z7(s,r,i&&!n),s}function yt(t,e=[]){return n=>{n.providersResolver=(i,r)=>pye(i,r?r(t):t,e)}}function t2(t,e,n){let i=t.\u0275cmp;i.directiveDefs=_S(e,v7),i.pipeDefs=_S(n,xR)}function vye(t,e,n){let i=Yd()+t,r=rt();return r[i]===Lr?GA(r,i,n?e.call(n):e()):e7(r,i)}function Dl(t,e,n,i){return G7(rt(),Yd(),t,e,n,i)}function _ye(t,e,n,i,r){return W7(rt(),Yd(),t,e,n,i,r)}function bye(t,e,n,i,r,o,s,a){let l=Yd()+t,c=rt(),d=RF(c,l,n,i,r,o);return us(c,l+4,s)||d?GA(c,l+5,a?e.call(a,n,i,r,o,s):e(n,i,r,o,s)):e7(c,l+5)}function WS(t,e){let n=t[e];return n===Lr?void 0:n}function G7(t,e,n,i,r,o){let s=e+n;return us(t,s,r)?GA(t,s+1,o?i.call(o,r):i(r)):WS(t,s+1)}function W7(t,e,n,i,r,o,s){let a=e+n;return Cb(t,a,r,o)?GA(t,a+2,s?i.call(s,r,o):i(r,o)):WS(t,a+2)}function yye(t,e,n,i,r,o,s,a){let l=e+n;return t7(t,l,r,o,s)?GA(t,l+3,a?i.call(a,r,o,s):i(r,o,s)):WS(t,l+3)}function Cye(t,e,n,i,r,o,s,a,l){let c=e+n;return RF(t,c,r,o,s,a)?GA(t,c+4,l?i.call(l,r,o,s,a):i(r,o,s,a)):WS(t,c+4)}function kt(t,e){let n=Ci(),i,r=t+fi;n.firstCreatePass?(i=wye(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=vh(i.type,!0)),s,a=as(L);try{let l=cS(!1),c=o();return cS(l),FR(n,rt(),r,c),c}finally{as(a)}}function wye(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function Ai(t,e,n){let i=t+fi,r=rt(),o=TA(r,i);return KS(r,i)?G7(r,Yd(),e,o.transform,n,o):o.transform(n)}function oi(t,e,n,i){let r=t+fi,o=rt(),s=TA(o,r);return KS(o,r)?W7(o,Yd(),e,s.transform,n,i,s):s.transform(n,i)}function Eye(t,e,n,i,r){let o=t+fi,s=rt(),a=TA(s,o);return KS(s,o)?yye(s,Yd(),e,a.transform,n,i,r,a):a.transform(n,i,r)}function xye(t,e,n,i,r,o){let s=t+fi,a=rt(),l=TA(a,s);return KS(a,s)?Cye(a,Yd(),e,l.transform,n,i,r,o,l):l.transform(n,i,r,o)}function KS(t,e){return t[xt].data[e].pure}function Vb(t,e){return OS(t,e)}var eS=null;function K7(t){eS!==null&&(t.defaultEncapsulation!==eS.defaultEncapsulation||t.preserveWhitespaces!==eS.preserveWhitespaces)||(eS=t)}var ES=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},n2=(()=>{class t{compileModuleSync(n){return new Eb(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=ER(n),o=gG(r.declarations).reduce((s,a)=>{let l=Cc(a);return l&&s.push(new Sh(l)),s},[]);return new ES(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),q7=new ie("");var Sye=(()=>{class t{zone=E(Ie);changeDetectionScheduler=E(Ua);applicationRef=E(co);applicationErrorHandler=E(ds);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Y7({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(De(V({},i2()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:Kd,multi:!0,useFactory:()=>{let i=E(Sye,{optional:!0});return()=>i.initialize()}},{provide:Kd,multi:!0,useFactory:()=>{let i=E(Tye);return()=>{i.initialize()}}},e===!0?{provide:nB,useValue:!0}:[],{provide:iB,useValue:n??w7},{provide:ds,useFactory:()=>{let i=E(Ie),r=E(Xn),o;return s=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw s}):(o??=r.get(na),o.handleError(s))})}}}]}function i2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Tye=(()=>{class t{subscription=new At;initialized=!1;zone=E(Ie);pendingTasks=E(Tc);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X7=(()=>{class t{applicationErrorHandler=E(ds);appRef=E(co);taskService=E(Tc);ngZone=E(Ie);zonelessEnabled=E(mb);tracing=E(Ih,{optional:!0});disableScheduling=E(nB,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new At;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(bS):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(iB,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xb||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let i=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?xz:E7;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(bS+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(n),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,xz(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Iye(){return typeof $localize<"u"&&$localize.locale||Ub}var iu=new ie("",{providedIn:"root",factory:()=>E(iu,{optional:!0,skipSelf:!0})||Iye()}),r2=new ie("",{providedIn:"root",factory:()=>Q0e});var qS=class{destroyed=!1;listeners=null;errorHandler=E(na,{optional:!0});destroyRef=E(Qo);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new be(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed){console.warn(Cl(953,!1));return}if(this.listeners===null)return;let n=Dt(null);try{for(let i of this.listeners)try{i(e)}catch(r){this.errorHandler?.handleError(r)}}finally{Dt(n)}}};function So(t){return p$(t)}function Pl(t,e){return j_(t,e?.equal)}var o2=class{[Zr];constructor(e){this[Zr]=e}destroy(){this[Zr].destroy()}};function ru(t,e){let n=e?.injector??E(Ge),i=e?.manualCleanup!==!0?n.get(Qo):null,r,o=n.get(xp,null,{optional:!0}),s=n.get(Ua);return o!==null?(r=Dye(o.view,s,t),i instanceof ib&&i._lView===o.view&&(i=null)):r=Pye(t,n.get(Ab),s),r.injector=n,i!==null&&(r.onDestroyFn=i.onDestroy(()=>r.destroy())),new o2(r)}var Z7=De(V({},ah),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:Sp,run(){if(this.dirty=!1,this.hasRun&&!op(this))return;this.hasRun=!0;let t=i=>(this.cleanupFns??=[]).push(i),e=Qd(this),n=kA(!1);try{this.maybeCleanup(),this.fn(t)}finally{kA(n),lh(this,e)}},maybeCleanup(){if(!this.cleanupFns?.length)return;let t=Dt(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],Dt(t)}}}),kye=De(V({},Z7),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){ch(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),Mye=De(V({},Z7),{consumerMarkedDirty(){this.view[Pt]|=8192,wh(this.view),this.notifier.notify(13)},destroy(){ch(this),this.onDestroyFn(),this.maybeCleanup(),this.view[qd]?.delete(this)}});function Dye(t,e,n){let i=Object.create(Mye);return i.view=t,i.zone=typeof Zone<"u"?Zone.current:null,i.notifier=e,i.fn=n,t[qd]??=new Set,t[qd].add(i),i.consumerMarkedDirty(i),i}function Pye(t,e,n){let i=Object.create(kye);return i.fn=t,i.scheduler=e,i.notifier=n,i.zone=typeof Zone<"u"?Zone.current:null,i.scheduler.add(i),i.notifier.notify(12),i}var l9=Symbol("InputSignalNode#UNSET"),Vye=De(V({},$_),{transformFn:void 0,applyValueToInputSignal(t,e){aA(t,e)}});function c9(t,e){let n=Object.create(Vye);n.value=t,n.transformFn=e?.transform;function i(){if(rp(n),n.value===l9){let r=null;throw new be(-950,r)}return n.value}return i[Zr]=n,i}var Pc=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Ib(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Hye=new ie("");Hye.__NG_ELEMENT_ID__=t=>{let e=Nr();if(e===null)throw new be(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new be(204,!1)};function Qtt(t){return new qS}function J7(t,e){return c9(t,e)}function Qye(t){return c9(l9,t)}var d9=(J7.required=Qye,J7);function e9(t,e){return NF(e)}function jye(t,e){return LF(e)}var jb=(e9.required=jye,e9);function t9(t,e){return NF(e)}function $ye(t,e){return LF(e)}var u9=(t9.required=$ye,t9);function zye(t,e,n){let i=new Eb(n);return Promise.resolve(i)}function n9(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var YS=new ie(""),Gye=new ie("");function Hb(t){return!t.moduleRef}function Wye(t){let e=Hb(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{Hb(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let i=e.get(ds),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:i})}),Hb(t)){let o=()=>e.destroy(),s=t.platformInjector.get(YS);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(YS);s.add(o),t.moduleRef.onDestroy(()=>{vb(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(o)})}return qye(i,n,()=>{let o=e.get(Tc),s=o.add(),a=e.get(GF);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(iu,Ub);if(D7(l||Ub),!e.get(Gye,!0))return Hb(t)?e.get(co):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Hb(t)){let d=e.get(co);return t.rootComponent!==void 0&&d.bootstrap(t.rootComponent),d}else return h9?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var h9;function i9(){h9=Kye}function Kye(t,e){let n=t.injector.get(co);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new be(-403,!1);e.push(t)}function qye(t,e,n){try{let i=n();return nu(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t(i)),i}}var f9=(()=>{class t{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(n){this._injector=n}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>S7(i?.ngZone,De(V({},i2({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[Y7({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Ua,useExisting:X7},Z$],l=g7(n.moduleType,this.injector,a);return i9(),Wye({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=WF({},i);return i9(),zye(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(YS,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||t)(K(Ge))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Qb=null,p9=new ie("");function Yye(t){if(Qb&&!Qb.get(p9,!1))throw new be(400,!1);I7(),Qb=t;let e=t.get(f9);return Jye(t),e}function m2(t,e,n=[]){let i=`Platform: ${e}`,r=new ie(i);return(o=[])=>{let s=m9();if(!s||s.injector.get(p9,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):Yye(Xye(a,i))}return Zye(r)}}function Xye(t=[],e){return Ge.create({name:e,providers:[{provide:sb,useValue:"platform"},{provide:YS,useValue:new Set([()=>Qb=null])},...t]})}function Zye(t){let e=m9();if(!e)throw new be(401,!1);return e}function m9(){return Qb?.get(f9)??null}function Jye(t){let e=t.get(xS,null);ao(t,()=>{e?.forEach(n=>n())})}var zt=(()=>{class t{static __NG_ELEMENT_ID__=eCe}return t})();function eCe(t){return tCe(Nr(),rt(),(t&16)===16)}function tCe(t,e,n){if(Ch(t)&&!n){let i=Qa(t.index,e);return new xh(i,i)}else if(t.type&175){let i=e[cs];return new xh(i,e)}return null}var a2=class{constructor(){}supports(e){return OF(e)}create(e){return new l2(e)}},nCe=(t,e)=>e,l2=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||nCe}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<r9(i,r,o)?n:i,a=r9(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,d=l-r;if(c!=d){for(let p=0;p<c;p++){let g=p<o.length?o[p]:o[p]=0,v=g+p;d<=v&&v<c&&(o[p]=g+1)}let u=s.previousIndex;o[u]=d-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!OF(e))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,JG(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new c2(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new XS),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new XS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},c2=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},d2=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},XS=class{map=new Map;put(e){let n=e.trackById,i=this.map.get(n);i||(i=new d2,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function r9(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var u2=class{constructor(){}supports(e){return e instanceof Map||BS(e)}create(){return new h2}},h2=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||BS(e)))throw new be(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let i=e._prev;return n._next=e,n._prev=i,e._prev=n,i&&(i._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,n);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let i=new f2(e);return this._records.set(e,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(i=>n(e[i],i))}},f2=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function o9(){return new $b([new a2])}var $b=(()=>{class t{factories;static \u0275prov=W({token:t,providedIn:"root",factory:o9});constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||o9()),deps:[[t,new nF,new HA]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new be(901,!1)}}return t})();function s9(){return new ZS([new u2])}var ZS=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:s9});factories;constructor(n){this.factories=n}static create(n,i){if(i){let r=i.factories.slice();n=n.concat(r)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||s9()),deps:[[t,new nF,new HA]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i)return i;throw new be(901,!1)}}return t})();var A9=m2(null,"core",[]),g9=(()=>{class t{constructor(n){}static \u0275fac=function(i){return new(i||t)(K(co))};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();function He(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function $o(t,e=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):e}var s2=Symbol("NOT_SET"),v9=new Set,iCe=De(V({},$_),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:s2,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(t){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==s2&&!op(this))return this.signal;try{for(let r of this.cleanup??v9)r()}finally{this.cleanup?.clear()}let e=[];t!==void 0&&e.push(t),e.push(this.registerCleanupFn);let n=Qd(this),i;try{i=this.userFn.apply(null,e)}finally{lh(this,n)}return(this.value===s2||!this.equal(this.value,i))&&(this.value=i,this.version++),this.signal}}),p2=class extends Sb{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,n,i,r,o,s=null){super(e,[void 0,void 0,void 0,void 0],i,!1,o,s),this.scheduler=r;for(let a of QF){let l=n[a];if(l===void 0)continue;let c=Object.create(iCe);c.sequence=this,c.phase=a,c.userFn=l,c.dirty=!0,c.signal=()=>(rp(c),c.value),c.signal[Zr]=c,c.registerCleanupFn=d=>(c.cleanup??=new Set).add(d),this.nodes[a]=c,this.hooks[a]=d=>c.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let n of e.cleanup??v9)n()}finally{ch(e)}}};function _9(t,e){let n=e?.injector??E(Ge),i=n.get(Ua),r=n.get(LS),o=n.get(Ih,null,{optional:!0});r.impl??=n.get(jF);let s=t;typeof s=="function"&&(s={mixedReadWrite:t});let a=n.get(xp,null,{optional:!0}),l=new p2(r.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,i,n.get(Qo),o?.snapshot(null));return r.impl.register(l),l}function JS(t,e){let n=Cc(t),i=e.elementInjector||CA();return new Sh(n).create(i,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}function b9(t){let e=Cc(t);if(!e)return null;let n=new Sh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var w9=null;function Is(){return w9}function A2(t){w9??=t}var zb=class{},Gb=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>E(E9),providedIn:"platform"})}return t})(),g2=new ie(""),E9=(()=>{class t extends Gb{_location;_history;_doc=E(ut);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Is().getBaseHref(this._doc)}onPopState(n){let i=Is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Is().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function eT(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function y9(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ol(t){return t&&t[0]!=="?"?`?${t}`:t}var Rl=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>E(nT),providedIn:"root"})}return t})(),tT=new ie(""),nT=(()=>{class t extends Rl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(ut).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return eT(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Ol(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Ol(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Ol(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(K(Gb),K(tT,8))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Oc=(()=>{class t{_subject=new O;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=sCe(y9(C9(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Ol(i))}normalize(n){return t.stripTrailingSlash(oCe(this._basePath,C9(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ol(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ol(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Ol;static joinWithSlash=eT;static stripTrailingSlash=y9;static \u0275fac=function(i){return new(i||t)(K(Rl))};static \u0275prov=W({token:t,factory:()=>rCe(),providedIn:"root"})}return t})();function rCe(){return new Oc(K(Rl))}function oCe(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function C9(t){return t.replace(/\/index.html$/,"")}function sCe(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var S2=(()=>{class t extends Rl{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,i){super(),this._platformLocation=n,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=eT(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+Ol(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+Ol(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(i){return new(i||t)(K(Gb),K(tT,8))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),P9={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},hT=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(hT||{});var zo=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(zo||{}),si=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(si||{}),ks=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ks||{}),To={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function O9(t){return fs(t)[tr.LocaleId]}function R9(t,e,n){let i=fs(t),r=[i[tr.DayPeriodsFormat],i[tr.DayPeriodsStandalone]],o=za(r,e);return za(o,n)}function B9(t,e,n){let i=fs(t),r=[i[tr.DaysFormat],i[tr.DaysStandalone]],o=za(r,e);return za(o,n)}function F9(t,e,n){let i=fs(t),r=[i[tr.MonthsFormat],i[tr.MonthsStandalone]],o=za(r,e);return za(o,n)}function N9(t,e){let i=fs(t)[tr.Eras];return za(i,e)}function Wb(t,e){let n=fs(t);return za(n[tr.DateFormat],e)}function Kb(t,e){let n=fs(t);return za(n[tr.TimeFormat],e)}function qb(t,e){let i=fs(t)[tr.DateTimeFormat];return za(i,e)}function Fl(t,e){let n=fs(t),i=n[tr.NumberSymbols][e];if(typeof i>"u"){if(e===To.CurrencyDecimal)return n[tr.NumberSymbols][To.Decimal];if(e===To.CurrencyGroup)return n[tr.NumberSymbols][To.Group]}return i}function T2(t,e){return fs(t)[tr.NumberFormats][e]}function aCe(t){return fs(t)[tr.Currencies]}function L9(t){if(!t[tr.ExtraData])throw new be(2303,!1)}function U9(t){let e=fs(t);return L9(e),(e[tr.ExtraData][2]||[]).map(i=>typeof i=="string"?v2(i):[v2(i[0]),v2(i[1])])}function V9(t,e,n){let i=fs(t);L9(i);let r=[i[tr.ExtraData][0],i[tr.ExtraData][1]],o=za(r,e)||[];return za(o,n)||[]}function za(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new be(2304,!1)}function v2(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function H9(t,e,n="en"){let i=aCe(n)[t]||P9[t]||[],r=i[1];return e==="narrow"&&typeof r=="string"?r:i[0]||t}var lCe=2;function Q9(t){let e,n=P9[t];return n&&(e=n[2]),typeof e=="number"?e:lCe}var cCe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,iT={},dCe=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function j9(t,e,n,i){let r=_Ce(t);e=ou(n,e)||e;let s=[],a;for(;e;)if(a=dCe.exec(e),a){s=s.concat(a.slice(1));let d=s.pop();if(!d)break;e=d}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=z9(i,l),r=vCe(r,i));let c="";return s.forEach(d=>{let u=ACe(d);c+=u?u(r,n,l):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function lT(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function ou(t,e){let n=O9(t);if(iT[n]??={},iT[n][e])return iT[n][e];let i="";switch(e){case"shortDate":i=Wb(t,ks.Short);break;case"mediumDate":i=Wb(t,ks.Medium);break;case"longDate":i=Wb(t,ks.Long);break;case"fullDate":i=Wb(t,ks.Full);break;case"shortTime":i=Kb(t,ks.Short);break;case"mediumTime":i=Kb(t,ks.Medium);break;case"longTime":i=Kb(t,ks.Long);break;case"fullTime":i=Kb(t,ks.Full);break;case"short":let r=ou(t,"shortTime"),o=ou(t,"shortDate");i=rT(qb(t,ks.Short),[r,o]);break;case"medium":let s=ou(t,"mediumTime"),a=ou(t,"mediumDate");i=rT(qb(t,ks.Medium),[s,a]);break;case"long":let l=ou(t,"longTime"),c=ou(t,"longDate");i=rT(qb(t,ks.Long),[l,c]);break;case"full":let d=ou(t,"fullTime"),u=ou(t,"fullDate");i=rT(qb(t,ks.Full),[d,u]);break}return i&&(iT[n][e]=i),i}function rT(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function Bl(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function uCe(t,e){return Bl(t,3).substring(0,e)}function Vr(t,e,n=0,i=!1,r=!1){return function(o,s){let a=hCe(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return uCe(a,e);let l=Fl(s,To.MinusSign);return Bl(a,e,l,i,r)}}function hCe(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new be(2301,!1)}}function Ei(t,e,n=zo.Format,i=!1){return function(r,o){return fCe(r,o,t,e,n,i)}}function fCe(t,e,n,i,r,o){switch(n){case 2:return F9(e,r,i)[t.getMonth()];case 1:return B9(e,r,i)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let c=U9(e),d=V9(e,r,i),u=c.findIndex(p=>{if(Array.isArray(p)){let[g,v]=p,b=s>=g.hours&&a>=g.minutes,x=s<v.hours||s===v.hours&&a<v.minutes;if(g.hours<v.hours){if(b&&x)return!0}else if(b||x)return!0}else if(p.hours===s&&p.minutes===a)return!0;return!1});if(u!==-1)return d[u]}return R9(e,r,i)[s<12?0:1];case 3:return N9(e,i)[t.getFullYear()<=0?0:1];default:let l=n;throw new be(2302,!1)}}function oT(t){return function(e,n,i){let r=-1*i,o=Fl(n,To.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+Bl(s,2,o)+Bl(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+Bl(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+Bl(s,2,o)+":"+Bl(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+Bl(s,2,o)+":"+Bl(Math.abs(r%60),2,o);default:throw new be(2302,!1)}}}var pCe=0,aT=4;function mCe(t){let e=lT(t,pCe,1).getDay();return lT(t,0,1+(e<=aT?aT:aT+7)-e)}function $9(t){let e=t.getDay(),n=e===0?-3:aT-e;return lT(t.getFullYear(),t.getMonth(),t.getDate()+n)}function _2(t,e=!1){return function(n,i){let r;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=$9(n),s=mCe(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Bl(r,t,Fl(i,To.MinusSign))}}function sT(t,e=!1){return function(n,i){let o=$9(n).getFullYear();return Bl(o,t,Fl(i,To.MinusSign),e)}}var b2={};function ACe(t){if(b2[t])return b2[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ei(3,si.Abbreviated);break;case"GGGG":e=Ei(3,si.Wide);break;case"GGGGG":e=Ei(3,si.Narrow);break;case"y":e=Vr(0,1,0,!1,!0);break;case"yy":e=Vr(0,2,0,!0,!0);break;case"yyy":e=Vr(0,3,0,!1,!0);break;case"yyyy":e=Vr(0,4,0,!1,!0);break;case"Y":e=sT(1);break;case"YY":e=sT(2,!0);break;case"YYY":e=sT(3);break;case"YYYY":e=sT(4);break;case"M":case"L":e=Vr(1,1,1);break;case"MM":case"LL":e=Vr(1,2,1);break;case"MMM":e=Ei(2,si.Abbreviated);break;case"MMMM":e=Ei(2,si.Wide);break;case"MMMMM":e=Ei(2,si.Narrow);break;case"LLL":e=Ei(2,si.Abbreviated,zo.Standalone);break;case"LLLL":e=Ei(2,si.Wide,zo.Standalone);break;case"LLLLL":e=Ei(2,si.Narrow,zo.Standalone);break;case"w":e=_2(1);break;case"ww":e=_2(2);break;case"W":e=_2(1,!0);break;case"d":e=Vr(2,1);break;case"dd":e=Vr(2,2);break;case"c":case"cc":e=Vr(7,1);break;case"ccc":e=Ei(1,si.Abbreviated,zo.Standalone);break;case"cccc":e=Ei(1,si.Wide,zo.Standalone);break;case"ccccc":e=Ei(1,si.Narrow,zo.Standalone);break;case"cccccc":e=Ei(1,si.Short,zo.Standalone);break;case"E":case"EE":case"EEE":e=Ei(1,si.Abbreviated);break;case"EEEE":e=Ei(1,si.Wide);break;case"EEEEE":e=Ei(1,si.Narrow);break;case"EEEEEE":e=Ei(1,si.Short);break;case"a":case"aa":case"aaa":e=Ei(0,si.Abbreviated);break;case"aaaa":e=Ei(0,si.Wide);break;case"aaaaa":e=Ei(0,si.Narrow);break;case"b":case"bb":case"bbb":e=Ei(0,si.Abbreviated,zo.Standalone,!0);break;case"bbbb":e=Ei(0,si.Wide,zo.Standalone,!0);break;case"bbbbb":e=Ei(0,si.Narrow,zo.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ei(0,si.Abbreviated,zo.Format,!0);break;case"BBBB":e=Ei(0,si.Wide,zo.Format,!0);break;case"BBBBB":e=Ei(0,si.Narrow,zo.Format,!0);break;case"h":e=Vr(3,1,-12);break;case"hh":e=Vr(3,2,-12);break;case"H":e=Vr(3,1);break;case"HH":e=Vr(3,2);break;case"m":e=Vr(4,1);break;case"mm":e=Vr(4,2);break;case"s":e=Vr(5,1);break;case"ss":e=Vr(5,2);break;case"S":e=Vr(6,1);break;case"SS":e=Vr(6,2);break;case"SSS":e=Vr(6,3);break;case"Z":case"ZZ":case"ZZZ":e=oT(0);break;case"ZZZZZ":e=oT(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=oT(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=oT(2);break;default:return null}return b2[t]=e,e}function z9(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function gCe(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function vCe(t,e,n){let r=t.getTimezoneOffset(),o=z9(e,r);return gCe(t,-1*(o-r))}function _Ce(t){if(x9(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return lT(r,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(cCe))return bCe(i)}let e=new Date(t);if(!x9(e))throw new be(2302,!1);return e}function bCe(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function x9(t){return t instanceof Date&&!isNaN(t.valueOf())}var yCe=/^(\d+)?\.((\d+)(-(\d+))?)?$/,S9=22,cT=".",Yb="0",CCe=";",wCe=",",y2="#",T9="\xA4";function G9(t,e,n,i,r,o,s=!1){let a="",l=!1;if(!isFinite(t))a=Fl(n,To.Infinity);else{let c=xCe(t);s&&(c=ECe(c));let d=e.minInt,u=e.minFrac,p=e.maxFrac;if(o){let k=o.match(yCe);if(k===null)throw new be(2306,!1);let U=k[1],D=k[3],N=k[5];U!=null&&(d=C2(U)),D!=null&&(u=C2(D)),N!=null?p=C2(N):D!=null&&u>p&&(p=u)}SCe(c,u,p);let g=c.digits,v=c.integerLen,b=c.exponent,x=[];for(l=g.every(k=>!k);v<d;v++)g.unshift(0);for(;v<0;v++)g.unshift(0);v>0?x=g.splice(v,g.length):(x=g,g=[0]);let T=[];for(g.length>=e.lgSize&&T.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)T.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&T.unshift(g.join("")),a=T.join(Fl(n,i)),x.length&&(a+=Fl(n,r)+x.join("")),b&&(a+=Fl(n,To.Exponential)+"+"+b)}return t<0&&!l?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function W9(t,e,n,i,r){let o=T2(e,hT.Currency),s=q9(o,Fl(e,To.MinusSign));return s.minFrac=Q9(i),s.maxFrac=s.minFrac,G9(t,s,e,To.CurrencyGroup,To.CurrencyDecimal,r).replace(T9,n).replace(T9,"").trim()}function K9(t,e,n){let i=T2(e,hT.Decimal),r=q9(i,Fl(e,To.MinusSign));return G9(t,r,e,To.Group,To.Decimal,n)}function q9(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(CCe),r=i[0],o=i[1],s=r.indexOf(cT)!==-1?r.split(cT):[r.substring(0,r.lastIndexOf(Yb)+1),r.substring(r.lastIndexOf(Yb)+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf(y2));for(let d=0;d<l.length;d++){let u=l.charAt(d);u===Yb?n.minFrac=n.maxFrac=d+1:u===y2?n.maxFrac=d+1:n.posSuf+=u}let c=a.split(wCe);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let d=r.length-n.posPre.length-n.posSuf.length,u=o.indexOf(y2);n.negPre=o.substring(0,u).replace(/'/g,""),n.negSuf=o.slice(u+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function ECe(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function xCe(t){let e=Math.abs(t)+"",n=0,i,r,o,s,a;for((r=e.indexOf(cT))>-1&&(e=e.replace(cT,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===Yb;o++);if(o===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===Yb;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(e.charAt(o))}return r>S9&&(i=i.splice(0,S9-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function SCe(t,e,n){if(e>n)throw new be(2307,!1);let i=t.digits,r=i.length-t.integerLen,o=Math.min(Math.max(e,r),n),s=o+t.integerLen,a=i[s];if(s>0){i.splice(Math.max(t.integerLen,s));for(let u=s;u<i.length;u++)i[u]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(let u=0;u>s;u--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=e+t.integerLen,d=i.reduceRight(function(u,p,g,v){return p=p+u,v[g]=p<10?p:p-10,l&&(v[g]===0&&g>=c?v.pop():l=!1),p>=10?1:0},0);d&&(i.unshift(d),t.integerLen++)}function C2(t){let e=parseInt(t);if(isNaN(e))throw new be(2305,!1);return e}var w2=/\s+/,I9=[],Xb=(()=>{class t{_ngEl;_renderer;initialClasses=I9;rawClass;stateMap=new Map;constructor(n,i){this._ngEl=n,this._renderer=i}set klass(n){this.initialClasses=n!=null?n.trim().split(w2):I9}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(w2):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(w2).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||t)(L(Se),L(_n))};static \u0275dir=ye({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var dT=class{$implicit;ngForOf;index;count;constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Y9=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new dT(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),k9(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);k9(o,r)})}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(L(mi),L(Mi),L($b))};static \u0275dir=ye({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function k9(t,e){t.context.$implicit=e.item}var TCe=(()=>{class t{_viewContainer;_context=new uT;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,i){this._viewContainer=n,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){M9(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){M9(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)(L(mi),L(Mi))};static \u0275dir=ye({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),uT=class{$implicit=null;ngIf=null};function M9(t,e){if(t&&!t.createEmbeddedView)throw new be(2020,!1)}var ICe=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){let[r,o]=n.split("."),s=r.indexOf("-")===-1?void 0:Ml.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static \u0275fac=function(i){return new(i||t)(L(Se),L(ZS),L(_n))};static \u0275dir=ye({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),Zb=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||t)(L(mi))};static \u0275dir=ye({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[gt]})}return t})();function Jb(t,e){return new be(2100,!1)}var E2=class{createSubscription(e,n,i){return So(()=>e.subscribe({next:n,error:i}))}dispose(e){So(()=>e.unsubscribe())}},x2=class{createSubscription(e,n,i){return e.then(r=>n?.(r),r=>i?.(r)),{unsubscribe:()=>{n=null,i=null}}}dispose(e){e.unsubscribe()}},kCe=new x2,MCe=new E2,e0=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=E(ds);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i),i=>this.applicationErrorHandler(i))}_selectStrategy(n){if(nu(n))return kCe;if(HS(n))return MCe;throw Jb(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||t)(L(zt,16))};static \u0275pipe=Sr({name:"async",type:t,pure:!1})}return t})(),DCe=(()=>{class t{transform(n){if(n==null)return null;if(typeof n!="string")throw Jb(t,n);return n.toLowerCase()}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Sr({name:"lowercase",type:t,pure:!0})}return t})();var PCe="mediumDate",X9=new ie(""),Z9=new ie(""),OCe=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,i,r){this.locale=n,this.defaultTimezone=i,this.defaultOptions=r}transform(n,i,r,o){if(n==null||n===""||n!==n)return null;try{let s=i??this.defaultOptions?.dateFormat??PCe,a=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return j9(n,s,o||this.locale,a)}catch(s){throw Jb(t,s.message)}}static \u0275fac=function(i){return new(i||t)(L(iu,16),L(X9,24),L(Z9,24))};static \u0275pipe=Sr({name:"date",type:t,pure:!0})}return t})();var RCe=(()=>{class t{transform(n){return JSON.stringify(n,null,2)}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Sr({name:"json",type:t,pure:!1})}return t})();function BCe(t,e){return{key:t,value:e}}var I2=(()=>{class t{differs;constructor(n){this.differs=n}differ;keyValues=[];compareFn=D9;transform(n,i=D9){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ??=this.differs.find(n).create();let r=this.differ.diff(n),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(BCe(s.key,s.currentValue))})),(r||o)&&(i&&this.keyValues.sort(i),this.compareFn=i),this.keyValues}static \u0275fac=function(i){return new(i||t)(L(ZS,16))};static \u0275pipe=Sr({name:"keyvalue",type:t,pure:!1})}return t})();function D9(t,e){let n=t.key,i=e.key;if(n===i)return 0;if(n==null)return 1;if(i==null)return-1;if(typeof n=="string"&&typeof i=="string")return n<i?-1:1;if(typeof n=="number"&&typeof i=="number")return n-i;if(typeof n=="boolean"&&typeof i=="boolean")return n<i?-1:1;let r=String(n),o=String(i);return r==o?0:r<o?-1:1}var FCe=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,i,r){if(!J9(n))return null;r||=this._locale;try{let o=eW(n);return K9(o,r,i)}catch(o){throw Jb(t,o.message)}}static \u0275fac=function(i){return new(i||t)(L(iu,16))};static \u0275pipe=Sr({name:"number",type:t,pure:!0})}return t})();var NCe=(()=>{class t{_locale;_defaultCurrencyCode;constructor(n,i="USD"){this._locale=n,this._defaultCurrencyCode=i}transform(n,i=this._defaultCurrencyCode,r="symbol",o,s){if(!J9(n))return null;s||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=H9(a,r==="symbol"?"wide":"narrow",s):a=r);try{let l=eW(n);return W9(l,s,a,i,o)}catch(l){throw Jb(t,l.message)}}static \u0275fac=function(i){return new(i||t)(L(iu,16),L(r2,16))};static \u0275pipe=Sr({name:"currency",type:t,pure:!0})}return t})();function J9(t){return!(t==null||t===""||t!==t)}function eW(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new be(2309,!1);return t}var t0=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();function n0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Dp=class{};var D2="browser";function ZA(t){return t===D2}var tW=(()=>{class t{static \u0275prov=W({token:t,providedIn:"root",factory:()=>new k2(E(ut),window)})}return t})(),k2=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(De(V({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let i=LCe(this.document,e);i&&(this.scrollToElement(i,n),i.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Cl(2400,!1))}}scrollToElement(e,n){let i=e.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(De(V({},n),{left:r-s[0],top:o-s[1]}))}};function LCe(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var mT=new ie(""),F2=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,i){this._zone=i,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r,o){return this._findPluginFor(i).addEventListener(n,i,r,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new be(5101,!1);return this._eventNameToPlugin.set(n,i),i}static \u0275fac=function(i){return new(i||t)(K(mT),K(Ie))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),i0=class{_doc;constructor(e){this._doc=e}manager},P2="ng-app-id";function nW(t){for(let e of t)e.remove()}function iW(t,e){let n=e.createElement("style");return n.textContent=t,n}function UCe(t,e,n,i){let r=t.head?.querySelectorAll(`style[${P2}="${e}"],link[${P2}="${e}"]`);if(r)for(let o of r)o.removeAttribute(P2),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function R2(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var N2=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,UCe(n,i,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,i){for(let r of n)this.addUsage(r,this.inline,iW);i?.forEach(r=>this.addUsage(r,this.external,R2))}removeStyles(n,i){for(let r of n)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(n,i,r){let o=i.get(n);o?o.usage++:i.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(n,this.doc)))})}removeUsage(n,i){let r=i.get(n);r&&(r.usage--,r.usage<=0&&(nW(r.elements),i.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])nW(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(n,iW(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(n,R2(i,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,i){return this.nonce&&i.setAttribute("nonce",this.nonce),n.appendChild(i)}static \u0275fac=function(i){return new(i||t)(K(ut),K(Th),K(jA,8),K($a))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),O2={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},L2=/%COMP%/g;var oW="%COMP%",VCe=`_nghost-${oW}`,HCe=`_ngcontent-${oW}`,QCe=!0,jCe=new ie("",{providedIn:"root",factory:()=>QCe});function $Ce(t){return HCe.replace(L2,t)}function zCe(t){return VCe.replace(L2,t)}function sW(t,e){return e.map(n=>n.replace(L2,t))}var U2=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,i,r,o,s,a,l,c=null,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new r0(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(n,i);return r instanceof pT?r.applyToHost(n):r instanceof o0&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(i.encapsulation){case Jd.Emulated:o=new pT(l,c,i,this.appId,d,s,a,u,p);break;case Jd.ShadowDom:return new B2(l,c,n,i,s,a,this.nonce,u,p);default:o=new o0(l,c,i,d,s,a,u,p);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(i){return new(i||t)(K(F2),K(N2),K(Th),K(jCe),K(ut),K($a),K(Ie),K(jA),K(Ih,8))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),r0=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,i,r,o){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(O2[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(rW(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(rW(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){n.remove()}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new be(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=O2[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=O2[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Ml.DashCase|Ml.Important)?e.style.setProperty(n,i,r&Ml.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Ml.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i,r){if(typeof e=="string"&&(e=Is().getGlobalEventTarget(this.doc,e),!e))throw new be(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,r)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function rW(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var B2=class extends r0{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,i,r,o,s,a,l,c){super(e,o,s,l,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=r.styles;d=sW(r.id,d);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}let u=r.getExternalStyles?.();if(u)for(let p of u){let g=R2(p,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},o0=class extends r0{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,i,r,o,s,a,l,c){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r;let d=i.styles;this.styles=c?sW(c,d):d,this.styleUrls=i.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pT=class extends o0{contentAttr;hostAttr;constructor(e,n,i,r,o,s,a,l,c){let d=r+"-"+i.id;super(e,n,i,o,s,a,l,c,d),this.contentAttr=$Ce(d),this.hostAttr=zCe(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}};var AT=class t extends zb{supportsDOMEvents=!0;static makeCurrent(){A2(new t)}onAndCancel(e,n,i,r){return e.addEventListener(n,i,r),()=>{e.removeEventListener(n,i,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=GCe();return n==null?null:WCe(n)}resetBaseElement(){s0=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return n0(document.cookie,e)}},s0=null;function GCe(){return s0=s0||document.head.querySelector("base"),s0?s0.getAttribute("href"):null}function WCe(t){return new URL(t,document.baseURI).pathname}var gT=class{addToWindow(e){Fr.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new be(5103,!1);return o},Fr.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fr.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Fr.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};Fr.frameworkStabilizers||(Fr.frameworkStabilizers=[]),Fr.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?Is().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},KCe=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),lW=(()=>{class t extends i0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r,o){return n.addEventListener(i,r,o),()=>this.removeEventListener(n,i,r,o)}removeEventListener(n,i,r,o){return n.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||t)(K(ut))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),aW=["alt","control","meta","shift"],qCe={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},YCe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cW=(()=>{class t extends i0{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,r,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Is().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),aW.forEach(c=>{let d=i.indexOf(c);d>-1&&(i.splice(d,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=qCe[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),aW.forEach(s=>{if(s!==r){let a=YCe[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{t.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(i){return new(i||t)(K(ut))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function XCe(){AT.makeCurrent()}function ZCe(){return new na}function JCe(){return oF(document),document}var ewe=[{provide:$a,useValue:D2},{provide:xS,useValue:XCe,multi:!0},{provide:ut,useFactory:JCe}],twe=m2(A9,"browser",ewe);var nwe=[{provide:qA,useClass:gT},{provide:VS,useClass:Nb,deps:[Ie,Lb,qA]},{provide:Nb,useClass:Nb,deps:[Ie,Lb,qA]}],iwe=[{provide:sb,useValue:"root"},{provide:na,useFactory:ZCe},{provide:mT,useClass:lW,multi:!0,deps:[ut]},{provide:mT,useClass:cW,multi:!0,deps:[ut]},U2,N2,F2,{provide:er,useExisting:U2},{provide:Dp,useClass:KCe},[]],rwe=(()=>{class t{constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[...iwe,...nwe],imports:[t0,g9]})}return t})();var tg=class{},kh=class{},Mh=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=n.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.addHeaderEntry(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(n):this.headers.set(i,[n])}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var _T=class{encodeKey(e){return dW(e)}encodeValue(e){return dW(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function owe(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var swe=/%(\d[a-f0-9])/gi,awe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dW(t){return encodeURIComponent(t).replace(swe,(e,n)=>awe[n]??e)}function vT(t){return`${t}`}var Oe=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new _T,e.fromString){if(e.fromObject)throw new be(2805,!1);this.map=owe(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(vT):[vT(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(vT(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(vT(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var bT=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function lwe(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function uW(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function hW(t){return typeof Blob<"u"&&t instanceof Blob}function fW(t){return typeof FormData<"u"&&t instanceof FormData}function cwe(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var pW="Content-Type",mW="Accept",gW="X-Request-URL",vW="text/plain",_W="application/json",dwe=`${_W}, ${vW}, */*`,JA=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,n,i,r){this.url=n,this.method=e.toUpperCase();let o;if(lwe(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new Error("");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),this.transferCache=o.transferCache}if(this.headers??=new Mh,this.context??=new bT,!this.params)this.params=new Oe,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||uW(this.body)||hW(this.body)||fW(this.body)||cwe(this.body)?this.body:this.body instanceof Oe?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||fW(this.body)?null:hW(this.body)?this.body.type||null:uW(this.body)?null:typeof this.body=="string"?vW:this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?_W:null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,l=e.mode||this.mode,c=e.redirect||this.redirect,d=e.credentials||this.credentials,u=e.transferCache??this.transferCache,p=e.timeout??this.timeout,g=e.body!==void 0?e.body:this.body,v=e.withCredentials??this.withCredentials,b=e.reportProgress??this.reportProgress,x=e.headers||this.headers,T=e.params||this.params,k=e.context??this.context;return e.setHeaders!==void 0&&(x=Object.keys(e.setHeaders).reduce((U,D)=>U.set(D,e.setHeaders[D]),x)),e.setParams&&(T=Object.keys(e.setParams).reduce((U,D)=>U.set(D,e.setParams[D]),T)),new t(n,i,g,{params:T,headers:x,context:k,reportProgress:b,responseType:r,withCredentials:v,transferCache:u,keepalive:o,cache:a,priority:s,timeout:p,mode:l,redirect:c,credentials:d})}},Pp=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Pp||{}),ng=class{headers;status;statusText;url;ok;type;constructor(e,n=200,i="OK"){this.headers=e.headers||new Mh,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},yT=class t extends ng{constructor(e={}){super(e)}type=Pp.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},a0=class t extends ng{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Pp.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},eg=class extends ng{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},uwe=200,hwe=204;function V2(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache,keepalive:t.keepalive,priority:t.priority,cache:t.cache,mode:t.mode,redirect:t.redirect}}var Mt=(()=>{class t{handler;constructor(n){this.handler=n}request(n,i,r={}){let o;if(n instanceof JA)o=n;else{let l;r.headers instanceof Mh?l=r.headers:l=new Mh(r.headers);let c;r.params&&(r.params instanceof Oe?c=r.params:c=new Oe({fromObject:r.params})),o=new JA(n,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials})}let s=Re(o).pipe(Na(l=>this.handler.handle(l)));if(n instanceof JA||r.observe==="events")return s;let a=s.pipe(qe(l=>l instanceof a0));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new be(2806,!1);return l.body}));case"blob":return a.pipe(se(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new be(2807,!1);return l.body}));case"text":return a.pipe(se(l=>{if(l.body!==null&&typeof l.body!="string")throw new be(2808,!1);return l.body}));case"json":default:return a.pipe(se(l=>l.body))}case"response":return a;default:throw new be(2809,!1)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Oe().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,V2(r,i))}post(n,i,r={}){return this.request("POST",n,V2(r,i))}put(n,i,r={}){return this.request("PUT",n,V2(r,i))}static \u0275fac=function(i){return new(i||t)(K(tg))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();var fwe=new ie("");function bW(t,e){return e(t)}function pwe(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function mwe(t,e,n){return(i,r)=>ao(n,()=>e(i,o=>t(o,r)))}var yW=new ie(""),Q2=new ie(""),CW=new ie(""),j2=new ie("",{providedIn:"root",factory:()=>!0});function Awe(){let t=null;return(e,n)=>{t===null&&(t=(E(yW,{optional:!0})??[]).reduceRight(pwe,bW));let i=E(PA);if(E(j2)){let o=i.add();return t(e,n).pipe(mh(o))}else return t(e,n)}}var CT=(()=>{class t extends tg{backend;injector;chain=null;pendingTasks=E(PA);contributeToStability=E(j2);constructor(n,i){super(),this.backend=n,this.injector=i}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Q2),...this.injector.get(CW,[])]));this.chain=i.reduceRight((r,o)=>mwe(r,o,this.injector),bW)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(mh(i))}else return this.chain(n,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||t)(K(kh),K(Xn))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();var gwe=/^\)\]\}',?\n/,vwe=RegExp(`^${gW}:`,"m");function _we(t){return"responseURL"in t&&t.responseURL?t.responseURL:vwe.test(t.getAllResponseHeaders())?t.getResponseHeader(gW):null}var H2=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new be(-2800,!1);let i=this.xhrFactory;return Re(null).pipe(nn(()=>new Xe(o=>{let s=i.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((x,T)=>s.setRequestHeader(x,T.join(","))),n.headers.has(mW)||s.setRequestHeader(mW,dwe),!n.headers.has(pW)){let x=n.detectContentTypeHeader();x!==null&&s.setRequestHeader(pW,x)}if(n.timeout&&(s.timeout=n.timeout),n.responseType){let x=n.responseType.toLowerCase();s.responseType=x!=="json"?x:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let x=s.statusText||"OK",T=new Mh(s.getAllResponseHeaders()),k=_we(s)||n.url;return l=new yT({headers:T,status:s.status,statusText:x,url:k}),l},d=()=>{let{headers:x,status:T,statusText:k,url:U}=c(),D=null;T!==hwe&&(D=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=D?uwe:0);let N=T>=200&&T<300;if(n.responseType==="json"&&typeof D=="string"){let z=D;D=D.replace(gwe,"");try{D=D!==""?JSON.parse(D):null}catch(Z){D=z,N&&(N=!1,D={error:Z,text:D})}}N?(o.next(new a0({body:D,headers:x,status:T,statusText:k,url:U||void 0})),o.complete()):o.error(new eg({error:D,headers:x,status:T,statusText:k,url:U||void 0}))},u=x=>{let{url:T}=c(),k=new eg({error:x,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(k)},p=u;n.timeout&&(p=x=>{let{url:T}=c(),k=new eg({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:T||void 0});o.error(k)});let g=!1,v=x=>{g||(o.next(c()),g=!0);let T={type:Pp.DownloadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),n.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),o.next(T)},b=x=>{let T={type:Pp.UploadProgress,loaded:x.loaded};x.lengthComputable&&(T.total=x.total),o.next(T)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",p),s.addEventListener("abort",u),n.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:Pp.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||t)(K(Dp))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),wW=new ie(""),bwe="XSRF-TOKEN",ywe=new ie("",{providedIn:"root",factory:()=>bwe}),Cwe="X-XSRF-TOKEN",wwe=new ie("",{providedIn:"root",factory:()=>Cwe}),l0=class{},Ewe=(()=>{class t{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,i){this.doc=n,this.cookieName=i}getToken(){let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=n0(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(i){return new(i||t)(K(ut),K(ywe))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function xwe(t,e){let n=t.url.toLowerCase();if(!E(wW)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=E(l0).getToken(),r=E(wwe);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var $2=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}($2||{});function Swe(t,e){return{\u0275kind:t,\u0275providers:e}}function Twe(...t){let e=[Mt,H2,CT,{provide:tg,useExisting:CT},{provide:kh,useFactory:()=>E(fwe,{optional:!0})??E(H2)},{provide:Q2,useValue:xwe,multi:!0},{provide:wW,useValue:!0},{provide:l0,useClass:Ewe}];for(let n of t)e.push(...n.\u0275providers);return gp(e)}var AW=new ie("");function Iwe(){return Swe($2.LegacyInterceptors,[{provide:AW,useFactory:Awe},{provide:Q2,useExisting:AW,multi:!0}])}var trt=(()=>{class t{_doc;_dom;constructor(n){this._doc=n,this._dom=Is()}addTag(n,i=!1){return n?this._getOrCreateElement(n,i):null}addTags(n,i=!1){return n?n.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(n){return n&&this._doc.querySelector(`meta[${n}]`)||null}getTags(n){if(!n)return[];let i=this._doc.querySelectorAll(`meta[${n}]`);return i?[].slice.call(i):[]}updateTag(n,i){if(!n)return null;i=i||this._parseSelector(n);let r=this.getTag(i);return r?this._setMetaElementAttributes(n,r):this._getOrCreateElement(n,!0)}removeTag(n){this.removeTagElement(this.getTag(n))}removeTagElement(n){n&&this._dom.remove(n)}_getOrCreateElement(n,i=!1){if(!i){let s=this._parseSelector(n),a=this.getTags(s).filter(l=>this._containsAttributes(n,l))[0];if(a!==void 0)return a}let r=this._dom.createElement("meta");return this._setMetaElementAttributes(n,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(n,i){return Object.keys(n).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),n[r])),i}_parseSelector(n){let i=n.name?"name":"property";return`${i}="${n[i]}"`}_containsAttributes(n,i){return Object.keys(n).every(r=>i.getAttribute(this._getMetaKeyMap(r))===n[r])}_getMetaKeyMap(n){return kwe[n]||n}static \u0275fac=function(i){return new(i||t)(K(ut))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kwe={httpEquiv:"http-equiv"},EW=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(i){return new(i||t)(K(ut))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var su=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:function(i){let r=null;return i?r=new(i||t):r=K(Mwe),r},providedIn:"root"})}return t})(),Mwe=(()=>{class t extends su{_doc;constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case jo.NONE:return i;case jo.HTML:return Mc(i,"HTML")?sa(i):IS(this._doc,String(i)).toString();case jo.STYLE:return Mc(i,"Style")?sa(i):i;case jo.SCRIPT:if(Mc(i,"Script"))return sa(i);throw new be(5200,!1);case jo.URL:return Mc(i,"URL")?sa(i):Mb(String(i));case jo.RESOURCE_URL:if(Mc(i,"ResourceURL"))return sa(i);throw new be(5201,!1);default:throw new be(5202,!1)}}bypassSecurityTrustHtml(n){return lF(n)}bypassSecurityTrustStyle(n){return cF(n)}bypassSecurityTrustScript(n){return dF(n)}bypassSecurityTrustUrl(n){return uF(n)}bypassSecurityTrustResourceUrl(n){return hF(n)}static \u0275fac=function(i){return new(i||t)(K(ut))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dwe=["mat-internal-form-field",""],Pwe=["*"],wT=(()=>{class t{labelPosition;static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&le("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:Dwe,ngContentSelectors:Pwe,decls:1,vars:0,template:function(i,r){i&1&&(Dn(),Vt(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return t})();var z2;try{z2=typeof Intl<"u"&&Intl.v8BreakIterator}catch{z2=!1}var on=(()=>{class t{_platformId=E($a);isBrowser=this._platformId?ZA(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||z2)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nl(t){return Array.isArray(t)?t:[t]}var xW=new Set,Op,ET=(()=>{class t{_platform=E(on);_nonce=E(jA,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rwe}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&Owe(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Owe(t,e){if(!xW.has(t))try{Op||(Op=document.createElement("style"),e&&Op.setAttribute("nonce",e),Op.setAttribute("type","text/css"),document.head.appendChild(Op)),Op.sheet&&(Op.sheet.insertRule(`@media ${t} {body{ }}`,0),xW.add(t))}catch(n){console.error(n)}}function Rwe(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Rp=(()=>{class t{_mediaMatcher=E(ET);_zone=E(Ie);_queries=new Map;_destroySubject=new O;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return SW(Nl(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=SW(Nl(n)).map(s=>this._registerQuery(s).observable),o=dp(r);return o=ea(o.pipe(Jt(1)),o.pipe(_A(1),so(0))),o.pipe(se(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),o={observable:new Xe(s=>{let a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(yi(i),se(({matches:s})=>({query:n,matches:s})),en(this._destroySubject)),mql:i};return this._queries.set(n,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function SW(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var xT={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Bwe=new ie("MATERIAL_ANIMATIONS");var TW=null;function G2(){return E(Bwe,{optional:!0})?.animationsDisabled||E(kb,{optional:!0})==="NoopAnimations"?"di-disabled":(TW??=E(ET).matchMedia("(prefers-reduced-motion)").matches,TW?"reduced-motion":"enabled")}function Pn(){return G2()!=="enabled"}function au(t){return t.buttons===0||t.detail===0}function lu(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var W2;function IW(){if(W2==null){let t=typeof document<"u"?document.head:null;W2=!!(t&&(t.createShadowRoot||t.attachShadow))}return W2}function Bp(t){if(IW()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function cu(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function sr(t){return t.composedPath?t.composedPath()[0]:t.target}var d0;function kW(){if(d0==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>d0=!0}))}finally{d0=d0||!1}return d0}function Dh(t){return kW()?t:!!t.capture}function Hr(t,e=0){return MW(t)?Number(t):arguments.length===2?e:0}function MW(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Vi(t){return t instanceof Se?t.nativeElement:t}var DW=new ie("cdk-input-modality-detector-options"),PW={ignoreKeys:[18,17,224,91,16]},OW=650,K2={passive:!0,capture:!0},RW=(()=>{class t{_platform=E(on);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new fn(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(i=>i===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=sr(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<OW||(this._modality.next(au(n)?"keyboard":"mouse"),this._mostRecentTarget=sr(n))};_onTouchstart=n=>{if(lu(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sr(n)};constructor(){let n=E(Ie),i=E(ut),r=E(DW,{optional:!0});if(this._options=V(V({},PW),r),this.modalityDetected=this._modality.pipe(_A(1)),this.modalityChanged=this.modalityDetected.pipe(La()),this._platform.isBrowser){let o=E(er).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[o.listen(i,"keydown",this._onKeydown,K2),o.listen(i,"mousedown",this._onMousedown,K2),o.listen(i,"touchstart",this._onTouchstart,K2)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),u0=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(u0||{}),BW=new ie("cdk-focus-monitor-default-options"),ST=Dh({passive:!0,capture:!0}),la=(()=>{class t{_ngZone=E(Ie);_platform=E(on);_inputModalityDetector=E(RW);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=E(ut);_stopInputModalityDetector=new O;constructor(){let n=E(BW,{optional:!0});this._detectionMode=n?.detectionMode||u0.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let i=sr(n);for(let r=i;r;r=r.parentElement)n.type==="focus"?this._onFocus(n,r):this._onBlur(n,r)};monitor(n,i=!1){let r=Vi(n);if(!this._platform.isBrowser||r.nodeType!==1)return Re();let o=Bp(r)||this._document,s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;let a={checkChildren:i,subject:new O,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let i=Vi(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){let o=Vi(n),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===u0.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===u0.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?OW:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,i){let r=this._elementInfo.get(i),o=sr(n);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(n,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ST),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ST)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(en(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ST),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ST),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){let i=[];return this._elementInfo.forEach((r,o)=>{(o===n||r.checkChildren&&o.contains(n))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Fwe=(()=>{class t{_elementRef=E(Se);_focusMonitor=E(la);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new Ae;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,n.nodeType===1&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();var TT=new WeakMap,Pi=(()=>{class t{_appRef;_injector=E(Ge);_environmentInjector=E(Xn);load(n){let i=this._appRef=this._appRef||this._injector.get(co),r=TT.get(i);r||(r={loaders:new Set,refs:[]},TT.set(i,r),i.onDestroy(()=>{TT.get(i)?.refs.forEach(o=>o.destroy()),TT.delete(i)})),r.loaders.has(n)||(r.loaders.add(n),r.refs.push(JS(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ig=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})();function Nwe(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let e=0;e<t.addedNodes.length;e++)if(!(t.addedNodes[e]instanceof Comment))return!1;for(let e=0;e<t.removedNodes.length;e++)if(!(t.removedNodes[e]instanceof Comment))return!1;return!0}return!1}var FW=(()=>{class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),NW=(()=>{class t{_mutationObserverFactory=E(FW);_observedElements=new Map;_ngZone=E(Ie);constructor(){}ngOnDestroy(){this._observedElements.forEach((n,i)=>this._cleanupObserver(i))}observe(n){let i=Vi(n);return new Xe(r=>{let s=this._observeElement(i).pipe(se(a=>a.filter(l=>!Nwe(l))),qe(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(n){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let i=new O,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:r,stream:i,count:1})}return this._observedElements.get(n).stream})}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:i,stream:r}=this._observedElements.get(n);i&&i.disconnect(),r.complete(),this._observedElements.delete(n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rot=(()=>{class t{_contentObserver=E(NW);_elementRef=E(Se);event=new Ae;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(n){this._debounce=Hr(n),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?n.pipe(so(this.debounce)):n).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",He],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),IT=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[FW]})}return t})();var X2=(()=>{class t{_platform=E(on);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return Uwe(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let i=Lwe(Wwe(n));if(i&&(LW(i)===-1||!this.isVisible(i)))return!1;let r=n.nodeName.toLowerCase(),o=LW(n);return n.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!zwe(n)?!1:r==="audio"?n.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,i){return Gwe(n)&&!this.isDisabled(n)&&(i?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lwe(t){try{return t.frameElement}catch{return null}}function Uwe(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function Vwe(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function Hwe(t){return jwe(t)&&t.type=="hidden"}function Qwe(t){return $we(t)&&t.hasAttribute("href")}function jwe(t){return t.nodeName.toLowerCase()=="input"}function $we(t){return t.nodeName.toLowerCase()=="a"}function HW(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function LW(t){if(!HW(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function zwe(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function Gwe(t){return Hwe(t)?!1:Vwe(t)||Qwe(t)||t.hasAttribute("contenteditable")||HW(t)}function Wwe(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Y2=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_enabled=!0;constructor(e,n,i,r,o=!1,s){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Di(e,{injector:this._injector}):setTimeout(e)}},kT=(()=>{class t{_checker=E(X2);_ngZone=E(Ie);_document=E(ut);_injector=E(Ge);constructor(){E(Pi).load(ig)}create(n,i=!1){return new Y2(n,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kwe=(()=>{class t{_elementRef=E(Se);_focusTrapFactory=E(kT);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(n){this.focusTrap&&(this.focusTrap.enabled=n)}autoCapture;constructor(){E(on).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(n){let i=n.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=cu(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",He],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",He]},exportAs:["cdkTrapFocus"],features:[gt]})}return t})(),QW=new ie("liveAnnouncerElement",{providedIn:"root",factory:jW});function jW(){return null}var $W=new ie("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),qwe=0,h0=(()=>{class t{_ngZone=E(Ie);_defaultOptions=E($W,{optional:!0});_liveElement;_document=E(ut);_previousTimeout;_currentPromise;_currentResolve;constructor(){let n=E(QW,{optional:!0});this._liveElement=n||this._createLiveElement()}announce(n,...i){let r=this._defaultOptions,o,s;return i.length===1&&typeof i[0]=="number"?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",i=this._document.getElementsByClassName(n),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(n),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${qwe++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(n){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");s?s.indexOf(n)===-1&&o.setAttribute("aria-owns",s+" "+n):o.setAttribute("aria-owns",n)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ph=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Ph||{}),UW="cdk-high-contrast-black-on-white",VW="cdk-high-contrast-white-on-black",q2="cdk-high-contrast-active",MT=(()=>{class t{_platform=E(on);_hasCheckedHighContrastMode;_document=E(ut);_breakpointSubscription;constructor(){this._breakpointSubscription=E(Rp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ph.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ph.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ph.BLACK_ON_WHITE}return Ph.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(q2,UW,VW),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Ph.BLACK_ON_WHITE?n.add(q2,UW):i===Ph.WHITE_ON_BLACK&&n.add(q2,VW)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),f0=(()=>{class t{constructor(){E(MT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[IT]})}return t})();var Z2={},Hn=(()=>{class t{_appId=E(Th);getId(n){return this._appId!=="ng"&&(n+=this._appId),Z2.hasOwnProperty(n)||(Z2[n]=0),`${n}${Z2[n]++}`}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ywe=200,DT=class{_letterKeyStream=new O;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new O;selectedItem=this._selectedItem;constructor(e,n){let i=typeof n?.debounceInterval=="number"?n.debounceInterval:Ywe;n?.skipPredicate&&(this._skipPredicateFn=n.skipPredicate),this.setItems(e),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let n=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(lt(n=>this._pressedLetters.push(n)),so(e),qe(()=>this._pressedLetters.length>0),se(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(n=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(n)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function ar(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var rg=class{_items;_activeItemIndex=gn(-1);_activeItem=gn(null);_wrap=!1;_typeaheadSubscription=At.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,n){this._items=e,e instanceof Zd?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):Sc(e)&&(this._effectRef=ru(()=>this._itemsChanged(e()),{injector:n}))}tabOut=new O;change=new O;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let n=this._getItemsArray();return this._typeahead=new DT(n,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,n=10){return this._pageUpAndDown={enabled:e,delta:n},this}setActiveItem(e){let n=this._activeItem();this.updateActiveItem(e),this._activeItem()!==n&&this.change.next(this._activeItemIndex())}onKeydown(e){let n=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||ar(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let n=this._getItemsArray(),i=typeof e=="number"?e:n.indexOf(e),r=n[i];this._activeItem.set(r??null),this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let n=this._getItemsArray();for(let i=1;i<=n.length;i++){let r=(this._activeItemIndex()+e*i+n.length)%n.length,o=n[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,n){let i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(e+=n,!i[e])return;this.setActiveItem(e)}}_getItemsArray(){return Sc(this._items)?this._items():this._items instanceof Zd?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let n=this._activeItem();if(n){let i=e.indexOf(n);i>-1&&i!==this._activeItemIndex()&&(this._activeItemIndex.set(i),this._typeahead?.setCurrentSelectedItemIndex(i))}}};var Np=class extends rg{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var A0=class extends rg{_origin="program";setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var KW=" ";function og(t,e,n){let i=OT(t,e);n=n.trim(),!i.some(r=>r.trim()===n)&&(i.push(n),t.setAttribute(e,i.join(KW)))}function Rh(t,e,n){let i=OT(t,e);n=n.trim();let r=i.filter(o=>o!==n);r.length?t.setAttribute(e,r.join(KW)):t.removeAttribute(e)}function OT(t,e){return t.getAttribute(e)?.match(/\S+/g)??[]}var qW="cdk-describedby-message",PT="cdk-describedby-host",eN=0,YW=(()=>{class t{_platform=E(on);_document=E(ut);_messageRegistry=new Map;_messagesContainer=null;_id=`${eN++}`;constructor(){E(Pi).load(ig),this._id=E(Th)+"-"+eN++}describe(n,i,r){if(!this._canBeDescribed(n,i))return;let o=J2(i,r);typeof i!="string"?(WW(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(n,o)||this._addMessageReference(n,o)}removeDescription(n,i,r){if(!i||!this._isElementNode(n))return;let o=J2(i,r);if(this._isElementDescribedByMessage(n,o)&&this._removeMessageReference(n,o),typeof i=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let n=this._document.querySelectorAll(`[${PT}="${this._id}"]`);for(let i=0;i<n.length;i++)this._removeCdkDescribedByReferenceIds(n[i]),n[i].removeAttribute(PT);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(n,i){let r=this._document.createElement("div");WW(r,this._id),r.textContent=n,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(J2(n,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(n){this._messageRegistry.get(n)?.messageElement?.remove(),this._messageRegistry.delete(n)}_createMessagesContainer(){if(this._messagesContainer)return;let n="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${n}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(n),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(n){let i=OT(n,"aria-describedby").filter(r=>r.indexOf(qW)!=0);n.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(n,i){let r=this._messageRegistry.get(i);og(n,"aria-describedby",r.messageElement.id),n.setAttribute(PT,this._id),r.referenceCount++}_removeMessageReference(n,i){let r=this._messageRegistry.get(i);r.referenceCount--,Rh(n,"aria-describedby",r.messageElement.id),n.removeAttribute(PT)}_isElementDescribedByMessage(n,i){let r=OT(n,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(n,i){if(!this._isElementNode(n))return!1;if(i&&typeof i=="object")return!0;let r=i==null?"":`${i}`.trim(),o=n.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(n){return n.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function J2(t,e){return typeof t=="string"?`${e||""}/${t}`:t}function WW(t,e){t.id||(t.id=`${qW}-${e}-${eN++}`)}var Xwe=new ie("cdk-dir-doc",{providedIn:"root",factory:Zwe});function Zwe(){return E(ut)}var Jwe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function XW(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Jwe.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var lr=(()=>{class t{get value(){return this.valueSignal()}valueSignal=gn("ltr");change=new Ae;constructor(){let n=E(Xwe,{optional:!0});if(n){let i=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(XW(i||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Bh=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();var Gt=(()=>{class t{constructor(){E(MT)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Bh,Bh]})}return t})();var sg=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,n,i,r,o){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,n)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var v0=new ie("MAT_DATE_LOCALE",{providedIn:"root",factory:eEe});function eEe(){return E(iu)}var ag="Method not implemented",g0=class{locale;_localeChanges=new O;localeChanges=this._localeChanges;setTime(e,n,i,r){throw new Error(ag)}getHours(e){throw new Error(ag)}getMinutes(e){throw new Error(ag)}getSeconds(e){throw new Error(ag)}parseTime(e,n){throw new Error(ag)}addSeconds(e,n){throw new Error(ag)}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}compareTime(e,n){return this.getHours(e)-this.getHours(n)||this.getMinutes(e)-this.getMinutes(n)||this.getSeconds(e)-this.getSeconds(n)}sameDate(e,n){if(e&&n){let i=this.isValid(e),r=this.isValid(n);return i&&r?!this.compareDate(e,n):i==r}return e==n}sameTime(e,n){if(e&&n){let i=this.isValid(e),r=this.isValid(n);return i&&r?!this.compareTime(e,n):i==r}return e==n}clampDate(e,n,i){return n&&this.compareDate(e,n)<0?n:i&&this.compareDate(e,i)>0?i:e}},ZW=new ie("mat-date-formats");var RT=(()=>{class t{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Rc=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return t})();var Ll=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(Ll||{}),BT,Lp;function FT(){if(Lp==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Lp=!1,Lp;if("scrollBehavior"in document.documentElement.style)Lp=!0;else{let t=Element.prototype.scrollTo;t?Lp=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Lp=!1}}return Lp}function lg(){if(typeof document!="object"||!document)return Ll.NORMAL;if(BT==null){let t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),BT=Ll.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,BT=t.scrollLeft===0?Ll.NEGATED:Ll.INVERTED),t.remove()}return BT}function tN(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var cg,JW=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nN(){if(cg)return cg;if(typeof document!="object"||!document)return cg=new Set(JW),cg;let t=document.createElement("input");return cg=new Set(JW.filter(e=>(t.setAttribute("type",e),t.type===e))),cg}function Tr(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Qr(t){return t!=null&&`${t}`!="false"}function Est(t,e=/\s+/){let n=[];if(t!=null){let i=Array.isArray(t)?t:`${t}`.split(e);for(let r of i){let o=`${r}`.trim();o&&n.push(o)}}return n}var Ga=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Ga||{}),iN=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Ga.HIDDEN;constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},eK=Dh({passive:!0,capture:!0}),rN=class{_events=new Map;addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,eK)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,eK)))}_delegateEventHandler=e=>{let n=sr(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}},_0={enterDuration:225,exitDuration:150},tEe=800,tK=Dh({passive:!0,capture:!0}),nK=["mousedown","touchstart"],iK=["mouseup","mouseleave","touchend","touchcancel"],nEe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return t})(),b0=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new rN;constructor(e,n,i,r,o){this._target=e,this._ngZone=n,this._platform=r,r.isBrowser&&(this._containerElement=Vi(i)),o&&o.get(Pi).load(nEe)}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=V(V({},_0),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||iEe(e,n,r),a=e-r.left,l=n-r.top,c=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${l-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,i.color!=null&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d);let u=window.getComputedStyle(d),p=u.transitionProperty,g=u.transitionDuration,v=p==="none"||g==="0s"||g==="0s, 0s"||r.width===0&&r.height===0,b=new iN(this,d,i,v);d.style.transform="scale3d(1, 1, 1)",b.state=Ga.FADING_IN,i.persistent||(this._mostRecentTransientRipple=b);let x=null;return!v&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let T=()=>{x&&(x.fallbackTimer=null),clearTimeout(U),this._finishRippleTransition(b)},k=()=>this._destroyRipple(b),U=setTimeout(k,c+100);d.addEventListener("transitionend",T),d.addEventListener("transitioncancel",k),x={onTransitionEnd:T,onTransitionCancel:k,fallbackTimer:U}}),this._activeRipples.set(b,x),(v||!c)&&this._finishRippleTransition(b),b}fadeOutRipple(e){if(e.state===Ga.FADING_OUT||e.state===Ga.HIDDEN)return;let n=e.element,i=V(V({},_0),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Ga.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Vi(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,nK.forEach(i=>{t._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iK.forEach(n=>{this._triggerElement.addEventListener(n,this,tK)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ga.FADING_IN?this._startFadeOutTransition(e):e.state===Ga.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Ga.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ga.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),e.element.remove()}_onMousedown(e){let n=au(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+tEe;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lu(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Ga.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ga.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(nK.forEach(n=>t._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(iK.forEach(n=>e.removeEventListener(n,this,tK)),this._pointerUpEventsRegistered=!1))}};function iEe(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var oN=new ie("mat-ripple-global-options"),Fh=(()=>{class t{_elementRef=E(Se);_animationsDisabled=Pn();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let n=E(Ie),i=E(on),r=E(oN,{optional:!0}),o=E(Ge);this._globalOptions=r||{},this._rippleRenderer=new b0(this,n,this._elementRef,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:V(V(V({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,r){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,i,V(V({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,V(V({},this.rippleConfig),n))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&le("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var rK=(()=>{class t{_animationsDisabled=Pn();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&le("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return t})();var rEe=["text"],oEe=[[["mat-icon"]],"*"],sEe=["mat-icon","*"];function aEe(t,e){if(t&1&&$(0,"mat-pseudo-checkbox",1),t&2){let n=M();P("disabled",n.disabled)("state",n.selected?"checked":"unchecked")}}function lEe(t,e){if(t&1&&$(0,"mat-pseudo-checkbox",3),t&2){let n=M();P("disabled",n.disabled)}}function cEe(t,e){if(t&1&&(C(0,"span",4),F(1),w()),t&2){let n=M();y(),ht("(",n.group.label,")")}}var C0=new ie("MAT_OPTION_PARENT_COMPONENT"),w0=new ie("MatOptgroup");var y0=class{source;isUserInput;constructor(e,n=!1){this.source=e,this.isUserInput=n}},Io=(()=>{class t{_element=E(Se);_changeDetectorRef=E(zt);_parent=E(C0,{optional:!0});group=E(w0,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=E(Hn).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(n){this._disabled.set(n)}_disabled=gn(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new Ae;_text;_stateChanges=new O;constructor(){let n=E(Pi);n.load(Rc),n.load(ig),this._signalDisableRipple=!!this._parent&&Sc(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(n=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}deselect(n=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),n&&this._emitSelectionChangeEvent())}focus(n,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(n){(n.keyCode===13||n.keyCode===32)&&!ar(n)&&(this._selectViaInteraction(),n.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let n=this.viewValue;n!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=n)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(n=!1){this.onSelectionChange.emit(new y0(this,n))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&Fe(rEe,7),i&2){let o;Ce(o=we())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&G("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),i&2&&(wi("id",r.id),ct("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),le("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",He]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:sEe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(Dn(oEe),H(0,aEe,1,2,"mat-pseudo-checkbox",1),Vt(1),C(2,"span",2,0),Vt(4,1),w(),H(5,lEe,1,1,"mat-pseudo-checkbox",3),H(6,cEe,2,1,"span",4),$(7,"div",5)),i&2&&(Q(r.multiple?0:-1),y(5),Q(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),y(),Q(r.group&&r.group._inert?6:-1),y(),P("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[rK,Fh],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})();function NT(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let s=0;s<t+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function LT(t,e,n,i){return t<n?t:t+e>n+i?Math.max(0,t-i+e):n}var ug=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Gt,Gt]})}return t})();var oK=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Gt]})}return t})();var Up=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[ug,Gt,oK,Io]})}return t})();var dEe={capture:!0},uEe=["focus","mousedown","mouseenter","touchstart"],sN="mat-ripple-loader-uninitialized",aN="mat-ripple-loader-class-name",sK="mat-ripple-loader-centered",UT="mat-ripple-loader-disabled",aK=(()=>{class t{_document=E(ut);_animationsDisabled=Pn();_globalRippleOptions=E(oN,{optional:!0});_platform=E(on);_ngZone=E(Ie);_injector=E(Ge);_eventCleanups;_hosts=new Map;constructor(){let n=E(er).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>uEe.map(i=>n.listen(this._document,i,this._onInteraction,dEe)))}ngOnDestroy(){let n=this._hosts.keys();for(let i of n)this.destroyRipple(i);this._eventCleanups.forEach(i=>i())}configureRipple(n,i){n.setAttribute(sN,this._globalRippleOptions?.namespace??""),(i.className||!n.hasAttribute(aN))&&n.setAttribute(aN,i.className||""),i.centered&&n.setAttribute(sK,""),i.disabled&&n.setAttribute(UT,"")}setDisabled(n,i){let r=this._hosts.get(n);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(n))):i?n.setAttribute(UT,""):n.removeAttribute(UT)}_onInteraction=n=>{let i=sr(n);if(i instanceof HTMLElement){let r=i.closest(`[${sN}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(n){if(!this._document||this._hosts.has(n))return;n.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",n.getAttribute(aN)),n.append(i);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??_0.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??_0.exitDuration,a={rippleDisabled:this._animationsDisabled||r?.disabled||n.hasAttribute(UT),rippleConfig:{centered:n.hasAttribute(sK),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},l=new b0(a,this._ngZone,i,this._platform,this._injector),c=!a.rippleDisabled;c&&l.setupTriggerEvents(n),this._hosts.set(n,{target:a,renderer:l,hasSetUpEvents:c}),n.removeAttribute(sN)}destroyRipple(n){let i=this._hosts.get(n);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hEe=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,fEe=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function lN(t,e){let n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}var dN=(()=>{class t extends g0{useUtcForDisplay=!1;_matDateLocale=E(v0,{optional:!0});constructor(){super();let n=E(v0,{optional:!0});n!==void 0&&(this._matDateLocale=n),super.setLocale(this._matDateLocale)}getYear(n){return n.getFullYear()}getMonth(n){return n.getMonth()}getDate(n){return n.getDate()}getDayOfWeek(n){return n.getDay()}getMonthNames(n){let i=new Intl.DateTimeFormat(this.locale,{month:n,timeZone:"utc"});return lN(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){let n=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return lN(31,i=>this._format(n,new Date(2017,0,i+1)))}getDayOfWeekNames(n){let i=new Intl.DateTimeFormat(this.locale,{weekday:n,timeZone:"utc"});return lN(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(n){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,n)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let n=new Intl.Locale(this.locale),i=(n.getWeekInfo?.()||n.weekInfo)?.firstDay??0;return i===7?0:i}return 0}getNumDaysInMonth(n){return this.getDate(this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+1,0))}clone(n){return new Date(n.getTime())}createDate(n,i,r){let o=this._createDateWithOverflow(n,i,r);return o.getMonth()!=i,o}today(){return new Date}parse(n,i){return typeof n=="number"?new Date(n):n?new Date(Date.parse(n)):null}format(n,i){if(!this.isValid(n))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,De(V({},i),{timeZone:"utc"}));return this._format(r,n)}addCalendarYears(n,i){return this.addCalendarMonths(n,i*12)}addCalendarMonths(n,i){let r=this._createDateWithOverflow(this.getYear(n),this.getMonth(n)+i,this.getDate(n));return this.getMonth(r)!=((this.getMonth(n)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(n,i){return this._createDateWithOverflow(this.getYear(n),this.getMonth(n),this.getDate(n)+i)}toIso8601(n){return[n.getUTCFullYear(),this._2digit(n.getUTCMonth()+1),this._2digit(n.getUTCDate())].join("-")}deserialize(n){if(typeof n=="string"){if(!n)return null;if(hEe.test(n)){let i=new Date(n);if(this.isValid(i))return i}}return super.deserialize(n)}isDateInstance(n){return n instanceof Date}isValid(n){return!isNaN(n.getTime())}invalid(){return new Date(NaN)}setTime(n,i,r,o){let s=this.clone(n);return s.setHours(i,r,o,0),s}getHours(n){return n.getHours()}getMinutes(n){return n.getMinutes()}getSeconds(n){return n.getSeconds()}parseTime(n,i){if(typeof n!="string")return n instanceof Date?new Date(n.getTime()):null;let r=n.trim();if(r.length===0)return null;let o=this._parseTimeString(r);if(o===null){let s=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();s.length>0&&(o=this._parseTimeString(s))}return o||this.invalid()}addSeconds(n,i){return new Date(n.getTime()+i*1e3)}_createDateWithOverflow(n,i,r){let o=new Date;return o.setFullYear(n,i,r),o.setHours(0,0,0,0),o}_2digit(n){return("00"+n).slice(-2)}_format(n,i){let r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),n.format(r)}_parseTimeString(n){let i=n.toUpperCase().match(fEe);if(i){let r=parseInt(i[1]),o=parseInt(i[2]),s=i[3]==null?void 0:parseInt(i[3]),a=i[4];if(r===12?r=a==="AM"?0:r:a==="PM"&&(r+=12),cN(r,0,23)&&cN(o,0,59)&&(s==null||cN(s,0,59)))return this.setTime(this.today(),r,o,s||0)}return null}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function cN(t,e,n){return!isNaN(t)&&t>=e&&t<=n}var pEe={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var Eat=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[mEe()]})}return t})();function mEe(t=pEe){return[{provide:g0,useClass:dN},{provide:ZW,useValue:t}]}var VT=class{};function lK(t){return t&&typeof t.connect=="function"&&!(t instanceof uh)}var E0=class extends VT{_data;constructor(e){super(),this._data=e}connect(){return os(this._data)?this._data:Re(this._data)}disconnect(){}},Bc=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(Bc||{}),HT=new ie("_ViewRepeater"),x0=class{viewCacheSize=20;_viewCache=[];applyChanges(e,n,i,r,o){e.forEachOperation((s,a,l)=>{let c,d;if(s.previousIndex==null){let u=()=>i(s,a,l);c=this._insertView(u,l,n,r(s)),d=c?Bc.INSERTED:Bc.REPLACED}else l==null?(this._detachAndCacheView(a,n),d=Bc.REMOVED):(c=this._moveView(a,l,n,r(s)),d=Bc.MOVED);o&&o({context:c?.context,operation:d,record:s})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,n,i,r){let o=this._insertViewFromCache(n,i);if(o){o.context.$implicit=r;return}let s=e();return i.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(e,n){let i=n.detach(e);this._maybeCacheView(i,n)}_moveView(e,n,i,r){let o=i.get(e);return i.move(o,n),o.context.$implicit=r,o}_maybeCacheView(e,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let i=n.indexOf(e);i===-1?e.destroy():n.remove(i)}}_insertViewFromCache(e,n){let i=this._viewCache.pop();return i&&n.insert(i,e),i||null}};var AEe=["contentWrapper"],gEe=["*"],uK=new ie("VIRTUAL_SCROLL_STRATEGY"),uN=class{_scrolledIndexChange=new O;scrolledIndexChange=this._scrolledIndexChange.pipe(La());_viewport=null;_itemSize;_minBufferPx;_maxBufferPx;constructor(e,n,i){this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,n,i){i<n,this._itemSize=e,this._minBufferPx=n,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,n){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,n)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),n={start:e.start,end:e.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength(),o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(n.end>r){let l=Math.ceil(i/this._itemSize),c=Math.max(0,Math.min(s,r-l));s!=c&&(s=c,o=c*this._itemSize,n.start=Math.floor(s)),n.end=Math.max(0,Math.min(r,n.start+l))}let a=o-n.start*this._itemSize;if(a<this._minBufferPx&&n.start!=0){let l=Math.ceil((this._maxBufferPx-a)/this._itemSize);n.start=Math.max(0,n.start-l),n.end=Math.min(r,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{let l=n.end*this._itemSize-(o+i);if(l<this._minBufferPx&&n.end!=r){let c=Math.ceil((this._maxBufferPx-l)/this._itemSize);c>0&&(n.end=Math.min(r,n.end+c),n.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(s))}};function vEe(t){return t._scrollStrategy}var _Ee=(()=>{class t{get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=Hr(n)}_itemSize=20;get minBufferPx(){return this._minBufferPx}set minBufferPx(n){this._minBufferPx=Hr(n)}_minBufferPx=100;get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(n){this._maxBufferPx=Hr(n)}_maxBufferPx=200;_scrollStrategy=new uN(this.itemSize,this.minBufferPx,this.maxBufferPx);ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[yt([{provide:uK,useFactory:vEe,deps:[kn(()=>t)]}]),gt]})}return t})(),bEe=20,Fc=(()=>{class t{_ngZone=E(Ie);_platform=E(on);_renderer=E(er).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new O;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let i=this.scrollContainers.get(n);i&&(i.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=bEe){return this._platform.isBrowser?new Xe(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=n>0?this._scrolled.pipe(up(n)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Re()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(n,i){let r=this.getAncestorScrollContainers(n);return this.scrolled(i).pipe(qe(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(n){let i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,n)&&i.push(o)}),i}_scrollableContainsElement(n,i){let r=Vi(i),o=n.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),S0=(()=>{class t{elementRef=E(Se);scrollDispatcher=E(Fc);ngZone=E(Ie);dir=E(lr,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new O;_renderer=E(_n);_cleanupScroll;_elementScrolled=new O;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",n=>this._elementScrolled.next(n))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=r?n.end:n.start),n.right==null&&(n.right=r?n.start:n.end),n.bottom!=null&&(n.top=i.scrollHeight-i.clientHeight-n.bottom),r&&lg()!=Ll.NORMAL?(n.left!=null&&(n.right=i.scrollWidth-i.clientWidth-n.left),lg()==Ll.INVERTED?n.left=n.right:lg()==Ll.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=i.scrollWidth-i.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let i=this.elementRef.nativeElement;FT()?i.scrollTo(n):(n.top!=null&&(i.scrollTop=n.top),n.left!=null&&(i.scrollLeft=n.left))}measureScrollOffset(n){let i="left",r="right",o=this.elementRef.nativeElement;if(n=="top")return o.scrollTop;if(n=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let s=this.dir&&this.dir.value=="rtl";return n=="start"?n=s?r:i:n=="end"&&(n=s?i:r),s&&lg()==Ll.INVERTED?n==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&lg()==Ll.NEGATED?n==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),yEe=20,Ms=(()=>{class t{_platform=E(on);_listeners;_viewportSize;_change=new O;_document=E(ut);constructor(){let n=E(Ie),i=E(er).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),r=n.documentElement,o=r.getBoundingClientRect(),s=-o.top||n.body.scrollTop||i.scrollY||r.scrollTop||0,a=-o.left||n.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:s,left:a}}change(n=yEe){return n>0?this._change.pipe(up(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cK=new ie("VIRTUAL_SCROLLABLE"),CEe=(()=>{class t extends S0{constructor(){super()}measureViewportSize(n){let i=this.elementRef.nativeElement;return n==="horizontal"?i.clientWidth:i.clientHeight}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,features:[rn]})}return t})();function wEe(t,e){return t.start==e.start&&t.end==e.end}var EEe=typeof requestAnimationFrame<"u"?K_:QO,hK=(()=>{class t extends CEe{elementRef=E(Se);_changeDetectorRef=E(zt);_scrollStrategy=E(uK,{optional:!0});scrollable=E(cK,{optional:!0});_platform=E(on);_detachedSubject=new O;_renderedRangeSubject=new O;get orientation(){return this._orientation}set orientation(n){this._orientation!==n&&(this._orientation=n,this._calculateSpacerSize())}_orientation="vertical";appendOnly=!1;scrolledIndexChange=new Xe(n=>this._scrollStrategy.scrolledIndexChange.subscribe(i=>Promise.resolve().then(()=>this.ngZone.run(()=>n.next(i)))));_contentWrapper;renderedRangeStream=this._renderedRangeSubject;_totalContentSize=0;_totalContentWidth=gn("");_totalContentHeight=gn("");_renderedContentTransform;_renderedRange={start:0,end:0};_dataLength=0;_viewportSize=0;_forOf;_renderedContentOffset=0;_renderedContentOffsetNeedsRewrite=!1;_changeDetectionNeeded=gn(!1);_runAfterChangeDetection=[];_viewportChanges=At.EMPTY;_injector=E(Ge);_isDestroyed=!1;constructor(){super();let n=E(Ms);this._scrollStrategy,this._viewportChanges=n.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this);let i=ru(()=>{this._changeDetectionNeeded()&&this._doChangeDetection()},{injector:E(co).injector});E(Qo).onDestroy(()=>void i.destroy())}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(yi(null),up(0,EEe),en(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(n){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=n,this._forOf.dataStream.pipe(en(this._detachedSubject)).subscribe(i=>{let r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(n){return this.getElementRef().nativeElement.getBoundingClientRect()[n]}setTotalContentSize(n){this._totalContentSize!==n&&(this._totalContentSize=n,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(n){wEe(this._renderedRange,n)||(this.appendOnly&&(n={start:0,end:Math.max(this._renderedRange.end,n.end)}),this._renderedRangeSubject.next(this._renderedRange=n),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(n,i="to-start"){n=this.appendOnly&&i==="to-start"?0:n;let r=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",s=o?"X":"Y",l=`translate${s}(${Number((o&&r?-1:1)*n)}px)`;this._renderedContentOffset=n,i==="to-end"&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(n,i="auto"){let r={behavior:i};this.orientation==="horizontal"?r.start=n:r.top=n,this.scrollable.scrollTo(r)}scrollToIndex(n,i="auto"){this._scrollStrategy.scrollToIndex(n,i)}measureScrollOffset(n){let i;return this.scrollable==this?i=r=>super.measureScrollOffset(r):i=r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(n??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(n){let i,r="left",o="right",s=this.dir?.value=="rtl";n=="start"?i=s?o:r:n=="end"?i=s?r:o:n?i=n:i=this.orientation==="horizontal"?"left":"top";let a=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-a}measureRenderedContentSize(){let n=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?n.offsetWidth:n.offsetHeight}measureRangeSize(n){return this._forOf?this._forOf.measureRangeSize(n,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(n){n&&this._runAfterChangeDetection.push(n),!So(this._changeDetectionNeeded)&&this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this.ngZone.run(()=>{this._changeDetectionNeeded.set(!0)})})})}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,Di(()=>{this._changeDetectionNeeded.set(!1);let n=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let i of n)i()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight.set(this.orientation==="horizontal"?"":`${this._totalContentSize}px`),this._totalContentWidth.set(this.orientation==="horizontal"?`${this._totalContentSize}px`:"")}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(i,r){if(i&1&&Fe(AEe,7),i&2){let o;Ce(o=we())&&(r._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(i,r){i&2&&le("cdk-virtual-scroll-orientation-horizontal",r.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",r.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",He]},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[yt([{provide:S0,useFactory:(n,i)=>n||i,deps:[[new HA,new tF(cK)],t]}]),rn],ngContentSelectors:gEe,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(i,r){i&1&&(Dn(),hs(0,"div",1,0),Vt(2),Ss(),aa(3,"div",2)),i&2&&(y(3),Zn("width",r._totalContentWidth())("height",r._totalContentHeight()))},styles:[`cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}
`],encapsulation:2,changeDetection:0})}return t})();function dK(t,e,n){let i=n;if(!i.getBoundingClientRect)return 0;let r=i.getBoundingClientRect();return t==="horizontal"?e==="start"?r.left:r.right:e==="start"?r.top:r.bottom}var xEe=(()=>{class t{_viewContainerRef=E(mi);_template=E(Mi);_differs=E($b);_viewRepeater=E(HT);_viewport=E(hK,{skipSelf:!0});viewChange=new O;_dataSourceChanges=new O;get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(n){this._cdkVirtualForOf=n,lK(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new E0(os(n)?n:Array.from(n||[])))}_cdkVirtualForOf;get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(n){this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?(i,r)=>n(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}_cdkVirtualForTrackBy;set cdkVirtualForTemplate(n){n&&(this._needsUpdate=!0,this._template=n)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(n){this._viewRepeater.viewCacheSize=Hr(n)}dataStream=this._dataSourceChanges.pipe(yi(null),Ah(),nn(([n,i])=>this._changeDataSource(n,i)),gh(1));_differ=null;_data;_renderedItems;_renderedRange;_needsUpdate=!1;_destroyed=new O;constructor(){let n=E(Ie);this.dataStream.subscribe(i=>{this._data=i,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(en(this._destroyed)).subscribe(i=>{this._renderedRange=i,this.viewChange.observers.length&&n.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(n,i){if(n.start>=n.end)return 0;n.start<this._renderedRange.start||n.end>this._renderedRange.end;let r=n.start-this._renderedRange.start,o=n.end-n.start,s,a;for(let l=0;l<o;l++){let c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){s=a=c.rootNodes[0];break}}for(let l=o-1;l>-1;l--){let c=this._viewContainerRef.get(l+r);if(c&&c.rootNodes.length){a=c.rootNodes[c.rootNodes.length-1];break}}return s&&a?dK(i,"end",a)-dK(i,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((n,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(n,i):i)),this._needsUpdate=!0)}_changeDataSource(n,i){return n&&n.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Re()}_updateContext(){let n=this._data.length,i=this._viewContainerRef.length;for(;i--;){let r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=n,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(n){this._viewRepeater.applyChanges(n,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),n.forEachIdentityChange(o=>{let s=this._viewContainerRef.get(o.currentIndex);s.context.$implicit=o.item});let i=this._data.length,r=this._viewContainerRef.length;for(;r--;){let o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(n){n.first=n.index===0,n.last=n.index===n.count-1,n.even=n.index%2===0,n.odd=!n.even}_getEmbeddedViewArgs(n,i){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}static ngTemplateContextGuard(n,i){return!0}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[yt([{provide:HT,useClass:x0}])]})}return t})();var ca=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})(),hN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Bh,ca,Bh,ca]})}return t})();var T0=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ul=class extends T0{component;viewContainerRef;injector;projectableNodes;constructor(e,n,i,r){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.projectableNodes=r}},Ds=class extends T0{templateRef;viewContainerRef;context;injector;constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},fN=class extends T0{element;constructor(e){super(),this.element=e instanceof Se?e.nativeElement:e}},Lh=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ul)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ds)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof fN)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},I0=class extends Lh{outletElement;_appRef;_defaultInjector;constructor(e,n,i){super(),this.outletElement=e,this._appRef=n,this._defaultInjector=i}attachComponentPortal(e){let n;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,r=i.get(kc,null,{optional:!0})||void 0;n=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let i=this._appRef,r=e.injector||this._defaultInjector||Ge.NULL,o=r.get(Xn,i.injector);n=JS(e.component,{elementInjector:r,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),i.attachView(n.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=e,n}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}attachDomPortal=e=>{let n=e.element;n.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");n.parentNode.insertBefore(i,n),this.outletElement.appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(n,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},rlt=(()=>{class t extends Ds{constructor(){let n=E(Mi),i=E(mi);super(n,i)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[rn]})}return t})();var Uh=(()=>{class t extends Lh{_moduleRef=E(kc,{optional:!0});_document=E(ut);_viewContainerRef=E(mi);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new Ae;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let i=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,r=i.createComponent(n.component,{index:i.length,injector:n.injector||i.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(n){n.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=n=>{let i=n.element;i.parentNode;let r=this._document.createComment("dom-portal");n.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=n,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[rn]})}return t})();var du=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();var fK=FT();function fg(t){return new QT(t.get(Ms),t.get(ut))}var QT=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,n){this._viewportRuler=e,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Tr(-this._previousScrollPosition.left),e.style.top=Tr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),fK&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fK&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.documentElement,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};function bK(t,e){return new jT(t.get(Fc),t.get(Ie),t.get(Ms),e)}var jT=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(qe(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var k0=class{enable(){}disable(){}attach(){}};function pN(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function pK(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}function Go(t,e){return new $T(t.get(Fc),t.get(Ms),t.get(Ie),e)}var $T=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();pN(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},yK=(()=>{class t{_injector=E(Ge);constructor(){}noop=()=>new k0;close=n=>bK(this._injector,n);block=()=>fg(this._injector);reposition=n=>Go(this._injector,n);static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),da=class{positionStrategy;scrollStrategy=new k0;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var zT=class{connectionPair;scrollableViewProperties;constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var CK=(()=>{class t{_attachedOverlays=[];_document=E(ut);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let i=this._attachedOverlays.indexOf(n);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wK=(()=>{class t extends CK{_ngZone=E(Ie);_renderer=E(er).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EK=(()=>{class t extends CK{_platform=E(on);_ngZone=E(Ie);_renderer=E(er).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(n){if(super.add(n),!this._isAttached){let i=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,r),o.listen(i,"click",this._clickListener,r),o.listen(i,"auxclick",this._clickListener,r),o.listen(i,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=sr(n)};_clickListener=n=>{let i=sr(n),r=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(mK(a.overlayElement,i)||mK(a.overlayElement,r))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(n)):l.next(n)}};static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mK(t,e){let n=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===t)return!0;i=n&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var xK=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return t})(),KT=(()=>{class t{_platform=E(on);_containerElement;_document=E(ut);_styleLoader=E(Pi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||tN()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let i=this._document.createElement("div");i.classList.add(n),tN()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(xK)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mN=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,n,i,r){this._renderer=n,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},hg=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new O;_attachments=new O;_detachments=new O;_positionStrategy;_scrollStrategy;_locationChanges=At.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new O;_outsidePointerEvents=new O;_afterNextRenderRef;constructor(e,n,i,r,o,s,a,l,c,d=!1,u,p){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=u,this._renderer=p,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Di(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=V(V({},this._config),e),this._updateElementSize()}setDirection(e){this._config=De(V({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=Tr(this._config.width),e.height=Tr(this._config.height),e.minWidth=Tr(this._config.minWidth),e.minHeight=Tr(this._config.minHeight),e.maxWidth=Tr(this._config.maxWidth),e.maxHeight=Tr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new mN(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,n,i){let r=Nl(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=Di(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(n){if(e)throw n;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},AK="cdk-overlay-connected-position-bounding-box",TEe=/([A-Za-z%]+)$/;function uu(t,e){return new GT(e,t.get(Ms),t.get(ut),t.get(on),t.get(KT))}var GT=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new O;_resizeSubscription=At.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(AK),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,n,a),d=this._getOverlayFit(c,n,i,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(let c of o){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(AK),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:a}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=vK(n),{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-s,u=s+o.width-i.width,p=0-a,g=a+o.height-i.height,v=this._subtractOverflows(o.width,d,u),b=this._subtractOverflows(o.height,p,g),x=v*b;return{visibleArea:x,isCompletelyWithinViewport:o.width*o.height===x,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=gK(this._overlayRef.getConfig().minHeight),a=gK(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=vK(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0),d=0,u=0;return r.width<=o.width?d=c||-s:d=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?u=l||-a:u=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:u},{x:e.x+d,y:e.y+u}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!IEe(this._lastScrollVisibility,i)){let r=new zT(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,a;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let g=Math.min(i.bottom-e.y+i.top,e.y),v=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-v/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,c=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,d,u,p;if(c)p=i.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(l)u=e.x,d=i.right-e.x;else{let g=Math.min(i.right-e.x+i.left,e.x),v=this._lastBoundingBoxSize.width;d=g*2,u=e.x-g,d>v&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-v/2)}return{top:s,left:u,bottom:a,right:p,width:d,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Tr(i.height),r.top=Tr(i.top),r.bottom=Tr(i.bottom),r.width=Tr(i.width),r.left=Tr(i.left),r.right=Tr(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Tr(o)),s&&(r.maxWidth=Tr(s))}this._lastBoundingBoxSize=i,Vp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Vp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let d=this._viewportRuler.getViewportScrollPosition();Vp(i,this._getExactOverlayY(n,e,d)),Vp(i,this._getExactOverlayX(n,e,d))}else i.position="static";let a="",l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Tr(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Tr(s.maxWidth):o&&(i.maxWidth="")),Vp(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Tr(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=Tr(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pK(e,i),isOriginOutsideView:pN(e,i),isOverlayClipped:pK(n,i),isOverlayOutsideView:pN(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Nl(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Se)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function Vp(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function gK(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(TEe);return!n||n==="px"?parseFloat(e):null}return t||null}function vK(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function IEe(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var _K="cdk-global-overlay-wrapper";function Vh(t){return new WT}var WT=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(_K),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,u=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",g="",v="",b="";l?b="flex-start":d==="center"?(b="center",p?v=u:g=u):p?d==="left"||d==="end"?(b="flex-end",g=u):(d==="right"||d==="start")&&(b="flex-start",v=u):d==="left"||d==="start"?(b="flex-start",g=u):(d==="right"||d==="end")&&(b="flex-end",v=u),e.position=this._cssPosition,e.marginLeft=l?"0":g,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":v,n.justifyContent=b,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(_K),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},SK=(()=>{class t{_injector=E(Ge);constructor(){}global(){return Vh()}flexibleConnectedTo(n){return uu(this._injector,n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ua(t,e){t.get(Pi).load(xK);let n=t.get(KT),i=t.get(ut),r=t.get(Hn),o=t.get(co),s=t.get(lr),a=i.createElement("div"),l=i.createElement("div");l.id=r.getId("cdk-overlay-"),l.classList.add("cdk-overlay-pane"),a.appendChild(l),n.getContainerElement().appendChild(a);let c=new I0(l,o,t),d=new da(e),u=t.get(_n,null,{optional:!0})||t.get(er).createRenderer(null,null);return d.direction=d.direction||s.value,new hg(c,a,l,d,t.get(Ie),t.get(wK),i,t.get(Oc),t.get(EK),e?.disableAnimations??t.get(kb,null,{optional:!0})==="NoopAnimations",t.get(Xn),u)}var TK=(()=>{class t{scrollStrategies=E(yK);_positionBuilder=E(SK);_injector=E(Ge);constructor(){}create(n){return ua(this._injector,n)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kEe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],IK=new ie("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=E(Ge);return()=>Go(t)}}),Ps=(()=>{class t{elementRef=E(Se);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),Ka=(()=>{class t{_dir=E(lr,{optional:!0});_injector=E(Ge);_overlayRef;_templatePortal;_backdropSubscription=At.EMPTY;_attachSubscription=At.EMPTY;_detachSubscription=At.EMPTY;_positionSubscription=At.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=E(IK);_disposeOnNavigation=!1;_ngZone=E(Ie);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}backdropClick=new Ae;positionChange=new Ae;attach=new Ae;detach=new Ae;overlayKeydown=new Ae;overlayOutsideClick=new Ae;constructor(){let n=E(Mi),i=E(mi);this._templatePortal=new Ds(n,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=kEe);let n=this._overlayRef=ua(this._injector,this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!ar(i)&&(i.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),o=sr(i);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let n=this._position=this.positionStrategy||this._createPositionStrategy(),i=new da({direction:this._dir||"ltr",positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(n){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return n.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let n=uu(this._injector,this._getOrigin());return this._updatePositionStrategy(n),n}_getOrigin(){return this.origin instanceof Ps?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ps?this.origin.elementRef.nativeElement:this.origin instanceof Se?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(ZO(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",He],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",He],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",He],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",He],push:[2,"cdkConnectedOverlayPush","push",He],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",He]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[gt]})}return t})();function MEe(t){let e=E(Ge);return()=>Go(e)}var DEe={provide:IK,useFactory:MEe},ko=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[TK,DEe],imports:[Bh,du,hN,hN]})}return t})();function PEe(t,e){}var Hh=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var gN=(()=>{class t extends Lh{_elementRef=E(Se);_focusTrapFactory=E(kT);_config;_interactivityChecker=E(X2);_ngZone=E(Ie);_focusMonitor=E(la);_renderer=E(_n);_changeDetectorRef=E(zt);_injector=E(Ge);_platform=E(on);_document=E(ut);_portalOutlet;_focusTrapped=new O;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=E(Hh,{optional:!0})||new Hh,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let i=this._ariaLabelledByQueue.indexOf(n);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),i}attachTemplatePortal(n){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),i}attachDomPortal=n=>{this._portalOutlet.hasAttached();let i=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),i};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,i){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{o(),s(),n.removeAttribute("tabindex")},o=this._renderer.listen(n,"blur",r),s=this._renderer.listen(n,"mousedown",r)})),n.focus(i)}_focusByCssSelector(n,i){let r=this._elementRef.nativeElement.querySelector(n);r&&this._forceFocus(r,i)}_trapFocus(n){this._isDestroyed||Di(()=>{let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus(n);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(n)||this._focusDialogContainer(n);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',n);break;default:this._focusByCssSelector(this._config.autoFocus,n);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,i=null;if(typeof n=="string"?i=this._document.querySelector(n):typeof n=="boolean"?i=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(i=n),this._config.restoreFocus&&i&&typeof i.focus=="function"){let r=cu(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(n){this._elementRef.nativeElement.focus?.(n)}_containsFocus(){let n=this._elementRef.nativeElement,i=cu();return n===i||n.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=cu()))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(i&1&&Fe(Uh,7),i&2){let o;Ce(o=we())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){i&2&&ct("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[rn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){i&1&&Vn(0,PEe,0,0,"ng-template",0)},dependencies:[Uh],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return t})(),M0=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new O;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(e,n){this.overlayRef=e,this.config=n,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!ar(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this._canClose(e)){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}_canClose(e){let n=this.config;return!!this.containerInstance&&(!n.closePredicate||n.closePredicate(e,n,this.componentInstance))}},OEe=new ie("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=E(Ge);return()=>fg(t)}}),REe=new ie("DialogData"),BEe=new ie("DefaultDialogConfig");function FEe(t){let e=gn(t),n=new Ae;return{valueSignal:e,get value(){return e()},change:n,ngOnDestroy(){n.complete()}}}var vN=(()=>{class t{_injector=E(Ge);_defaultOptions=E(BEe,{optional:!0});_parentDialog=E(t,{optional:!0,skipSelf:!0});_overlayContainer=E(KT);_idGenerator=E(Hn);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new O;_afterOpenedAtThisLevel=new O;_ariaHiddenElements=new Map;_scrollStrategy=E(OEe);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Uo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0)));constructor(){}open(n,i){let r=this._defaultOptions||new Hh;i=V(V({},r),i),i.id=i.id||this._idGenerator.getId("cdk-dialog-"),i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),s=ua(this._injector,o),a=new M0(s,i),l=this._attachContainer(s,a,i);if(a.containerInstance=l,!this.openDialogs.length){let c=this._overlayContainer.getContainerElement();l._focusTrapped?l._focusTrapped.pipe(Jt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(c)}):this._hideNonDialogContentFromAssistiveTechnology(c)}return this._attachDialogContent(n,a,l,i),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){AN(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(i=>i.id===n)}ngOnDestroy(){AN(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),AN(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let i=new da({positionStrategy:n.positionStrategy||Vh().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation,disableAnimations:n.disableAnimations});return n.backdropClass&&(i.backdropClass=n.backdropClass),i}_attachContainer(n,i,r){let o=r.injector||r.viewContainerRef?.injector,s=[{provide:Hh,useValue:r},{provide:M0,useValue:i},{provide:hg,useValue:n}],a;r.container?typeof r.container=="function"?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=gN;let l=new Ul(a,r.viewContainerRef,Ge.create({parent:o||this._injector,providers:s}));return n.attach(l).instance}_attachDialogContent(n,i,r,o){if(n instanceof Mi){let s=this._createInjector(o,i,r,void 0),a={$implicit:o.data,dialogRef:i};o.templateContext&&(a=V(V({},a),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),r.attachTemplatePortal(new Ds(n,null,a,s))}else{let s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new Ul(n,o.viewContainerRef,s));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(n,i,r,o){let s=n.injector||n.viewContainerRef?.injector,a=[{provide:REe,useValue:n.data},{provide:M0,useValue:i}];return n.providers&&(typeof n.providers=="function"?a.push(...n.providers(i,n,r)):a.push(...n.providers)),n.direction&&(!s||!s.get(lr,null,{optional:!0}))&&a.push({provide:lr,useValue:FEe(n.direction)}),Ge.create({parent:s||o,providers:a})}_removeOpenDialog(n,i){let r=this.openDialogs.indexOf(n);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(n){if(n.parentElement){let i=n.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AN(t,e){let n=t.length;for(;n--;)e(t[n])}var kK=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[vN],imports:[ko,du,f0,du]})}return t})();function NEe(t,e){}var P0=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},_N="mdc-dialog--open",MK="mdc-dialog--opening",DK="mdc-dialog--closing",LEe=150,UEe=75,RK=(()=>{class t extends gN{_animationStateChanged=new Ae;_animationsEnabled=!Pn();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?OK(this._config.enterAnimationDuration)??LEe:0;_exitAnimationDuration=this._animationsEnabled?OK(this._config.exitAnimationDuration)??UEe:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(PK,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(MK,_N)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(_N),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(_N),this._animationsEnabled?(this._hostElement.style.setProperty(PK,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(DK)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(MK,DK)}_waitForAnimationToComplete(n,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let i=super.attachComponentPortal(n);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275cmp=re({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){i&2&&(wi("id",r._config.id),ct("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),le("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},features:[rn],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(C(0,"div",0)(1,"div",1),Vn(2,NEe,0,0,"ng-template",2),w()())},dependencies:[Uh],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return t})(),PK="--mat-dialog-transition-duration";function OK(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Hr(t.substring(0,t.length-2)):t.endsWith("s")?Hr(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var D0=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(D0||{}),Nt=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new O;_beforeClosed=new O;_result;_closeFallbackTimeout;_state=D0.OPEN;_closeInteractionType;constructor(e,n,i){this._ref=e,this._config=n,this._containerInstance=i,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(qe(r=>r.state==="opened"),Jt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(qe(r=>r.state==="closed"),Jt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),hi(this.backdropClick(),this.keydownEvents().pipe(qe(r=>r.keyCode===27&&!this.disableClose&&!ar(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),bN(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){let n=this._config.closePredicate;n&&!n(e,this._config,this.componentInstance)||(this._result=e,this._containerInstance._animationStateChanged.pipe(qe(i=>i.state==="closing"),Jt(1)).subscribe(i=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=D0.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=D0.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function bN(t,e,n){return t._closeInteractionType=e,t.close(n)}var Qn=new ie("MatMdcDialogData"),BK=new ie("mat-mdc-dialog-default-options"),FK=new ie("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=E(Ge);return()=>fg(t)}}),ai=(()=>{class t{_defaultOptions=E(BK,{optional:!0});_scrollStrategy=E(FK);_parentDialog=E(t,{optional:!0,skipSelf:!0});_idGenerator=E(Hn);_injector=E(Ge);_dialog=E(vN);_animationsDisabled=Pn();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new O;_afterOpenedAtThisLevel=new O;dialogConfigClass=P0;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Uo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0)));constructor(){this._dialogRefConstructor=Nt,this._dialogContainerType=RK,this._dialogDataToken=Qn}open(n,i){let r;i=V(V({},this._defaultOptions||new P0),i),i.id=i.id||this._idGenerator.getId("mat-mdc-dialog-"),i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(n,De(V({},i),{positionStrategy:Vh(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||i.enterAnimationDuration?.toLocaleString()==="0"||i.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Hh,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,l)=>(r=new this._dialogRefConstructor(s,i,l),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])}));return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(i=>i.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let i=n.length;for(;i--;)n[i].close()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),hu=(()=>{class t{dialogRef=E(Nt,{optional:!0});_elementRef=E(Se);_dialog=E(ai);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=LK(this._elementRef,this._dialog.openDialogs))}ngOnChanges(n){let i=n._matDialogClose||n._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(n){bN(this.dialogRef,n.screenX===0&&n.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){i&1&&G("click",function(s){return r._onButtonClick(s)}),i&2&&ct("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[gt]})}return t})(),NK=(()=>{class t{_dialogRef=E(Nt,{optional:!0});_elementRef=E(Se);_dialog=E(ai);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=LK(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t})}return t})(),fu=(()=>{class t extends NK{id=E(Hn).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275dir=ye({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){i&2&&wi("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[rn]})}return t})(),pu=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[UF([S0])]})}return t})(),mu=(()=>{class t extends NK{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275dir=ye({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){i&2&&le("mat-mdc-dialog-actions-align-start",r.align==="start")("mat-mdc-dialog-actions-align-center",r.align==="center")("mat-mdc-dialog-actions-align-end",r.align==="end")},inputs:{align:"align"},features:[rn]})}return t})();function LK(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?e.find(i=>i.id===n.id):null}var yN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[ai],imports:[kK,ko,du,Gt,Gt]})}return t})();var B0=class{},VEe=(()=>{class t{handle(n){return n.key}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),pg=class{},HEe=(()=>{class t extends pg{compile(n,i){return n}compileTranslations(n,i){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Qh=class{},QEe=(()=>{class t extends Qh{getTranslation(n){return Re({})}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function F0(t,e){if(t===e)return!0;if(t===null||e===null)return!1;if(t!==t&&e!==e)return!0;let n=typeof t,i=typeof e,r;if(n==i&&n=="object")if(Array.isArray(t)){if(!Array.isArray(e))return!1;if((r=t.length)==e.length){for(let o=0;o<r;o++)if(!F0(t[o],e[o]))return!1;return!0}}else{if(Array.isArray(e))return!1;if(Au(t)&&Au(e)){let o=Object.create(null);for(let s in t){if(!F0(t[s],e[s]))return!1;o[s]=!0}for(let s in e)if(!(s in o)&&typeof e[s]<"u")return!1;return!0}}return!1}function ha(t){return typeof t<"u"&&t!==null}function UK(t){return t!==void 0}function Au(t){return R0(t)&&!Hp(t)&&t!==null}function R0(t){return typeof t=="object"&&t!==null}function Hp(t){return Array.isArray(t)}function N0(t){return typeof t=="string"}function jEe(t){return typeof t=="function"}function YT(t){if(Hp(t))return t.map(e=>YT(e));if(Au(t)){let e={};return Object.keys(t).forEach(n=>{e[n]=YT(t[n])}),e}else return t}function EN(t,e){if(!R0(t))return YT(e);let n=YT(t);return R0(n)&&R0(e)&&Object.keys(e).forEach(i=>{Au(e[i])?i in t?n[i]=EN(t[i],e[i]):Object.assign(n,{[i]:e[i]}):Object.assign(n,{[i]:e[i]})}),n}function HK(t,e){let n=e.split(".");e="";do{e+=n.shift();let i=!n.length;if(ha(t)){if(Au(t)&&UK(t[e])&&(Au(t[e])||Hp(t[e])||i)){t=t[e],e="";continue}if(Hp(t)){let r=parseInt(e,10);if(UK(t[r])&&(Au(t[r])||Hp(t[r])||i)){t=t[r],e="";continue}}}if(i){t=void 0;continue}e+="."}while(n.length);return t}function $Ee(t,e,n){return EN(t,zEe(e,n))}function zEe(t,e){return t.split(".").reduceRight((n,i)=>({[i]:n}),e)}var mg=class{},GEe=(()=>{class t extends mg{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(n,i){if(N0(n))return this.interpolateString(n,i);if(jEe(n))return this.interpolateFunction(n,i)}interpolateFunction(n,i){return n(i)}interpolateString(n,i){return i?n.replace(this.templateMatcher,(r,o)=>{let s=this.getInterpolationReplacement(i,o);return s!==void 0?s:r}):n}getInterpolationReplacement(n,i){return this.formatValue(HK(n,i))}formatValue(n){if(N0(n))return n;if(typeof n=="number"||typeof n=="boolean")return n.toString();if(n===null)return"null";if(Hp(n))return n.join(", ");if(R0(n))return typeof n.toString=="function"&&n.toString!==Object.prototype.toString?n.toString():JSON.stringify(n)}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),CN=(()=>{class t{_onTranslationChange=new O;_onLangChange=new O;_onFallbackLangChange=new O;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(n){return this.translations[n]}setTranslations(n,i,r){this.translations[n]=r&&this.hasTranslationFor(n)?EN(this.translations[n],i):i,this.addLanguages([n]),this._onTranslationChange.next({lang:n,translations:this.getTranslations(n)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(n,i=!0){this.fallbackLang=n,i&&this._onFallbackLangChange.next({lang:n,translations:this.translations[n]})}setCurrentLang(n,i=!0){this.currentLang=n,i&&this._onLangChange.next({lang:n,translations:this.translations[n]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(n){this.languages=Array.from(new Set([...this.languages,...n]))}hasTranslationFor(n){return typeof this.translations[n]<"u"}deleteTranslations(n){delete this.translations[n]}getTranslation(n){let i=this.getValue(this.currentLang,n);return i===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(i=this.getValue(this.fallbackLang,n)),i}getValue(n,i){return HK(this.getTranslations(n),i)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),wN=new ie("TRANSLATE_CONFIG"),O0=t=>os(t)?t:Re(t);var qa=(()=>{class t{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=E(Qh);compiler=E(pg);parser=E(mg);missingTranslationHandler=E(B0);store=E(CN);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let n=V({extend:!1,fallbackLang:null},E(wN,{optional:!0}));n.lang&&this.use(n.lang),n.fallbackLang&&this.setFallbackLang(n.fallbackLang),n.extend&&(this.extend=!0)}setFallbackLang(n){this.getFallbackLang()||this.store.setFallbackLang(n,!1);let i=this.loadOrExtendLanguage(n);return os(i)?(i.pipe(Jt(1)).subscribe({next:()=>{this.store.setFallbackLang(n)},error:()=>{}}),i):(this.store.setFallbackLang(n),Re(this.store.getTranslations(n)))}use(n){this.lastUseLanguage=n,this.getCurrentLang()||this.store.setCurrentLang(n,!1);let i=this.loadOrExtendLanguage(n);return os(i)?(i.pipe(Jt(1)).subscribe({next:()=>{this.changeLang(n)},error:()=>{}}),i):(this.changeLang(n),Re(this.store.getTranslations(n)))}loadOrExtendLanguage(n){if(!this.store.hasTranslationFor(n)||this.extend)return this._translationRequests[n]=this._translationRequests[n]||this.loadAndCompileTranslations(n),this._translationRequests[n]}changeLang(n){n===this.lastUseLanguage&&this.store.setCurrentLang(n)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(n){this.pending=!0;let i=this.currentLoader.getTranslation(n).pipe(gh(1),Jt(1));return this.loadingTranslations=i.pipe(se(r=>this.compiler.compileTranslations(r,n)),gh(1),Jt(1)),this.loadingTranslations.subscribe({next:r=>{this.store.setTranslations(n,r,this.extend),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(n,i,r=!1){let o=this.compiler.compileTranslations(i,n);this.store.setTranslations(n,o,r||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(n){this.store.addLanguages(n)}getParsedResultForKey(n,i){let r=this.getTextToInterpolate(n);if(ha(r))return this.runInterpolation(r,i);let o=this.missingTranslationHandler.handle(V({key:n,translateService:this},i!==void 0&&{interpolateParams:i}));return o!==void 0?o:n}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(n){return this.store.getTranslation(n)}runInterpolation(n,i){if(ha(n))return Hp(n)?this.runInterpolationOnArray(n,i):Au(n)?this.runInterpolationOnDict(n,i):this.parser.interpolate(n,i)}runInterpolationOnArray(n,i){return n.map(r=>this.runInterpolation(r,i))}runInterpolationOnDict(n,i){let r={};for(let o in n){let s=this.runInterpolation(n[o],i);s!==void 0&&(r[o]=s)}return r}getParsedResult(n,i){return n instanceof Array?this.getParsedResultForArray(n,i):this.getParsedResultForKey(n,i)}getParsedResultForArray(n,i){let r={},o=!1;for(let a of n)r[a]=this.getParsedResultForKey(a,i),o=o||os(r[a]);if(!o)return r;let s=n.map(a=>O0(r[a]));return X_(s).pipe(se(a=>{let l={};return a.forEach((c,d)=>{l[n[d]]=c}),l}))}get(n,i){if(!ha(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(Na(()=>O0(this.getParsedResult(n,i)))):O0(this.getParsedResult(n,i))}getStreamOnTranslationChange(n,i){if(!ha(n)||!n.length)throw new Error('Parameter "key" is required and cannot be empty');return ea(Uo(()=>this.get(n,i)),this.onTranslationChange.pipe(nn(()=>{let r=this.getParsedResult(n,i);return O0(r)})))}stream(n,i){if(!ha(n)||!n.length)throw new Error('Parameter "key" required');return ea(Uo(()=>this.get(n,i)),this.onLangChange.pipe(nn(()=>{let r=this.getParsedResult(n,i);return O0(r)})))}instant(n,i){if(!ha(n)||n.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(n,i);return os(r)?Array.isArray(n)?n.reduce((o,s)=>(o[s]=s,o),{}):n:r}set(n,i,r=this.getCurrentLang()){this.store.setTranslations(r,$Ee(this.store.getTranslations(r),n,N0(i)?this.compiler.compile(i,r):this.compiler.compileTranslations(i,r)),!1)}reloadLang(n){return this.resetLang(n),this.loadAndCompileTranslations(n)}resetLang(n){delete this._translationRequests[n],this.store.deleteTranslations(n)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let n=this.getBrowserCultureLang();return n?n.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return t.getBrowserLang()}getBrowserCultureLang(){return t.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(n){return this.setFallbackLang(n)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),QK=(()=>{class t{translateService=E(qa);element=E(Se);_ref=E(zt);key;lastParams;currentParams;onLangChangeSub;onFallbackLangChangeSub;onTranslationChangeSub;set translate(n){n&&(this.key=n,this.checkNodes())}set translateParams(n){F0(this.currentParams,n)||(this.currentParams=n,this.checkNodes(!0))}constructor(){this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(n=>{n.lang===this.translateService.currentLang&&this.checkNodes(!0,n.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(n=>{this.checkNodes(!0,n.translations)})),this.onFallbackLangChangeSub||(this.onFallbackLangChangeSub=this.translateService.onFallbackLangChange.subscribe(n=>{this.checkNodes(!0)}))}ngAfterViewChecked(){this.checkNodes()}checkNodes(n=!1,i){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes),r.forEach(o=>{let s=o;if(s.nodeType===3){let a;if(n&&(s.lastKey=null),ha(s.lookupKey))a=s.lookupKey;else if(this.key)a=this.key;else{let l=this.getContent(s),c=l.trim();c.length&&(s.lookupKey=c,l!==s.currentValue?(a=c,s.originalContent=l||s.originalContent):s.originalContent&&(a=s.originalContent.trim()))}this.updateValue(a,s,i)}})}updateValue(n,i,r){if(n){if(i.lastKey===n&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let o=s=>{(s!==n||!i.lastKey)&&(i.lastKey=n),i.originalContent||(i.originalContent=this.getContent(i)),N0(s)?i.currentValue=s:ha(s)?i.currentValue=JSON.stringify(s):i.currentValue=i.originalContent||n,this.setContent(i,this.key?i.currentValue:i.originalContent.replace(n,i.currentValue)),this._ref.markForCheck()};if(ha(r)){let s=this.translateService.getParsedResult(n,this.currentParams);os(s)?s.subscribe({next:o}):o(s)}else this.translateService.get(n,this.currentParams).subscribe(o)}}getContent(n){return ha(n.textContent)?n.textContent:n.data}setContent(n,i){ha(n.textContent)?n.textContent=i:n.data=i}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onFallbackLangChangeSub&&this.onFallbackLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}return t})(),Vl=(()=>{class t{translate=E(qa);_ref=E(zt);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(n,i,r){let o=s=>{this.value=s!==void 0?s:n,this.lastKey=n,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(n,i);os(s)?s.subscribe(o):o(s)}this.translate.get(n,i).subscribe(o)}transform(n,...i){if(!n||!n.length)return n;if(F0(n,this.lastKey)&&F0(i,this.lastParams))return this.value;let r;if(ha(i[0])&&i.length)if(N0(i[0])&&i[0].length){let o=i[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else Au(i[0])&&(r=i[0]);return this.lastKey=n,this.lastParams=i,this.updateValue(n,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{(this.lastKey&&o.lang===this.translate.getCurrentLang()||o.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(n,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r,o.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(n,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(i){return new(i||t)};static \u0275pipe=Sr({name:"translate",type:t,pure:!1});static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function WEe(t){return{provide:Qh,useClass:t}}function KEe(t){return{provide:pg,useClass:t}}function qEe(t){return{provide:mg,useClass:t}}function YEe(t){return{provide:B0,useClass:t}}function VK(t={},e){let n=[];t.loader&&n.push(t.loader),t.compiler&&n.push(t.compiler),t.parser&&n.push(t.parser),t.missingTranslationHandler&&n.push(t.missingTranslationHandler),e&&n.push(CN),(t.useDefaultLang||t.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),t.useDefaultLang===!0&&t.defaultLanguage&&(t.fallbackLang=t.defaultLanguage));let i={fallbackLang:t.fallbackLang??null,lang:t.lang,extend:t.extend??!1};return n.push({provide:wN,useValue:i}),n.push({provide:qa,useClass:qa,deps:[CN,Qh,pg,mg,B0,wN]}),n}var jK=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[...VK(V({compiler:KEe(HEe),parser:qEe(GEe),loader:WEe(QEe),missingTranslationHandler:YEe(VEe)},n),!0)]}}static forChild(n={}){return{ngModule:t,providers:[...VK(n,n.isolate??!1)]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();var xN=new ie("TRANSLATE_HTTP_LOADER_CONFIG"),XEe=(()=>{class t{http;config;constructor(){this.config=V({prefix:"/assets/i18n/",suffix:".json",enforceLoading:!1,useHttpBackend:!1},E(xN)),this.http=this.config.useHttpBackend?new Mt(E(kh)):E(Mt)}getTranslation(n){let i=this.config.enforceLoading?`?enforceLoading=${Date.now()}`:"";return this.http.get(`${this.config.prefix}${n}${this.config.suffix}${i}`)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function $K(t={}){let e=t.useHttpBackend??!1;return[{provide:xN,useValue:t},{provide:Qh,useClass:XEe,deps:[e?kh:Mt,xN]}]}var Ue={production:!0,name:"production-app",disableSignUpWithoutEligibility:!1,isB2BApp:!1,apiUrl:"https://api.studystream.live/api",apiBaseUrl:"https://api.studystream.live",otherSiteSendTokenUrl:"https://studystream.live/token-send.website.html",otherSiteRootUrl:"https://studystream.live",defaultLanguage:"en",appUrl:"",accountRedirectUrl:"https://app.studystream.live",discordRedirectUrl:"https://discord.com/invite/studystream",discordDevelopersRedirectUrl:"https://tianyou6.wixsite.com/mysite-4/discord",siteName:"StudyStream",sitePrefix:"",googleRecaptchaKey:"6LcCHjwbAAAAAGHzyjDX56Obb6g3oWnI-kIWPalG",facebookAppId:"1815118135328161",tenorApiKey:"AIzaSyC0Wad5kMcYJnnlUWQ94yCSpu8IjoRL1iA",firebase:{apiKey:"AIzaSyANeGO5EnqkHvuMItAc6otp7kSZOKZN6rk",authDomain:"studystream-cada6.firebaseapp.com",projectId:"studystream-cada6",storageBucket:"studystream-cada6.appspot.com",messagingSenderId:"199300132206",appId:"1:199300132206:web:d37d935681331c8512657f",measurementId:"G-VTB6NKNEQF"},messageShortFormatSeconds:180,livekitRoomNamePrefix:"",configUrl:"https://storageaccountstudy9794.blob.core.windows.net/app-config/config.json",amplitudeApiKey:"1c683ec9dc0759ff4195cd1c4fd9c864",growthBook:{clientKey:"sdk-CY9bhyNW7KseipaG",devMode:!1},minParticipantsNeededForFocusRoomOnboarding:50,blobStorageRootUrl:"https://storageaccountstudy9794.blob.core.windows.net"};var bn=(()=>{let e=class e{constructor(){this.iconVariant=24,this.role="icon",this.color="gradient-40"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-icon"]],hostVars:2,hostBindings:function(r,o){r&2&&Zn("font-size",o.size,"px")},inputs:{iconName:"iconName",iconVariant:"iconVariant",role:"role",color:"color",size:"size"},standalone:!1,decls:1,vars:6,template:function(r,o){r&1&&$(0,"i"),r&2&&(xn(e2("icon-ic_fluent_",o.iconName,"_",o.iconVariant,"_filled ",o.color)),ct("role",o.role==="button"?"button":null))},styles:['[_nghost-%COMP%]{display:inline-block}i[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}i[class^=icon-][_ngcontent-%COMP%]:before, i[class*=" icon-"][_ngcontent-%COMP%]:before{margin-right:0;margin-left:0}i.contrast[_ngcontent-%COMP%]{color:var(--contrast)}i.contrast[role=button][_ngcontent-%COMP%]:hover{opacity:.8}i.accent-blue[_ngcontent-%COMP%]{color:var(--accent-blue)}i.accent-blue-20[_ngcontent-%COMP%]{color:var(--accent-blue-20)}i.accent-blue-40[_ngcontent-%COMP%]{color:var(--accent-blue-40)}i.accent-blue-60[_ngcontent-%COMP%]{color:var(--accent-blue-60)}i.blue-black[_ngcontent-%COMP%]{color:var(--blue-black)}i.accent-blurple[_ngcontent-%COMP%]{color:var(--accent-blurple)}i.accent-blurple[_ngcontent-%COMP%]:hover{color:var(--accent-blurple-40)}i.accent-blurple-20[_ngcontent-%COMP%]{color:var(--accent-blurple-20)}i.accent-blurple-40[_ngcontent-%COMP%]{color:var(--accent-blurple-40)}i.accent-gradient-40[_ngcontent-%COMP%]{background:var(--accent-gradient-40);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.negative[_ngcontent-%COMP%]{color:var(--negative)}i.negative-20[_ngcontent-%COMP%]{color:var(--negative-20)}i.negative-20[role=button][_ngcontent-%COMP%]:hover{color:var(--negative)}i.negative-60[_ngcontent-%COMP%]{color:var(--negative-60)}i.negative-60[role=button][_ngcontent-%COMP%]:hover{color:var(--negative-40)}i.positive[_ngcontent-%COMP%]{color:var(--positive)}i.alt[_ngcontent-%COMP%]{color:var(--alt)}i.alt-80[_ngcontent-%COMP%]{color:var(--alt-80)}i.gradient[_ngcontent-%COMP%], i.gradient[role=button][_ngcontent-%COMP%]:hover{background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.gradient-20[_ngcontent-%COMP%]{background:var(--accent-gradient-20);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.gradient-20[role=button][_ngcontent-%COMP%]:hover{background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.gradient-40[_ngcontent-%COMP%]{background:var(--accent-gradient-40);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.gradient-40[role=button][_ngcontent-%COMP%]:hover{background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.gradient-60[_ngcontent-%COMP%]{background:var(--accent-gradient-60);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.gradient-60[role=button][_ngcontent-%COMP%]:hover{background:var(--accent-gradient-20);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}i.default[_ngcontent-%COMP%]{color:var(--default)}i.default[role=button][_ngcontent-%COMP%]:hover, i.default-20[_ngcontent-%COMP%]{color:var(--default-20)}i.default-40[_ngcontent-%COMP%]{color:var(--default-40)}i.default-60[_ngcontent-%COMP%]{color:var(--default-60)}i.default-60[role=button][_ngcontent-%COMP%]:hover{color:var(--default)}i.default-80[_ngcontent-%COMP%]{color:var(--default-80)}i.base-900[_ngcontent-%COMP%]{color:var(--base-900)}i.container-2[_ngcontent-%COMP%]{color:var(--container-2)}i.container-2[_ngcontent-%COMP%]:hover, i.white[_ngcontent-%COMP%]{color:var(--contrast)}i.gold[_ngcontent-%COMP%]{color:var(--gold)}i.grayscale-g3[_ngcontent-%COMP%]{color:var(--grayscale-g3)}i.grayscale-g4[_ngcontent-%COMP%]{color:var(--grayscale-g4)}i.widget-active[_ngcontent-%COMP%]{color:var(--widget-active)}i.light-widget-active[_ngcontent-%COMP%]{color:var(--light-widget-active)}']});let t=e;return t})();var XK=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,i){this._renderer=n,this._elementRef=i}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(i){return new(i||t)(L(_n),L(Se))};static \u0275dir=ye({type:t})}return t})(),ZEe=(()=>{class t extends XK{static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275dir=ye({type:t,features:[rn]})}return t})(),uo=new ie("");var JEe={provide:uo,useExisting:kn(()=>Ya),multi:!0};function exe(){let t=Is()?Is().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var txe=new ie(""),Ya=(()=>{class t extends XK{_compositionMode;_composing=!1;constructor(n,i,r){super(n,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!exe())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(i){return new(i||t)(L(_n),L(Se),L(txe,8))};static \u0275dir=ye({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&G("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[yt([JEe]),rn]})}return t})();function TN(t){return t==null||IN(t)===0}function IN(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Xa=new ie(""),dI=new ie(""),nxe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vg=class{static min(e){return ixe(e)}static max(e){return rxe(e)}static required(e){return ZK(e)}static requiredTrue(e){return oxe(e)}static email(e){return sxe(e)}static minLength(e){return JK(e)}static maxLength(e){return eq(e)}static pattern(e){return tq(e)}static nullValidator(e){return ZT()}static compose(e){return aq(e)}static composeAsync(e){return lq(e)}};function ixe(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function rxe(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function ZK(t){return TN(t.value)?{required:!0}:null}function oxe(t){return t.value===!0?null:{required:!0}}function sxe(t){return TN(t.value)||nxe.test(t.value)?null:{email:!0}}function JK(t){return e=>{let n=e.value?.length??IN(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function eq(t){return e=>{let n=e.value?.length??IN(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function tq(t){if(!t)return ZT;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(TN(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function ZT(t){return null}function nq(t){return t!=null}function iq(t){return nu(t)?ui(t):t}function rq(t){let e={};return t.forEach(n=>{e=n!=null?V(V({},e),n):e}),Object.keys(e).length===0?null:e}function oq(t,e){return e.map(n=>n(t))}function axe(t){return!t.validate}function sq(t){return t.map(e=>axe(e)?e:n=>e.validate(n))}function aq(t){if(!t)return null;let e=t.filter(nq);return e.length==0?null:function(n){return rq(oq(n,e))}}function kN(t){return t!=null?aq(sq(t)):null}function lq(t){if(!t)return null;let e=t.filter(nq);return e.length==0?null:function(n){let i=oq(n,e).map(iq);return X_(i).pipe(se(rq))}}function MN(t){return t!=null?lq(sq(t)):null}function zK(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cq(t){return t._rawValidators}function dq(t){return t._rawAsyncValidators}function SN(t){return t?Array.isArray(t)?t:[t]:[]}function JT(t,e){return Array.isArray(t)?t.includes(e):t===e}function GK(t,e){let n=SN(e);return SN(t).forEach(r=>{JT(n,r)||n.push(r)}),n}function WK(t,e){return SN(e).filter(n=>!JT(t,n))}var eI=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=MN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},jh=class extends eI{name;get formDirective(){return null}get path(){return null}},Hl=class extends eI{_parent=null;name=null;valueAccessor=null},tI=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},lxe={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ldt=De(V({},lxe),{"[class.ng-submitted]":"isSubmitted"}),Oi=(()=>{class t extends tI{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(L(Hl,2))};static \u0275dir=ye({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&le("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[rn]})}return t})(),uI=(()=>{class t extends tI{constructor(n){super(n)}static \u0275fac=function(i){return new(i||t)(L(jh,10))};static \u0275dir=ye({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&le("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[rn]})}return t})();var L0="VALID",XT="INVALID",Ag="PENDING",U0="DISABLED",$h=class{},nI=class extends $h{value;source;constructor(e,n){super(),this.value=e,this.source=n}},H0=class extends $h{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Q0=class extends $h{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},gg=class extends $h{status;source;constructor(e,n){super(),this.status=e,this.source=n}},iI=class extends $h{source;constructor(e){super(),this.source=e}},rI=class extends $h{source;constructor(e){super(),this.source=e}};function uq(t){return(hI(t)?t.validators:t)||null}function cxe(t){return Array.isArray(t)?kN(t):t||null}function hq(t,e){return(hI(e)?e.asyncValidators:t)||null}function dxe(t){return Array.isArray(t)?MN(t):t||null}function hI(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function uxe(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new be(1e3,"");if(!i[n])throw new be(1001,"")}function hxe(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new be(1002,"")})}var oI=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return So(this.statusReactive)}set status(e){So(()=>this.statusReactive.set(e))}_status=Pl(()=>this.statusReactive());statusReactive=gn(void 0);get valid(){return this.status===L0}get invalid(){return this.status===XT}get pending(){return this.status==Ag}get disabled(){return this.status===U0}get enabled(){return this.status!==U0}errors;get pristine(){return So(this.pristineReactive)}set pristine(e){So(()=>this.pristineReactive.set(e))}_pristine=Pl(()=>this.pristineReactive());pristineReactive=gn(!0);get dirty(){return!this.pristine}get touched(){return So(this.touchedReactive)}set touched(e){So(()=>this.touchedReactive.set(e))}_touched=Pl(()=>this.touchedReactive());touchedReactive=gn(!1);get untouched(){return!this.touched}_events=new O;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GK(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GK(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WK(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WK(e,this._rawAsyncValidators))}hasValidator(e){return JT(this._rawValidators,e)}hasAsyncValidator(e){return JT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(De(V({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new Q0(!0,i))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),n&&e.emitEvent!==!1&&this._events.next(new Q0(!1,i))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(De(V({},e),{sourceControl:i})),n&&e.emitEvent!==!1&&this._events.next(new H0(!1,i))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),n&&e.emitEvent!==!1&&this._events.next(new H0(!0,i))}markAsPending(e={}){this.status=Ag;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gg(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(De(V({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=U0,this.errors=null,this._forEachChild(r=>{r.disable(De(V({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nI(this.value,i)),this._events.next(new gg(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=L0,this._forEachChild(i=>{i.enable(De(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(V({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===L0||this.status===Ag)&&this._runAsyncValidator(i,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nI(this.value,n)),this._events.next(new gg(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(De(V({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?U0:L0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ag,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let i=iq(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new gg(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,i)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?U0:this.errors?XT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ag)?Ag:this._anyControlsHaveStatus(XT)?XT:L0}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),r&&this._events.next(new H0(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Q0(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hI(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=cxe(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=dxe(this._rawAsyncValidators)}},sI=class extends oI{constructor(e,n,i){super(uq(n),hq(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){hxe(this,!0,e),Object.keys(e).forEach(i=>{uxe(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var _g=new ie("",{providedIn:"root",factory:()=>fI}),fI="always";function fxe(t,e){return[...e.path,t]}function j0(t,e,n=fI){DN(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),mxe(t,e),gxe(t,e),Axe(t,e),pxe(t,e)}function aI(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),cI(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function lI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pxe(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function DN(t,e){let n=cq(t);e.validator!==null?t.setValidators(zK(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=dq(t);e.asyncValidator!==null?t.setAsyncValidators(zK(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();lI(e._rawValidators,r),lI(e._rawAsyncValidators,r)}function cI(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=cq(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=dq(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return lI(e._rawValidators,i),lI(e._rawAsyncValidators,i),n}function mxe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fq(t,e)})}function Axe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fq(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fq(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gxe(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function pq(t,e){t==null,DN(t,e)}function vxe(t,e){return cI(t,e)}function mq(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function _xe(t){return Object.getPrototypeOf(t.constructor)===ZEe}function Aq(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function gq(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===Ya?n=o:_xe(o)?i=o:r=o}),r||i||n||null}function bxe(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var yxe={provide:jh,useExisting:kn(()=>gu)},V0=Promise.resolve(),gu=(()=>{class t extends jh{callSetDisabledState;get submitted(){return So(this.submittedReactive)}_submitted=Pl(()=>this.submittedReactive());submittedReactive=gn(!1);_directives=new Set;form;ngSubmit=new Ae;options;constructor(n,i,r){super(),this.callSetDisabledState=r,this.form=new sI({},kN(n),MN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){V0.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),j0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){V0.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){V0.then(()=>{let i=this._findContainer(n.path),r=new sI({});pq(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){V0.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){V0.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),Aq(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new iI(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new rI(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(i){return new(i||t)(L(Xa,10),L(dI,10),L(_g,8))};static \u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&G("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yt([yxe]),rn]})}return t})();function KK(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qK(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var PN=class extends oI{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,i){super(uq(n),hq(i,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hI(n)&&(n.nonNullable||n.initialValueIsDefault)&&(qK(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KK(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KK(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qK(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},bg=PN,Cxe=t=>t instanceof PN;var wxe={provide:Hl,useExisting:kn(()=>cr)},YK=Promise.resolve(),cr=(()=>{class t extends Hl{_changeDetectorRef;callSetDisabledState;control=new PN;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ae;constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=gq(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),mq(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){j0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){YK.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&He(i);YK.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?fxe(n,this._parent):[n]}static \u0275fac=function(i){return new(i||t)(L(jh,9),L(Xa,10),L(dI,10),L(uo,10),L(zt,8),L(_g,8))};static \u0275dir=ye({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yt([wxe]),rn,gt]})}return t})();var pI=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var vq=new ie(""),Exe={provide:Hl,useExisting:kn(()=>jp)},jp=(()=>{class t extends Hl{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new Ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=gq(this,r)}ngOnChanges(n){if(this._isControlChanged(n)){let i=n.form.previousValue;i&&aI(i,this,!1),j0(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}mq(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&aI(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||t)(L(Xa,10),L(dI,10),L(uo,10),L(vq,8),L(_g,8))};static \u0275dir=ye({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[yt([Exe]),rn,gt]})}return t})(),xxe={provide:jh,useExisting:kn(()=>$0)},$0=(()=>{class t extends jh{callSetDisabledState;get submitted(){return So(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Pl(()=>this._submittedReactive());_submittedReactive=gn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ae;constructor(n,i,r){super(),this.callSetDisabledState=r,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let i=this.form.get(n.path);return j0(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){aI(n.control||null,n,!1),bxe(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this._submittedReactive.set(!0),Aq(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new iI(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,i={}){this.form.reset(n,i),this._submittedReactive.set(!1),i?.emitEvent!==!1&&this.form._events.next(new rI(this.form))}_updateDomValue(){this.directives.forEach(n=>{let i=n.control,r=this.form.get(n.path);i!==r&&(aI(i||null,n),Cxe(r)&&(j0(r,n,this.callSetDisabledState),n.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let i=this.form.get(n.path);pq(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let i=this.form.get(n.path);i&&vxe(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DN(this.form,this),this._oldForm&&cI(this._oldForm,this)}static \u0275fac=function(i){return new(i||t)(L(Xa,10),L(dI,10),L(_g,8))};static \u0275dir=ye({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&G("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[yt([xxe]),rn,gt]})}return t})();function _q(t){return typeof t=="number"?t:parseInt(t,10)}var mI=(()=>{class t{_validator=ZT;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ZT,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,features:[gt]})}return t})();var Sxe={provide:Xa,useExisting:kn(()=>Rs),multi:!0};var Rs=(()=>{class t extends mI{required;inputName="required";normalizeInput=He;createValidator=n=>ZK;enabled(n){return n}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275dir=ye({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&ct("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[yt([Sxe]),rn]})}return t})();var Txe={provide:Xa,useExisting:kn(()=>Ixe),multi:!0},Ixe=(()=>{class t extends mI{minlength;inputName="minlength";normalizeInput=n=>_q(n);createValidator=n=>JK(n);static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275dir=ye({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&ct("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[yt([Txe]),rn]})}return t})(),kxe={provide:Xa,useExisting:kn(()=>$p),multi:!0},$p=(()=>{class t extends mI{maxlength;inputName="maxlength";normalizeInput=n=>_q(n);createValidator=n=>eq(n);static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275dir=ye({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&ct("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[yt([kxe]),rn]})}return t})(),Mxe={provide:Xa,useExisting:kn(()=>ON),multi:!0},ON=(()=>{class t extends mI{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>tq(n);static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275dir=ye({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&ct("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[yt([Mxe]),rn]})}return t})();var bq=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();var yq=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:_g,useValue:n.callSetDisabledState??fI}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[bq]})}return t})(),Cq=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:vq,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:_g,useValue:n.callSetDisabledState??fI}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[bq]})}return t})();var Dxe=(()=>{class t{_listeners=[];notify(n,i){for(let r of this._listeners)r(n,i)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(i=>n!==i)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var RN=class{applyChanges(e,n,i,r,o){e.forEachOperation((s,a,l)=>{let c,d;if(s.previousIndex==null){let u=i(s,a,l);c=n.createEmbeddedView(u.templateRef,u.context,u.index),d=Bc.INSERTED}else l==null?(n.remove(a),d=Bc.REMOVED):(c=n.get(a),n.move(c,l),d=Bc.MOVED);o&&o({context:c?.context,operation:d,record:s})})}detach(){}};var z0=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new O;constructor(e=!1,n,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,n&&n.length&&(e?n.forEach(o=>this._markSelected(o)):this._markSelected(n[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));let n=this._hasQueuedChanges();return this._emitChangeEvent(),n}setSelection(...e){this._verifyValueAssignment(e);let n=this.selected,i=new Set(e.map(o=>this._getConcreteValue(o)));e.forEach(o=>this._markSelected(o)),n.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let n=this._hasQueuedChanges();return e&&this._emitChangeEvent(),n}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,n){if(this.compareWith){n=n??this._selection;for(let i of n)if(this.compareWith(e,i))return i;return e}else return e}};var BN=class{_box;_destroyed=new O;_resizeSubject=new O;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Xe(n=>{let i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(qe(n=>n.some(i=>i.target===e)),gh({bufferSize:1,refCount:!0}),en(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},wq=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=E(Ie);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(n,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new BN(r)),this._observers.get(r).observe(n)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Pxe=["notch"],Oxe=["matFormFieldNotchedOutline",""],Rxe=["*"],Eq=["iconPrefixContainer"],xq=["textPrefixContainer"],Sq=["iconSuffixContainer"],Tq=["textSuffixContainer"],Bxe=["textField"],Fxe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Nxe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Lxe(t,e){t&1&&$(0,"span",20)}function Uxe(t,e){if(t&1&&(C(0,"label",19),Vt(1,1),H(2,Lxe,1,0,"span",20),w()),t&2){let n=M(2);P("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),ct("for",n._control.disableAutomaticLabeling?null:n._control.id),y(2),Q(!n.hideRequiredMarker&&n._control.required?2:-1)}}function Vxe(t,e){if(t&1&&H(0,Uxe,3,5,"label",19),t&2){let n=M();Q(n._hasFloatingLabel()?0:-1)}}function Hxe(t,e){t&1&&$(0,"div",7)}function Qxe(t,e){}function jxe(t,e){if(t&1&&Vn(0,Qxe,0,0,"ng-template",13),t&2){M(2);let n=It(1);P("ngTemplateOutlet",n)}}function $xe(t,e){if(t&1&&(C(0,"div",9),H(1,jxe,1,1,null,13),w()),t&2){let n=M();P("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),y(),Q(n._forceDisplayInfixLabel()?-1:1)}}function zxe(t,e){t&1&&(C(0,"div",10,2),Vt(2,2),w())}function Gxe(t,e){t&1&&(C(0,"div",11,3),Vt(2,3),w())}function Wxe(t,e){}function Kxe(t,e){if(t&1&&Vn(0,Wxe,0,0,"ng-template",13),t&2){M();let n=It(1);P("ngTemplateOutlet",n)}}function qxe(t,e){t&1&&(C(0,"div",14,4),Vt(2,4),w())}function Yxe(t,e){t&1&&(C(0,"div",15,5),Vt(2,5),w())}function Xxe(t,e){t&1&&$(0,"div",16)}function Zxe(t,e){t&1&&Vt(0,6)}function Jxe(t,e){if(t&1&&(C(0,"mat-hint",21),F(1),w()),t&2){let n=M(2);P("id",n._hintLabelId),y(),Ne(n.hintLabel)}}function eSe(t,e){if(t&1&&(H(0,Jxe,2,2,"mat-hint",21),Vt(1,7),$(2,"div",22),Vt(3,8)),t&2){let n=M();Q(n.hintLabel?0:-1)}}var FN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["mat-label"]]})}return t})(),LN=new ie("MatError"),Nc=(()=>{class t{id=E(Hn).getId("mat-mdc-error-");constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["mat-error"],["","matError",""]],hostAttrs:[1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){i&2&&wi("id",r.id)},inputs:{id:"id"},features:[yt([{provide:LN,useExisting:t}])]})}return t})(),NN=(()=>{class t{align="start";id=E(Hn).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(wi("id",r.id),ct("align",null),le("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return t})(),UN=new ie("MatPrefix"),zh=(()=>{class t{set _isTextSelector(n){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[0,"matTextPrefix","_isTextSelector"]},features:[yt([{provide:UN,useExisting:t}])]})}return t})(),VN=new ie("MatSuffix"),vu=(()=>{class t{set _isTextSelector(n){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[yt([{provide:VN,useExisting:t}])]})}return t})(),Rq=new ie("FloatingLabelParent"),Iq=(()=>{class t{_elementRef=E(Se);get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=E(wq);_ngZone=E(Ie);_parent=E(Rq);_resizeSubscription=new At;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return tSe(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&le("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();function tSe(t){let e=t;if(e.offsetParent!==null)return e.scrollWidth;let n=e.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);let i=n.scrollWidth;return n.remove(),i}var kq="mdc-line-ripple--active",AI="mdc-line-ripple--deactivating",Mq=(()=>{class t{_elementRef=E(Se);_cleanupTransitionEnd;constructor(){let n=E(Ie),i=E(_n);n.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(AI),n.add(kq)}deactivate(){this._elementRef.nativeElement.classList.add(AI)}_handleTransitionEnd=n=>{let i=this._elementRef.nativeElement.classList,r=i.contains(AI);n.propertyName==="opacity"&&r&&i.remove(kq,AI)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),Dq=(()=>{class t{_elementRef=E(Se);_ngZone=E(Ie);open=!1;_notch;ngAfterViewInit(){let n=this._elementRef.nativeElement,i=n.querySelector(".mdc-floating-label");i?(n.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):n.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){let i=this._notch.nativeElement;!this.open||!n?i.style.width="":i.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(n){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${n}px)`)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&Fe(Pxe,5),i&2){let o;Ce(o=we())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&le("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Oxe,ngContentSelectors:Rxe,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(Dn(),aa(0,"div",1),hs(1,"div",2,0),Vt(3),Ss(),aa(4,"div",3))},encapsulation:2,changeDetection:0})}return t})(),yg=(()=>{class t{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t})}return t})();var Gh=new ie("MatFormField"),Bq=new ie("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Pq="fill",nSe="auto",Oq="fixed",iSe="translateY(-50%)",ho=(()=>{class t{_elementRef=E(Se);_changeDetectorRef=E(zt);_platform=E(on);_idGenerator=E(Hn);_ngZone=E(Ie);_defaults=E(Bq,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=jb("iconPrefixContainer");_textPrefixContainerSignal=jb("textPrefixContainer");_iconSuffixContainerSignal=jb("iconSuffixContainer");_textSuffixContainerSignal=jb("textSuffixContainer");_prefixSuffixContainers=Pl(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(n=>n?.nativeElement).filter(n=>n!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=u9(FN);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Qr(n)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||nSe}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(n){let i=n||this._defaults?.appearance||Pq;this._appearanceSignal.set(i)}_appearanceSignal=gn(Pq);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Oq}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||Oq}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}_destroyed=new O;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Pn();constructor(){let n=this._defaults,i=E(lr);n&&(n.appearance&&(this.appearance=n.appearance),this._hideRequiredMarker=!!n?.hideRequiredMarker,n.color&&(this.color=n.color)),ru(()=>this._currentDirection=i.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Pl(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(n){let i=this._control,r="mat-mdc-form-field-type-";n&&this._elementRef.nativeElement.classList.remove(r+n.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(yi([void 0,void 0]),se(()=>[i.errorState,i.userAriaDescribedBy]),Ah(),qe(([[o,s],[a,l]])=>o!==a||s!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(en(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),hi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let n=this._control.focused;n&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!n&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",n),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",n)}_syncOutlineLabelOffset(){_9({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let n of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(n,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:n=>this._writeOutlinedLabelStyles(n())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Pl(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(n){let i=this._control?this._control.ngControl:null;return i&&i[n]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?n.push(o.id):this._hintLabel&&n.push(this._hintLabelId),s&&n.push(s.id)}else this._errorChildren&&n.push(...this._errorChildren.map(o=>o.id));let i=this._control.describedByIds,r;if(i){let o=this._describedByIds||n;r=n.concat(i.filter(s=>s&&!o.includes(s)))}else r=n;this._control.setDescribedByIds(r),this._describedByIds=n}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let n=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=n?.getBoundingClientRect().width??0,a=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,d=this._currentDirection==="rtl"?"-1":"1",u=`${s+a}px`,g=`calc(${d} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,v=`var(--mat-mdc-form-field-label-transform, ${iSe} translateX(${g}))`,b=s+a+l+c;return[v,b]}_writeOutlinedLabelStyles(n){if(n!==null){let[i,r]=n;this._floatingLabel&&(this._floatingLabel.element.style.transform=i),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let i=n.getRootNode();return i&&i!==n}return document.documentElement.contains(n)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(i&1&&(XF(o,r._labelChild,FN,5),Ur(o,yg,5),Ur(o,UN,5),Ur(o,VN,5),Ur(o,LN,5),Ur(o,NN,5)),i&2){zS();let s;Ce(s=we())&&(r._formFieldControl=s.first),Ce(s=we())&&(r._prefixChildren=s),Ce(s=we())&&(r._suffixChildren=s),Ce(s=we())&&(r._errorChildren=s),Ce(s=we())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(i&1&&(XA(r._iconPrefixContainerSignal,Eq,5),XA(r._textPrefixContainerSignal,xq,5),XA(r._iconSuffixContainerSignal,Sq,5),XA(r._textSuffixContainerSignal,Tq,5),Fe(Bxe,5),Fe(Eq,5),Fe(xq,5),Fe(Sq,5),Fe(Tq,5),Fe(Iq,5),Fe(Dq,5),Fe(Mq,5)),i&2){zS(4);let o;Ce(o=we())&&(r._textField=o.first),Ce(o=we())&&(r._iconPrefixContainer=o.first),Ce(o=we())&&(r._textPrefixContainer=o.first),Ce(o=we())&&(r._iconSuffixContainer=o.first),Ce(o=we())&&(r._textSuffixContainer=o.first),Ce(o=we())&&(r._floatingLabel=o.first),Ce(o=we())&&(r._notchedOutline=o.first),Ce(o=we())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(i,r){i&2&&le("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[yt([{provide:Gh,useExisting:t},{provide:Rq,useExisting:t}])],ngContentSelectors:Nxe,decls:19,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let o=fe();Dn(Fxe),Vn(0,Vxe,1,1,"ng-template",null,0,Vb),C(2,"div",6,1),G("click",function(a){return Y(o),X(r._control.onContainerClick(a))}),H(4,Hxe,1,0,"div",7),C(5,"div",8),H(6,$xe,2,2,"div",9),H(7,zxe,3,0,"div",10),H(8,Gxe,3,0,"div",11),C(9,"div",12),H(10,Kxe,1,1,null,13),Vt(11),w(),H(12,qxe,3,0,"div",14),H(13,Yxe,3,0,"div",15),w(),H(14,Xxe,1,0,"div",16),w(),C(15,"div",17)(16,"div",18),H(17,Zxe,1,0)(18,eSe,4,1),w()()}if(i&2){let o;y(2),le("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),y(2),Q(!r._hasOutline()&&!r._control.disabled?4:-1),y(2),Q(r._hasOutline()?6:-1),y(),Q(r._hasIconPrefix?7:-1),y(),Q(r._hasTextPrefix?8:-1),y(2),Q(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),y(2),Q(r._hasTextSuffix?12:-1),y(),Q(r._hasIconSuffix?13:-1),y(),Q(r._hasOutline()?-1:14),y(),le("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();y(),le("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),y(),Q((o=s)==="error"?17:o==="hint"?18:-1)}},dependencies:[Iq,Dq,Zb,Mq,NN],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return t})();var Wh=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Gt,IT,ho,Gt]})}return t})();var rSe=["trigger"],oSe=["panel"],sSe=[[["mat-select-trigger"]],"*"],aSe=["mat-select-trigger","*"];function lSe(t,e){if(t&1&&(C(0,"span",4),F(1),w()),t&2){let n=M();y(),Ne(n.placeholder)}}function cSe(t,e){t&1&&Vt(0)}function dSe(t,e){if(t&1&&(C(0,"span",11),F(1),w()),t&2){let n=M(2);y(),Ne(n.triggerValue)}}function uSe(t,e){if(t&1&&(C(0,"span",5),H(1,cSe,1,0)(2,dSe,2,1,"span",11),w()),t&2){let n=M();y(),Q(n.customTrigger?1:2)}}function hSe(t,e){if(t&1){let n=fe();C(0,"div",12,1),G("keydown",function(r){Y(n);let o=M();return X(o._handleKeydown(r))}),Vt(2,1),w()}if(t&2){let n=M();xn(Ts("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",n._getPanelTheme())),le("mat-select-panel-animations-enabled",!n._animationsDisabled),P("ngClass",n.panelClass),ct("id",n.id+"-panel")("aria-multiselectable",n.multiple)("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby())}}var HN=new ie("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=E(Ge);return()=>Go(t)}});function Fq(t){let e=E(Ge);return()=>Go(e)}var zp=new ie("MAT_SELECT_CONFIG"),Nq={provide:HN,deps:[],useFactory:Fq},Lq=new ie("MatSelectTrigger"),gI=class{source;value;constructor(e,n){this.source=e,this.value=n}},Cg=(()=>{class t{_viewportRuler=E(Ms);_changeDetectorRef=E(zt);_elementRef=E(Se);_dir=E(lr,{optional:!0});_idGenerator=E(Hn);_renderer=E(_n);_parentFormField=E(Gh,{optional:!0});ngControl=E(Hl,{self:!0,optional:!0});_liveAnnouncer=E(h0);_defaultOptions=E(zp,{optional:!0});_animationsDisabled=Pn();_initialized=new O;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(n){let i=this.options.toArray()[n];if(i){let r=this.panel.nativeElement,o=NT(n,this.options,this.optionGroups),s=i._getHostElement();n===0&&o===1?r.scrollTop=0:r.scrollTop=LT(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(n){return new gI(this,n)}_scrollStrategyFactory=E(HN);_panelOpen=!1;_compareWith=(n,i)=>n===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new O;_errorStateTracker;stateChanges=new O;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(n){this._disableRipple.set(n)}_disableRipple=gn(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(vg.required)??!1}set required(n){this._required=n,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(n){this._selectionModel,this._multiple=n}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(n){this._compareWith=n,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(n){this._assignValue(n)&&this._onChange(n)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(n){this._id=n||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Uo(()=>{let n=this.options;return n?n.changes.pipe(yi(n),nn(()=>hi(...n.map(i=>i.onSelectionChange)))):this._initialized.pipe(nn(()=>this.optionSelectionChanges))});openedChange=new Ae;_openedStream=this.openedChange.pipe(qe(n=>n),se(()=>{}));_closedStream=this.openedChange.pipe(qe(n=>!n),se(()=>{}));selectionChange=new Ae;valueChange=new Ae;constructor(){let n=E(RT),i=E(gu,{optional:!0}),r=E($0,{optional:!0}),o=E(new Pc("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new sg(n,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new z0(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(en(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(en(this._destroy)).subscribe(n=>{n.added.forEach(i=>i.select()),n.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(yi(null),en(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let n=this._getTriggerAriaLabelledby(),i=this.ngControl;if(n!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=n,n?r.setAttribute("aria-labelledby",n):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(n){(n.disabled||n.userAriaDescribedBy)&&this.stateChanges.next(),n.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Jt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let n=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;let i=`${this.id}-panel`;this._trackedModal&&Rh(this._trackedModal,"aria-owns",i),og(n,"aria-owns",i),this._trackedModal=n}_clearFromModal(){if(!this._trackedModal)return;let n=`${this.id}-panel`;Rh(this._trackedModal,"aria-owns",n),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{i(),clearTimeout(r),this._cleanupDetach=void 0};let n=this.panel.nativeElement,i=this._renderer.listen(n,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);n.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(n){this._assignValue(n)}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let n=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&n.reverse(),n.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(n){this.disabled||(this.panelOpen?this._handleOpenKeydown(n):this._handleClosedKeydown(n))}_handleClosedKeydown(n){let i=n.keyCode,r=i===40||i===38||i===37||i===39,o=i===13||i===32,s=this._keyManager;if(!s.isTyping()&&o&&!ar(n)||(this.multiple||n.altKey)&&r)n.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(n);let l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(n){let i=this._keyManager,r=n.keyCode,o=r===40||r===38,s=i.isTyping();if(o&&n.altKey)n.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&i.activeItem&&!ar(n))n.preventDefault(),i.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&n.ctrlKey){n.preventDefault();let a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{let a=i.activeItemIndex;i.onKeydown(n),this._multiple&&o&&n.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}}_handleOverlayKeydown(n){n.keyCode===27&&!ar(n)&&(n.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(n){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&n)Array.isArray(n),n.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(n);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(n){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,n)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(n){return n!==this._value||this._multiple&&Array.isArray(n)?(this.options&&this._setSelectionByValue(n),this._value=n,!0):!1}_skipPredicate=n=>this.panelOpen?!1:n.disabled;_getOverlayWidth(n){return this.panelWidth==="auto"?(n instanceof Ps?n.elementRef:n||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let n of this.options)n._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Np(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let n=hi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(en(n)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),hi(...this.options.map(i=>i._stateChanges)).pipe(en(n)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(n,i){let r=this._selectionModel.isSelected(n);!this.canSelectNullableOptions&&n.value==null&&!this._multiple?(n.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(n.value)):(r!==n.selected&&(n.selected?this._selectionModel.select(n):this._selectionModel.deselect(n)),i&&this._keyManager.setActiveItem(n),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(n)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let n=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,n):n.indexOf(i)-n.indexOf(r)),this.stateChanges.next()}}_propagateChanges(n){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:n,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let n=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){n=i;break}this._keyManager.setActiveItem(n)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(n){this._elementRef.nativeElement.focus(n)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId()||null,i=n?n+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let n=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n||(n=this._valueId),n}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(i&1&&(Ur(o,Lq,5),Ur(o,Io,5),Ur(o,w0,5)),i&2){let s;Ce(s=we())&&(r.customTrigger=s.first),Ce(s=we())&&(r.options=s),Ce(s=we())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(i&1&&(Fe(rSe,5),Fe(oSe,5),Fe(Ka,5)),i&2){let o;Ce(o=we())&&(r.trigger=o.first),Ce(o=we())&&(r.panel=o.first),Ce(o=we())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){i&1&&G("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(ct("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),le("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",He],disableRipple:[2,"disableRipple","disableRipple",He],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:$o(n)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",He],placeholder:"placeholder",required:[2,"required","required",He],multiple:[2,"multiple","multiple",He],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",He],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",$o],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",He]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[yt([{provide:yg,useExisting:t},{provide:C0,useExisting:t}]),gt],ngContentSelectors:aSe,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let o=fe();Dn(sSe),C(0,"div",2,0),G("click",function(){return Y(o),X(r.open())}),C(3,"div",3),H(4,lSe,2,1,"span",4)(5,uSe,3,1,"span",5),w(),C(6,"div",6)(7,"div",7),oa(),C(8,"svg",8),$(9,"path",9),w()()()(),Vn(10,hSe,3,10,"ng-template",10),G("detach",function(){return Y(o),X(r.close())})("backdropClick",function(){return Y(o),X(r.close())})("overlayKeydown",function(a){return Y(o),X(r._handleOverlayKeydown(a))})}if(i&2){let o=It(1);y(3),ct("id",r._valueId),y(),Q(r.empty?4:5),y(6),P("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Ps,Ka,Xb],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return t})();var QN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[Nq],imports:[ko,Up,Gt,ca,Wh,Up,Gt]})}return t})();var pSe=["tooltip"],jN=20;var $N=new ie("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let t=E(Ge);return()=>Go(t,{scrollThrottle:jN})}});function Hq(t){let e=E(Ge);return()=>Go(e,{scrollThrottle:jN})}var Qq={provide:$N,deps:[],useFactory:Hq};function jq(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var $q=new ie("mat-tooltip-default-options",{providedIn:"root",factory:jq});var Uq="tooltip-panel",Vq=Dh({passive:!0}),mSe=8,ASe=8,gSe=24,vSe=200,ci=(()=>{class t{_elementRef=E(Se);_ngZone=E(Ie);_platform=E(on);_ariaDescriber=E(YW);_focusMonitor=E(la);_dir=E(lr);_injector=E(Ge);_viewContainerRef=E(mi);_animationsDisabled=Pn();_defaultOptions=E($q,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=zq;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(n){n!==this._position&&(this._position=n,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(n){this._positionAtOrigin=Qr(n),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(n){let i=Qr(n);this._disabled!==i&&(this._disabled=i,i?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(n){this._showDelay=Hr(n)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(n){this._hideDelay=Hr(n),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(n){let i=this._message;this._message=n!=null?String(n).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(i)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(n){this._tooltipClass=n,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new O;_isDestroyed=!1;constructor(){let n=this._defaultOptions;n&&(this._showDelay=n.showDelay,this._hideDelay=n.hideDelay,n.position&&(this.position=n.position),n.positionAtOrigin&&(this.positionAtOrigin=n.positionAtOrigin),n.touchGestures&&(this.touchGestures=n.touchGestures),n.tooltipClass&&(this.tooltipClass=n.tooltipClass)),this._viewportMargin=mSe}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(en(this._destroyed)).subscribe(n=>{n?n==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let n=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{n.removeEventListener(i,r,Vq)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(n,this.message,"tooltip"),this._focusMonitor.stopMonitoring(n)}show(n=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Ul(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(en(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(n)}hide(n=this.hideDelay){let i=this._tooltipInstance;i&&(i.isVisible()?i.hide(n):(i._cancelPendingAnimations(),this._detach()))}toggle(n){this._isTooltipVisible()?this.hide():this.show(void 0,n)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(n){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!n)&&s._origin instanceof Se)return this._overlayRef;this._detach()}let i=this._injector.get(Fc).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${Uq}`,o=uu(this._injector,this.positionAtOrigin?n||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return o.positionChanges.pipe(en(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=ua(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get($N)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(en(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(en(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(en(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!ar(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(en(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(n){let i=n.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset(V(V({},r.main),o.main)),this._addOffset(V(V({},r.fallback),o.fallback))])}_addOffset(n){let i=ASe,r=!this._dir||this._dir.value=="ltr";return n.originY==="top"?n.offsetY=-i:n.originY==="bottom"?n.offsetY=i:n.originX==="start"?n.offsetX=r?-i:i:n.originX==="end"&&(n.offsetX=r?i:-i),n}_getOrigin(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"||i=="below"?r={originX:"center",originY:i=="above"?"top":"bottom"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={originX:"start",originY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let n=!this._dir||this._dir.value=="ltr",i=this.position,r;i=="above"?r={overlayX:"center",overlayY:"bottom"}:i=="below"?r={overlayX:"center",overlayY:"top"}:i=="before"||i=="left"&&n||i=="right"&&!n?r={overlayX:"end",overlayY:"center"}:(i=="after"||i=="right"&&n||i=="left"&&!n)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),Di(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(n){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=n,this._tooltipInstance._markForCheck())}_invertPosition(n,i){return this.position==="above"||this.position==="below"?i==="top"?i="bottom":i==="bottom"&&(i="top"):n==="end"?n="start":n==="start"&&(n="end"),{x:n,y:i}}_updateCurrentPositionClass(n){let{overlayY:i,originX:r,originY:o}=n,s;if(i==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=i==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let l=`${this._cssClassPrefix}-${Uq}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",n=>{this._setupPointerExitEventsIfNeeded();let i;n.x!==void 0&&n.y!==void 0&&(i=n),this.show(void 0,i)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",n=>{let i=n.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let n=[];if(this._platformSupportsMouseEvents())n.push(["mouseleave",i=>{let r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let i=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};n.push(["touchend",i],["touchcancel",i])}this._addListeners(n),this._passiveListeners.push(...n)}_addListeners(n){n.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,Vq)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(n){if(this._isTooltipVisible()){let i=this._injector.get(ut).elementFromPoint(n.clientX,n.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){let n=this.touchGestures;if(n!=="off"){let i=this._elementRef.nativeElement,r=i.style;(n==="on"||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(n==="on"||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(n){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,n,"tooltip"),this._isDestroyed||Di({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){i&2&&le("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return t})(),zq=(()=>{class t{_changeDetectorRef=E(zt);_elementRef=E(Se);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Pn();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new O;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(n){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},n)}hide(n){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},n)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:n}){(!n||!this._triggerElement.contains(n))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let n=this._elementRef.nativeElement.getBoundingClientRect();return n.height>gSe&&n.width>=vSe}_handleAnimationEnd({animationName:n}){(n===this._showAnimation||n===this._hideAnimation)&&this._finalizeAnimation(n===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(n){n?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(n){let i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(n?o:r),i.classList.add(n?r:o),this._isVisible!==n&&(this._isVisible=n,this._changeDetectorRef.markForCheck()),n&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(i);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}n&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(n))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(i&1&&Fe(pSe,7),i&2){let o;Ce(o=we())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(i,r){i&1&&G("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(i,r){if(i&1){let o=fe();C(0,"div",1,0),G("animationend",function(a){return Y(o),X(r._handleAnimationEnd(a))}),C(2,"div",2),F(3),w()()}i&2&&(le("mdc-tooltip--multiline",r._isMultiline),P("ngClass",r.tooltipClass),y(3),Ne(r.message))},dependencies:[Xb],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return t})(),zN=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[Qq],imports:[f0,ko,Gt,Gt,ca]})}return t})();var _Se=["infoToolTip"],_u=(()=>{let e=class e{constructor(){this.position="right"}onIconClick(i){this.text&&(i.stopPropagation(),this.infoToolTip.toggle())}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-info-tooltip"]],viewQuery:function(r,o){if(r&1&&Fe(_Se,5),r&2){let s;Ce(s=we())&&(o.infoToolTip=s.first)}},hostVars:4,hostBindings:function(r,o){r&2&&le("small",o.isSmall)("large",o.isLarge)},inputs:{text:"text",position:"position",isSmall:"isSmall",isLarge:"isLarge"},standalone:!1,decls:2,vars:2,consts:[["infoToolTip","matTooltip"],["role","button",1,"icon-info",3,"click","matTooltip","matTooltipPosition"]],template:function(r,o){if(r&1){let s=fe();C(0,"div",1,0),G("click",function(l){return Y(s),X(o.onIconClick(l))}),w()}r&2&&P("matTooltip",o.text)("matTooltipPosition",o.position)},dependencies:[ci],styles:["[_nghost-%COMP%]{display:inline-block;width:20px;height:20px}.small[_nghost-%COMP%]{width:14px;height:14px}.small[_nghost-%COMP%]   .icon-info[_ngcontent-%COMP%]{width:14px;height:14px}.large[_nghost-%COMP%]{width:24px;height:24px}.large[_nghost-%COMP%]   .icon-info[_ngcontent-%COMP%]{width:24px;height:24px}.icon-info[_ngcontent-%COMP%]{display:inline-block;width:20px;height:20px;background-image:url(/assets/icons/help-circle.svg);background-size:cover}.icon-info[_ngcontent-%COMP%]:before{display:none}"]});let t=e;return t})();var bSe=["panel"],ySe=["*"];function CSe(t,e){if(t&1&&(hs(0,"div",1,0),Vt(2),Ss()),t&2){let n=e.id,i=M();xn(i._classList),le("mat-mdc-autocomplete-visible",i.showPanel)("mat-mdc-autocomplete-hidden",!i.showPanel)("mat-autocomplete-panel-animations-enabled",!i._animationsDisabled)("mat-primary",i._color==="primary")("mat-accent",i._color==="accent")("mat-warn",i._color==="warn"),wi("id",i.id),ct("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(n))}}var GN=class{source;option;constructor(e,n){this.source=e,this.option=n}},Wq=new ie("mat-autocomplete-default-options",{providedIn:"root",factory:wSe});function wSe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1,hasBackdrop:!1}}var Eg=(()=>{class t{_changeDetectorRef=E(zt);_elementRef=E(Se);_defaults=E(Wq);_animationsDisabled=Pn();_activeOptionChanges=At.EMPTY;_keyManager;showPanel=!1;get isOpen(){return this._isOpen&&this.showPanel}_isOpen=!1;_latestOpeningTrigger;_setColor(n){this._color=n,this._changeDetectorRef.markForCheck()}_color;template;panel;options;optionGroups;ariaLabel;ariaLabelledby;displayWith=null;autoActiveFirstOption;autoSelectActiveOption;requireSelection;panelWidth;disableRipple;optionSelected=new Ae;opened=new Ae;closed=new Ae;optionActivated=new Ae;set classList(n){this._classList=n,this._elementRef.nativeElement.className=""}_classList;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._syncParentProperties()}_hideSingleSelectionIndicator;_syncParentProperties(){if(this.options)for(let n of this.options)n._changeDetectorRef.markForCheck()}id=E(Hn).getId("mat-autocomplete-");inertGroups;constructor(){let n=E(on);this.inertGroups=n?.SAFARI||!1,this.autoActiveFirstOption=!!this._defaults.autoActiveFirstOption,this.autoSelectActiveOption=!!this._defaults.autoSelectActiveOption,this.requireSelection=!!this._defaults.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new Np(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(n=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[n]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe()}_setScrollTop(n){this.panel&&(this.panel.nativeElement.scrollTop=n)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options?.length,this._changeDetectorRef.markForCheck()}_emitSelectEvent(n){let i=new GN(this,n);this.optionSelected.emit(i)}_getPanelAriaLabelledby(n){if(this.ariaLabel)return null;let i=n?n+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:n}_skipPredicate(){return!1}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,o){if(i&1&&(Ur(o,Io,5),Ur(o,w0,5)),i&2){let s;Ce(s=we())&&(r.options=s),Ce(s=we())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(i&1&&(Fe(Mi,7),Fe(bSe,5)),i&2){let o;Ce(o=we())&&(r.template=o.first),Ce(o=we())&&(r.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[2,"autoActiveFirstOption","autoActiveFirstOption",He],autoSelectActiveOption:[2,"autoSelectActiveOption","autoSelectActiveOption",He],requireSelection:[2,"requireSelection","requireSelection",He],panelWidth:"panelWidth",disableRipple:[2,"disableRipple","disableRipple",He],classList:[0,"class","classList"],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",He]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],features:[yt([{provide:C0,useExisting:t}])],ngContentSelectors:ySe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id"]],template:function(i,r){i&1&&(Dn(),KA(0,CSe,3,17,"ng-template"))},styles:[`div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:relative;border-radius:var(--mat-autocomplete-container-shape, var(--mat-sys-corner-extra-small));box-shadow:var(--mat-autocomplete-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));background-color:var(--mat-autocomplete-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-autocomplete-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}@keyframes _mat-autocomplete-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}.mat-autocomplete-panel-animations-enabled{animation:_mat-autocomplete-enter 120ms cubic-bezier(0, 0, 0.2, 1)}mat-autocomplete{display:none}
`],encapsulation:2,changeDetection:0})}return t})();var ESe={provide:uo,useExisting:kn(()=>Gp),multi:!0};var Kq=new ie("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{let t=E(Ge);return()=>Go(t)}});function xSe(t){let e=E(Ge);return()=>Go(e)}var SSe={provide:Kq,deps:[],useFactory:xSe},Gp=(()=>{class t{_environmentInjector=E(Xn);_element=E(Se);_injector=E(Ge);_viewContainerRef=E(mi);_zone=E(Ie);_changeDetectorRef=E(zt);_dir=E(lr,{optional:!0});_formField=E(Gh,{optional:!0,host:!0});_viewportRuler=E(Ms);_scrollStrategy=E(Kq);_renderer=E(_n);_animationsDisabled=Pn();_defaults=E(Wq,{optional:!0});_overlayRef;_portal;_componentDestroyed=!1;_initialized=new O;_keydownSubscription;_outsideClickSubscription;_cleanupWindowBlur;_previousValue;_valueOnAttach;_valueOnLastKeydown;_positionStrategy;_manuallyFloatingLabel=!1;_closingActionsSubscription;_viewportSubscription=At.EMPTY;_breakpointObserver=E(Rp);_handsetLandscapeSubscription=At.EMPTY;_canOpenOnNextFocus=!0;_valueBeforeAutoSelection;_pendingAutoselectedOption;_closeKeyEventStream=new O;_overlayPanelClass=Nl(this._defaults?.overlayPanelClass||[]);_windowBlurHandler=()=>{this._canOpenOnNextFocus=this.panelOpen||!this._hasFocus()};_onChange=()=>{};_onTouched=()=>{};autocomplete;position="auto";connectedTo;autocompleteAttribute="off";autocompleteDisabled;constructor(){}_aboveClass="mat-mdc-autocomplete-panel-above";ngAfterViewInit(){this._initialized.next(),this._initialized.complete(),this._cleanupWindowBlur=this._renderer.listen("window","blur",this._windowBlurHandler)}ngOnChanges(n){n.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){this._cleanupWindowBlur?.(),this._handsetLandscapeSubscription.unsubscribe(),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}_overlayAttached=!1;openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._latestOpeningTrigger===this&&(this.autocomplete._isOpen=!1,this.autocomplete._latestOpeningTrigger=null),this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal&&Rh(this._trackedModal,"aria-owns",this.autocomplete.id))}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return hi(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(qe(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(qe(()=>this._overlayAttached)):Re()).pipe(se(n=>n instanceof y0?n:null))}optionSelections=Uo(()=>{let n=this.autocomplete?this.autocomplete.options:null;return n?n.changes.pipe(yi(n),nn(()=>hi(...n.map(i=>i.onSelectionChange)))):this._initialized.pipe(nn(()=>this.optionSelections))});get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return new Xe(n=>{let i=o=>{let s=sr(o),a=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,l=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;this._overlayAttached&&s!==this._element.nativeElement&&!this._hasFocus()&&(!a||!a.contains(s))&&(!l||!l.contains(s))&&this._overlayRef&&!this._overlayRef.overlayElement.contains(s)&&n.next(o)},r=[this._renderer.listen("document","click",i),this._renderer.listen("document","auxclick",i),this._renderer.listen("document","touchend",i)];return()=>{r.forEach(o=>o())}})}writeValue(n){Promise.resolve(null).then(()=>this._assignOptionValue(n))}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this._element.nativeElement.disabled=n}_handleKeydown(n){let i=n,r=i.keyCode,o=ar(i);if(r===27&&!o&&i.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&r===13&&this.panelOpen&&!o)this.activeOption._selectViaInteraction(),this._resetActiveItem(),i.preventDefault();else if(this.autocomplete){let s=this.autocomplete._keyManager.activeItem,a=r===38||r===40;r===9||a&&!o&&this.panelOpen?this.autocomplete._keyManager.onKeydown(i):a&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(a||this.autocomplete._keyManager.activeItem!==s)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(n){let i=n.target,r=i.value;if(i.type==="number"&&(r=r==""?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),!r)this._clearPreviousSelectedOption(null,!1);else if(this.panelOpen&&!this.autocomplete.requireSelection){let o=this.autocomplete.options?.find(s=>s.selected);if(o){let s=this._getDisplayValue(o.value);r!==s&&o.deselect(!1)}}if(this._canOpen()&&this._hasFocus()){let o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_hasFocus(){return cu()===this._element.nativeElement}_floatLabel(n=!1){this._formField&&this._formField.floatLabel==="auto"&&(n?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){let n=new Xe(r=>{Di(()=>{r.next()},{injector:this._environmentInjector})}),i=this.autocomplete.options?.changes.pipe(lt(()=>this._positionStrategy.reapplyLastPosition()),gA(0))??Re();return hi(n,i).pipe(nn(()=>this._zone.run(()=>{let r=this.panelOpen;return this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit()),this.panelClosingActions})),Jt(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(n){let i=this.autocomplete;return i&&i.displayWith?i.displayWith(n):n}_assignOptionValue(n){let i=this._getDisplayValue(n);n==null&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(n){this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(n){let i=this.autocomplete,r=n?n.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(n,i){this.autocomplete?.options?.forEach(r=>{r!==n&&r.selected&&r.deselect(i)})}_openPanelInternal(n=this._element.nativeElement.value){if(this._attachOverlay(n),this._floatLabel(),this._trackedModal){let i=this.autocomplete.id;og(this._trackedModal,"aria-owns",i)}}_attachOverlay(n){this.autocomplete;let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new Ds(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=ua(this._injector,this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})}),this._handsetLandscapeSubscription=this._breakpointObserver.observe(xT.HandsetLandscape).subscribe(o=>{o.matches?this._positionStrategy.withFlexibleDimensions(!0).withGrowAfterOpen(!0).withViewportMargin(8):this._positionStrategy.withFlexibleDimensions(!1).withGrowAfterOpen(!1).withViewportMargin(0)})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=n,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());let r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._latestOpeningTrigger=this,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_handlePanelKeydown=n=>{(n.keyCode===27&&!ar(n)||n.keyCode===38&&ar(n,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),n.stopPropagation(),n.preventDefault())};_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){let n=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=n.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=n.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new da({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,hasBackdrop:this._defaults?.hasBackdrop,backdropClass:this._defaults?.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this._overlayPanelClass,disableAnimations:this._animationsDisabled})}_getOverlayPosition(){let n=uu(this._injector,this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(n),this._positionStrategy=n,n}_setStrategyPositions(n){let i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}],s;this.position==="above"?s=o:this.position==="below"?s=i:s=[...i,...o],n.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){let n=this.autocomplete;if(n.autoActiveFirstOption){let i=-1;for(let r=0;r<n.options.length;r++)if(!n.options.get(r).disabled){i=r;break}n._keyManager.setActiveItem(i)}else n._keyManager.setActiveItem(-1)}_canOpen(){let n=this._element.nativeElement;return!n.readOnly&&!n.disabled&&!this.autocompleteDisabled}_scrollToOption(n){let i=this.autocomplete,r=NT(n,i.options,i.optionGroups);if(n===0&&r===1)i._setScrollTop(0);else if(i.panel){let o=i.options.toArray()[n];if(o){let s=o._getHostElement(),a=LT(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_trackedModal=null;_applyModalPanelOwnership(){let n=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!n)return;let i=this.autocomplete.id;this._trackedModal&&Rh(this._trackedModal,"aria-owns",i),og(n,"aria-owns",i),this._trackedModal=n}_clearFromModal(){if(this._trackedModal){let n=this.autocomplete.id;Rh(this._trackedModal,"aria-owns",n),this._trackedModal=null}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){i&1&&G("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(s){return r._handleInput(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(){return r._handleClick()}),i&2&&ct("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||r.autocomplete==null?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[0,"matAutocomplete","autocomplete"],position:[0,"matAutocompletePosition","position"],connectedTo:[0,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[0,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[2,"matAutocompleteDisabled","autocompleteDisabled",He]},exportAs:["matAutocompleteTrigger"],features:[yt([ESe]),gt]})}return t})(),qq=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[SSe],imports:[ko,Up,Gt,ca,Up,Gt]})}return t})();var Wp=(()=>{let e=class e{get backgroundImage(){return`url(assets/icons/flags/${this.countryCode?.toLocaleLowerCase()}.svg), url(assets/icons/flags/un.svg)`}get tooltipText(){}constructor(i){this.tooltip=i,this.countryCode=null,this.size="normal"}onMouseEnter(){this.tooltip.message=this.countryCode||"N/A",this.tooltip.show()}onMouseLeave(){this.tooltip.hide()}};e.\u0275fac=function(r){return new(r||e)(L(ci))},e.\u0275cmp=re({type:e,selectors:[["ss-flag"]],hostVars:5,hostBindings:function(r,o){r&1&&G("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()}),r&2&&(wi("matTooltip",o.tooltipText),xn(o.size),Zn("background-image",o.backgroundImage))},inputs:{countryCode:"countryCode",size:"size"},standalone:!1,features:[yt([ci])],decls:0,vars:0,template:function(r,o){},styles:["[_nghost-%COMP%]{display:inline-block;margin-right:8px;background-position:center;background-size:cover;background-repeat:no-repeat}.large[_nghost-%COMP%]{width:26px;height:18px;border-radius:4px}.normal[_nghost-%COMP%]{width:22px;height:15px;border-radius:4px}.small[_nghost-%COMP%]{width:18px;height:12px;border-radius:3px}"]});let t=e;return t})();var ISe=["selectModel"],kSe=["selectElement"],_I=t=>({propertyName:t});function MSe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M(2);P("isSmall",!0)("matTooltip",n.labelTooltip)}}function DSe(t,e){if(t&1&&(C(0,"label"),F(1),H(2,MSe,1,2,"ss-info-tooltip",6),w()),t&2){let n=M();y(),ht(" ",n.label," "),y(),Q(n.labelTooltip?2:-1)}}function PSe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=M();y(),P("size",20),y(2),Ne(oi(4,2,"forms.validationErrors.required",Dl(5,_I,n.validationPropertyName||n.label)))}}function OSe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=e.$implicit;y(),P("size",20),y(2),Ne(oi(4,2,"errors."+n.errorCode,n.params))}}function RSe(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M();P("iconName",n.getOptionIcon())("size",n.mobile?24:20)}}function BSe(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M().$implicit,i=M();P("iconName",n.icon)("size",i.mobile?24:20)}}function FSe(t,e){if(t&1&&$(0,"ss-flag",9),t&2){let n=M().$implicit,i=M();P("countryCode",i.getFlagIconName(n))}}function NSe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M().$implicit;P("isSmall",!0)("matTooltip",n.info)}}function LSe(t,e){if(t&1&&(C(0,"mat-option",4)(1,"div",8),H(2,BSe,1,2,"ss-icon",2),H(3,FSe,1,1,"ss-flag",9),C(4,"div",10),F(5),w(),H(6,NSe,1,2,"ss-info-tooltip",6),w()()),t&2){let n=e.$implicit,i=M();P("value",i.getOptionValue(n))("disabled",i.getDisabled(n)),y(2),Q(n.icon?2:-1),y(),Q(i.getFlagIconName(n)?3:-1),y(),Zn("max-width",i.ellipsisPx??null,"px"),le("ellipsis",i.ellipsisPx!==null),P("matTooltip",i.showTooltip?i.getLabel(n):null)("matTooltipShowDelay",500),y(),ht(" ",i.getLabel(n)," "),y(),Q(n.info?6:-1)}}function USe(t,e){if(t&1&&(C(0,"small",5),F(1),w()),t&2){let n=M();y(),Ne(n.additionalInfo)}}function VSe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M(2);P("isSmall",!0)("matTooltip",n.labelTooltip)}}function HSe(t,e){if(t&1&&(C(0,"label"),F(1),H(2,VSe,1,2,"ss-info-tooltip",6),w()),t&2){let n=M();y(),ht(" ",n.label," "),y(),Q(n.labelTooltip?2:-1)}}function QSe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=M();y(),P("size",20),y(2),Ne(oi(4,2,"forms.validationErrors.required",Dl(5,_I,n.validationPropertyName||n.label)))}}function jSe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=e.$implicit;y(),P("size",20),y(2),Ne(oi(4,2,"errors."+n.errorCode,n.params))}}function $Se(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M();P("iconName",n.getOptionIcon())("size",n.mobile?24:20)}}function zSe(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M().$implicit,i=M();P("iconName",n.icon)("size",i.mobile?24:20)}}function GSe(t,e){if(t&1&&$(0,"ss-flag",9),t&2){let n=M().$implicit,i=M();P("countryCode",i.getFlagIconName(n))}}function WSe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M().$implicit;P("isSmall",!0)("matTooltip",n.info)}}function KSe(t,e){if(t&1&&(C(0,"mat-option",4)(1,"div",8),H(2,zSe,1,2,"ss-icon",2),H(3,GSe,1,1,"ss-flag",9),C(4,"div",10),F(5),w(),H(6,WSe,1,2,"ss-info-tooltip",6),w()()),t&2){let n=e.$implicit,i=M();P("value",i.getOptionValue(n))("disabled",i.getDisabled(n)),y(2),Q(n.icon?2:-1),y(),Q(i.getFlagIconName(n)?3:-1),y(),Zn("max-width",i.ellipsisPx??null,"px"),le("ellipsis",i.ellipsisPx!==null),P("matTooltip",i.showTooltip?i.getLabel(n):null)("matTooltipShowDelay",500),y(),ht(" ",i.getLabel(n)," "),y(),Q(n.info?6:-1)}}function qSe(t,e){if(t&1&&(C(0,"small",5),F(1),w()),t&2){let n=M();y(),Ne(n.additionalInfo)}}var bI="[_nghost-%COMP%]{display:block;margin-bottom:16px}[_nghost-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:var(--default-20)}.no-margin[_nghost-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   label[_ngcontent-%COMP%]   ss-info-tooltip[_ngcontent-%COMP%]{margin-left:4px}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper{padding:0;background-color:transparent!important}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper, [_nghost-%COMP%]     .mat-mdc-form-field-focus-overlay, [_nghost-%COMP%]     .mdc-line-ripple{display:none}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{width:auto;min-height:0;padding-bottom:0}[_nghost-%COMP%]     .no-label .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:0}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:20px;font:17px Poppins,sans-serif;line-height:20px;color:var(--default-40);letter-spacing:normal}[_nghost-%COMP%]   mat-select[_ngcontent-%COMP%]{display:block;width:100%;height:42px;box-sizing:border-box;border:1px solid var(--default-20);border-radius:12px;outline:none;color:var(--default-20)}@media only screen and (max-width: 767px){[_nghost-%COMP%]   mat-select[_ngcontent-%COMP%]{height:50px}}[_nghost-%COMP%]   mat-select.small[_ngcontent-%COMP%]{height:28px;border:none;border-radius:8px;background:var(--alt-40)}@media only screen and (max-width: 767px){[_nghost-%COMP%]   mat-select.small[_ngcontent-%COMP%]{height:36px}}[_nghost-%COMP%]   mat-select[_ngcontent-%COMP%]::placeholder{display:block;color:var(--default-60)}[_nghost-%COMP%]   mat-select.mat-mdc-select-disabled[_ngcontent-%COMP%]{color:var(--default-40);border-color:var(--default-80);background:var(--grayscale-g1)}[_nghost-%COMP%]   mat-select.mat-mdc-select-disabled[_ngcontent-%COMP%]     .mat-mdc-select-value-text{color:var(--default-40)}[_nghost-%COMP%]   mat-select.mat-mdc-select-disabled[_ngcontent-%COMP%]     .mat-mdc-select-arrow{border-color:var(--default-80)}[_nghost-%COMP%]   mat-select.mobile[_ngcontent-%COMP%]{border:none;background-color:var(--alt-40)}[_nghost-%COMP%]   mat-select.mobile[_ngcontent-%COMP%]     .mat-mdc-select-value{line-height:24px;color:var(--default)!important}[_nghost-%COMP%]   .additional-info[_ngcontent-%COMP%]{display:block;margin-top:5px;color:var(--default-20)}[_nghost-%COMP%]:hover  mat-select{color:var(--default);border-color:var(--default)}[_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--accent-blue-40)}[_nghost-%COMP%]:hover  .mat-form-field-label{color:var(--default-20)!important}[_nghost-%COMP%]:hover  .mat-mdc-select-value{color:var(--default)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty mat-select{border-color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-disabled .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]  .mat-mdc-select-trigger{display:flex;justify-content:space-between;width:100%;height:100%;padding:8px 10px 8px 16px}[_nghost-%COMP%]  .mat-mdc-form-field.small{height:28px;border:0;color:var(--default)}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field.small{height:36px}}[_nghost-%COMP%]  .mat-mdc-form-field.small label{display:none}[_nghost-%COMP%]  .mat-mdc-form-field.small .mat-mdc-select-trigger{padding:4px 8px 4px 16px}[_nghost-%COMP%]  .mat-mdc-form-field.small .mat-mdc-select-trigger .mat-mdc-select-value{margin-right:8px;color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.small .mat-mdc-select-trigger .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{top:-2px;width:8px;height:8px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field.small .mat-mdc-select-trigger .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{top:-3px;width:12px;height:12px}}[_nghost-%COMP%]  .mat-mdc-form-field.small .mat-mdc-select[aria-expanded=true] .mat-mdc-select-arrow{top:2px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field.small .mat-mdc-select[aria-expanded=true] .mat-mdc-select-arrow{top:3px}}[_nghost-%COMP%]  .mat-mdc-form-field.prefix-icon .mat-mdc-select-trigger{padding:4px 8px 4px 40px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field.prefix-icon .mat-mdc-select-trigger{padding-left:52px}}[_nghost-%COMP%]  .mat-mdc-select-value{display:block;max-width:initial;color:var(--default-20)!important}[_nghost-%COMP%]  .mat-mdc-select-placeholder{color:var(--default-60);letter-spacing:normal}[_nghost-%COMP%]  .mat-mdc-select-value-text{color:var(--default)!important;letter-spacing:normal}[_nghost-%COMP%]  .mat-mdc-select-arrow-wrapper{display:flex;justify-content:center;align-items:center;transform:none!important}[_nghost-%COMP%]  .mat-mdc-select-arrow-wrapper svg{display:none}[_nghost-%COMP%]  .mat-mdc-form-field{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-invalid .mat-form-field-label{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-infix{width:100%;padding-top:10px;padding-bottom:0;border-top-width:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper{top:-18px;padding-top:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font:13px Poppins,sans-serif;line-height:20px;color:var(--default-40)}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font-size:14px;line-height:24px}}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused mat-select{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative-20)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty mat-select{border-color:var(--negative-20)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-20)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-form-field-label{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused mat-select{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-infix{padding-top:0;border-top-width:0}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-label-wrapper{top:0;padding-top:0}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-mdc-form-field-icon-suffix{top:50%;bottom:auto;transform:translateY(-50%)}[_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{position:absolute;top:35px;z-index:1;font-size:20px;cursor:pointer}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--accent-blue-40)!important}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix{left:20px}[_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{right:17px}[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{top:100%;margin-top:1px}[_nghost-%COMP%]  .option-label{display:inline-block}[_nghost-%COMP%]  .option-label.ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}";function YSe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M(2);P("isSmall",!0)("matTooltip",n.labelTooltip)}}function XSe(t,e){if(t&1&&(C(0,"label"),F(1),H(2,YSe,1,2,"ss-info-tooltip",6),w()),t&2){let n=M();y(),ht(" ",n.label," "),y(),Q(n.labelTooltip?2:-1)}}function ZSe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=M();y(),P("size",20),y(2),Ne(oi(4,2,"forms.validationErrors.required",Dl(5,_I,n.validationPropertyName||n.label)))}}function JSe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=e.$implicit;y(),P("size",20),y(2),Ne(oi(4,2,"errors."+n.errorCode,n.params))}}function eTe(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M();P("iconName",n.getOptionIcon())("size",n.mobile?24:20)}}function tTe(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M().$implicit,i=M();P("iconName",n.icon)("size",i.mobile?24:20)}}function nTe(t,e){if(t&1&&$(0,"ss-flag",9),t&2){let n=M().$implicit,i=M();P("countryCode",i.getFlagIconName(n))}}function iTe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M().$implicit;P("isSmall",!0)("matTooltip",n.info)}}function rTe(t,e){if(t&1&&(C(0,"mat-option",4)(1,"div",8),H(2,tTe,1,2,"ss-icon",2),H(3,nTe,1,1,"ss-flag",9),C(4,"div",10),F(5),w(),H(6,iTe,1,2,"ss-info-tooltip",6),w()()),t&2){let n=e.$implicit,i=M();P("value",i.getOptionValue(n))("disabled",i.getDisabled(n)),y(2),Q(n.icon?2:-1),y(),Q(i.getFlagIconName(n)?3:-1),y(),Zn("max-width",i.ellipsisPx??null,"px"),le("ellipsis",i.ellipsisPx!==null),P("matTooltip",i.showTooltip?i.getLabel(n):null)("matTooltipShowDelay",500),y(),ht(" ",i.getLabel(n)," "),y(),Q(n.info?6:-1)}}function oTe(t,e){if(t&1&&(C(0,"small",5),F(1),w()),t&2){let n=M();y(),Ne(n.additionalInfo)}}function sTe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M(2);P("isSmall",!0)("matTooltip",n.labelTooltip)}}function aTe(t,e){if(t&1&&(C(0,"label"),F(1),H(2,sTe,1,2,"ss-info-tooltip",6),w()),t&2){let n=M();y(),ht(" ",n.label," "),y(),Q(n.labelTooltip?2:-1)}}function lTe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=M();y(),P("size",20),y(2),Ne(oi(4,2,"forms.validationErrors.required",Dl(5,_I,n.validationPropertyName||n.label)))}}function cTe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",7),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=e.$implicit;y(),P("size",20),y(2),Ne(oi(4,2,"errors."+n.errorCode,n.params))}}function dTe(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M();P("iconName",n.getOptionIcon())("size",n.mobile?24:20)}}function uTe(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M().$implicit,i=M();P("iconName",n.icon)("size",i.mobile?24:20)}}function hTe(t,e){if(t&1&&$(0,"ss-flag",9),t&2){let n=M().$implicit,i=M();P("countryCode",i.getFlagIconName(n))}}function fTe(t,e){if(t&1&&$(0,"ss-info-tooltip",6),t&2){let n=M().$implicit;P("isSmall",!0)("matTooltip",n.info)}}function pTe(t,e){if(t&1&&(C(0,"mat-option",4)(1,"div",8),H(2,uTe,1,2,"ss-icon",2),H(3,hTe,1,1,"ss-flag",9),C(4,"div",10),F(5),w(),H(6,fTe,1,2,"ss-info-tooltip",6),w()()),t&2){let n=e.$implicit,i=M();P("value",i.getOptionValue(n))("disabled",i.getDisabled(n)),y(2),Q(n.icon?2:-1),y(),Q(i.getFlagIconName(n)?3:-1),y(),Zn("max-width",i.ellipsisPx??null,"px"),le("ellipsis",i.ellipsisPx!==null),P("matTooltip",i.showTooltip?i.getLabel(n):null)("matTooltipShowDelay",500),y(),ht(" ",i.getLabel(n)," "),y(),Q(n.info?6:-1)}}function mTe(t,e){if(t&1&&(C(0,"small",5),F(1),w()),t&2){let n=M();y(),Ne(n.additionalInfo)}}var Uc=(()=>{let e=class e{constructor(){this.label=null,this.panelClass="",this.overlayPanelClass="",this.multiple=!1,this.small=!1,this.mobile=!1,this.prefixIcon=!1,this.ellipsisPx=null,this.showTooltip=!1,this.noMargin=!1,this.errors=[],this.focus=new Ae,this.selectionChange=new Ae,this.onChange=i=>{},this.onTouched=()=>{}}get required(){return this._required}set required(i){this._required=Qr(i)}get disabled(){return this._disabled}set disabled(i){this._disabled=Qr(i)}ngOnChanges(i){i.errors&&!i.errors.firstChange&&(i.errors.currentValue.length?(this.selectModel?.control.setErrors({incorrect:!0}),this.selectModel?.control.markAsDirty()):(this.selectModel?.control.setErrors(null),this.selectModel?.control.updateValueAndValidity()))}getLabel(i){return this.labelProperty?i[this.labelProperty]:i}getDisabled(i){return this.disabledProperty?i[this.disabledProperty]:!1}getFlagIconName(i){return this.flagIconProperty?i[this.flagIconProperty]:null}getOptionValue(i){return this.valueProperty?i[this.valueProperty]:i}getOptionIcon(){let i=this.options.find(r=>r.value===this.value);return i?i.icon:""}writeValue(i){this.value=i,this.updateChanges()}updateChanges(){this.onChange(this.value)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-select"]],viewQuery:function(r,o){if(r&1&&(Fe(ISe,5),Fe(kSe,5)),r&2){let s;Ce(s=we())&&(o.selectModel=s.first),Ce(s=we())&&(o.selectElement=s.first)}},hostVars:2,hostBindings:function(r,o){r&2&&le("no-margin",o.noMargin)},inputs:{id:"id",name:"name",validationPropertyName:"validationPropertyName",label:"label",labelTooltip:"labelTooltip",additionalInfo:"additionalInfo",panelClass:"panelClass",overlayPanelClass:"overlayPanelClass",options:"options",valueProperty:"valueProperty",multiple:"multiple",flagIconProperty:"flagIconProperty",labelProperty:"labelProperty",disabledProperty:"disabledProperty",small:"small",mobile:"mobile",prefixIcon:"prefixIcon",ellipsisPx:"ellipsisPx",showTooltip:"showTooltip",noMargin:"noMargin",errors:"errors",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled"},outputs:{focus:"focus",selectionChange:"selectionChange"},standalone:!1,features:[yt([{provide:uo,useExisting:kn(()=>e),multi:!0},{provide:zp,useValue:{overlayPanelClass:"ss-select-overlay"}}]),gt],decls:13,vars:29,consts:[["selectElement","","selectModel","ngModel"],["floatLabel","always",3,"hideRequiredMarker"],["matPrefix","","color","accent-blue-20",3,"iconName","size"],["disableOptionCentering","","matInput","",1,"input-text",3,"focus","ngModelChange","selectionChange","id","name","multiple","placeholder","disabled","required","ngModel","panelClass"],[3,"value","disabled"],[1,"additional-info"],[3,"isSmall","matTooltip"],["color","negative","iconName","error_circle",3,"size"],[1,"option-wrapper"],[3,"countryCode"],[1,"option-label",3,"matTooltip","matTooltipShowDelay"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",1),H(1,DSe,3,2,"label"),C(2,"div"),H(3,PSe,5,7,"mat-error"),Bt(4,OSe,5,5,"mat-error",null,Mn),w(),H(6,RSe,1,2,"ss-icon",2),C(7,"mat-select",3,0),G("focus",function(l){return Y(s),X(o.focus.emit(l))}),Je("ngModelChange",function(l){return Y(s),tt(o.value,l)||(o.value=l),X(l)}),G("ngModelChange",function(){return Y(s),X(o.updateChanges())})("selectionChange",function(l){return Y(s),X(o.selectionChange.emit(l))}),Bt(10,LSe,7,12,"mat-option",4,Mn),w(),H(12,USe,2,1,"small",5),w()}if(r&2){let s=It(9);le("no-label",!o.label)("field-disabled",o.disabled)("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("hideRequiredMarker",!0),y(),Q(o.label?1:-1),y(2),Q(s.invalid&&!s.pristine&&o.errors.length===0&&(s.errors!=null&&s.errors.required)?3:-1),y(),Ft(o.errors),y(2),Q(o.prefixIcon?6:-1),y(),le("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("id",o.id)("name",o.name)("multiple",o.multiple)("placeholder",o.placeholder)("disabled",o.disabled)("required",o.required),Ze("ngModel",o.value),P("panelClass","ss-select-panel"+(o.panelClass?" "+o.panelClass:"")),y(3),Ft(o.options),y(2),Q(o.additionalInfo?12:-1)}},dependencies:[Oi,Rs,cr,ho,Nc,zh,Cg,Io,ci,bn,Wp,_u,Vl],styles:[bI]});let t=e;return t})(),ATe=(()=>{let e=class e extends Uc{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ri(e)))(o||e)}})(),e.\u0275cmp=re({type:e,selectors:[["ss-focus-room-select"]],standalone:!1,features:[yt([{provide:uo,useExisting:kn(()=>e),multi:!0},{provide:zp,useValue:{overlayPanelClass:"focus-room-filter"}}]),rn],decls:13,vars:29,consts:[["selectElement","","selectModel","ngModel"],["floatLabel","always",3,"hideRequiredMarker"],["matPrefix","","color","accent-blue-20",3,"iconName","size"],["disableOptionCentering","","matInput","",1,"input-text",3,"focus","ngModelChange","selectionChange","id","name","multiple","placeholder","disabled","required","ngModel","panelClass"],[3,"value","disabled"],[1,"additional-info"],[3,"isSmall","matTooltip"],["color","negative","iconName","error_circle",3,"size"],[1,"option-wrapper"],[3,"countryCode"],[1,"option-label",3,"matTooltip","matTooltipShowDelay"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",1),H(1,HSe,3,2,"label"),C(2,"div"),H(3,QSe,5,7,"mat-error"),Bt(4,jSe,5,5,"mat-error",null,Mn),w(),H(6,$Se,1,2,"ss-icon",2),C(7,"mat-select",3,0),G("focus",function(l){return Y(s),X(o.focus.emit(l))}),Je("ngModelChange",function(l){return Y(s),tt(o.value,l)||(o.value=l),X(l)}),G("ngModelChange",function(){return Y(s),X(o.updateChanges())})("selectionChange",function(l){return Y(s),X(o.selectionChange.emit(l))}),Bt(10,KSe,7,12,"mat-option",4,Mn),w(),H(12,qSe,2,1,"small",5),w()}if(r&2){let s=It(9);le("no-label",!o.label)("field-disabled",o.disabled)("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("hideRequiredMarker",!0),y(),Q(o.label?1:-1),y(2),Q(s.invalid&&!s.pristine&&o.errors.length===0&&(s.errors!=null&&s.errors.required)?3:-1),y(),Ft(o.errors),y(2),Q(o.prefixIcon?6:-1),y(),le("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("id",o.id)("name",o.name)("multiple",o.multiple)("placeholder",o.placeholder)("disabled",o.disabled)("required",o.required),Ze("ngModel",o.value),P("panelClass","ss-select-panel"+(o.panelClass?" "+o.panelClass:"")),y(3),Ft(o.options),y(2),Q(o.additionalInfo?12:-1)}},dependencies:[Oi,Rs,cr,ho,Nc,zh,Cg,Io,ci,bn,Wp,_u,Vl],styles:[bI]});let t=e;return t})(),gTe=(()=>{let e=class e extends Uc{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ri(e)))(o||e)}})(),e.\u0275cmp=re({type:e,selectors:[["ss-focus-room-select-long"]],standalone:!1,features:[yt([{provide:uo,useExisting:kn(()=>e),multi:!0},{provide:zp,useValue:{overlayPanelClass:"focus-room-filter-long"}}]),rn],decls:13,vars:29,consts:[["selectElement","","selectModel","ngModel"],["floatLabel","always",3,"hideRequiredMarker"],["matPrefix","","color","accent-blue-20",3,"iconName","size"],["disableOptionCentering","","matInput","",1,"input-text",3,"focus","ngModelChange","selectionChange","id","name","multiple","placeholder","disabled","required","ngModel","panelClass"],[3,"value","disabled"],[1,"additional-info"],[3,"isSmall","matTooltip"],["color","negative","iconName","error_circle",3,"size"],[1,"option-wrapper"],[3,"countryCode"],[1,"option-label",3,"matTooltip","matTooltipShowDelay"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",1),H(1,XSe,3,2,"label"),C(2,"div"),H(3,ZSe,5,7,"mat-error"),Bt(4,JSe,5,5,"mat-error",null,Mn),w(),H(6,eTe,1,2,"ss-icon",2),C(7,"mat-select",3,0),G("focus",function(l){return Y(s),X(o.focus.emit(l))}),Je("ngModelChange",function(l){return Y(s),tt(o.value,l)||(o.value=l),X(l)}),G("ngModelChange",function(){return Y(s),X(o.updateChanges())})("selectionChange",function(l){return Y(s),X(o.selectionChange.emit(l))}),Bt(10,rTe,7,12,"mat-option",4,Mn),w(),H(12,oTe,2,1,"small",5),w()}if(r&2){let s=It(9);le("no-label",!o.label)("field-disabled",o.disabled)("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("hideRequiredMarker",!0),y(),Q(o.label?1:-1),y(2),Q(s.invalid&&!s.pristine&&o.errors.length===0&&(s.errors!=null&&s.errors.required)?3:-1),y(),Ft(o.errors),y(2),Q(o.prefixIcon?6:-1),y(),le("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("id",o.id)("name",o.name)("multiple",o.multiple)("placeholder",o.placeholder)("disabled",o.disabled)("required",o.required),Ze("ngModel",o.value),P("panelClass","ss-select-panel"+(o.panelClass?" "+o.panelClass:"")),y(3),Ft(o.options),y(2),Q(o.additionalInfo?12:-1)}},dependencies:[Oi,Rs,cr,ho,Nc,zh,Cg,Io,ci,bn,Wp,_u,Vl],styles:[bI]});let t=e;return t})(),vTe=(()=>{let e=class e extends Uc{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ri(e)))(o||e)}})(),e.\u0275cmp=re({type:e,selectors:[["ss-country-inline-select"]],standalone:!1,features:[yt([{provide:uo,useExisting:kn(()=>e),multi:!0},{provide:zp,useValue:{overlayPanelClass:"country-inline-select-overlay"}}]),rn],decls:13,vars:29,consts:[["selectElement","","selectModel","ngModel"],["floatLabel","always",3,"hideRequiredMarker"],["matPrefix","","color","accent-blue-20",3,"iconName","size"],["disableOptionCentering","","matInput","",1,"input-text",3,"focus","ngModelChange","selectionChange","id","name","multiple","placeholder","disabled","required","ngModel","panelClass"],[3,"value","disabled"],[1,"additional-info"],[3,"isSmall","matTooltip"],["color","negative","iconName","error_circle",3,"size"],[1,"option-wrapper"],[3,"countryCode"],[1,"option-label",3,"matTooltip","matTooltipShowDelay"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",1),H(1,aTe,3,2,"label"),C(2,"div"),H(3,lTe,5,7,"mat-error"),Bt(4,cTe,5,5,"mat-error",null,Mn),w(),H(6,dTe,1,2,"ss-icon",2),C(7,"mat-select",3,0),G("focus",function(l){return Y(s),X(o.focus.emit(l))}),Je("ngModelChange",function(l){return Y(s),tt(o.value,l)||(o.value=l),X(l)}),G("ngModelChange",function(){return Y(s),X(o.updateChanges())})("selectionChange",function(l){return Y(s),X(o.selectionChange.emit(l))}),Bt(10,pTe,7,12,"mat-option",4,Mn),w(),H(12,mTe,2,1,"small",5),w()}if(r&2){let s=It(9);le("no-label",!o.label)("field-disabled",o.disabled)("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("hideRequiredMarker",!0),y(),Q(o.label?1:-1),y(2),Q(s.invalid&&!s.pristine&&o.errors.length===0&&(s.errors!=null&&s.errors.required)?3:-1),y(),Ft(o.errors),y(2),Q(o.prefixIcon?6:-1),y(),le("small",o.small)("mobile",o.mobile)("prefix-icon",o.prefixIcon),P("id",o.id)("name",o.name)("multiple",o.multiple)("placeholder",o.placeholder)("disabled",o.disabled)("required",o.required),Ze("ngModel",o.value),P("panelClass","ss-select-panel"+(o.panelClass?" "+o.panelClass:"")),y(3),Ft(o.options),y(2),Q(o.additionalInfo?12:-1)}},dependencies:[Oi,Rs,cr,ho,Nc,zh,Cg,Io,ci,bn,Wp,_u,Vl],styles:[bI]});let t=e;return t})();var _Te=function(t){return t.Male="Male",t.Female="Female",t.Genderqueer="Genderqueer",t.NonBinary="NonBinary",t.PreferNotToSay="PreferNotToSay",t}(_Te||{});var Bs=function(t){return t.Light="Light",t.Dark="Dark",t}(Bs||{}),Fs=function(t){return t.None="None",t.HeHim="HeHim",t.SheHer="SheHer",t.TheyThem="TheyThem",t.XeXem="XeXem",t}(Fs||{}),Kh=function(t){return t.Single="Single",t.Relationship="Relationship",t.Engaged="Engaged",t.Married="Married",t.Complicated="Complicated",t.OpenRelationship="OpenRelationship",t}(Kh||{}),jl=function(t){return t.PreUniStudent="PreUniStudent",t.UniStudent="UniStudent",t.Professional="Professional",t}(jl||{}),KN=function(t){return t.NeedsReview="NeedsReview",t.TemporaryDeactivationByAdmin="TemporaryDeactivationByAdmin",t.TemporaryDeactivationByUser="TemporaryDeactivationByUser",t.UserRequestedDeletion="UserRequestedDeletion",t.Underage="Underage",t.PermanentlyBanned="PermanentlyBanned",t}(KN||{}),Hi=function(t){return t.FocusRoom="FocusRoom",t.Channel="Channel",t.DirectMessage="DirectMessage",t.GroupChat="GroupChat",t.UserProfile="UserProfile",t.NewsFeedItem="NewsFeedItem",t.Testimonial="Testimonial",t.NewsFeedComment="NewsFeedComment",t.FocusBuddies="FocusBuddies",t.SuggestedUsers="SuggestedUsers",t.SimpleSearch="SimpleSearch",t.GroupFeed="GroupFeed",t.GroupFeedComment="GroupFeedComment",t.FavoritesListItem="FavoritesListItem",t.SubscriptionUser="SubscriptionUser",t.FocusPartner="FocusPartner",t.InfoToast="InfoToast",t}(Hi||{}),bu=function(t){return t.NoStreakAchieved="NoStreakAchieved",t.StreakAchieved="StreakAchieved",t.StreakFreezeUsed="StreakFreezeUsed",t.StreakRepaired="StreakRepaired",t}(bu||{});var Yht=["#f8c9a6","#f5e27c","#d4f8a6","#aff4df","#bdc7fc","#deb9fc","#f3b8cd"],Xht="pomodoro-timer-widget",Zht="(.*[a-zA-Z].*){2}",Jht="(?=(.*[a-zA-Z]){3})(?=(.*[a-zA-Z0-9]){5}).+",eft=5,tft=30;var Yq=12,nft=20,qN=30,ift=50,yI="Free",rft="Basic",oft=40,sft="70f27f62-c72f-4570-b150-7c2c61e71a8c",aft="3f12baaf-d446-4b06-0747-08d98e2cffb3",lft="b66452df-8715-49f1-0748-08d98e2cffb3",cft="2024-05-29T00:00:00Z",Xq=["incomplete_expired","canceled"],Zq=["active","trialing"];var xg="minAgeRequirementValue",CI="livekitAnonymousUserId",YN="livekitSettings",Za="token",Sg="theme",dft="language",uft="conversationsLeftPanelWidth",hft="conversationsRightPanelCollapsed",fft="conversationsTopLeftSectionSize",Jq="changeCountry";var pft="favorite-videos",G0="newsletterInterests",W0="topNotificationBarVisibility",mft="sidebarExpanded",XN="drafts",Aft="unauthenticatedWidgets",gft="tasksPageState";var wI="livekitPipOptions",vft="livekitInviteMuteValue",EI="livekitStreakExtendedModalHide",_ft="preferDailySessionsSummary",bft="lastVisitedRoomUrl",yft="topBannerClosed",Cft="pricingModalLastShowDate",K0="dxOgAncv4L",q0="ox9Az123",wft="showUnauthIntroVideo",Y0="movePinnedVideoOffTilesDown",Eft="participantsListCollapsed",X0="shouldNotShowTurnVideoOnModal",xft="focusRoomTempFilter",Sft="newUsersFilterSeen",Tft="hotjarFirstSessionTracked",eY="socketConnectionId",Ift={id:"el1cda161-912a-9g61-742z-2y89l225o22z",name:"Join",iconUrl:"/assets/icons/milestone-join.svg"},kft={id:"e1cba791-912f-4e01-989a-8c75f619c17f",name:"Pinned another user",iconUrl:"https://storageaccountstudybe69.blob.core.windows.net/badge/e1cba791-912f-4e01-989a-8c75f619c17f.svg"},Mft={id:"332d32a3-6671-4d58-842a-3a60504fbb94",name:"Sent an encouragement",iconUrl:"https://storageaccountstudybe69.blob.core.windows.net/badge/332d32a3-6671-4d58-842a-3a60504fbb94.svg"},Dft={id:"6f690337-3080-4665-8f08-365f38e37d08",name:"Turned camera on",iconUrl:"https://storageaccountstudybe69.blob.core.windows.net/badge/6f690337-3080-4665-8f08-365f38e37d08.svg"},Pft={id:"3103dfe7-1b9b-4cdc-bee7-244296a7ab23",name:"Posted a video tile message",iconUrl:"https://storageaccountstudybe69.blob.core.windows.net/badge/3103dfe7-1b9b-4cdc-bee7-244296a7ab23.svg"},Oft={id:"0677d708-977e-49ee-a09d-0c57fc5036d4",name:"Completed all profile info",iconUrl:"https://storageaccountstudybe69.blob.core.windows.net/badge/0677d708-977e-49ee-a09d-0c57fc5036d4.svg"},Rft={id:"a5756669-1b13-4084-ae1a-c6bdb25effec",name:"Achieved 30 mins inside focus room",iconUrl:"https://storageaccountstudybe69.blob.core.windows.net/badge/a5756669-1b13-4084-ae1a-c6bdb25effec.svg"},Bft=["mov","avi","mpg","mp4","webm","wmv"],Fft=[{value:Fs.None,label:"None (no selection)"},{value:Fs.HeHim,label:"he/him"},{value:Fs.SheHer,label:"she/her"},{value:Fs.TheyThem,label:"they/them"},{value:Fs.XeXem,label:"xe/xem"}],Nft=[{value:null,label:""},{value:Kh.Single,label:"Single"},{value:Kh.Relationship,label:"In a relationship"},{value:Kh.Engaged,label:"Engaged"},{value:Kh.Married,label:"Married"},{value:Kh.Complicated,label:"It's complicated"},{value:Kh.OpenRelationship,label:"In an open relationship"}],Lft=[{propertyName:"friend",id:"what-am-i-looking-for-friend",name:"whatAmILookingForFriend",label:"Potential new friend(s)",info:"",icon:"\u{1F60A}"},{propertyName:"accountabilityPartner",id:"what-am-i-looking-for-accountability-partner",name:"whatAmILookingForAccountabilityPartner",label:"Accountability partner(s)",info:"Keep each other on track through check-ins.",icon:"\u2705"},{propertyName:"studyBuddy",id:"what-am-i-looking-for-study-buddy",name:"whatAmILookingForStudyBuddy",label:"Study buddy",info:"Focus together regularly and casually.",icon:"\u{1F4DA}"},{propertyName:"focusGroup",id:"what-am-i-looking-for-focus-group",name:"whatAmILookingForFocusGroup",label:"A focus group/community",info:"Belong to a regular circle.",icon:"\u{1F9E0}"},{propertyName:"network",id:"what-am-i-looking-for-network",name:"whatAmILookingForNetwork",label:"Professional networking",info:"Meet people in my field or subject.",icon:"\u{1F91D}"},{propertyName:"dating",id:"what-am-i-looking-for-dating",name:"whatAmILookingForDating",label:"Open to more (dating / romance)",info:"If it happens naturally.",icon:"\u2764\uFE0F"},{propertyName:"focus",id:"what-am-i-looking-for-focus",name:"whatAmILookingForFocus",label:"Just here to focus",info:"No social interaction.",icon:"\u{1F3AF}"}],Uft=["professionals","staging-professionals","local-professionals","e2e-professionals"],Vft=["production-website","staging-website","local-website","e2e-website"],Hft=["production-app","staging-app","local-app","e2e-app","matterhorn","local-b2b","e2e-b2b","staging-b2b","professionals-app","staging-professionals-app","local-professionals-app","e2e-professionals-app"],Qft=["onabort","onafterprint","onanimationend","onanimationiteration","onanimationstart","onbeforeprint","onbeforeunload","onblur","oncanplay","oncanplaythrough","onchange","onclick","oncontextmenu","oncopy","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onended","onerror","onfocus","onfocusin","onfocusout","onfullscreenchange","onfullscreenerror","onhashchange","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmessage","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseover","onmouseout","onmouseup","onoffline","ononline","onopen","onpagehide","onpageshow","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onresize","onreset","onscroll","onsearch","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitionend","onunload","onvolumechange","onwaiting","onwheel"],jft=["#76B5FF","#7B63FB","#63FBF2","#FB63DA","#FBDA63","#66FB63","#FB6363","#C1C1C1"];var Sn=(()=>{let e=class e{get siteName(){return Ue.isB2BApp?"CoWork":Ue.siteName}get domain(){return Ue.siteName==="StudyStream"?"studystream":"cowork"}get newsletterBarVisibility(){return localStorage.getItem(G0)===null?null:localStorage.getItem(G0)==="true"}set newsletterBarVisibility(i){i!==null?localStorage.setItem(G0,i.toString()):localStorage.removeItem(G0)}get topNotificationBarVisibility(){return localStorage.getItem(W0)===null?null:localStorage.getItem(W0)==="true"}set topNotificationBarVisibility(i){i!==null?localStorage.setItem(W0,i.toString()):localStorage.removeItem(W0)}constructor(i){this.http=i,this.API_ENDPOINT=`${Ue.apiUrl}/settings`,this.newsletterBarVisibilityChange=new O,this.topNotificationBarVisibilityChange=new O,this.newUsersTimeLimitFromDateUpdated=new O,this.phoneVerificationRequirementUpdated=new O,this.activeLivekitServerChanged=new O,this.publicFocusRoomName=new fn(null),this.settings={}}getSettings(){return ue(this,null,function*(){this.settings=yield Y_(this.http.get(this.API_ENDPOINT))})}getSettingsForAdmin(){return this.http.get(`${this.API_ENDPOINT}/admin`)}getPublicSettings(){return this.http.get(`${this.API_ENDPOINT}/public`)}updateSettings(i){return this.http.put(this.API_ENDPOINT,i)}toggleNewsletterBar(i){i!==this.newsletterBarVisibility&&(this.newsletterBarVisibility=i,this.newsletterBarVisibilityChange.next(i))}toggleTopNotificationBar(i){i!==this.topNotificationBarVisibility&&(this.topNotificationBarVisibility=i,this.topNotificationBarVisibilityChange.next(i))}isB2BApp(){return Ue.isB2BApp}isCoWork(){return Ue.siteName==="CoWork"}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xI=function(){return xI=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},xI.apply(this,arguments)},bTe={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",fadeColor:"transparent",animation:"spinner-line-fade-default",rotate:0,direction:1,speed:1,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:"0 0 1px transparent",position:"absolute"},nY=function(){function t(e){e===void 0&&(e={}),this.opts=xI(xI({},bTe),e)}return t.prototype.spin=function(e){return this.stop(),this.el=document.createElement("div"),this.el.className=this.opts.className,this.el.setAttribute("role","progressbar"),this.el.style.position=this.opts.position,this.el.style.width="0",this.el.style.zIndex=this.opts.zIndex.toString(),this.el.style.left=this.opts.left,this.el.style.top=this.opts.top,this.el.style.transform="scale(".concat(this.opts.scale,")"),e&&e.insertBefore(this.el,e.firstChild||null),yTe(this.el,this.opts),this},t.prototype.stop=function(){return this.el&&(this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=void 0),this},t}();function tY(t,e){return typeof t=="string"?t:t[e%t.length]}function yTe(t,e){var n=Math.round(e.corners*e.width*500)/1e3+"px",i="none";e.shadow===!0?i="0 2px 4px #000":typeof e.shadow=="string"&&(i=e.shadow);for(var r=CTe(i),o=0;o<e.lines;o++){var s=~~(360/e.lines*o+e.rotate),a=document.createElement("div");a.style.position="absolute",a.style.top="".concat(-e.width/2,"px"),a.style.width=e.length+e.width+"px",a.style.height=e.width+"px",a.style.background=tY(e.fadeColor,o),a.style.borderRadius=n,a.style.transformOrigin="left",a.style.transform="rotate(".concat(s,"deg) translateX(").concat(e.radius,"px)");var l=o*e.direction/e.lines/e.speed;l-=1/e.speed;var c=document.createElement("div");c.style.width="100%",c.style.height="100%",c.style.background=tY(e.color,o),c.style.borderRadius=n,c.style.boxShadow=wTe(r,s),c.style.animation="".concat(1/e.speed,"s linear ").concat(l,"s infinite ").concat(e.animation),a.appendChild(c),t.appendChild(a)}}function CTe(t){for(var e=/^\s*([a-zA-Z]+\s+)?(-?\d+(\.\d+)?)([a-zA-Z]*)\s+(-?\d+(\.\d+)?)([a-zA-Z]*)(.*)$/,n=[],i=0,r=t.split(",");i<r.length;i++){var o=r[i],s=o.match(e);if(s!==null){var a=+s[2],l=+s[5],c=s[4],d=s[7];a===0&&!c&&(c=d),l===0&&!d&&(d=c),c===d&&n.push({prefix:s[1]||"",x:a,y:l,xUnits:c,yUnits:d,end:s[8]})}}return n}function wTe(t,e){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i],s=ETe(o.x,o.y,e);n.push(o.prefix+s[0]+o.xUnits+" "+s[1]+o.yUnits+o.end)}return n.join(", ")}function ETe(t,e,n){var i=n*Math.PI/180,r=Math.sin(i),o=Math.cos(i);return[Math.round((t*o+e*r)*1e3)/1e3,Math.round((-t*r+e*o)*1e3)/1e3]}var ZN=[];function iY(t){if(typeof t>"u"){console.warn("Ladda button target must be defined.");return}if(t.classList.contains("ladda-button")||t.classList.add("ladda-button"),t.hasAttribute("data-style")||t.setAttribute("data-style","expand-right"),!t.querySelector(".ladda-label")){var e=document.createElement("span");e.className="ladda-label",STe(t,e)}var n=t.querySelector(".ladda-spinner");n||(n=document.createElement("span"),n.className="ladda-spinner"),t.appendChild(n);var i,r,o={start:function(){return r||(r=xTe(t)),t.disabled=!0,t.setAttribute("data-loading",""),clearTimeout(i),r.spin(n),this.setProgress(0),this},startAfter:function(s){return clearTimeout(i),i=setTimeout(function(){o.start()},s),this},stop:function(){return o.isLoading()&&(t.disabled=!1,t.removeAttribute("data-loading")),clearTimeout(i),r&&(i=setTimeout(function(){r.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start()},setProgress:function(s){s=Math.max(Math.min(s,1),0);var a=t.querySelector(".ladda-progress");s===0&&a&&a.parentNode?a.parentNode.removeChild(a):(a||(a=document.createElement("div"),a.className="ladda-progress",t.appendChild(a)),a.style.width=(s||0)*t.offsetWidth+"px")},isLoading:function(){return t.hasAttribute("data-loading")},remove:function(){clearTimeout(i),t.disabled=!1,t.removeAttribute("data-loading"),r&&(r.stop(),r=null),ZN.splice(ZN.indexOf(o),1)}};return ZN.push(o),o}function xTe(t){var e=t.offsetHeight,n,i;e===0&&(e=parseFloat(window.getComputedStyle(t).height)),e>32&&(e*=.8),t.hasAttribute("data-spinner-size")&&(e=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(n=t.getAttribute("data-spinner-color")),t.hasAttribute("data-spinner-lines")&&(i=parseInt(t.getAttribute("data-spinner-lines"),10));var r=e*.2,o=r*.6,s=r<7?2:3;return new nY({color:n||"#fff",lines:i||12,radius:r,length:o,width:s,animation:"ladda-spinner-line-fade",zIndex:"auto",top:"auto",left:"auto",className:""})}function STe(t,e){var n=document.createRange();n.selectNodeContents(t),n.surroundContents(e),t.appendChild(e)}var JN=class{},eL={"data-style":"style","data-spinner-size":"spinnerSize","data-spinner-color":"spinnerColor","data-spinner-lines":"spinnerLines"},SI=(()=>{let e=class e{constructor(i={}){Object.assign(this,i)}};e.\u0275fac=function(r){return new(r||e)(K(JN))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();var TI=(()=>{let e=class e{constructor(i,r,o){if(this.platformId=o,this.ladda=void 0,this.disabled=!1,this.el=i.nativeElement,!!r)for(let s in eL){let a=r[eL[s]];if(a&&!this.el.getAttribute(s)){let l=typeof a=="number"?a.toString():a;this.el.setAttribute(s,l)}}}ngOnChanges(i){this.ladda&&(i.loading&&this.updateLadda(i.loading.previousValue),i.disabled&&this.updateDisabled())}ngOnInit(){ZA(this.platformId)&&(this.ladda=iY(this.el),setTimeout(()=>{this.updateLadda(!1)},0))}ngOnDestroy(){this.ladda&&this.ladda.remove()}updateLadda(i){if(!this.ladda)return;let r=typeof this.loading=="number"||!!this.loading,o=typeof i=="number"||!!i;if(!r)return o&&this.ladda.stop(),this.updateDisabled();o||this.ladda.start(),typeof this.loading=="number"&&this.ladda.setProgress(this.loading)}updateDisabled(){this.el.disabled=this.disabled}};e.\u0275fac=function(r){return new(r||e)(L(Se),L(SI,8),L($a))},e.\u0275dir=ye({type:e,selectors:[["","ssLadda",""]],inputs:{loading:[0,"ssLadda","loading"],disabled:"disabled"},standalone:!1,features:[gt]});let t=e;return t})();var TTe=["*"];function ITe(t,e){if(t&1&&$(0,"ss-icon",1),t&2){let n=M();P("iconName",n.iconName)("iconVariant",n.iconVariant)("color",n.iconColor)("size",n.iconSize)}}function kTe(t,e){if(t&1&&$(0,"span",3),t&2){let n=M();P("innerHTML",n.prefixLabel,Eo)}}var $l=(()=>{let e=class e{constructor(i,r){this.elementRef=i,this.settingsService=r,this.color="primary",this.type="button",this.iconSize=20,this.iconVariant=20,this.isLoading=!1,this.autoSize=!1,this.disabled=!1,this.iconOnly=!1,this.active=!1,this.buttonClick=new Ae}ngOnInit(){this.iconColor||(this.iconColor=this.color==="secondary"||this.color==="tertiary"?"default-20":"contrast")}onButtonClick(i){this.buttonClick.emit(i)}};e.\u0275fac=function(r){return new(r||e)(L(Se),L(Sn))},e.\u0275cmp=re({type:e,selectors:[["ss-button"]],inputs:{color:"color",type:"type",backgroundImageClass:"backgroundImageClass",prefixLabel:"prefixLabel",iconName:"iconName",iconSize:"iconSize",iconVariant:"iconVariant",isLoading:"isLoading",autoSize:"autoSize",disabled:"disabled",iconOnly:"iconOnly",active:"active",iconColor:"iconColor"},outputs:{buttonClick:"buttonClick"},standalone:!1,ngContentSelectors:TTe,decls:5,vars:19,consts:[[3,"click","type","ssLadda","disabled"],[3,"iconName","iconVariant","color","size"],[1,"button-text"],[3,"innerHTML"]],template:function(r,o){r&1&&(Dn(),C(0,"button",0),G("click",function(a){return o.onButtonClick(a)}),H(1,ITe,1,4,"ss-icon",1),C(2,"div",2),H(3,kTe,1,1,"span",3),Vt(4),w()()),r&2&&(xn(JF("",o.color," ",o.backgroundImageClass)),le("icon-button",o.iconName)("icon-only",o.iconOnly)("active",o.active)("auto-size",o.autoSize)("cowork",o.settingsService.isB2BApp()||o.settingsService.isCoWork()),P("type",o.type)("ssLadda",o.isLoading)("disabled",o.disabled),y(),Q(o.iconName?1:-1),y(2),Q(o.prefixLabel?3:-1))},dependencies:[TI,bn],styles:["[_nghost-%COMP%]{display:block}.disabled[_nghost-%COMP%]   button[_ngcontent-%COMP%]{border:none;box-shadow:none;color:var(--contrast);background:var(--grayscale-g1)}.disabled[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{color:var(--default-60)}.disabled[_nghost-%COMP%]   button[_ngcontent-%COMP%]:hover:not(.social){box-shadow:none;background:var(--grayscale-g1);cursor:not-allowed}.disabled[_nghost-%COMP%]   button.social[_ngcontent-%COMP%]:hover{background:var(--accent-gradient-80);cursor:not-allowed}.disabled[_nghost-%COMP%]   button.light[_ngcontent-%COMP%]{border:none;background:var(--grayscale-g1)}.disabled[_nghost-%COMP%]   button.light[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{color:var(--default-60)}.disabled[_nghost-%COMP%]   button.light[_ngcontent-%COMP%]:hover{background:var(--grayscale-g1)}[_nghost-%COMP%]  .ladda-spinner>div>div{background:var(--default)!important}[_nghost-%COMP%]  .ladda-spinner>div>div>div{background:var(--default-80)!important}[_nghost-%COMP%]  .ladda-button[data-style=zoom-in], [_nghost-%COMP%]  .ladda-button[data-style=zoom-in] .ladda-spinner, [_nghost-%COMP%]  .ladda-button[data-style=zoom-in] .ladda-label, [_nghost-%COMP%]  .ladda-button[data-style=zoom-out], [_nghost-%COMP%]  .ladda-button[data-style=zoom-out] .ladda-spinner, [_nghost-%COMP%]  .ladda-button[data-style=zoom-out] .ladda-label{transition:.1s ease all!important}[_nghost-%COMP%]  .icon-button.ladda-button .ladda-label{display:flex;align-items:center}[_nghost-%COMP%]  .icon-button.ladda-button ss-icon{margin-right:10px}[_nghost-%COMP%]  .icon-button.ladda-button.icon-only ss-icon{margin-right:0}button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:36px;padding:0 12px;border:none;border-radius:12px;outline:none;color:var(--contrast);background:var(--accent-blue);-webkit-user-select:none;user-select:none}@media only screen and (max-width: 767px){button[_ngcontent-%COMP%]{height:44px}}button.auto-size[_ngcontent-%COMP%]{width:auto}button.primary[_ngcontent-%COMP%]{color:var(--contrast);background:var(--accent-blue)}button.primary[_ngcontent-%COMP%]:hover{background:var(--accent-blue-20)}button.positive[_ngcontent-%COMP%]{color:var(--contrast);background-color:var(--positive-d2)}button.positive[_ngcontent-%COMP%]:hover, button.positive.active[_ngcontent-%COMP%]{background:var(--positive-d1)}button.negative[_ngcontent-%COMP%]{color:var(--contrast);background-color:var(--negative-20)}button.negative[_ngcontent-%COMP%]:hover, button.negative.active[_ngcontent-%COMP%]{background:var(--negative-40)}button.blurple-20[_ngcontent-%COMP%]{color:var(--contrast);background:var(--accent-blurple-20)}button.blurple-20[_ngcontent-%COMP%]:hover{background:var(--accent-blurple-40)}button.secondary[_ngcontent-%COMP%]{border:1px solid var(--alt-20);color:var(--default-20);background:var(--accent-gradient-90)}button.secondary[_ngcontent-%COMP%]:hover{color:var(--default);background:var(--accent-gradient-80)}button.tertiary[_ngcontent-%COMP%]{color:var(--default-20);background:transparent}button.tertiary[_ngcontent-%COMP%]:hover{color:var(--default);background:var(--alt-40)}button[_ngcontent-%COMP%]:disabled{border:none;box-shadow:none;color:var(--default-60);background:var(--grayscale-g2)}button[_ngcontent-%COMP%]:disabled:hover:not(.social){box-shadow:none;background:var(--grayscale-g2);cursor:not-allowed}button[_ngcontent-%COMP%]:disabled:hover:not(.social).secondary{background:var(--grayscale-g1)}button[_ngcontent-%COMP%]:disabled:hover:not(.social).tertiary{background:transparent}button[_ngcontent-%COMP%]:disabled.secondary{color:var(--default-60);background:var(--grayscale-g1)}button[_ngcontent-%COMP%]:disabled.tertiary{color:var(--default-80);background:transparent}button[_ngcontent-%COMP%]:disabled   ss-icon[_ngcontent-%COMP%]  i{color:var(--default-80)}button.light[_ngcontent-%COMP%]{border:1px solid var(--default);color:var(--default);background:var(--grayscale);filter:var(--elevation-s1)}button.light[_ngcontent-%COMP%]:hover:not(.social){color:var(--default);background:var(--alt-40);filter:var(--elevation-s3)}button.website-black[_ngcontent-%COMP%], button.website-blue[_ngcontent-%COMP%]{height:48px;border-radius:18px;color:var(--base-000);text-transform:uppercase;background:var(--base-900)}button.website-black[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], button.website-blue[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:15px;line-height:24px}button.website-blue[_ngcontent-%COMP%]{color:var(--contrast);background:var(--accent-blue)}button.website-white[_ngcontent-%COMP%]{height:48px;border-radius:18px;color:var(--base-900);text-transform:uppercase;background:var(--base-000)}button.website-white[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:15px;line-height:24px}button.website-gray[_ngcontent-%COMP%]{height:48px;border:1px solid var(--alt);border-radius:18px;color:var(--default);text-transform:uppercase;background:var(--alt-40)}button.website-gray[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:15px;line-height:24px}button.website-transparent[_ngcontent-%COMP%], button.website-transparent-black[_ngcontent-%COMP%]{height:48px;border:3px solid var(--base-000);border-radius:18px;box-shadow:none;color:var(--base-000);text-transform:uppercase;background:transparent}button.website-transparent[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], button.website-transparent-black[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:15px;line-height:24px}button.website-transparent.disabled[_ngcontent-%COMP%], button.website-transparent[_ngcontent-%COMP%]:disabled, button.website-transparent-black.disabled[_ngcontent-%COMP%], button.website-transparent-black[_ngcontent-%COMP%]:disabled{opacity:.6}button.website-transparent.disabled[_ngcontent-%COMP%]:hover, button.website-transparent[_ngcontent-%COMP%]:disabled:hover, button.website-transparent-black.disabled[_ngcontent-%COMP%]:hover, button.website-transparent-black[_ngcontent-%COMP%]:disabled:hover{background-color:transparent}button.website-transparent-black[_ngcontent-%COMP%]{border-color:var(--base-900);color:var(--base-900)}button.gradient[_ngcontent-%COMP%], button.gradient-40[_ngcontent-%COMP%]{height:auto;padding:0;margin:0;border:0;border-radius:0;box-shadow:none;color:var(--base-000);text-transform:uppercase;background:transparent;background:var(--accent-gradient-40);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}button.gradient[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]     i, button.gradient-40[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]     i{background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}button.gradient.disabled[_ngcontent-%COMP%], button.gradient[_ngcontent-%COMP%]:disabled, button.gradient-40.disabled[_ngcontent-%COMP%], button.gradient-40[_ngcontent-%COMP%]:disabled{opacity:.6}button.gradient.disabled[_ngcontent-%COMP%]:hover, button.gradient[_ngcontent-%COMP%]:disabled:hover, button.gradient-40.disabled[_ngcontent-%COMP%]:hover, button.gradient-40[_ngcontent-%COMP%]:disabled:hover{background-color:transparent}button.gradient.disabled[_ngcontent-%COMP%]:hover:hover   ss-icon[_ngcontent-%COMP%]     i, button.gradient[_ngcontent-%COMP%]:disabled:hover:hover   ss-icon[_ngcontent-%COMP%]     i, button.gradient-40.disabled[_ngcontent-%COMP%]:hover:hover   ss-icon[_ngcontent-%COMP%]     i, button.gradient-40[_ngcontent-%COMP%]:disabled:hover:hover   ss-icon[_ngcontent-%COMP%]     i{background:var(--accent-gradient-40);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}button.gradient[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%], button.gradient-40[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:15px;line-height:24px}button.gradient[_ngcontent-%COMP%]{background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}button.gradient.disabled[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]     i, button.gradient[_ngcontent-%COMP%]:disabled:hover   ss-icon[_ngcontent-%COMP%]     i{background:var(--accent-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}button.gradient[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]     i{background:var(--accent-gradient-20);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}button.default-80[_ngcontent-%COMP%]{height:auto;padding:0;margin:0;border:0;border-radius:0;box-shadow:none;color:var(--default-80);text-transform:uppercase;background:transparent}button.default-80[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]     i{color:var(--default-60)}button.default-80.disabled[_ngcontent-%COMP%], button.default-80[_ngcontent-%COMP%]:disabled{opacity:.6}button.default-80.disabled[_ngcontent-%COMP%]:hover, button.default-80[_ngcontent-%COMP%]:disabled:hover{background-color:transparent}button.default-80.disabled[_ngcontent-%COMP%]:hover:hover   ss-icon[_ngcontent-%COMP%]     i, button.default-80[_ngcontent-%COMP%]:disabled:hover:hover   ss-icon[_ngcontent-%COMP%]     i{color:var(--default-80)}button.default-80[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:15px;line-height:24px}button.gold[_ngcontent-%COMP%]{height:auto;padding:0;margin:0;border:0;border-radius:0;box-shadow:none;color:var(--gold);text-transform:uppercase;background:transparent}button.gold[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]     i{color:var(--default-60)}button.gold.disabled[_ngcontent-%COMP%], button.gold[_ngcontent-%COMP%]:disabled{opacity:.6}button.gold.disabled[_ngcontent-%COMP%]:hover, button.gold[_ngcontent-%COMP%]:disabled:hover{background-color:transparent}button.gold.disabled[_ngcontent-%COMP%]:hover:hover   ss-icon[_ngcontent-%COMP%]     i, button.gold[_ngcontent-%COMP%]:disabled:hover:hover   ss-icon[_ngcontent-%COMP%]     i{color:var(--default-80)}button.gold[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:15px;line-height:24px}button.blue-black-light[_ngcontent-%COMP%]{color:var(--contrast);background:var(--blue-black-light)}button.blue-black-light[_ngcontent-%COMP%]:hover{opacity:.8}button.website-discord[_ngcontent-%COMP%]{height:27px;border-radius:3px;color:var(--const-white);background:#7289d9}button.website-discord[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:10px;line-height:15px}button.website-slack[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:18px;background:#48164b url(/assets/images/slack-logo.svg) center no-repeat}button.social[_ngcontent-%COMP%]{justify-content:flex-start;padding-left:44px;border:1px solid var(--accent-blue-80);border-radius:12px}button.social[_ngcontent-%COMP%]:hover{color:var(--default);background-color:var(--alt-60)}button.social[_ngcontent-%COMP%]:disabled:hover{background:var(--accent-gradient-80);cursor:not-allowed}button.social[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{font-size:11px;font-weight:600;line-height:16px}button.focus-room[_ngcontent-%COMP%]{height:36px;border:1px solid var(--alt-20);color:var(--default-20);background:var(--overlay)}@media only screen and (max-width: 1024px){button.focus-room[_ngcontent-%COMP%]{height:48px}}button.focus-room[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{margin-right:8px}button.focus-room[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]     i{color:var(--accent-blue-40)}button.focus-room[_ngcontent-%COMP%]     .dot{width:12px;height:12px;margin-left:4px;border:1px solid var(--contrast);border-radius:50%;background:var(--grayscale-g4)}button.focus-room[_ngcontent-%COMP%]:hover{border:1px solid var(--alt)}button.focus-room[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]  i{color:var(--accent-blue)}button.focus-room[_ngcontent-%COMP%]:hover     .dot{background:var(--negative-60)}button.focus-room.active[_ngcontent-%COMP%]{border:1px solid var(--alt);color:var(--contrast);background:var(--accent-blue)}button.focus-room.active[_ngcontent-%COMP%]     .dot{background:var(--negative)}button.focus-room.active[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]  i{color:var(--contrast)}button.focus-room.active[_ngcontent-%COMP%]:hover{border:1px solid var(--alt-20);background:var(--accent-blue-40)}button.focus-room.active[_ngcontent-%COMP%]:hover     .dot{background:var(--negative-60)}button.focus-room.active[_ngcontent-%COMP%]:disabled{background:var(--accent-blue-40)}button.focus-room.active[_ngcontent-%COMP%]:disabled:hover{background:var(--accent-blue-40)}button.focus-room[_ngcontent-%COMP%]:disabled{background:var(--grayscale-g1);cursor:not-allowed}button.focus-room[_ngcontent-%COMP%]:disabled:hover{background:var(--grayscale-g1)}button.alt[_ngcontent-%COMP%]{color:var(--default-20);background:var(--alt)}button.alt[_ngcontent-%COMP%]:hover{color:var(--default);background:var(--alt-20)}button.apple-button[_ngcontent-%COMP%], button.google-button[_ngcontent-%COMP%], button.facebook-button[_ngcontent-%COMP%], button.instagram-button[_ngcontent-%COMP%], button.zoom-button[_ngcontent-%COMP%], button.discord-button[_ngcontent-%COMP%], button.study-stream-button[_ngcontent-%COMP%]{padding:0 16px 0 42px;border-width:1px;background-position:10px center;background-size:24px;background-repeat:no-repeat}button.apple-button[_ngcontent-%COMP%]{background-image:url(/assets/images/apple-logo-light.svg)}button.google-button[_ngcontent-%COMP%]{background-image:url(/assets/images/google-logo.svg)}button.facebook-button[_ngcontent-%COMP%]{background-image:url(/assets/images/facebook-logo.svg)}button.discord-button[_ngcontent-%COMP%]{background-image:url(/assets/images/discord-logo.svg)}button.instagram-button[_ngcontent-%COMP%]{background-image:url(/assets/images/instagram-logo.svg)}button.zoom-button[_ngcontent-%COMP%]{background-image:url(/assets/images/zoom-logo.svg)}button.study-stream-button[_ngcontent-%COMP%]{background-image:url(/assets/images/logo-badge-color.svg);background-size:17px}button.study-stream-button.cowork[_ngcontent-%COMP%]{background-image:url(/assets/images/logo-cw.svg);background-size:22px}button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 7px 0 -7px;font-size:13px;line-height:20px;background:var(--accent-gradient-20);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.button-text[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;word-break:break-all;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical}.dark-theme[_nghost-%COMP%]   button.website-slack[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   button.website-slack[_ngcontent-%COMP%]{background-color:var(--contrast)}.dark-theme[_nghost-%COMP%]   button.apple-button[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   button.apple-button[_ngcontent-%COMP%]{background-image:url(/assets/images/apple-logo-dark.svg)}.dark-theme[_nghost-%COMP%]   button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--accent-blurple);background:transparent;background-clip:unset;-webkit-text-fill-color:unset}"]});let t=e;return t})();function iL(t){let e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return i==="canvas"?aY(t,e):(i==="input"||i==="select"||i==="textarea")&&sY(t,e),oY("canvas",t,e,aY),oY("input, textarea, select",t,e,sY),e}function oY(t,e,n,i){let r=e.querySelectorAll(t);if(r.length){let o=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i(r[s],o[s])}}var MTe=0;function sY(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${MTe++}`)}function aY(t,e){let n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch{}}function dL(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function rL(t,e,n){let{top:i,bottom:r,left:o,right:s}=t;return n>=i&&n<=r&&e>=o&&e<=s}function DTe(t,e){let n=e.left<t.left,i=e.left+e.width>t.right,r=e.top<t.top,o=e.top+e.height>t.bottom;return n||i||r||o}function ty(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function lY(t,e,n,i){let{top:r,right:o,bottom:s,left:a,width:l,height:c}=t,d=l*e,u=c*e;return i>r-u&&i<s+u&&n>a-d&&n<o+d}var II=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:dL(n)})})}handleScroll(e){let n=sr(e),i=this.positions.get(n);if(!i)return null;let r=i.scrollPosition,o,s;if(n===this._document){let c=this.getViewportScrollPosition();o=c.top,s=c.left}else o=n.scrollTop,s=n.scrollLeft;let a=r.top-o,l=r.left-s;return this.positions.forEach((c,d)=>{c.clientRect&&n!==d&&n.contains(d)&&ty(c.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function _Y(t,e){let n=t.rootNodes;if(n.length===1&&n[0].nodeType===e.ELEMENT_NODE)return n[0];let i=e.createElement("div");return n.forEach(r=>i.appendChild(r)),i}function uL(t,e,n){for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];r?t.setProperty(i,r,n?.has(i)?"important":""):t.removeProperty(i)}return t}function Tg(t,e){let n=e?"":"none";uL(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function cY(t,e,n){uL(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function kI(t,e){return e&&e!="none"?t+" "+e:t}function dY(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=ny(e.left,e.top)}function ny(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function uY(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function PTe(t){let e=getComputedStyle(t),n=tL(e,"transition-property"),i=n.find(a=>a==="transform"||a==="all");if(!i)return 0;let r=n.indexOf(i),o=tL(e,"transition-duration"),s=tL(e,"transition-delay");return uY(o[r])+uY(s[r])}function tL(t,e){return t.getPropertyValue(e).split(",").map(i=>i.trim())}var OTe=new Set(["position"]),oL=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,n,i,r,o,s,a,l,c,d){this._document=e,this._rootElement=n,this._direction=i,this._initialDomRect=r,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=l,this._zIndex=c,this._renderer=d}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),hY(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return PTe(this._preview)}addEventListener(e,n){return this._renderer.listen(this._preview,e,n)}_createPreview(){let e=this._previewTemplate,n=this._previewClass,i=e?e.template:null,r;if(i&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(i,e.context);s.detectChanges(),r=_Y(s,this._document),this._previewEmbeddedView=s,e.matchSize?dY(r,o):r.style.transform=ny(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=iL(this._rootElement),dY(r,this._initialDomRect),this._initialTransform&&(r.style.transform=this._initialTransform);return uL(r.style,{"pointer-events":"none",margin:hY(r)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},OTe),Tg(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("popover","manual"),r.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>r.classList.add(o)):r.classList.add(n)),r}};function hY(t){return"showPopover"in t}var RTe={passive:!0},fY={passive:!1},BTe={passive:!1,capture:!0},FTe=800,pY="cdk-drag-placeholder",mY=new Set(["position"]),sL=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_marker;_anchor=null;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=gn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new O;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=At.EMPTY;_pointerUpSubscription=At.EMPTY;_scrollSubscription=At.EMPTY;_resizeSubscription=At.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Tg(n,e)))}_disabled=!1;beforeStarted=new O;started=new O;released=new O;ended=new O;entered=new O;exited=new O;dropped=new O;moved=this._moveEvents;data;constrainPosition;constructor(e,n,i,r,o,s,a){this._config=n,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new II(i),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(i=>Vi(i)),this._handles.forEach(i=>Tg(i,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&n.add(i)}),this._disabledHandles=n,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let n=Vi(e);if(n!==this._rootElement){this._removeRootElementListeners();let i=this._renderer;this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[i.listen(n,"mousedown",this._pointerDown,fY),i.listen(n,"touchstart",this._pointerDown,RTe),i.listen(n,"dragstart",this._nativeDragStart,fY)]),this._initialTransform=void 0,this._rootElement=n}return typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Vi(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._marker?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._marker=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}resetToBoundary(){if(this._boundaryElement&&this._rootElement&&DTe(this._boundaryElement.getBoundingClientRect(),this._rootElement.getBoundingClientRect())){let e=this._boundaryElement.getBoundingClientRect(),n=this._rootElement.getBoundingClientRect(),i=0,r=0;n.left<e.left?i=e.left-n.left:n.right>e.right&&(i=e.right-n.right),n.top<e.top?r=e.top-n.top:n.bottom>e.bottom&&(r=e.bottom-n.bottom);let o=this._activeTransform.x,s=this._activeTransform.y,a=o+i,l=s+r;this._rootElement.style.transform=ny(a,l),this._activeTransform={x:a,y:l},this._passiveTransform={x:a,y:l}}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Tg(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Tg(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._anchor?.remove(),this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._anchor=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&this._initializeDragSequence(n,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let n=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let r=Math.abs(n.x-this._pickupPositionOnPage.x),o=Math.abs(n.y-this._pickupPositionOnPage.y);if(r+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),l=this._dropContainer;if(!a){this._endDragSequence(e);return}(!l||!l.isDragging()&&!l.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let i=this._getConstrainedPointerPosition(n);if(this._hasMoved=!0,this._lastKnownPointerPosition=n,this._updatePointerDirectionDelta(i),this._dropContainer)this._updateActiveDropContainer(i,n);else{let r=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=i.x-r.x+this._passiveTransform.x,o.y=i.y-r.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:i,event:e,distance:this._getDragDistance(i),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){J0(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._getShadowRoot(),i=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=this._renderer.listen(n,"selectstart",NTe,BTe)}),i){let r=this._rootElement,o=r.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._marker=this._marker||this._document.createComment("");o.insertBefore(a,r),this._initialTransform=r.style.transform||"",this._preview=new oL(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,n)),cY(r,!1,mY),this._document.body.appendChild(o.replaceChild(s,r)),this.started.next({source:this,event:e}),i.start(),this._initialContainer=i,this._initialIndex=i.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(i?i.getScrollableParents():[])}_initializeDragSequence(e,n){this._parentDragRef&&n.stopPropagation();let i=this.isDragging(),r=J0(n),o=!r&&n.button!==0,s=this._rootElement,a=sr(n),l=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+FTe>Date.now(),c=r?lu(n):au(n);if(a&&a.draggable&&n.type==="mousedown"&&n.preventDefault(),i||o||l||c)return;if(this._handles.length){let p=s.style;this._rootElementTapHighlight=p.webkitTapHighlightColor||"",p.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(p=>this._updateOnScroll(p)),this._boundaryElement&&(this._boundaryRect=dL(this._boundaryElement));let d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,n);let u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(e){cY(this._rootElement,!0,mY),this._marker.parentNode.replaceChild(this._rootElement,this._marker),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,i=n.getItemIndex(this),r=this._getPointerPositionOnPage(e),o=this._getDragDistance(r),s=n._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:e}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:r,event:e}),n.drop(this,i,this._initialIndex,this._initialContainer,s,o,r,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:n},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{let s=this._dropContainer.getItemIndex(this),a=this._dropContainer.getItemAtIndex(s+1)?.getVisibleElement()||null;this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._conditionallyInsertAnchor(o,this._dropContainer,a),this._dropContainer=o,this._dropContainer.enter(this,e,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,e,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,n):this._applyPreviewTransform(e-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let n=this._preview.getTransitionDuration();return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{let r=a=>{(!a||this._preview&&sr(a)===this._preview.element&&a.propertyName==="transform")&&(s(),i(),clearTimeout(o))},o=setTimeout(r,n*1.5),s=this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,n=e?e.template:null,i;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),i=_Y(this._placeholderRef,this._document)):i=iL(this._rootElement),i.style.pointerEvents="none",i.classList.add(pY),i}_getPointerPositionInElement(e,n,i){let r=n===this._rootElement?null:n,o=r?r.getBoundingClientRect():e,s=J0(i)?i.targetTouches[0]:i,a=this._getViewportScrollPosition(),l=s.pageX-o.left-a.left,c=s.pageY-o.top-a.top;return{x:o.left-e.left+l,y:o.top-e.top+c}}_getPointerPositionOnPage(e){let n=this._getViewportScrollPosition(),i=J0(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,r=i.pageX-n.left,o=i.pageY-n.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=r,a.y=o,a.matrixTransform(s.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(e){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:i,y:r}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||n==="x"?r=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(i=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+s,u=a.bottom-(c-s),p=a.left+o,g=a.right-(l-o);i=AY(i,p,g),r=AY(r,d,u)}return{x:i,y:r}}_updatePointerDirectionDelta(e){let{x:n,y:i}=e,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(n-o.x),a=Math.abs(i-o.y);return s>this._config.pointerDirectionChangeThreshold&&(r.x=n>o.x?1:-1,o.x=n),a>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Tg(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,n){let i=1/this.scale,r=ny(e*i,n*i),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=kI(r,this._initialTransform)}_applyPreviewTransform(e,n){let i=this._previewTemplate?.template?void 0:this._initialTransform,r=ny(e,n);this._preview.setTransform(kI(r,i))}_getDragDistance(e){let n=this._pickupPositionOnPage;return n?{x:e.x-n.x,y:e.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:n}=this._passiveTransform;if(e===0&&n===0||this.isDragging()||!this._boundaryElement)return;let i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(r.width===0&&r.height===0||i.width===0&&i.height===0)return;let o=r.left-i.left,s=i.right-r.right,a=r.top-i.top,l=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,r.height>i.height?(a>0&&(n+=a),l>0&&(n-=l)):n=0,(e!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:e})}_getDragStartDelay(e){let n=this.dragStartDelay;return typeof n=="number"?n:J0(e)?n.touch:n?n.mouse:0}_updateOnScroll(e){let n=this._parentPositions.handleScroll(e);if(n){let i=sr(e);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&ty(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=Bp(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,n){let i=this._previewContainer||"global";if(i==="parent")return e;if(i==="global"){let r=this._document;return n||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Vi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(n=>e.target&&(e.target===n||n.contains(e.target)))}_conditionallyInsertAnchor(e,n,i){if(e===this._initialContainer)this._anchor?.remove(),this._anchor=null;else if(n===this._initialContainer&&n.hasAnchor){let r=this._anchor??=iL(this._placeholder);r.classList.remove(pY),r.classList.add("cdk-drag-anchor"),r.style.transform="",i?i.before(r):Vi(n.element).appendChild(r)}}};function AY(t,e,n){return Math.max(e,Math.min(n,t))}function J0(t){return t.type[0]==="t"}function NTe(t){t.preventDefault()}function Ig(t,e,n){let i=MI(e,t.length-1),r=MI(n,t.length-1);if(i===r)return;let o=t[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)t[a]=t[a+s];t[r]=o}function Mpt(t,e,n,i){let r=MI(n,t.length-1),o=MI(i,e.length);t.length&&e.splice(o,0,t.splice(r,1)[0])}function MI(t,e){return Math.max(0,Math.min(e,t))}var DI=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,n,i,r){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,n,i,r);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",l=o.findIndex(x=>x.drag===e),c=o[s],d=o[l].clientRect,u=c.clientRect,p=l>s?1:-1,g=this._getItemOffsetPx(d,u,p),v=this._getSiblingOffsetPx(l,o,p),b=o.slice();return Ig(o,l,s),o.forEach((x,T)=>{if(b[T]===x)return;let k=x.drag===e,U=k?g:v,D=k?e.getPlaceholderElement():x.drag.getRootElement();x.offset+=U;let N=Math.round(x.offset*(1/x.drag.scale));a?(D.style.transform=kI(`translate3d(${N}px, 0, 0)`,x.initialTransform),ty(x.clientRect,0,U)):(D.style.transform=kI(`translate3d(0, ${N}px, 0)`,x.initialTransform),ty(x.clientRect,U,0))}),this._previousSwap.overlaps=rL(u,n,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?r.x:r.y,{previousIndex:l,currentIndex:s}}enter(e,n,i,r){let o=r==null||r<0?this._getItemIndexFromPointerPosition(e,n,i):r,s=this._activeDraggables,a=s.indexOf(e),l=e.getPlaceholderElement(),c=s[o];if(c===e&&(c=s[o+1]),!c&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(n,i)&&(c=s[0]),a>-1&&s.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){let d=c.getRootElement();d.parentElement.insertBefore(l,d),s.splice(o,0,e)}else this._element.appendChild(l),s.push(e);l.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let n=e.getRootElement();if(n){let i=this._itemPositions.find(r=>r.drag===e)?.initialTransform;n.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return this._getVisualItemPositions().findIndex(n=>n.drag===e)}getItemAtIndex(e){return this._getVisualItemPositions()[e]?.drag||null}updateOnScroll(e,n){this._itemPositions.forEach(({clientRect:i})=>{ty(i,e,n)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let i=n.getVisibleElement();return{drag:n,offset:0,initialTransform:i.style.transform||"",clientRect:dL(i)}}).sort((n,i)=>e?n.clientRect.left-i.clientRect.left:n.clientRect.top-i.clientRect.top)}_getVisualItemPositions(){return this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions}_getItemOffsetPx(e,n,i){let r=this.orientation==="horizontal",o=r?n.left-e.left:n.top-e.top;return i===-1&&(o+=r?n.width-e.width:n.height-e.height),o}_getSiblingOffsetPx(e,n,i){let r=this.orientation==="horizontal",o=n[e].clientRect,s=n[e+i*-1],a=o[r?"width":"height"]*i;if(s){let l=r?"left":"top",c=r?"right":"bottom";i===-1?a-=s.clientRect[l]-o[c]:a+=o[l]-s.clientRect[c]}return a}_shouldEnterAsFirstChild(e,n){if(!this._activeDraggables.length)return!1;let i=this._itemPositions,r=this.orientation==="horizontal";if(i[0].drag!==this._activeDraggables[0]){let s=i[i.length-1].clientRect;return r?e>=s.right:n>=s.bottom}else{let s=i[0].clientRect;return r?e<=s.left:n<=s.top}}_getItemIndexFromPointerPosition(e,n,i,r){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===e)return!1;if(r){let c=o?r.x:r.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return o?n>=Math.floor(l.left)&&n<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},aL=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,n){this._document=e,this._dragDropRegistry=n}start(e){let n=this._element.childNodes;this._relatedNodes=[];for(let i=0;i<n.length;i++){let r=n[i];this._relatedNodes.push([r,r.nextSibling])}this.withItems(e)}sort(e,n,i,r){let o=this._getItemIndexFromPointerPosition(e,n,i),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===r.x&&s.deltaY===r.y)return null;let l=this.getItemIndex(e),c=e.getPlaceholderElement(),d=a.getRootElement();o>l?d.after(c):d.before(c),Ig(this._activeItems,l,o);let u=this._getRootNode().elementFromPoint(n,i);return s.deltaX=r.x,s.deltaY=r.y,s.drag=a,s.overlaps=d===u||d.contains(u),{previousIndex:l,currentIndex:o}}enter(e,n,i,r){let o=this._activeItems.indexOf(e);o>-1&&this._activeItems.splice(o,1);let s=r==null||r<0?this._getItemIndexFromPointerPosition(e,n,i):r;s===-1&&(s=this._getClosestItemIndexToPointer(e,n,i));let a=this._activeItems[s];a&&!this._dragDropRegistry.isDragging(a)?(this._activeItems.splice(s,0,e),a.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,n=this._previousSwap;for(let i=this._relatedNodes.length-1;i>-1;i--){let[r,o]=this._relatedNodes[i];r.parentNode===e&&r.nextSibling!==o&&(o===null?e.appendChild(r):o.parentNode===e&&e.insertBefore(r,o))}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}getItemAtIndex(e){return this._activeItems[e]||null}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,n,i){let r=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(i)),o=r?this._activeItems.findIndex(s=>{let a=s.getRootElement();return r===a||a.contains(r)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=Bp(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,n,i){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let r=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:l,y:c}=a.getRootElement().getBoundingClientRect(),d=Math.hypot(n-l,i-c);d<r&&(r=d,o=s)}}return o}},gY=.05,bY=.05,Ja=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(Ja||{}),ps=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(ps||{}),lL=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;hasAnchor=!1;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new O;entered=new O;exited=new O;dropped=new O;sorted=new O;receivingStarted=new O;receivingStopped=new O;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=At.EMPTY;_verticalScrollDirection=Ja.NONE;_horizontalScrollDirection=ps.NONE;_scrollNode;_stopScrollTimers=new O;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,n,i,r,o){this._dragDropRegistry=n,this._ngZone=r,this._viewportRuler=o;let s=this.element=Vi(e);this._document=i,this.withOrientation("vertical").withElementContainer(s),n.registerDropContainer(this),this._parentPositions=new II(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,n,i,r){this._draggingStarted(),r==null&&this.sortingDisabled&&(r=this._draggables.indexOf(e)),this._sortStrategy.enter(e,n,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,n,i,r,o,s,a,l={}){this._reset(),this.dropped.next({item:e,currentIndex:n,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:s,dropPoint:a,event:l})}withItems(e){let n=this._draggables;return this._draggables=e,e.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(n.filter(r=>r.isDragging()).every(r=>e.indexOf(r)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof DI&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new aL(this._document,this._dragDropRegistry);else{let n=new DI(this._dragDropRegistry);n.direction=this._direction,n.orientation=e,this._sortStrategy=n}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,i)=>this.sortPredicate(n,i,this)),this}withScrollableParents(e){let n=this._container;return this._scrollableElements=e.indexOf(n)===-1?[n,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let n=Vi(this.element),i=this._scrollableElements.indexOf(this._container),r=this._scrollableElements.indexOf(e);return i>-1&&this._scrollableElements.splice(i,1),r>-1&&this._scrollableElements.splice(r,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}getItemAtIndex(e){return this._isDragging?this._sortStrategy.getItemAtIndex(e):this._draggables[e]||null}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,n,i,r){if(this.sortingDisabled||!this._domRect||!lY(this._domRect,gY,n,i))return;let o=this._sortStrategy.sort(e,n,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,n){if(this.autoScrollDisabled)return;let i,r=Ja.NONE,o=ps.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||i||lY(s.clientRect,gY,e,n)&&([r,o]=LTe(a,s.clientRect,this._direction,e,n),(r||o)&&(i=a))}),!r&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),l={width:s,height:a,top:0,right:s,bottom:a,left:0};r=yY(l,n),o=CY(l,e),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Z_(0,K_).pipe(en(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,n=this.autoScrollStep;this._verticalScrollDirection===Ja.UP?e.scrollBy(0,-n):this._verticalScrollDirection===Ja.DOWN&&e.scrollBy(0,n),this._horizontalScrollDirection===ps.LEFT?e.scrollBy(-n,0):this._horizontalScrollDirection===ps.RIGHT&&e.scrollBy(n,0)})};_isOverContainer(e,n){return this._domRect!=null&&rL(this._domRect,e,n)}_getSiblingContainerFromPosition(e,n,i){return this._siblings.find(r=>r._canReceive(e,n,i))}_canReceive(e,n,i){if(!this._domRect||!rL(this._domRect,n,i)||!this.enterPredicate(e,this))return!1;let r=this._getShadowRoot().elementFromPoint(n,i);return r?r===this._container||this._container.contains(r):!1}_startReceiving(e,n){let i=this._activeSiblings;!i.has(e)&&n.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:n}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(e);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=Bp(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,e))}};function yY(t,e){let{top:n,bottom:i,height:r}=t,o=r*bY;return e>=n-o&&e<=n+o?Ja.UP:e>=i-o&&e<=i+o?Ja.DOWN:Ja.NONE}function CY(t,e){let{left:n,right:i,width:r}=t,o=r*bY;return e>=n-o&&e<=n+o?ps.LEFT:e>=i-o&&e<=i+o?ps.RIGHT:ps.NONE}function LTe(t,e,n,i,r){let o=yY(e,r),s=CY(e,i),a=Ja.NONE,l=ps.NONE;if(o){let c=t.scrollTop;o===Ja.UP?c>0&&(a=Ja.UP):t.scrollHeight-c>t.clientHeight&&(a=Ja.DOWN)}if(s){let c=t.scrollLeft;n==="rtl"?s===ps.RIGHT?c<0&&(l=ps.RIGHT):t.scrollWidth+c>t.clientWidth&&(l=ps.LEFT):s===ps.LEFT?c>0&&(l=ps.LEFT):t.scrollWidth-c>t.clientWidth&&(l=ps.RIGHT)}return[a,l]}var ey={capture:!0},nL={passive:!1,capture:!0},UTe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(i,r){},styles:[`@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}
`],encapsulation:2,changeDetection:0})}return t})(),hL=(()=>{class t{_ngZone=E(Ie);_document=E(ut);_styleLoader=E(Pi);_renderer=E(er).createRenderer(null,null);_cleanupDocumentTouchmove;_scroll=new O;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=gn([]);_globalListeners;_draggingPredicate=n=>n.isDragging();_domNodesToDirectives=null;pointerMove=new O;pointerUp=new O;constructor(){}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=this._renderer.listen(this._document,"touchmove",this._persistentTouchmoveListener,nL)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(n,i){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._styleLoader.load(UTe),this._activeDragInstances.update(r=>[...r,n]),this._activeDragInstances().length===1)){let r=i.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this._scroll.next(a),ey],["selectstart",this._preventDefaultWhileDragging,nL]];r?s.push(["touchend",o,ey],["touchcancel",o,ey]):s.push(["mouseup",o,ey]),r||s.push(["mousemove",a=>this.pointerMove.next(a),nL]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,l,c])=>this._renderer.listen(this._document,a,l,c))})}}stopDragging(n){this._activeDragInstances.update(i=>{let r=i.indexOf(n);return r>-1?(i.splice(r,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let i=[this._scroll];return n&&n!==this._document&&i.push(new Xe(r=>this._ngZone.runOutsideAngular(()=>{let o=this._renderer.listen(n,"scroll",s=>{this._activeDragInstances().length&&r.next(s)},ey);return()=>{o()}}))),hi(...i)}registerDirectiveNode(n,i){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(n,i)}removeDirectiveNode(n){this._domNodesToDirectives?.delete(n)}getDragDirectiveForNode(n){return this._domNodesToDirectives?.get(n)||null}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=n=>{this._activeDragInstances().length>0&&n.preventDefault()};_persistentTouchmoveListener=n=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))};_clearGlobalListeners(){this._globalListeners?.forEach(n=>n()),this._globalListeners=void 0}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VTe={dragStartThreshold:5,pointerDirectionChangeThreshold:5},fL=(()=>{class t{_document=E(ut);_ngZone=E(Ie);_viewportRuler=E(Ms);_dragDropRegistry=E(hL);_renderer=E(er).createRenderer(null,null);constructor(){}createDrag(n,i=VTe){return new sL(n,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(n){return new lL(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cL=new ie("CDK_DRAG_PARENT");var wY=new ie("CdkDragHandle"),Dpt=(()=>{class t{element=E(Se);_parentDrag=E(cL,{optional:!0,skipSelf:!0});_dragDropRegistry=E(hL);_stateChanges=new O;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let n=this.element.nativeElement.parentElement;for(;n;){let i=this._dragDropRegistry.getDragDirectiveForNode(n);if(i){this._parentDrag=i,i._addHandle(this);break}n=n.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",He]},features:[yt([{provide:wY,useExisting:t}])]})}return t})(),EY=new ie("CDK_DRAG_CONFIG"),xY=new ie("CdkDropList"),Ppt=(()=>{class t{element=E(Se);dropContainer=E(xY,{optional:!0,skipSelf:!0});_ngZone=E(Ie);_viewContainerRef=E(mi);_dir=E(lr,{optional:!0});_changeDetectorRef=E(zt);_selfHandle=E(wY,{optional:!0,self:!0});_parentDrag=E(cL,{optional:!0,skipSelf:!0});_dragDropRegistry=E(hL);_destroyed=new O;_handles=new fn([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new Ae;released=new Ae;ended=new Ae;entered=new Ae;exited=new Ae;dropped=new Ae;moved=new Xe(n=>{let i=this._dragRef.moved.pipe(se(r=>({source:this,pointerPosition:r.pointerPosition,event:r.event,delta:r.delta,distance:r.distance}))).subscribe(n);return()=>{i.unsubscribe()}});_injector=E(Ge);constructor(){let n=this.dropContainer,i=E(EY,{optional:!0}),r=E(fL);this._dragRef=r.createDrag(this.element,{dragStartThreshold:i&&i.dragStartThreshold!=null?i.dragStartThreshold:5,pointerDirectionChangeThreshold:i&&i.pointerDirectionChangeThreshold!=null?i.pointerDirectionChangeThreshold:5,zIndex:i?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),i&&this._assignDefaults(i),n&&(n.addItem(this),n._dropListRef.beforeStarted.pipe(en(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}resetToBoundary(){this._dragRef.resetToBoundary()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){Di(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let i=n.rootElementSelector,r=n.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let i=this._handles.getValue();i.push(n),this._handles.next(i)}_removeHandle(n){let i=this._handles.getValue(),r=i.indexOf(n);r>-1&&(i.splice(r,1),this._handles.next(i))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,i=n;this.rootElementSelector&&(i=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):Vi(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof r=="object"&&r?r:Hr(r),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),i&&n.withDirection(i.value)}}),n.beforeStarted.pipe(Jt(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){let r=this._dragDropRegistry.getDragDirectiveForNode(i);if(r){n.withParent(r._dragRef);break}i=i.parentElement}})}_handleEvents(n){n.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),n.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(n){let{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:l,rootElementSelector:c,previewContainer:d}=n;this.disabled=l??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),c&&(this.rootElementSelector=c),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(lt(n=>{let i=n.map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),nn(n=>hi(...n.map(i=>i._stateChanges.pipe(yi(i))))),en(this._destroyed)).subscribe(n=>{let i=this._dragRef,r=n.element.nativeElement;n.disabled?i.disableHandle(r):i.enableHandle(r)})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,r){i&2&&le("cdk-drag-disabled",r.disabled)("cdk-drag-dragging",r._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",He],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",$o]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[yt([{provide:cL,useExisting:t}]),gt]})}return t})(),vY=new ie("CdkDropListGroup");var Opt=(()=>{class t{element=E(Se);_changeDetectorRef=E(zt);_scrollDispatcher=E(Fc);_dir=E(lr,{optional:!0});_group=E(vY,{optional:!0,skipSelf:!0});_latestSortedRefs;_destroyed=new O;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=E(Hn).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;hasAnchor;dropped=new Ae;entered=new Ae;exited=new Ae;sorted=new Ae;_unsortedItems=new Set;constructor(){let n=E(fL),i=E(EY,{optional:!0});this._dropListRef=n.createDropList(this.element),this._dropListRef.data=this,i&&this._assignDefaults(i),this._dropListRef.enterPredicate=(r,o)=>this.enterPredicate(r.data,o.data),this._dropListRef.sortPredicate=(r,o,s)=>this.sortPredicate(r,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(n){this._unsortedItems.add(n),n._dragRef._withDropContainer(this._dropListRef),this._dropListRef.isDragging()&&this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef))}removeItem(n){if(this._unsortedItems.delete(n),this._latestSortedRefs){let i=this._latestSortedRefs.indexOf(n._dragRef);i>-1&&(this._latestSortedRefs.splice(i,1),this._syncItemsWithRef(this._latestSortedRefs))}}getSortedItems(){return Array.from(this._unsortedItems).sort((n,i)=>n._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=t._dropLists.indexOf(this);n>-1&&t._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._latestSortedRefs=void 0,this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(yi(this._dir.value),en(this._destroyed)).subscribe(i=>n.withDirection(i)),n.beforeStarted.subscribe(()=>{let i=Nl(this.connectedTo).map(r=>{if(typeof r=="string"){let o=t._dropLists.find(s=>s.id===r);return o}return r});if(this._group&&this._group._items.forEach(r=>{i.indexOf(r)===-1&&i.push(r)}),!this._scrollableParentsResolved){let r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let r=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(r)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=Hr(this.autoScrollStep,2),n.hasAnchor=this.hasAnchor,n.connectedTo(i.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(this.getSortedItems().map(i=>i._dragRef)),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),hi(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:i,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=n;this.disabled=r??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(n){this._latestSortedRefs=n,this._dropListRef.withItems(n)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,r){i&2&&(ct("id",r.id),le("cdk-drop-list-disabled",r.disabled)("cdk-drop-list-dragging",r._dropListRef.isDragging())("cdk-drop-list-receiving",r._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",He],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",He],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",He],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"],hasAnchor:[2,"cdkDropListHasAnchor","hasAnchor",He]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[yt([{provide:vY,useValue:void 0},{provide:xY,useExisting:t}])]})}return t})();var Rpt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[fL],imports:[ca]})}return t})();var HTe=["mat-icon-button",""],QTe=["*"],jTe=new ie("MAT_BUTTON_CONFIG");function SY(t){return t==null?void 0:$o(t)}var pL=(()=>{class t{_elementRef=E(Se);_ngZone=E(Ie);_animationsDisabled=Pn();_config=E(jTe,{optional:!0});_focusMonitor=E(la);_cleanupClick;_renderer=E(_n);_rippleLoader=E(aK);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(n){this.tabIndex=n}constructor(){E(Pi).load(Rc);let n=this._elementRef.nativeElement;this._isAnchor=n.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",i){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(i,r){i&2&&(ct("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),xn(r.color?"mat-"+r.color:""),le("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",He],disabled:[2,"disabled","disabled",He],ariaDisabled:[2,"aria-disabled","ariaDisabled",He],disabledInteractive:[2,"disabledInteractive","disabledInteractive",He],tabIndex:[2,"tabIndex","tabIndex",SY],_tabindex:[2,"tabindex","_tabindex",SY]}})}return t})(),$Te=(()=>{class t extends pL{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[rn],attrs:HTe,ngContentSelectors:QTe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Dn(),aa(0,"span",0),Vt(1),aa(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-icon-button-touch-target-display, block);left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();var zTe=["matButton",""],GTe=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],WTe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var TY=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),IY=(()=>{class t extends pL{get appearance(){return this._appearance}set appearance(n){this.setAppearance(n||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let n=KTe(this._elementRef.nativeElement);n&&this.setAppearance(n)}setAppearance(n){if(n===this._appearance)return;let i=this._elementRef.nativeElement.classList,r=this._appearance?TY.get(this._appearance):null,o=TY.get(n);r&&i.remove(...r),i.add(...o),this._appearance=n}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[rn],attrs:zTe,ngContentSelectors:WTe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(Dn(GTe),aa(0,"span",0),Vt(1),hs(2,"span",1),Vt(3,1),Ss(),Vt(4,2),aa(5,"span",2)(6,"span",3)),i&2&&le("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before,.mat-tonal-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return t})();function KTe(t){return t.hasAttribute("mat-raised-button")?"elevated":t.hasAttribute("mat-stroked-button")?"outlined":t.hasAttribute("mat-flat-button")?"filled":t.hasAttribute("mat-button")?"text":null}var kY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Gt,ug,Gt]})}return t})();var qTe=["input"],YTe=["label"],XTe=["*"],ZTe=new ie("mat-checkbox-default-options",{providedIn:"root",factory:DY});function DY(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var Ko=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(Ko||{}),mL=class{source;checked},MY=DY(),Kp=(()=>{class t{_elementRef=E(Se);_changeDetectorRef=E(zt);_ngZone=E(Ie);_animationsDisabled=Pn();_options=E(ZTe,{optional:!0});focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(n){let i=new mL;return i.source=this,i.checked=n,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}_animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"};ariaLabel="";ariaLabelledby=null;ariaDescribedby;ariaExpanded;ariaControls;ariaOwns;_uniqueId;id;get inputId(){return`${this.id||this._uniqueId}-input`}required;labelPosition="after";name=null;change=new Ae;indeterminateChange=new Ae;value;disableRipple;_inputElement;_labelElement;tabIndex;color;disabledInteractive;_onTouched=()=>{};_currentAnimationClass="";_currentCheckState=Ko.Init;_controlValueAccessorChangeFn=()=>{};_validatorChangeFn=()=>{};constructor(){E(Pi).load(Rc);let n=E(new Pc("tabindex"),{optional:!0});this._options=this._options||MY,this.color=this._options.color||MY.color,this.tabIndex=n==null?0:parseInt(n)||0,this.id=this._uniqueId=E(Hn).getId("mat-mdc-checkbox-"),this.disabledInteractive=this._options?.disabledInteractive??!1}ngOnChanges(n){n.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this.indeterminate)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}_checked=!1;get disabled(){return this._disabled}set disabled(n){n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}_disabled=!1;get indeterminate(){return this._indeterminate()}set indeterminate(n){let i=n!=this._indeterminate();this._indeterminate.set(n),i&&(n?this._transitionCheckState(Ko.Indeterminate):this._transitionCheckState(this.checked?Ko.Checked:Ko.Unchecked),this.indeterminateChange.emit(n)),this._syncIndeterminate(n)}_indeterminate=gn(!1);_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorChangeFn=n}_transitionCheckState(n){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(!(i===n||!r)&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let n=this._options?.clickAction;!this.disabled&&n!=="noop"?(this.indeterminate&&n!=="check"&&Promise.resolve().then(()=>{this._indeterminate.set(!1),this.indeterminateChange.emit(!1)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Ko.Checked:Ko.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&n==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(n){n.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(n,i){if(this._animationsDisabled)return"";switch(n){case Ko.Init:if(i===Ko.Checked)return this._animationClasses.uncheckedToChecked;if(i==Ko.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Ko.Unchecked:return i===Ko.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Ko.Checked:return i===Ko.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Ko.Indeterminate:return i===Ko.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(n){let i=this._inputElement;i&&(i.nativeElement.indeterminate=n)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(n){n.target&&this._labelElement.nativeElement.contains(n.target)&&n.stopPropagation()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(i&1&&(Fe(qTe,5),Fe(YTe,5)),i&2){let o;Ce(o=we())&&(r._inputElement=o.first),Ce(o=we())&&(r._labelElement=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(i,r){i&2&&(wi("id",r.id),ct("tabindex",null)("aria-label",null)("aria-labelledby",null),xn(r.color?"mat-"+r.color:"mat-accent"),le("_mat-animation-noopable",r._animationsDisabled)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked)("mat-mdc-checkbox-disabled-interactive",r.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],ariaExpanded:[2,"aria-expanded","ariaExpanded",He],ariaControls:[0,"aria-controls","ariaControls"],ariaOwns:[0,"aria-owns","ariaOwns"],id:"id",required:[2,"required","required",He],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",He],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:$o(n)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",He],checked:[2,"checked","checked",He],disabled:[2,"disabled","disabled",He],indeterminate:[2,"indeterminate","indeterminate",He]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[yt([{provide:uo,useExisting:kn(()=>t),multi:!0},{provide:Xa,useExisting:t,multi:!0}]),gt],ngContentSelectors:XTe,decls:15,vars:23,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(i&1){let o=fe();Dn(),C(0,"div",3),G("click",function(a){return Y(o),X(r._preventBubblingFromLabel(a))}),C(1,"div",4,0)(3,"div",5),G("click",function(){return Y(o),X(r._onTouchTargetClick())}),w(),C(4,"input",6,1),G("blur",function(){return Y(o),X(r._onBlur())})("click",function(){return Y(o),X(r._onInputClick())})("change",function(a){return Y(o),X(r._onInteractionEvent(a))}),w(),$(6,"div",7),C(7,"div",8),oa(),C(8,"svg",9),$(9,"path",10),w(),DA(),$(10,"div",11),w(),$(11,"div",12),w(),C(12,"label",13,2),Vt(14),w()()}if(i&2){let o=It(2);P("labelPosition",r.labelPosition),y(4),le("mdc-checkbox--selected",r.checked),P("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled&&!r.disabledInteractive)("id",r.inputId)("required",r.required)("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex),ct("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("aria-controls",r.ariaControls)("aria-disabled",r.disabled&&r.disabledInteractive?!0:null)("aria-expanded",r.ariaExpanded)("aria-owns",r.ariaOwns)("name",r.name)("value",r.value),y(7),P("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),y(),P("for",r.inputId)}},dependencies:[Fh,wT],styles:[`.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover>.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:hover>.mat-mdc-checkbox-ripple>.mat-ripple-element{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-unselected-pressed-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity));background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity));background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked+.mdc-checkbox__ripple{opacity:var(--mat-checkbox-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox:active>.mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mat-checkbox-selected-pressed-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control+.mdc-checkbox__ripple{background-color:var(--mat-checkbox-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1;width:var(--mat-checkbox-state-layer-size, 40px);height:var(--mat-checkbox-state-layer-size, 40px);top:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);right:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - var(--mat-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}@media(forced-colors: active){.mdc-checkbox--disabled{opacity:.5}}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mat-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));top:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mat-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-hover-icon-color, var(--mat-sys-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover>.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover>.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-hover-icon-color, var(--mat-sys-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mat-checkbox-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary));background-color:var(--mat-checkbox-selected-focus-icon-color, var(--mat-sys-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover>.mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mat-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mat-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}@media(forced-colors: active){.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mat-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}@media(forced-colors: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mat-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background>.mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-touch-target,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__native-control,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__ripple,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mat-mdc-checkbox-ripple::before,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__checkmark>.mdc-checkbox__checkmark-path,.mat-mdc-checkbox._mat-animation-noopable>.mat-internal-form-field>.mdc-checkbox>.mdc-checkbox__background>.mdc-checkbox__mixedmark{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox .mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox .mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display, block)}.mat-mdc-checkbox .mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return t})(),PY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Kp,Gt,Gt]})}return t})();var OY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return t})(),JTe={passive:!0},RY=(()=>{class t{_platform=E(on);_ngZone=E(Ie);_renderer=E(er).createRenderer(null,null);_styleLoader=E(Pi);_monitoredElements=new Map;constructor(){}monitor(n){if(!this._platform.isBrowser)return Ji;this._styleLoader.load(OY);let i=Vi(n),r=this._monitoredElements.get(i);if(r)return r.subject;let o=new O,s="cdk-text-field-autofilled",a=c=>{c.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(s)?(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0}))):c.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1})))},l=this._ngZone.runOutsideAngular(()=>(i.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(i,"animationstart",a,JTe)));return this._monitoredElements.set(i,{subject:o,unlisten:l}),o}stopMonitoring(n){let i=Vi(n),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((n,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var BY=(()=>{class t{_elementRef=E(Se);_platform=E(on);_ngZone=E(Ie);_renderer=E(_n);_resizeEvents=new O;_previousValue;_initialHeight;_destroyed=new O;_listenerCleanups;_minRows;_maxRows;_enabled=!0;_previousMinRows=-1;_textareaElement;get minRows(){return this._minRows}set minRows(n){this._minRows=Hr(n),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(n){this._maxRows=Hr(n),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(n){this._enabled!==n&&((this._enabled=n)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(n){this._cachedPlaceholderHeight=void 0,n?this._textareaElement.setAttribute("placeholder",n):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}_cachedLineHeight;_cachedPlaceholderHeight;_cachedScrollTop;_document=E(ut);_hasFocus;_isViewInited=!1;constructor(){E(Pi).load(OY),this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){let n=this.minRows&&this._cachedLineHeight?`${this.minRows*this._cachedLineHeight}px`:null;n&&(this._textareaElement.style.minHeight=n)}_setMaxHeight(){let n=this.maxRows&&this._cachedLineHeight?`${this.maxRows*this._cachedLineHeight}px`:null;n&&(this._textareaElement.style.maxHeight=n)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{this._listenerCleanups=[this._renderer.listen("window","resize",()=>this._resizeEvents.next()),this._renderer.listen(this._textareaElement,"focus",this._handleFocusEvent),this._renderer.listen(this._textareaElement,"blur",this._handleFocusEvent)],this._resizeEvents.pipe(up(16)).subscribe(()=>{this._cachedLineHeight=this._cachedPlaceholderHeight=void 0,this.resizeToFitContent(!0)})}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._listenerCleanups?.forEach(n=>n()),this._resizeEvents.complete(),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let n=this._textareaElement.cloneNode(!1),i=n.style;n.rows=1,i.position="absolute",i.visibility="hidden",i.border="none",i.padding="0",i.height="",i.minHeight="",i.maxHeight="",i.top=i.bottom=i.left=i.right="auto",i.overflow="hidden",this._textareaElement.parentNode.appendChild(n),this._cachedLineHeight=n.clientHeight,n.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){let n=this._textareaElement,i=n.style.marginBottom||"",r=this._platform.FIREFOX,o=r&&this._hasFocus,s=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(n.style.marginBottom=`${n.clientHeight}px`),n.classList.add(s);let a=n.scrollHeight-4;return n.classList.remove(s),o&&(n.style.marginBottom=i),a}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||this._cachedPlaceholderHeight!=null)return;if(!this.placeholder){this._cachedPlaceholderHeight=0;return}let n=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=n}_handleFocusEvent=n=>{this._hasFocus=n.type==="focus"};ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(n=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),this._cachedScrollTop=this._textareaElement.scrollTop,!this._cachedLineHeight))return;let i=this._elementRef.nativeElement,r=i.value;if(!n&&this._minRows===this._previousMinRows&&r===this._previousValue)return;let o=this._measureScrollHeight(),s=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${s}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){this._initialHeight!==void 0&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_scrollToCaretPosition(n){let{selectionStart:i,selectionEnd:r}=n;!this._destroyed.isStopped&&this._hasFocus&&(n.setSelectionRange(i,r),n.scrollTop=this._cachedScrollTop)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(i,r){i&1&&G("input",function(){return r._noopInputHandler()})},inputs:{minRows:[0,"cdkAutosizeMinRows","minRows"],maxRows:[0,"cdkAutosizeMaxRows","maxRows"],enabled:[2,"cdkTextareaAutosize","enabled",He],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]})}return t})(),FY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();var NY=new ie("MAT_INPUT_VALUE_ACCESSOR");var tIe=["button","checkbox","file","hidden","image","radio","range","reset","submit"],nIe=new ie("MAT_INPUT_CONFIG"),Vc=(()=>{class t{_elementRef=E(Se);_platform=E(on);ngControl=E(Hl,{optional:!0,self:!0});_autofillMonitor=E(RY);_ngZone=E(Ie);_formField=E(Gh,{optional:!0});_renderer=E(_n);_uid=E(Hn).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=E(nIe,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new O;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(n){this._disabled=Qr(n),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(n){this._id=n||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(vg.required)??!1}set required(n){this._required=Qr(n)}_required;get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&nN().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(n){n!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(n):this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Qr(n)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(n=>nN().has(n));constructor(){let n=E(gu,{optional:!0}),i=E($0,{optional:!0}),r=E(RT),o=E(NY,{optional:!0,self:!0}),s=this._elementRef.nativeElement,a=s.nodeName.toLowerCase();o?Sc(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new sg(r,this.ngControl,i,n,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=a==="select",this._isTextarea=a==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&ru(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){if(n!==this.focused){if(!this._isNativeSelect&&n&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=n,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=n,n?i.setAttribute("placeholder",n):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){tIe.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,i=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(n){let i=this._elementRef.nativeElement;n.length?i.setAttribute("aria-describedby",n.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}_iOSKeyupListener=n=>{let i=n.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&G("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(wi("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),ct("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),le("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",He]},exportAs:["matInput"],features:[yt([{provide:yg,useExisting:t}]),gt]})}return t})(),LY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Gt,Wh,Wh,FY,Gt]})}return t})();var iIe=["mat-menu-item",""],rIe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],oIe=["mat-icon, [matMenuItemIcon]","*"];function sIe(t,e){t&1&&(oa(),C(0,"svg",2),$(1,"polygon",3),w())}var aIe=["*"];function lIe(t,e){if(t&1){let n=fe();hs(0,"div",0),$S("click",function(){Y(n);let r=M();return X(r.closed.emit("click"))})("animationstart",function(r){Y(n);let o=M();return X(o._onAnimationStart(r.animationName))})("animationend",function(r){Y(n);let o=M();return X(o._onAnimationDone(r.animationName))})("animationcancel",function(r){Y(n);let o=M();return X(o._onAnimationDone(r.animationName))}),hs(1,"div",1),Vt(2),Ss()()}if(t&2){let n=M();xn(n._classList),le("mat-menu-panel-animations-disabled",n._animationsDisabled)("mat-menu-panel-exit-animation",n._panelAnimationState==="void")("mat-menu-panel-animating",n._isAnimating),wi("id",n.panelId),ct("aria-label",n.ariaLabel||null)("aria-labelledby",n.ariaLabelledby||null)("aria-describedby",n.ariaDescribedby||null)}}var vL=new ie("MAT_MENU_PANEL"),oy=(()=>{class t{_elementRef=E(Se);_document=E(ut);_focusMonitor=E(la);_parentMenu=E(vL,{optional:!0});_changeDetectorRef=E(zt);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new O;_focused=new O;_highlighted=!1;_triggersSubmenu=!1;constructor(){E(Pi).load(Rc),this._parentMenu?.addItem?.(this)}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let n=this._elementRef.nativeElement.cloneNode(!0),i=n.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(i,r){i&1&&G("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),i&2&&(ct("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),le("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",He],disableRipple:[2,"disableRipple","disableRipple",He]},exportAs:["matMenuItem"],attrs:iIe,ngContentSelectors:oIe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){i&1&&(Dn(rIe),Vt(0),C(1,"span",0),Vt(2,1),w(),$(3,"div",1),H(4,sIe,2,0,":svg:svg",2)),i&2&&(y(3),P("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),y(),Q(r._triggersSubmenu?4:-1))},dependencies:[Fh],encapsulation:2,changeDetection:0})}return t})();var cIe=new ie("MatMenuContent");var dIe=new ie("mat-menu-default-options",{providedIn:"root",factory:uIe});function uIe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var gL="_mat-menu-enter",PI="_mat-menu-exit",kg=(()=>{class t{_elementRef=E(Se);_changeDetectorRef=E(zt);_injector=E(Ge);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled=Pn();_allItems;_directDescendantItems=new Zd;_classList={};_panelAnimationState="void";_animationDone=new O;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(n){let i=this._previousPanelClass,r=V({},this._classList);i&&i.length&&i.split(" ").forEach(o=>{r[o]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(o=>{r[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}_previousPanelClass;get classList(){return this.panelClass}set classList(n){this.panelClass=n}closed=new Ae;close=this.closed;panelId=E(Hn).getId("mat-menu-panel-");constructor(){let n=E(dIe);this.overlayPanelClass=n.overlayPanelClass||"",this._xPosition=n.xPosition,this._yPosition=n.yPosition,this.backdropClass=n.backdropClass,this.overlapTrigger=n.overlapTrigger,this.hasBackdrop=n.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new A0(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(yi(this._directDescendantItems),nn(n=>hi(...n.map(i=>i._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{let i=this._keyManager;if(this._panelAnimationState==="enter"&&i.activeItem?._hasFocus()){let r=n.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(yi(this._directDescendantItems),nn(i=>hi(...i.map(r=>r._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){let i=n.keyCode,r=this._keyManager;switch(i){case 27:ar(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(i===38||i===40)&&r.setFocusOrigin("keyboard"),r.onKeydown(n);return}}focusFirstItem(n="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Di(()=>{let i=this._resolvePanel();if(!i||!i.contains(document.activeElement)){let r=this._keyManager;r.setFocusOrigin(n).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){}setPositionClasses(n=this.xPosition,i=this.yPosition){this._classList=De(V({},this._classList),{"mat-menu-before":n==="before","mat-menu-after":n==="after","mat-menu-above":i==="above","mat-menu-below":i==="below"}),this._changeDetectorRef.markForCheck()}_onAnimationDone(n){let i=n===PI;(i||n===gL)&&(i&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(i?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(n){(n===gL||n===PI)&&(this._isAnimating=!0)}_setIsOpen(n){if(this._panelAnimationState=n?"enter":"void",n){if(this._keyManager.activeItemIndex===0){let i=this._resolvePanel();i&&(i.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(PI),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(n?gL:PI)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(yi(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let n=null;return this._directDescendantItems.length&&(n=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),n}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-menu"]],contentQueries:function(i,r,o){if(i&1&&(Ur(o,cIe,5),Ur(o,oy,5),Ur(o,oy,4)),i&2){let s;Ce(s=we())&&(r.lazyContent=s.first),Ce(s=we())&&(r._allItems=s),Ce(s=we())&&(r.items=s)}},viewQuery:function(i,r){if(i&1&&Fe(Mi,5),i&2){let o;Ce(o=we())&&(r.templateRef=o.first)}},hostVars:3,hostBindings:function(i,r){i&2&&ct("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",He],hasBackdrop:[2,"hasBackdrop","hasBackdrop",n=>n==null?null:He(n)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[yt([{provide:vL,useExisting:t}])],ngContentSelectors:aIe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){i&1&&(Dn(),KA(0,lIe,3,12,"ng-template"))},styles:[`mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}
`],encapsulation:2,changeDetection:0})}return t})(),UY=new ie("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=E(Ge);return()=>Go(t)}});function hIe(t){let e=E(Ge);return()=>Go(e)}var fIe={provide:UY,deps:[],useFactory:hIe};var ry=new WeakMap,pIe=(()=>{class t{_canHaveBackdrop;_element=E(Se);_viewContainerRef=E(mi);_menuItemInstance=E(oy,{optional:!0,self:!0});_dir=E(lr,{optional:!0});_focusMonitor=E(la);_ngZone=E(Ie);_injector=E(Ge);_scrollStrategy=E(UY);_changeDetectorRef=E(zt);_animationsDisabled=Pn();_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=At.EMPTY;_menuCloseSubscription=At.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _menu(){return this._menuInternal}set _menu(n){n!==this._menuInternal&&(this._menuInternal=n,this._menuCloseSubscription.unsubscribe(),n&&(this._parentMaterialMenu,this._menuCloseSubscription=n.close.subscribe(i=>{this._destroyMenu(i),(i==="click"||i==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this._triggersSubmenu()))}_menuInternal;constructor(n){this._canHaveBackdrop=n;let i=E(vL,{optional:!0});this._parentMaterialMenu=i instanceof kg?i:void 0}ngOnDestroy(){this._menu&&this._ownsMenu(this._menu)&&ry.delete(this._menu),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this._menu)}_closeMenu(){this._menu?.close.emit()}_openMenu(n){let i=this._menu;if(this._menuOpen||!i)return;this._pendingRemoval?.unsubscribe();let r=ry.get(i);ry.set(i,this),r&&r!==this&&r._closeMenu();let o=this._createOverlay(i),s=o.getConfig(),a=s.positionStrategy;this._setPosition(i,a),this._canHaveBackdrop?s.hasBackdrop=i.hasBackdrop==null?!this._triggersSubmenu():i.hasBackdrop:s.hasBackdrop=!1,o.hasAttached()||(o.attach(this._getPortal(i)),i.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this._closeMenu()),i.parentMenu=this._triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,n&&i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),i instanceof kg&&(i._setIsOpen(!0),i._directDescendantItems.changes.pipe(en(i.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}focus(n,i){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,i):this._element.nativeElement.focus(i)}_destroyMenu(n){let i=this._overlayRef,r=this._menu;!i||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),r instanceof kg&&this._ownsMenu(r)?(this._pendingRemoval=r._animationDone.pipe(Jt(1)).subscribe(()=>{i.detach(),r.lazyContent?.detach()}),r._setIsOpen(!1)):(i.detach(),r?.lazyContent?.detach()),r&&this._ownsMenu(r)&&ry.delete(r),this.restoreFocus&&(n==="keydown"||!this._openedBy||!this._triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this._triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){let i=this._getOverlayConfig(n);this._subscribeToPositions(n,i.positionStrategy),this._overlayRef=ua(this._injector,i),this._overlayRef.keydownEvents().subscribe(r=>{this._menu instanceof kg&&this._menu._handleKeydown(r)})}return this._overlayRef}_getOverlayConfig(n){return new da({positionStrategy:uu(this._injector,this._getOverlayOrigin()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr",disableAnimations:this._animationsDisabled})}_subscribeToPositions(n,i){n.setPositionClasses&&i.positionChanges.subscribe(r=>{this._ngZone.run(()=>{let o=r.connectionPair.overlayX==="start"?"after":"before",s=r.connectionPair.overlayY==="top"?"below":"above";n.setPositionClasses(o,s)})})}_setPosition(n,i){let[r,o]=n.xPosition==="before"?["end","start"]:["start","end"],[s,a]=n.yPosition==="above"?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[d,u]=[r,o],p=0;if(this._triggersSubmenu()){if(u=r=n.xPosition==="before"?"start":"end",o=d=r==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let g=this._parentMaterialMenu.items.first;this._parentInnerPadding=g?g._getHostElement().offsetTop:0}p=s==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(l=s==="top"?"bottom":"top",c=a==="top"?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:d,overlayY:s,offsetY:p},{originX:o,originY:l,overlayX:u,overlayY:s,offsetY:p},{originX:r,originY:c,overlayX:d,overlayY:a,offsetY:-p},{originX:o,originY:c,overlayX:u,overlayY:a,offsetY:-p}])}_menuClosingActions(){let n=this._getOutsideClickStream(this._overlayRef),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Re(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(qe(s=>this._menuOpen&&s!==this._menuItemInstance)):Re();return hi(n,r,o,i)}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new Ds(n.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(n){return ry.get(n)===this}static \u0275fac=function(i){Fb()};static \u0275dir=ye({type:t})}return t})(),VY=(()=>{class t extends pIe{_cleanupTouchstart;_hoverSubscription=At.EMPTY;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){this._menu=n}menuData;restoreFocus=!0;menuOpened=new Ae;onMenuOpen=this.menuOpened;menuClosed=new Ae;onMenuClose=this.menuClosed;constructor(){super(!0);let n=E(_n);this._cleanupTouchstart=n.listen(this._element.nativeElement,"touchstart",i=>{lu(i)||(this._openedBy="touch")},{passive:!0})}triggersSubmenu(){return super._triggersSubmenu()}toggleMenu(){return this.menuOpen?this.closeMenu():this.openMenu()}openMenu(){this._openMenu(!0)}closeMenu(){this._closeMenu()}updatePosition(){this._overlayRef?.updatePosition()}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTouchstart(),this._hoverSubscription.unsubscribe()}_getOverlayOrigin(){return this._element}_getOutsideClickStream(n){return n.backdropClick()}_handleMousedown(n){au(n)||(this._openedBy=n.button===0?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){let i=n.keyCode;(i===13||i===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===39&&this.dir==="ltr"||i===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(n=>{n===this._menuItemInstance&&!n.disabled&&(this._openedBy="mouse",this._openMenu(!1))}))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){i&1&&G("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),i&2&&ct("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu==null?null:r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],features:[rn]})}return t})();var HY=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[fIe],imports:[ug,Gt,ko,ca,Gt]})}return t})(),QY={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},gAt=QY.fadeInItems,vAt=QY.transformMenu;var AIe=["determinateSpinner"];function gIe(t,e){if(t&1&&(oa(),C(0,"svg",11),$(1,"circle",12),w()),t&2){let n=M();ct("viewBox",n._viewBox()),y(),Zn("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeCircumference()/2,"px")("stroke-width",n._circleStrokeWidth(),"%"),ct("r",n._circleRadius())}}var vIe=new ie("mat-progress-spinner-default-options",{providedIn:"root",factory:_Ie});function _Ie(){return{diameter:jY}}var jY=100,bIe=10,qh=(()=>{class t{_elementRef=E(Se);_noopAnimations;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;_defaultColor="primary";_determinateCircle;constructor(){let n=E(vIe),i=G2(),r=this._elementRef.nativeElement;this._noopAnimations=i==="di-disabled"&&!!n&&!n._forceAnimations,this.mode=r.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&i==="reduced-motion"&&r.classList.add("mat-progress-spinner-reduced-motion"),n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,n||0))}_value=0;get diameter(){return this._diameter}set diameter(n){this._diameter=n||0}_diameter=jY;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=n||0}_strokeWidth;_circleRadius(){return(this.diameter-bIe)/2}_viewBox(){let n=this._circleRadius()*2+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,r){if(i&1&&Fe(AIe,5),i&2){let o;Ce(o=we())&&(r._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,r){i&2&&(ct("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),xn("mat-"+r.color),Zn("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),le("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",$o],diameter:[2,"diameter","diameter",$o],strokeWidth:[2,"strokeWidth","strokeWidth",$o]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,r){if(i&1&&(Vn(0,gIe,2,8,"ng-template",null,0,Vb),C(2,"div",2,1),oa(),C(4,"svg",3),$(5,"circle",4),w()(),DA(),C(6,"div",5)(7,"div",6)(8,"div",7),YA(9,8),w(),C(10,"div",9),YA(11,8),w(),C(12,"div",10),YA(13,8),w()()()),i&2){let o=It(1);y(4),ct("viewBox",r._viewBox()),y(),Zn("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),ct("r",r._circleRadius()),y(4),P("ngTemplateOutlet",o),y(2),P("ngTemplateOutlet",o),y(2),P("ngTemplateOutlet",o)}},dependencies:[Zb],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return t})();var $Y=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[Gt]})}return t})();var yIe=["switch"],CIe=["*"];function wIe(t,e){t&1&&(C(0,"span",10),oa(),C(1,"svg",12),$(2,"path",13),w(),C(3,"svg",14),$(4,"path",15),w()())}var EIe=new ie("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),RI=class{source;checked;constructor(e,n){this.source=e,this.checked=n}},_L=(()=>{class t{_elementRef=E(Se);_focusMonitor=E(la);_changeDetectorRef=E(zt);defaults=E(EIe);_onChange=n=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(n){return new RI(this,n)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations=Pn();_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(n){this._checked=n,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new Ae;toggleChange=new Ae;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){E(Pi).load(Rc);let n=E(new Pc("tabindex"),{optional:!0}),i=this.defaults;this.tabIndex=n==null?0:parseInt(n)||0,this.color=i.color||"accent",this.id=this._uniqueId=E(Hn).getId("mat-mdc-slide-toggle-"),this.hideIcon=i.hideIcon??!1,this.disabledInteractive=i.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(n=>{n==="keyboard"||n==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):n||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(n){n.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(n){this.checked=!!n}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorOnChange=n}setDisabledState(n){this.disabled=n,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new RI(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&Fe(yIe,5),i&2){let o;Ce(o=we())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(wi("id",r.id),ct("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),xn(r.color?"mat-"+r.color:""),le("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",He],color:"color",disabled:[2,"disabled","disabled",He],disableRipple:[2,"disableRipple","disableRipple",He],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?0:$o(n)],checked:[2,"checked","checked",He],hideIcon:[2,"hideIcon","hideIcon",He],disabledInteractive:[2,"disabledInteractive","disabledInteractive",He]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[yt([{provide:uo,useExisting:kn(()=>t),multi:!0},{provide:Xa,useExisting:t,multi:!0}]),gt],ngContentSelectors:CIe,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let o=fe();Dn(),C(0,"div",1)(1,"button",2,0),G("click",function(){return Y(o),X(r._handleClick())}),$(3,"span",3),C(4,"span",4)(5,"span",5)(6,"span",6),$(7,"span",7),w(),C(8,"span",8),$(9,"span",9),w(),H(10,wIe,5,0,"span",10),w()()(),C(11,"label",11),G("click",function(a){return Y(o),X(a.stopPropagation())}),Vt(12),w()()}if(i&2){let o=It(2);P("labelPosition",r.labelPosition),y(),le("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),P("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),ct("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),y(8),P("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),y(),Q(r.hideIcon?-1:10),y(),P("for",r.buttonId),ct("id",r._labelId)}},dependencies:[Fh,wT],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mat-slide-toggle-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mat-slide-toggle-track-height, 32px);border-radius:var(--mat-slide-toggle-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mat-slide-toggle-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-slide-toggle-track-outline-width, 2px);border-color:var(--mat-slide-toggle-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-slide-toggle-selected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-slide-toggle-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mat-slide-toggle-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mat-slide-toggle-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mat-slide-toggle-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mat-slide-toggle-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mat-slide-toggle-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mat-slide-toggle-handle-width);height:var(--mat-slide-toggle-handle-height);border-radius:var(--mat-slide-toggle-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-slide-toggle-unselected-handle-size, 16px);height:var(--mat-slide-toggle-unselected-handle-size, 16px);margin:var(--mat-slide-toggle-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-slide-toggle-selected-handle-size, 24px);height:var(--mat-slide-toggle-selected-handle-size, 24px);margin:var(--mat-slide-toggle-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-slide-toggle-with-icon-handle-size, 24px);height:var(--mat-slide-toggle-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-slide-toggle-pressed-handle-size, 28px);height:var(--mat-slide-toggle-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mat-slide-toggle-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mat-slide-toggle-state-layer-size, 40px);height:var(--mat-slide-toggle-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-hover-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-focus-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mat-slide-toggle-unselected-icon-size, 16px);height:var(--mat-slide-toggle-unselected-icon-size, 16px);fill:var(--mat-slide-toggle-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mat-slide-toggle-selected-icon-size, 16px);height:var(--mat-slide-toggle-selected-icon-size, 16px);fill:var(--mat-slide-toggle-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-slide-toggle-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-slide-toggle-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-slide-toggle-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-slide-toggle-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-slide-toggle-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-slide-toggle-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mat-slide-toggle-disabled-label-text-color, var(--mat-sys-on-surface))}
`],encapsulation:2,changeDetection:0})}return t})(),GAt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({imports:[_L,Gt,Gt]})}return t})();var zY=(()=>{let e=class e{constructor(i){this.dialogRef=i,this.inviteMessage=""}ngOnInit(){this.dialogRef.backdropClick().subscribe(()=>this.close()),this.dialogRef.keydownEvents().subscribe(i=>{i.key==="Escape"&&this.close()})}close(){this.dialogRef.close()}onSave(){this.dialogRef.close(this.inviteMessage)}};e.\u0275fac=function(r){return new(r||e)(L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-focus-room-single-user-group-invite-modal"]],standalone:!1,decls:14,vars:6,consts:[[1,"mat-header"],["mat-dialog-title",""],[1,"right"],[1,"close-modal",3,"click"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[1,"form-item"],["id","inviteMessage","name","inviteMessage","placeholder","Invite message...",3,"ngModelChange","ngModel","maxlength","rows"],["color","tertiary",3,"buttonClick"],[3,"buttonClick","disabled"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"Invite message"),w(),C(3,"div",2)(4,"button",3),G("click",function(){return o.close()}),$(5,"ss-icon",4),w()()(),C(6,"mat-dialog-content")(7,"div",5)(8,"ss-textarea",6),Je("ngModelChange",function(a){return tt(o.inviteMessage,a)||(o.inviteMessage=a),a}),w()()(),C(9,"mat-dialog-actions")(10,"ss-button",7),G("buttonClick",function(){return o.close()}),F(11,"Cancel"),w(),C(12,"ss-button",8),G("buttonClick",function(){return o.onSave()}),F(13," Send "),w()()),r&2&&(y(5),P("size",20)("iconVariant",20),y(3),Ze("ngModel",o.inviteMessage),P("maxlength",120)("rows",3),y(4),P("disabled",o.inviteMessage.length===0))},encapsulation:2});let t=e;return t})();var yy=typeof self<"u"?self:{};function KX(t){e:{for(var e=["CLOSURE_FLAGS"],n=yy,i=0;i<e.length;i++)if((n=n[e[i]])==null){e=null;break e}e=n}return(t=e&&e[t])!=null&&t}function qp(){throw Error("Invalid UTF8")}function GY(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}var BI,bL,SIe=typeof TextDecoder<"u",TIe,IIe=typeof TextEncoder<"u";function qX(t){if(IIe)t=(TIe||=new TextEncoder).encode(t);else{let n=0,i=new Uint8Array(3*t.length);for(let r=0;r<t.length;r++){var e=t.charCodeAt(r);if(128>e)i[n++]=e;else{if(2048>e)i[n++]=e>>6|192;else{if(55296<=e&&57343>=e){if(56319>=e&&r<t.length){let o=t.charCodeAt(++r);if(56320<=o&&57343>=o){e=1024*(e-55296)+o-56320+65536,i[n++]=e>>18|240,i[n++]=e>>12&63|128,i[n++]=e>>6&63|128,i[n++]=63&e|128;continue}r--}e=65533}i[n++]=e>>12|224,i[n++]=e>>6&63|128}i[n++]=63&e|128}}t=n===i.length?i:i.subarray(0,n)}return t}var gy,YX=KX(610401301),kIe=KX(188588736),WY=yy.navigator;function ML(t){return!!YX&&!!gy&&gy.brands.some(({brand:e})=>e&&e.indexOf(t)!=-1)}function il(t){var e;return(e=yy.navigator)&&(e=e.userAgent)||(e=""),e.indexOf(t)!=-1}function Zh(){return!!YX&&!!gy&&0<gy.brands.length}function yL(){return Zh()?ML("Chromium"):(il("Chrome")||il("CriOS"))&&!(!Zh()&&il("Edge"))||il("Silk")}function JL(t){return JL[" "](t),t}gy=WY&&WY.userAgentData||null,JL[" "]=function(){};var MIe=!Zh()&&(il("Trident")||il("MSIE"));!il("Android")||yL(),yL(),il("Safari")&&(yL()||!Zh()&&il("Coast")||!Zh()&&il("Opera")||!Zh()&&il("Edge")||(Zh()?ML("Microsoft Edge"):il("Edg/"))||Zh()&&ML("Opera"));var XX={},ly=null;function DIe(t){var e=t.length,n=3*e/4;n%3?n=Math.floor(n):"=.".indexOf(t[e-1])!=-1&&(n="=.".indexOf(t[e-2])!=-1?n-2:n-1);var i=new Uint8Array(n),r=0;return function(o,s){function a(g){for(;l<o.length;){var v=o.charAt(l++),b=ly[v];if(b!=null)return b;if(!/^[\s\xa0]*$/.test(v))throw Error("Unknown base64 encoding at char: "+v)}return g}ZX();for(var l=0;;){var c=a(-1),d=a(0),u=a(64),p=a(64);if(p===64&&c===-1)break;s(c<<2|d>>4),u!=64&&(s(d<<4&240|u>>2),p!=64&&s(u<<6&192|p))}}(t,function(o){i[r++]=o}),r!==n?i.subarray(0,r):i}function ZX(){if(!ly){ly={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=t.concat(e[n].split(""));XX[n]=i;for(var r=0;r<i.length;r++){var o=i[r];ly[o]===void 0&&(ly[o]=r)}}}}var JX=typeof Uint8Array<"u",eZ=!MIe&&typeof btoa=="function";function KY(t){if(!eZ){var e;e===void 0&&(e=0),ZX(),e=XX[e];var n=Array(Math.floor(t.length/3)),i=e[64]||"";let l=0,c=0;for(;l<t.length-2;l+=3){var r=t[l],o=t[l+1],s=t[l+2],a=e[r>>2];r=e[(3&r)<<4|o>>4],o=e[(15&o)<<2|s>>6],s=e[63&s],n[c++]=a+r+o+s}switch(a=0,s=i,t.length-l){case 2:s=e[(15&(a=t[l+1]))<<2]||i;case 1:t=t[l],n[c]=e[t>>2]+e[(3&t)<<4|a>>4]+s+i}return n.join("")}for(e="",n=0,i=t.length-10240;n<i;)e+=String.fromCharCode.apply(null,t.subarray(n,n+=10240));return e+=String.fromCharCode.apply(null,n?t.subarray(n):t),btoa(e)}var qY=/[-_.]/g,PIe={"-":"+",_:"/",".":"="};function OIe(t){return PIe[t]||""}function tZ(t){if(!eZ)return DIe(t);qY.test(t)&&(t=t.replace(qY,OIe)),t=atob(t);let e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function Cy(t){return JX&&t!=null&&t instanceof Uint8Array}var RIe;function ok(){return RIe||=new Uint8Array(0)}var Og={},BIe;function nZ(t){if(t!==Og)throw Error("illegal external caller")}function em(){return BIe||=new wu(null,Og)}function eU(t){nZ(Og);var e=t.g;return(e=e==null||Cy(e)?e:typeof e=="string"?tZ(e):null)==null?e:t.g=e}var wu=class{constructor(t,e){if(nZ(e),this.g=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}h(){let t=eU(this);return t?new Uint8Array(t):ok()}};function iZ(t,e){return Error(`Invalid wire type: ${t} (at position ${e})`)}function tU(){return Error("Failed to read varint, encoding is invalid.")}function rZ(t,e){return Error(`Tried to read past the end of the data ${e} > ${t}`)}function nU(t){if(typeof t=="string")return{buffer:tZ(t),P:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),P:!1};if(t.constructor===Uint8Array)return{buffer:t,P:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),P:!1};if(t.constructor===wu)return{buffer:eU(t)||ok(),P:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),P:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function iU(){return typeof BigInt=="function"}var FIe=typeof Uint8Array.prototype.slice=="function",oZ,Ri=0,jr=0;function Yp(t){let e=0>t,n=(t=Math.abs(t))>>>0;if(t=Math.floor((t-n)/4294967296),e){let[i,r]=sU(n,t);t=r,n=i}Ri=n>>>0,jr=t>>>0}function rU(t){let e=oZ||=new DataView(new ArrayBuffer(8));e.setFloat32(0,+t,!0),jr=0,Ri=e.getUint32(0,!0)}function DL(t,e){return 4294967296*e+(t>>>0)}function oU(t,e){let n=2147483648&e;return n&&(e=~e>>>0,(t=1+~t>>>0)==0&&(e=e+1>>>0)),t=DL(t,e),n?-t:t}function KI(t,e){if(t>>>=0,2097151>=(e>>>=0))var n=""+(4294967296*e+t);else iU()?n=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(t=(16777215&t)+6777216*(n=16777215&(t>>>24|e<<8))+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,1e7<=t&&(n+=Math.floor(t/1e7),t%=1e7),1e7<=n&&(e+=Math.floor(n/1e7),n%=1e7),n=e+YY(n)+YY(t));return n}function YY(t){return t=String(t),"0000000".slice(t.length)+t}function sZ(){var t=Ri,e=jr;if(2147483648&e)if(iU())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{let[n,i]=sU(t,e);t="-"+KI(n,i)}else t=KI(t,e);return t}function sk(t){if(16>t.length)Yp(Number(t));else if(iU())t=BigInt(t),Ri=Number(t&BigInt(4294967295))>>>0,jr=Number(t>>BigInt(32)&BigInt(4294967295));else{let e=+(t[0]==="-");jr=Ri=0;let n=t.length;for(let i=e,r=(n-e)%6+e;r<=n;i=r,r+=6){let o=Number(t.slice(i,r));jr*=1e6,Ri=1e6*Ri+o,4294967296<=Ri&&(jr+=Math.trunc(Ri/4294967296),jr>>>=0,Ri>>>=0)}if(e){let[i,r]=sU(Ri,jr);Ri=i,jr=r}}}function sU(t,e){return e=~e,t?t=1+~t:e+=1,[t,e]}function aU(t,e){let n,i=0,r=0,o=0,s=t.h,a=t.g;do n=s[a++],i|=(127&n)<<o,o+=7;while(32>o&&128&n);for(32<o&&(r|=(127&n)>>4),o=3;32>o&&128&n;o+=7)n=s[a++],r|=(127&n)<<o;if(Xp(t,a),128>n)return e(i>>>0,r>>>0);throw tU()}function lU(t){let e=0,n=t.g,i=n+10,r=t.h;for(;n<i;){let o=r[n++];if(e|=o,(128&o)==0)return Xp(t,n),!!(127&e)}throw tU()}function ef(t){let e=t.h,n=t.g,i=e[n++],r=127&i;if(128&i&&(i=e[n++],r|=(127&i)<<7,128&i&&(i=e[n++],r|=(127&i)<<14,128&i&&(i=e[n++],r|=(127&i)<<21,128&i&&(i=e[n++],r|=i<<28,128&i&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++]&&128&e[n++])))))throw tU();return Xp(t,n),r}function tf(t){return ef(t)>>>0}function PL(t){var e=t.h;let n=t.g,i=e[n],r=e[n+1],o=e[n+2];return e=e[n+3],Xp(t,t.g+4),(i<<0|r<<8|o<<16|e<<24)>>>0}function OL(t){var e=PL(t);t=2*(e>>31)+1;let n=e>>>23&255;return e&=8388607,n==255?e?NaN:1/0*t:n==0?t*Math.pow(2,-149)*e:t*Math.pow(2,n-150)*(e+Math.pow(2,23))}function NIe(t){return ef(t)}function CL(t,e,{ca:n=!1}={}){t.ca=n,e&&(e=nU(e),t.h=e.buffer,t.m=e.P,t.j=0,t.l=t.h.length,t.g=t.j)}function Xp(t,e){if(t.g=e,e>t.l)throw rZ(t.l,e)}function aZ(t,e){if(0>e)throw Error(`Tried to read a negative byte length: ${e}`);let n=t.g,i=n+e;if(i>t.l)throw rZ(e,t.l-n);return t.g=i,n}function lZ(t,e){if(e==0)return em();var n=aZ(t,e);return t.ca&&t.m?n=t.h.subarray(n,n+e):(t=t.h,n=n===(e=n+e)?ok():FIe?t.slice(n,e):new Uint8Array(t.subarray(n,e))),n.length==0?em():new wu(n,Og)}var XY=[];function cZ(t){var e=t.g;if(e.g==e.l)return!1;t.l=t.g.g;var n=tf(t.g);if(e=n>>>3,!(0<=(n&=7)&&5>=n))throw iZ(n,t.l);if(1>e)throw Error(`Invalid field number: ${e} (at position ${t.l})`);return t.m=e,t.h=n,!0}function VI(t){switch(t.h){case 0:t.h!=0?VI(t):lU(t.g);break;case 1:Xp(t=t.g,t.g+8);break;case 2:if(t.h!=2)VI(t);else{var e=tf(t.g);Xp(t=t.g,t.g+e)}break;case 5:Xp(t=t.g,t.g+4);break;case 3:for(e=t.m;;){if(!cZ(t))throw Error("Unmatched start-group tag: stream EOF");if(t.h==4){if(t.m!=e)throw Error("Unmatched end-group tag");break}VI(t)}break;default:throw iZ(t.h,t.l)}}function wy(t,e,n){let i=t.g.l,r=tf(t.g),o=t.g.g+r,s=o-i;if(0>=s&&(t.g.l=o,n(e,t,void 0,void 0,void 0),s=o-t.g.g),s)throw Error(`Message parsing ended unexpectedly. Expected to read ${r} bytes, instead read ${r-s} bytes, either the data ended unexpectedly or the message misreported its own length`);return t.g.g=o,t.g.l=i,e}function cU(t){var e=tf(t.g),n=aZ(t=t.g,e);if(t=t.h,SIe){var i,r=t;(i=bL)||(i=bL=new TextDecoder("utf-8",{fatal:!0})),e=n+e,r=n===0&&e===r.length?r:r.subarray(n,e);try{var o=i.decode(r)}catch(a){if(BI===void 0){try{i.decode(new Uint8Array([128]))}catch{}try{i.decode(new Uint8Array([97])),BI=!0}catch{BI=!1}}throw!BI&&(bL=void 0),a}}else{e=(o=n)+e,n=[];let a,l=null;for(;o<e;){var s=t[o++];128>s?n.push(s):224>s?o>=e?qp():(a=t[o++],194>s||(192&a)!=128?(o--,qp()):n.push((31&s)<<6|63&a)):240>s?o>=e-1?qp():(a=t[o++],(192&a)!=128||s===224&&160>a||s===237&&160<=a||(192&(i=t[o++]))!=128?(o--,qp()):n.push((15&s)<<12|(63&a)<<6|63&i)):244>=s?o>=e-2?qp():(a=t[o++],(192&a)!=128||a-144+(s<<28)>>30!=0||(192&(i=t[o++]))!=128||(192&(r=t[o++]))!=128?(o--,qp()):(s=(7&s)<<18|(63&a)<<12|(63&i)<<6|63&r,s-=65536,n.push(55296+(s>>10&1023),56320+(1023&s)))):qp(),8192<=n.length&&(l=GY(l,n),n.length=0)}o=GY(l,n)}return o}function dZ(t){let e=tf(t.g);return lZ(t.g,e)}function ak(t,e,n){var i=tf(t.g);for(i=t.g.g+i;t.g.g<i;)n.push(e(t.g))}var FI=[];function ZY(t){return t?/^\d+$/.test(t)?(sk(t),new JY(Ri,jr)):null:LIe||=new JY(0,0)}var JY=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}},LIe;function eX(t){return t?/^-?\d+$/.test(t)?(sk(t),new tX(Ri,jr)):null:UIe||=new tX(0,0)}var tX=class{constructor(t,e){this.h=t>>>0,this.g=e>>>0}},UIe;function qI(t,e,n){for(;0<n||127<e;)t.g.push(127&e|128),e=(e>>>7|n<<25)>>>0,n>>>=7;t.g.push(e)}function Ey(t,e){for(;127<e;)t.g.push(127&e|128),e>>>=7;t.g.push(e)}function lk(t,e){if(0<=e)Ey(t,e);else{for(let n=0;9>n;n++)t.g.push(127&e|128),e>>=7;t.g.push(1)}}function vy(t,e){t.g.push(e>>>0&255),t.g.push(e>>>8&255),t.g.push(e>>>16&255),t.g.push(e>>>24&255)}function Rg(t,e){e.length!==0&&(t.l.push(e),t.h+=e.length)}function sl(t,e,n){Ey(t.g,8*e+n)}function dU(t,e){return sl(t,e,2),e=t.g.end(),Rg(t,e),e.push(t.h),e}function uU(t,e){var n=e.pop();for(n=t.h+t.g.length()-n;127<n;)e.push(127&n|128),n>>>=7,t.h++;e.push(n),t.h++}function ck(t,e,n){sl(t,e,2),Ey(t.g,n.length),Rg(t,t.g.end()),Rg(t,n)}function RL(t,e,n,i){n!=null&&(e=dU(t,e),i(n,t),uU(t,e))}var nf=class{constructor(e,n,i,r){this.g=e,this.h=n,this.l=i,this.pa=r}};function ga(t){return Array.prototype.slice.call(t)}function dk(t){return typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():t}var zc=dk(),nX=dk("0di"),wL=dk("2ex"),iX=dk("0dg"),hU=zc?(t,e)=>{t[zc]|=e}:(t,e)=>{t.g!==void 0?t.g|=e:Object.defineProperties(t,{g:{value:e,configurable:!0,writable:!0,enumerable:!1}})},YI=zc?(t,e)=>{t[zc]&=~e}:(t,e)=>{t.g!==void 0&&(t.g&=~e)};function Yo(t,e,n){return n?t|e:t&~e}var hr=zc?t=>0|t[zc]:t=>0|t.g,jn=zc?t=>t[zc]:t=>t.g,ur=zc?(t,e)=>(t[zc]=e,t):(t,e)=>(t.g!==void 0?t.g=e:Object.defineProperties(t,{g:{value:e,configurable:!0,writable:!0,enumerable:!1}}),t);function Qg(t){return hU(t,34),t}function VIe(t,e){ur(e,-14591&(0|t))}function BL(t,e){ur(e,-14557&(34|t))}function uZ(t){return(t=t>>14&1023)===0?536870912:t}var fU,xy={},hZ={};function rX(t){return!(!t||typeof t!="object"||t.Ja!==hZ)}function pU(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}function mU(t,e,n){if(t!=null){if(typeof t=="string")t=t?new wu(t,Og):em();else if(t.constructor!==wu)if(Cy(t))t=t.length?new wu(n?t:new Uint8Array(t),Og):em();else{if(!e)throw Error();t=void 0}}return t}function XI(t,e,n){if(!Array.isArray(t)||t.length)return!1;let i=hr(t);return!!(1&i)||!(!e||!(Array.isArray(e)?e.includes(n):e.has(n)))&&(ur(t,1|i),!0)}var oX=[];function qc(t){if(2&t)throw Error()}ur(oX,55),fU=Object.freeze(oX);var ZI=class t{constructor(e,n,i){this.l=0,this.g=e,this.h=n,this.m=i}next(){if(this.l<this.g.length){let e=this.g[this.l++];return{done:!1,value:this.h?this.h.call(this.m,e):e}}return{done:!0,value:void 0}}[Symbol.iterator](){return new t(this.g,this.h,this.m)}},Jh,HIe,QIe;function fZ(t,e){(e=Jh?e[Jh]:void 0)&&(t[Jh]=ga(e))}function pZ(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}function mZ(){let t=Error();pZ(t,"incident"),function(e){yy.setTimeout(()=>{throw e},0)}(t)}function FL(t){return pZ(t=Error(t),"warning"),t}function lf(t){return t==null||typeof t=="number"?t:t==="NaN"||t==="Infinity"||t==="-Infinity"?Number(t):void 0}function AZ(t){return t==null||typeof t=="boolean"?t:typeof t=="number"?!!t:void 0}Object.freeze(new class{}),Object.freeze(new class{});var jIe=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function uk(t){let e=typeof t;return e==="number"?Number.isFinite(t):e==="string"&&jIe.test(t)}function jg(t){if(t==null)return t;if(typeof t=="string"){if(!t)return;t=+t}return typeof t=="number"&&Number.isFinite(t)?0|t:void 0}function $Ie(t){if(t==null)return t;if(typeof t=="string"){if(!t)return;t=+t}return typeof t=="number"&&Number.isFinite(t)?t>>>0:void 0}function sX(t){return t[0]!=="-"&&(20>t.length||t.length===20&&184467>Number(t.substring(0,6)))}function gZ(t){return t[0]==="-"?20>t.length||t.length===20&&-922337<Number(t.substring(0,7)):19>t.length||t.length===19&&922337>Number(t.substring(0,6))}function AU(t){return t=Math.trunc(t),Number.isSafeInteger(t)||(Yp(t),t=oU(Ri,jr)),t}function gU(t){var e=Math.trunc(Number(t));return Number.isSafeInteger(e)?String(e):((e=t.indexOf("."))!==-1&&(t=t.substring(0,e)),gZ(t)||(sk(t),t=sZ()),t)}function JI(t){return t==null?t:uk(t)?typeof t=="number"?AU(t):gU(t):void 0}function Sy(t){if(typeof t!="string")throw Error();return t}function $g(t){if(t!=null&&typeof t!="string")throw Error();return t}function Zp(t){return t==null||typeof t=="string"?t:void 0}function vU(t,e,n,i){if(t!=null&&typeof t=="object"&&t.X===xy)return t;if(!Array.isArray(t))return n?2&i?(t=e[nX])?e=t:(Qg((t=new e).s),e=e[nX]=t):e=new e:e=void 0,e;let r=n=hr(t);return r===0&&(r|=32&i),r|=2&i,r!==n&&ur(t,r),new e(t)}function zIe(t,e,n){if(e){var i=!!i;if(!uk(e=t))throw FL("int64");typeof e=="string"?i=gU(e):i?(i=Math.trunc(e),Number.isSafeInteger(i)?i=String(i):gZ(e=String(i))?i=e:(Yp(i),i=sZ())):i=AU(e)}else i=JI(t);return typeof(n=(t=i)==null?n?0:void 0:t)=="string"&&(i=+n,Number.isSafeInteger(i))?i:n}var ek,_U,GIe;function tk(t){switch(typeof t){case"boolean":return _U||=[0,void 0,!0];case"number":return 0<t?void 0:t===0?GIe||=[0,void 0]:[-t,void 0];case"string":return[0,t];case"object":return t}}function Jp(t,e){return vZ(t,e[0],e[1])}function vZ(t,e,n){if(t==null&&(t=ek),ek=void 0,t==null){var i=96;n?(t=[n],i|=512):t=[],e&&(i=-16760833&i|(1023&e)<<14)}else{if(!Array.isArray(t))throw Error("narr");if(2048&(i=hr(t)))throw Error("farr");if(64&i)return t;if(i|=64,n&&(i|=512,n!==t[0]))throw Error("mid");e:{let r=(n=t).length;if(r){let o=r-1;if(pU(n[o])){if(1024<=(e=o-(+!!(512&(i|=256))-1)))throw Error("pvtlmt");i=-16760833&i|(1023&e)<<14;break e}}if(e){if(1024<(e=Math.max(e,r-(+!!(512&i)-1))))throw Error("spvt");i=-16760833&i|(1023&e)<<14}}}return ur(t,i),t}var WIe={},KIe=function(){try{return JL(new class extends Map{constructor(){super()}}),!1}catch{return!0}}(),dy=class{constructor(){this.g=new Map}get(e){return this.g.get(e)}set(e,n){return this.g.set(e,n),this.size=this.g.size,this}delete(e){return e=this.g.delete(e),this.size=this.g.size,e}clear(){this.g.clear(),this.size=this.g.size}has(e){return this.g.has(e)}entries(){return this.g.entries()}keys(){return this.g.keys()}values(){return this.g.values()}forEach(e,n){return this.g.forEach(e,n)}[Symbol.iterator](){return this.entries()}},qIe=KIe?(Object.setPrototypeOf(dy.prototype,Map.prototype),Object.defineProperties(dy.prototype,{size:{value:0,configurable:!0,enumerable:!0,writable:!0}}),dy):class extends Map{constructor(){super()}};function aX(t){return t}function EL(t){if(2&t.N)throw Error("Cannot mutate an immutable Map")}var ol=class extends qIe{constructor(t,e,n=aX,i=aX){super();let r=hr(t);r|=64,ur(t,r),this.N=r,this.U=e,this.S=n,this.Z=this.U?YIe:i;for(let o=0;o<t.length;o++){let s=t[o],a=n(s[0],!1,!0),l=s[1];e?l===void 0&&(l=null):l=i(s[1],!1,!0,void 0,void 0,r),super.set(a,l)}}oa(t=lX){if(this.size!==0)return this.Y(t)}Y(t=lX){let e=[],n=super.entries();for(var i;!(i=n.next()).done;)(i=i.value)[0]=t(i[0]),i[1]=t(i[1]),e.push(i);return e}clear(){EL(this),super.clear()}delete(t){return EL(this),super.delete(this.S(t,!0,!1))}entries(){var t=this.na();return new ZI(t,XIe,this)}keys(){return this.Ia()}values(){var t=this.na();return new ZI(t,ol.prototype.get,this)}forEach(t,e){super.forEach((n,i)=>{t.call(e,this.get(i),i,this)})}set(t,e){return EL(this),(t=this.S(t,!0,!1))==null?this:e==null?(super.delete(t),this):super.set(t,this.Z(e,!0,!0,this.U,!1,this.N))}Oa(t){let e=this.S(t[0],!1,!0);t=t[1],t=this.U?t===void 0?null:t:this.Z(t,!1,!0,void 0,!1,this.N),super.set(e,t)}has(t){return super.has(this.S(t,!1,!1))}get(t){t=this.S(t,!1,!1);let e=super.get(t);if(e!==void 0){var n=this.U;return n?((n=this.Z(e,!1,!0,n,this.ta,this.N))!==e&&super.set(t,n),n):e}}na(){return Array.from(super.keys())}Ia(){return super.keys()}[Symbol.iterator](){return this.entries()}};function YIe(t,e,n,i,r,o){return t=vU(t,i,n,o),r&&(t=fk(t)),t}function lX(t){return t}function XIe(t){return[t,this.get(t)]}var ZIe;function cX(){return ZIe||=new ol(Qg([]),void 0,void 0,void 0,WIe)}function bU(t,e,n,i,r){if(t!=null){if(Array.isArray(t))t=XI(t,void 0,0)?void 0:r&&2&hr(t)?t:hk(t,e,n,i!==void 0,r);else if(pU(t)){let o={};for(let s in t)o[s]=bU(t[s],e,n,i,r);t=o}else t=e(t,i);return t}}function hk(t,e,n,i,r){let o=i||n?hr(t):0;i=i?!!(32&o):void 0;let s=ga(t);for(let a=0;a<s.length;a++)s[a]=bU(s[a],e,n,i,r);return n&&(fZ(s,t),n(o,s)),s}function JIe(t){return bU(t,yU,void 0,void 0,!1)}function yU(t){return t.X===xy?t.toJSON():t instanceof ol?t.oa(JIe):function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"boolean":return e?1:0;case"object":if(e)if(Array.isArray(e)){if(XI(e,void 0,0))return}else{if(Cy(e))return KY(e);if(e instanceof wu){let n=e.g;return n==null?"":typeof n=="string"?n:e.g=KY(n)}if(e instanceof ol)return e.oa()}}return e}(t)}function NL(t,e,n=BL){if(t!=null){if(JX&&t instanceof Uint8Array)return e?t:new Uint8Array(t);if(Array.isArray(t)){var i=hr(t);return 2&i||(e&&=i===0||!!(32&i)&&!(64&i||!(16&i)),t=e?ur(t,-12293&(34|i)):hk(t,NL,4&i?BL:n,!0,!0)),t}return t.X===xy?(n=t.s,t=2&(i=jn(n))?t:CU(t,n,i,!0)):t instanceof ol&&!(2&t.N)&&(n=Qg(t.Y(NL)),t=new ol(n,t.U,t.S,t.Z)),t}}function CU(t,e,n,i){return t=t.constructor,ek=e=_Z(e,n,i),e=new t(e),ek=void 0,e}function _Z(t,e,n){let i=n||2&e?BL:VIe,r=!!(32&e);return t=function(o,s,a){let l=ga(o);var c=l.length;let d=256&s?l[c-1]:void 0;for(c+=d?-1:0,s=512&s?1:0;s<c;s++)l[s]=a(l[s]);if(d){s=l[s]={};for(let u in d)s[u]=a(d[u])}return fZ(l,o),l}(t,e,o=>NL(o,r,i)),hU(t,32|(n?2:0)),t}function fk(t){let e=t.s,n=jn(e);return 2&n?CU(t,e,n,!1):t}function bZ(t,e,n,i){return!(4&e)||n!=null&&(!i&&n===0&&(4096&e||8192&e)&&5>(t.constructor[iX]=1+(0|t.constructor[iX]))&&mZ(),n!==0&&!(n&e))}function rf(t,e){return Yc(t=t.s,jn(t),e)}function dX(t,e,n,i){if(!(0>(e=i+(+!!(512&e)-1))||e>=t.length||e>=n))return t[e]}function Yc(t,e,n,i){if(n===-1)return null;let r=uZ(e);if(!(n>=r)){var o=t.length;return i&&256&e&&(i=t[o-1][n])!=null?(dX(t,e,r,n)&&wL!=null&&(4<=(e=(t=QIe??={})[wL]||0)||(t[wL]=e+1,mZ())),i):dX(t,e,r,n)}return 256&e?t[t.length-1][n]:void 0}function xi(t,e,n,i){let r=t.s,o=jn(r);return qc(o),Bi(r,o,e,n,i),t}function Bi(t,e,n,i,r){let o=uZ(e);if(n>=o||r){let s=e;if(256&e)r=t[t.length-1];else{if(i==null)return s;r=t[o+(+!!(512&e)-1)]={},s|=256}return r[n]=i,n<o&&(t[n+(+!!(512&e)-1)]=void 0),s!==e&&ur(t,s),s}return t[n+(+!!(512&e)-1)]=i,256&e&&n in(t=t[t.length-1])&&delete t[n],e}function zg(t,e,n,i,r){var o=2&e;let s=Yc(t,e,n,r);Array.isArray(s)||(s=fU);let a=!(2&i);i=!(1&i);let l=!!(32&e),c=hr(s);return c!==0||!l||o||a?1&c||(c|=1,ur(s,c)):(c|=33,ur(s,c)),o?(t=!1,2&c||(Qg(s),t=!!(4&c)),(i||t)&&Object.freeze(s)):(o=!!(2&c)||!!(2048&c),i&&o?(s=ga(s),i=1,l&&!a&&(i|=32),ur(s,i),Bi(t,e,n,s,r)):a&&32&c&&!o&&YI(s,32)),s}function HI(t,e){t=t.s;let n=jn(t),i=Yc(t,n,e),r=lf(i);return r!=null&&r!==i&&Bi(t,n,e,r),r}function yZ(t){t=t.s;let e=jn(t),n=Yc(t,e,1),i=mU(n,!0,!!(34&e));return i!=null&&i!==n&&Bi(t,e,1,i),i}function Dg(t,e,n){let i=t.s,r=jn(i),o=2&r?1:2,s=CZ(i,r,e);var a=hr(s);if(bZ(t,a,void 0,!1)){(4&a||Object.isFrozen(s))&&(s=ga(s),a=tm(a,r),r=Bi(i,r,e,s));let l=t=0;for(;t<s.length;t++){let c=n(s[t]);c!=null&&(s[l++]=c)}l<t&&(s.length=l),a=Yo(a=wZ(a,r),20,!0),a=Yo(a,4096,!1),a=Yo(a,8192,!1),ur(s,a),2&a&&Object.freeze(s)}return uy(a)||(n=a,(a=(t=o===1||o===4&&!!(32&a))?Yo(a,2,!0):Bg(a,r,!1))!==n&&ur(s,a),t&&Object.freeze(s)),o===2&&uy(a)&&(s=ga(s),a=Bg(a=tm(a,r),r,!1),ur(s,a),Bi(i,r,e,s)),s}function CZ(t,e,n){return t=Yc(t,e,n),Array.isArray(t)?t:fU}function wZ(t,e){return t===0&&(t=tm(t,e)),Yo(t,1,!0)}function uy(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function EZ(t){t=ga(t);for(let e=0;e<t.length;e++){let n=t[e]=ga(t[e]);Array.isArray(n[1])&&(n[1]=Qg(n[1]))}return t}function nk(t,e,n){{let a=t.s,l=jn(a);if(qc(l),n==null)Bi(a,l,e);else{var i,r=hr(n),o=r,s=!!(2&r)||Object.isFrozen(n);if((i=!s)&&(i=!1),bZ(t,r))for(r=21,s&&(n=ga(n),o=0,r=Bg(r=tm(r,l),l,!0)),t=0;t<n.length;t++)n[t]=Sy(n[t]);i&&(n=ga(n),o=0,r=Bg(r=tm(r,l),l,!0)),r!==o&&ur(n,r),Bi(a,l,e,n)}}}function LL(t,e,n,i){t=t.s;let r=jn(t);qc(r),Bi(t,r,e,(i==="0"?Number(n)===0:n===i)?void 0:n)}function Ty(t,e,n,i){let r=jn(t);qc(r),t=zg(t,r,e,2),i=n(i,!!(4&(e=hr(t)))&&!!(4096&e)),t.push(i)}function eke(t){return t}function xL(t,e){return wU(t=t.s,jn(t),lJ)===e?e:-1}function wU(t,e,n){let i=0;for(let r=0;r<n.length;r++){let o=n[r];Yc(t,e,o)!=null&&(i!==0&&(e=Bi(t,e,i)),i=o)}return i}function EU(t,e,n,i){let r=jn(t);qc(r);let o=Yc(t,r,n,i),s;if(o!=null&&o.X===xy)return(e=fk(o))!==o&&Bi(t,r,n,e,i),e.s;if(Array.isArray(o)){let a=hr(o);s=2&a?_Z(o,a,!1):o,s=Jp(s,e)}else s=Jp(void 0,e);return s!==o&&Bi(t,r,n,s,i),s}function xZ(t,e,n,i){t=t.s;let r=jn(t),o=Yc(t,r,n,i);return(e=vU(o,e,!1,r))!==o&&e!=null&&Bi(t,r,n,e,i),e}function yn(t,e,n,i=!1){if((e=xZ(t,e,n,i))==null)return e;t=t.s;let r=jn(t);if(!(2&r)){let o=fk(e);o!==e&&Bi(t,r,n,e=o,i)}return e}function SZ(t,e,n,i,r,o){var s=2,a=!!(2&e);s=a?1:s,r=!!r,o&&=!a,a=CZ(t,e,i);var l=hr(a);let c=!!(4&l);if(!c){var d=a,u=e;let p=!!(2&(l=wZ(l,e)));p&&(u=Yo(u,2,!0));let g=!p,v=!0,b=0,x=0;for(;b<d.length;b++){let T=vU(d[b],n,!1,u);if(T instanceof n){if(!p){let k=!!(2&hr(T.s));g&&=!k,v&&=k}d[x++]=T}}x<b&&(d.length=x),l=Yo(l,4,!0),l=Yo(l,16,v),l=Yo(l,8,g),ur(d,l),p&&Object.freeze(d)}if(o&&!(8&l||!a.length&&(s===1||s===4&&32&l))){for(uy(l)&&(a=ga(a),l=tm(l,e),e=Bi(t,e,i,a)),n=a,o=l,d=0;d<n.length;d++)(l=n[d])!==(u=fk(l))&&(n[d]=u);o=Yo(o,8,!0),o=Yo(o,16,!n.length),ur(n,o),l=o}return uy(l)||(n=l,(l=(o=s===1||s===4&&!!(32&l))?Yo(l,!a.length||16&l&&(!c||32&l)?2:2048,!0):Bg(l,e,r))!==n&&ur(a,l),o&&Object.freeze(a)),s===2&&uy(l)&&(a=ga(a),l=Bg(l=tm(l,e),e,r),ur(a,l),Bi(t,e,i,a)),a}function xu(t,e,n){t=t.s;let i=jn(t);return SZ(t,i,e,n,!1,!(2&i))}function Ct(t,e,n,i,r){return i==null&&(i=void 0),xi(t,n,i,r)}function hy(t,e,n,i){i==null&&(i=void 0),t=t.s;let r=jn(t);qc(r),(n=wU(t,r,n))&&n!==e&&i!=null&&(r=Bi(t,r,n)),Bi(t,r,e,i)}function tm(t,e){return t=Yo(t,2,!!(2&e)),t=Yo(t,32,!0),Yo(t,2048,!1)}function Bg(t,e,n){return 32&e&&n||(t=Yo(t,32,!1)),t}function ik(t,e,n,i){t=t.s;let r=jn(t);qc(r),e=SZ(t,r,n,e,!0),n=i??new n,e.push(n),2&hr(n.s)?YI(e,8):YI(e,16)}function rl(t,e){return jg(rf(t,e))}function zl(t,e){return t??e}function Ir(t,e){return zl(HI(t,e),0)}function Gc(t,e){return zl(Zp(rf(t,e)),"")}function _y(t,e,n){if(n!=null&&typeof n!="boolean")throw t=typeof n,Error(`Expected boolean but got ${t!="object"?t:n?Array.isArray(n)?"array":t:"null"}: ${n}`);xi(t,e,n)}function Wc(t,e,n){if(n!=null){if(typeof n!="number"||!Number.isFinite(n))throw FL("int32");n|=0}xi(t,e,n)}function ft(t,e,n){if(n!=null&&typeof n!="number")throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);xi(t,e,n)}function Gl(t,e,n){e.g?e.m(t,e.g,e.h,n,!0):e.m(t,e.h,n,!0)}ol.prototype.toJSON=void 0,ol.prototype.Ja=hZ;var dt=class{constructor(t,e){this.s=vZ(t,e)}toJSON(){return TZ(this,hk(this.s,yU,void 0,void 0,!1),!0)}l(){var t=oMe;return t.g?t.l(this,t.g,t.h,!0):t.l(this,t.h,t.defaultValue,!0)}clone(){let t=this.s;return CU(this,t,jn(t),!1)}P(){return!!(2&hr(this.s))}};function TZ(t,e,n){var i=kIe?void 0:t.constructor.B;let r=jn(n?t.s:e);if(!(t=e.length))return e;let o,s;if(pU(n=e[t-1])){e:{var a=n;let d={},u=!1;for(var l in a){let p=a[l];if(Array.isArray(p)){let g=p;(XI(p,i,+l)||rX(p)&&p.size===0)&&(p=null),p!=g&&(u=!0)}p!=null?d[l]=p:u=!0}if(u){for(var c in d){a=d;break e}a=null}}a!=n&&(o=!0),t--}for(l=+!!(512&r)-1;0<t&&(n=e[c=t-1],c-=l,n==null||XI(n,i,c)||rX(n)&&n.size===0);t--)s=!0;return(o||s)&&(e=Array.prototype.slice.call(e,0,t),a&&e.push(a)),e}function IZ(t){return Array.isArray(t)?t[0]instanceof nf?t:[uke,t]:[t,void 0]}function Gg(t,e){if(Array.isArray(e)){var n=hr(e);if(4&n)return e;for(var i=0,r=0;i<e.length;i++){let o=t(e[i]);o!=null&&(e[r++]=o)}return r<i&&(e.length=r),ur(e,-12289&(5|n)),2&n&&Object.freeze(e),e}}dt.prototype.X=xy,dt.prototype.toString=function(){return TZ(this,this.s,!1).toString()};var uX=Symbol();function xU(t){let e=t[uX];if(!e){let n=MZ(t),i=TU(t),r=i.l;e=r?(o,s)=>r(o,s,i):(o,s)=>{for(;cZ(s)&&s.h!=4;){var a=s.m,l=i[a];if(!l){var c=i.ea;c&&(c=c[a])&&(l=i[a]=tke(c))}l&&l(s,o,a)||(a=(l=s).l,VI(l),l.ia?l=void 0:(c=l.g.g-a,l.g.g=a,l=lZ(l.g,c)),a=o,l&&(Jh||=Symbol(),(c=a[Jh])?c.push(l):a[Jh]=[l]))}n===kZ||n===QI||n.j||(o[HIe||=Symbol()]=n)},t[uX]=e}return e}function tke(t){let e=(t=IZ(t))[0].g;if(t=t[1]){let n=xU(t),i=TU(t).T;return(r,o,s)=>e(r,o,s,i,n)}return e}var fy=class{},kZ,QI,py=Symbol();function nke(t,e,n){let i=n[1],r;if(i){let o=i[py];r=o?o.T:tk(i[0]),t[e]=o??i}r&&r===_U?(t.g||(t.g=new Set)).add(e):n[0]&&(t.h||(t.h=new Set)).add(e)}function hX(t,e){return[t.l,!e||0<e[0]?void 0:e]}function MZ(t){var e=t[py];if(e)return e;if(!(e=SU(t,t[py]=new fy,hX,hX,nke)).ea&&!e.h&&!e.g){let n=!0;for(let i in e)isNaN(i)||(n=!1);n?(tk(t[0])===_U?QI?e=QI:((e=new fy).T=tk(!0),e=QI=e):e=kZ||=new fy,e=t[py]=e):e.j=!0}return e}function ike(t,e,n){t[e]=n}function SU(t,e,n,i,r=ike){e.T=tk(t[0]);let o=0;var s=t[++o];s&&s.constructor===Object&&(e.ea=s,typeof(s=t[++o])=="function"&&(e.l=s,e.m=t[++o],s=t[++o]));let a={};for(;Array.isArray(s)&&typeof s[0]=="number"&&0<s[0];){for(var l=0;l<s.length;l++)a[s[l]]=s;s=t[++o]}for(l=1;s!==void 0;){let u;typeof s=="number"&&(l+=s,s=t[++o]);var c=void 0;if(s instanceof nf?u=s:(u=hke,o--),u.pa){s=t[++o],c=t;var d=o;typeof s=="function"&&(s=s(),c[d]=s),c=s}for(d=l+1,typeof(s=t[++o])=="number"&&0>s&&(d-=s,s=t[++o]);l<d;l++){let p=a[l];r(e,l,c?i(u,c,p):n(u,p))}}return e}var fX=Symbol();function DZ(t){let e=t[fX];if(!e){let n=pk(t);e=(i,r)=>OZ(i,r,n),t[fX]=e}return e}var UL=Symbol();function rke(t){return t.h}function oke(t,e){let n,i,r=t.h;return(o,s,a)=>r(o,s,a,i||=pk(e).T,n||=DZ(e))}function pk(t){let e=t[UL];return e||(e=SU(t,t[UL]={},rke,oke),PZ(t),e)}var VL=Symbol();function ske(t,e){let n=t.g;return e?(i,r,o)=>n(i,r,o,e):n}function ake(t,e,n){let i=t.g,r,o;return(s,a,l)=>i(s,a,l,o||=TU(e).T,r||=xU(e),n)}function TU(t){let e=t[VL];return e||(MZ(t),e=SU(t,t[VL]={},ske,ake),PZ(t),e)}function PZ(t){VL in t&&py in t&&UL in t&&(t.length=0)}function pX(t,e){var n=t[e];if(n)return n;if((n=t.ea)&&(n=n[e])){var i=(n=IZ(n))[0].h;if(n=n[1]){let r=DZ(n),o=pk(n).T;n=(n=t.m)?n(o,r):(s,a,l)=>i(s,a,l,o,r)}else n=i;return t[e]=n}}function OZ(t,e,n){for(var i=jn(t),r=+!!(512&i)-1,o=t.length,s=512&i?1:0,a=o+(256&i?-1:0);s<a;s++){let l=t[s];if(l==null)continue;let c=s-r,d=pX(n,c);d&&d(e,l,c)}if(256&i){i=t[o-1];for(let l in i)r=+l,Number.isNaN(r)||(o=i[l])!=null&&(a=pX(n,r))&&a(e,o,r)}if(t=Jh?t[Jh]:void 0)for(Rg(e,e.g.end()),n=0;n<t.length;n++)Rg(e,eU(t[n])||ok())}function Us(t,e){return new nf(t,e,!1,!1)}function Wg(t,e){return new nf(t,e,!0,!1)}function mk(t,e){return new nf(t,e,!1,!0)}function Vs(t,e,n){Bi(t,jn(t),e,n)}var lke=mk(function(t,e,n,i,r){return t.h===2&&(t=wy(t,Jp([void 0,void 0],i),r),qc(i=jn(e)),(r=Yc(e,i,n))instanceof ol?(2&r.N)!=0?((r=r.Y()).push(t),Bi(e,i,n,r)):r.Oa(t):Array.isArray(r)?(2&hr(r)&&Bi(e,i,n,r=EZ(r)),r.push(t)):Bi(e,i,n,[t]),!0)},function(t,e,n,i,r){if(e instanceof ol)e.forEach((o,s)=>{RL(t,n,Jp([s,o],i),r)});else if(Array.isArray(e))for(let o=0;o<e.length;o++){let s=e[o];Array.isArray(s)&&RL(t,n,Jp(s,i),r)}});function RZ(t,e,n){e:if(e!=null){if(uk(e)){if(typeof e=="string"){e=gU(e);break e}if(typeof e=="number"){e=AU(e);break e}}e=void 0}e!=null&&(typeof e=="string"&&eX(e),e!=null&&(sl(t,n,0),typeof e=="number"?(t=t.g,Yp(e),qI(t,Ri,jr)):(n=eX(e),qI(t.g,n.h,n.g))))}function BZ(t,e,n){(e=jg(e))!=null&&e!=null&&(sl(t,n,0),lk(t.g,e))}function FZ(t,e,n){(e=AZ(e))!=null&&(sl(t,n,0),t.g.g.push(e?1:0))}function NZ(t,e,n){(e=Zp(e))!=null&&ck(t,n,qX(e))}function Ak(t,e,n,i,r){RL(t,n,e instanceof dt?e.s:Array.isArray(e)?Jp(e,i):void 0,r)}function LZ(t,e,n){(e=e==null||typeof e=="string"||Cy(e)||e instanceof wu?e:void 0)!=null&&ck(t,n,nU(e).buffer)}function UZ(t,e,n){return(t.h===5||t.h===2)&&(e=zg(e,jn(e),n,2,!1),t.h==2?ak(t,OL,e):e.push(OL(t.g)),!0)}var $r,Eu=Us(function(t,e,n){if(t.h!==1)return!1;var i=t.g;t=PL(i);let r=PL(i);i=2*(r>>31)+1;let o=r>>>20&2047;return t=4294967296*(1048575&r)+t,Vs(e,n,o==2047?t?NaN:1/0*i:o==0?i*Math.pow(2,-1074)*t:i*Math.pow(2,o-1075)*(t+4503599627370496)),!0},function(t,e,n){(e=lf(e))!=null&&(sl(t,n,1),t=t.g,(n=oZ||=new DataView(new ArrayBuffer(8))).setFloat64(0,+e,!0),Ri=n.getUint32(0,!0),jr=n.getUint32(4,!0),vy(t,Ri),vy(t,jr))}),no=Us(function(t,e,n){return t.h===5&&(Vs(e,n,OL(t.g)),!0)},function(t,e,n){(e=lf(e))!=null&&(sl(t,n,5),t=t.g,rU(e),vy(t,Ri))}),cke=Wg(UZ,function(t,e,n){if((e=Gg(lf,e))!=null)for(let s=0;s<e.length;s++){var i=t,r=n,o=e[s];o!=null&&(sl(i,r,5),i=i.g,rU(o),vy(i,Ri))}}),IU=Wg(UZ,function(t,e,n){if((e=Gg(lf,e))!=null&&e.length){sl(t,n,2),Ey(t.g,4*e.length);for(let i=0;i<e.length;i++)n=t.g,rU(e[i]),vy(n,Ri)}}),of=Us(function(t,e,n){return t.h===0&&(Vs(e,n,aU(t.g,oU)),!0)},RZ),SL=Us(function(t,e,n){return t.h===0&&(Vs(e,n,(t=aU(t.g,oU))===0?void 0:t),!0)},RZ),dke=Us(function(t,e,n){return t.h===0&&(Vs(e,n,aU(t.g,DL)),!0)},function(t,e,n){e:if(e!=null){if(uk(e)){if(typeof e=="string"){var i=Math.trunc(Number(e));Number.isSafeInteger(i)&&0<=i?e=String(i):((i=e.indexOf("."))!==-1&&(e=e.substring(0,i)),sX(e)||(sk(e),e=KI(Ri,jr)));break e}if(typeof e=="number"){e=0<=(e=Math.trunc(e))&&Number.isSafeInteger(e)?e:function(r){if(0>r){Yp(r);let o=KI(Ri,jr);return r=Number(o),Number.isSafeInteger(r)?r:o}return sX(String(r))?r:(Yp(r),DL(Ri,jr))}(e);break e}}e=void 0}e!=null&&(typeof e=="string"&&ZY(e),e!=null&&(sl(t,n,0),typeof e=="number"?(t=t.g,Yp(e),qI(t,Ri,jr)):(n=ZY(e),qI(t.g,n.h,n.g))))}),fr=Us(function(t,e,n){return t.h===0&&(Vs(e,n,ef(t.g)),!0)},BZ),gk=Wg(function(t,e,n){return(t.h===0||t.h===2)&&(e=zg(e,jn(e),n,2,!1),t.h==2?ak(t,ef,e):e.push(ef(t.g)),!0)},function(t,e,n){if((e=Gg(jg,e))!=null&&e.length){n=dU(t,n);for(let i=0;i<e.length;i++)lk(t.g,e[i]);uU(t,n)}}),Fg=Us(function(t,e,n){return t.h===0&&(Vs(e,n,(t=ef(t.g))===0?void 0:t),!0)},BZ),kr=Us(function(t,e,n){return t.h===0&&(Vs(e,n,lU(t.g)),!0)},FZ),my=Us(function(t,e,n){return t.h===0&&(Vs(e,n,(t=lU(t.g))===!1?void 0:t),!0)},FZ),Xo=Wg(function(t,e,n){return t.h===2&&(Ty(e,n,eke,t=cU(t)),!0)},function(t,e,n){if((e=Gg(Zp,e))!=null)for(let s=0;s<e.length;s++){var i=t,r=n,o=e[s];o!=null&&ck(i,r,qX(o))}}),sf=Us(function(t,e,n){return t.h===2&&(Vs(e,n,(t=cU(t))===""?void 0:t),!0)},NZ),di=Us(function(t,e,n){return t.h===2&&(Vs(e,n,cU(t)),!0)},NZ),uke=mk(function(t,e,n,i,r){return t.h===2&&(wy(t,EU(e,i,n,!0),r),!0)},Ak),hke=mk(function(t,e,n,i,r){return t.h===2&&(wy(t,EU(e,i,n),r),!0)},Ak);$r=new nf(function(t,e,n,i,r){if(t.h!==2)return!1;i=Jp(void 0,i);let o=jn(e);qc(o);let s=zg(e,o,n,3);return o=jn(e),4&hr(s)&&(s=ga(s),ur(s,-2079&(1|hr(s))),Bi(e,o,n,s)),s.push(i),wy(t,i,r),!0},function(t,e,n,i,r){if(Array.isArray(e))for(let o=0;o<e.length;o++)Ak(t,e[o],n,i,r)},!0,!0);var gi=mk(function(t,e,n,i,r,o){if(t.h!==2)return!1;let s=jn(e);return qc(s),(o=wU(e,s,o))&&n!==o&&Bi(e,s,o),wy(t,e=EU(e,i,n),r),!0},Ak),VZ=Us(function(t,e,n){return t.h===2&&(Vs(e,n,dZ(t)),!0)},LZ),fke=Wg(function(t,e,n){return(t.h===0||t.h===2)&&(e=zg(e,jn(e),n,2,!1),t.h==2?ak(t,tf,e):e.push(tf(t.g)),!0)},function(t,e,n){if((e=Gg($Ie,e))!=null)for(let s=0;s<e.length;s++){var i=t,r=n,o=e[s];o!=null&&(sl(i,r,0),Ey(i.g,o))}}),Kc=Us(function(t,e,n){return t.h===0&&(Vs(e,n,ef(t.g)),!0)},function(t,e,n){(e=jg(e))!=null&&(e=parseInt(e,10),sl(t,n,0),lk(t.g,e))}),pke=Wg(function(t,e,n){return(t.h===0||t.h===2)&&(e=zg(e,jn(e),n,2,!1),t.h==2?ak(t,NIe,e):e.push(ef(t.g)),!0)},function(t,e,n){if((e=Gg(jg,e))!=null&&e.length){n=dU(t,n);for(let i=0;i<e.length;i++)lk(t.g,e[i]);uU(t,n)}}),HL=class{constructor(e,n){this.h=e,this.g=n,this.l=yn,this.m=Ct,this.defaultValue=void 0}};function Wl(t,e){return new HL(t,e)}function cf(t,e){return(n,i)=>{if(FI.length){let o=FI.pop();o.o(i),CL(o.g,n,i),n=o}else n=new class{constructor(o,s){if(XY.length){let a=XY.pop();CL(a,o,s),o=a}else o=new class{constructor(a,l){this.h=null,this.m=!1,this.g=this.l=this.j=0,CL(this,a,l)}clear(){this.h=null,this.m=!1,this.g=this.l=this.j=0,this.ca=!1}}(o,s);this.g=o,this.l=this.g.g,this.h=this.m=-1,this.o(s)}o({ia:o=!1}={}){this.ia=o}}(n,i);try{let o=new t,s=o.s;xU(e)(s,n);var r=o}finally{n.g.clear(),n.m=-1,n.h=-1,100>FI.length&&FI.push(n)}return r}}function vk(t){return function(){let e=new class{constructor(){this.l=[],this.h=0,this.g=new class{constructor(){this.g=[]}length(){return this.g.length}end(){let s=this.g;return this.g=[],s}}}};OZ(this.s,e,pk(t)),Rg(e,e.g.end());let n=new Uint8Array(e.h),i=e.l,r=i.length,o=0;for(let s=0;s<r;s++){let a=i[s];n.set(a,o),o+=a.length}return e.l=[n],n}}var mX=class extends dt{constructor(t){super(t)}},HZ=[0,sf,Us(function(t,e,n){return t.h===2&&(Vs(e,n,(t=dZ(t))===em()?void 0:t),!0)},function(t,e,n){if(e!=null){if(e instanceof dt){let i=e.Qa;return void(i&&(e=i(e),e!=null&&ck(t,n,nU(e).buffer)))}if(Array.isArray(e))return}LZ(t,e,n)})],mke=[0,di],QZ=[0,fr,Kc,kr,-1,gk,Kc,-1],Ake=[0,kr,-1],jZ=class extends dt{constructor(){super()}};jZ.B=[6];var $Z=[0,kr,di,kr,Kc,-1,pke,di,-1,Ake,Kc],zZ=[0,di,-2],AX=class extends dt{constructor(){super()}},GZ=[0],WZ=[0,fr,kr,-4],va=class extends dt{constructor(t){super(t,2)}},ji={},gke=[-2,ji,kr];ji[336783863]=[0,di,kr,-1,fr,[0,[1,2,3,4,5,6],gi,GZ,gi,$Z,gi,zZ,gi,WZ,gi,QZ,gi,[0,di]],mke,kr,[0,[1,3],[2,4],gi,[0,gk],-1,gi,[0,Xo],-1,$r,[0,di,-1]],di];var vke=[0,sf,my],KZ=[0,SL,-1,my,-3,SL,gk,sf,Fg,SL,-1,my,Fg,my,-2,sf],Iy=[-1,{}],qZ=[0,di,1,Iy],YZ=[0,di,Xo,Iy];function _a(t,e){LL(t,2,$g(e),"")}function Si(t,e){Ty(t.s,3,Sy,e)}function pn(t,e){Ty(t.s,4,Sy,e)}var As=(()=>{let t=class extends dt{constructor(e){super(e,500)}o(e){return Ct(this,0,7,e)}};return t.B=[3,4,5,6,8,13,17,1005],t})(),_ke=[-500,sf,-1,Xo,-3,gke,$r,HZ,Fg,-1,qZ,YZ,$r,vke,sf,KZ,Fg,Xo,987,Xo],bke=[0,sf,-1,Iy],yke=[-500,di,-1,[-1,{}],998,di],Cke=[-500,di,Xo,-1,[-2,{},kr],997,Xo,-1],wke=[-500,di,Xo,Iy,998,Xo];function ba(t,e){ik(t,1,As,e)}function Fi(t,e){Ty(t.s,10,Sy,e)}function Tn(t,e){Ty(t.s,15,Sy,e)}var Hs=(()=>{let t=class extends dt{constructor(e){super(e,500)}o(e){return Ct(this,0,1001,e)}};return t.B=[1,6,7,9,10,15,16,17,14,1002],t})(),XZ=[-500,$r,_ke,4,$r,yke,$r,Cke,Fg,$r,wke,Xo,Fg,qZ,YZ,$r,bke,Xo,-2,KZ,sf,-1,my,979,Iy,$r,HZ],Eke=cf(Hs,XZ);Hs.prototype.g=vk(XZ);var xke=[0,$r,[0,fr,-2]],Ske=class extends dt{constructor(t){super(t)}},Tke=[0,fr,no,di,-1],kU=class extends dt{constructor(t){super(t)}g(){return xu(this,Ske,1)}};kU.B=[1];var ZZ=[0,$r,Tke],_k=cf(kU,ZZ),Ike=[0,fr,no],kke=[0,fr,-1,xke],Mke=class extends dt{constructor(t){super(t)}},Dke=[0,fr,-3],Pke=[0,no,-3],Oke=class extends dt{constructor(t){super(t)}},Rke=[0,no,-1,di,no],jI=class extends dt{constructor(t){super(t)}h(){return yn(this,Mke,2)}g(){return xu(this,Oke,5)}};jI.B=[5];var Bke=[0,Kc,Dke,Pke,kke,$r,Rke],JZ=class extends dt{constructor(t){super(t)}};JZ.B=[1,2,3,8,9];var eJ=cf(JZ,[0,Xo,gk,IU,Bke,di,-1,of,$r,Ike,Xo,of]),tJ=class extends dt{constructor(t){super(t)}},Fke=[0,no,-4],nJ=class extends dt{constructor(t){super(t)}};nJ.B=[1];var Pg=cf(nJ,[0,$r,Fke]),iJ=class extends dt{constructor(t){super(t)}},Nke=[0,no,-4],rJ=class extends dt{constructor(t){super(t)}};rJ.B=[1];var ky=cf(rJ,[0,$r,Nke]),oJ=class extends dt{constructor(t){super(t)}};oJ.B=[3];var Lke=[0,fr,-1,IU,Kc],sJ=class extends dt{constructor(){super()}};sJ.prototype.g=vk([0,no,-4,of]);var Uke=class extends dt{constructor(t){super(t)}},Vke=[0,1,fr,di,ZZ],aJ=class extends dt{constructor(t){super(t)}};aJ.B=[1];var Hke=cf(aJ,[0,$r,Vke,of]),QL=class extends dt{constructor(t){super(t)}};QL.B=[1];var Qke=class extends dt{constructor(t){super(t)}qa(){let t=yZ(this);return t??em()}},jke=class extends dt{constructor(t){super(t)}},lJ=[1,2],$ke=[0,lJ,gi,[0,IU],gi,[0,VZ],fr,di],cJ=class extends dt{constructor(t){super(t)}};cJ.B=[1];var zke=cf(cJ,[0,$r,$ke,of]),bk=class extends dt{constructor(t){super(t)}};bk.B=[4,5];var dJ=[0,di,fr,no,Xo,-1],gX=class extends dt{constructor(t){super(t)}},Gke=[0,kr,-1],vX=class extends dt{constructor(t){super(t)}},$I=[1,2,3,4,5],rk=class extends dt{constructor(t){super(t)}g(){return yZ(this)!=null}h(){return Zp(rf(this,2))!=null}},uJ=[0,VZ,di,[0,fr,of,-1],[0,dke,of]],$i=class extends dt{constructor(t){super(t)}g(){return AZ(rf(this,2))??!1}},Mr=[0,uJ,kr,[0,$I,gi,WZ,gi,$Z,gi,QZ,gi,GZ,gi,zZ],Kc],yk=class extends dt{constructor(t){super(t)}},MU=[0,Mr,no,-1,fr],Wke=Wl(502141897,yk);ji[502141897]=MU;var hJ=[0,uJ];ji[512499200]=hJ;var fJ=[0,hJ];ji[515723506]=fJ;var Kke=cf(class extends dt{constructor(t){super(t)}},[0,[0,Kc,-1,cke,fke],Lke]),pJ=[0,Mr];ji[508981768]=pJ;var mJ=class extends dt{constructor(t){super(t)}},DU=[0,Mr,no,pJ,kr],AJ=class extends dt{constructor(t){super(t)}},gJ=[0,Mr,MU,DU,no,fJ];ji[508968149]=DU;var qke=Wl(508968150,AJ);ji[508968150]=gJ;var vJ=class extends dt{constructor(t){super(t)}},Yke=Wl(513916220,vJ);ji[513916220]=[0,Mr,gJ,fr];var Mg=class extends dt{constructor(t){super(t)}h(){return yn(this,bk,2)}g(){xi(this,2)}},_J=[0,Mr,dJ];ji[478825465]=_J;var bJ=[0,Mr];ji[478825422]=bJ;var Xke=class extends dt{constructor(t){super(t)}},yJ=[0,Mr,bJ,_J,-1],CJ=class extends dt{constructor(t){super(t)}},wJ=[0,Mr,no,fr],PU=class extends dt{constructor(t){super(t)}},OU=[0,Mr,no],RU=class extends dt{constructor(t){super(t)}},EJ=[0,Mr,wJ,OU,no],xJ=class extends dt{constructor(t){super(t)}},Zke=[0,Mr,EJ,yJ];ji[463370452]=yJ,ji[464864288]=wJ,ji[474472470]=OU;var Jke=Wl(462713202,RU);ji[462713202]=EJ;var eMe=Wl(479097054,xJ);ji[479097054]=Zke;var tMe=class extends dt{constructor(t){super(t)}},nMe=[0,Mr],SJ=class extends dt{constructor(t){super(t)}},BU=[0,Mr,no,-1,fr];ji[514774813]=BU;var TJ=class extends dt{constructor(t){super(t)}},FU=[0,Mr,no,kr];ji[518928384]=FU;var IJ=class extends dt{constructor(){super()}};IJ.prototype.g=vk([0,Mr,OU,nMe,MU,DU,BU,FU]);var kJ=class extends dt{constructor(t){super(t)}},iMe=Wl(456383383,kJ);ji[456383383]=[0,Mr,dJ];var MJ=class extends dt{constructor(t){super(t)}},rMe=Wl(476348187,MJ);ji[476348187]=[0,Mr,Gke];var DJ=class extends dt{constructor(t){super(t)}},PJ=[0,Kc,-1],jL=class extends dt{constructor(t){super(t)}};jL.B=[3];var oMe=Wl(458105876,class extends dt{constructor(t){super(t)}g(){var t=this.s;let e=jn(t);var n=2&e;return t=function(i,r,o){var s=jL;let a=2&r,l=!1;if(o==null){if(a)return cX();o=[]}else if(o.constructor===ol){if((2&o.N)==0||a)return o;o=o.Y()}else Array.isArray(o)?l=!!(2&hr(o)):o=[];if(a){if(!o.length)return cX();l||(l=!0,Qg(o))}else l&&(l=!1,o=EZ(o));return l||(64&hr(o)?YI(o,32):32&r&&hU(o,32)),Bi(i,r,2,s=new ol(o,s,zIe,void 0),!1),s}(t,e,Yc(t,e,2)),t==null||!n&&jL&&(t.ta=!0),n=t}});ji[458105876]=[0,PJ,lke,[!0,of,[0,di,-1,Xo]]];var NU=class extends dt{constructor(t){super(t)}},OJ=Wl(458105758,NU);ji[458105758]=[0,Mr,di,PJ];var RJ=(()=>{let t=class extends dt{constructor(e){super(e)}};return t.B=[5,6],t})(),sMe=Wl(443442058,RJ);ji[443442058]=[0,Mr,di,fr,no,Xo,-1];var BJ=class extends dt{constructor(t){super(t)}},aMe=Wl(516587230,BJ);function $L(t,e){return e=e?e.clone():new bk,t.displayNamesLocale!==void 0?xi(e,1,$g(t.displayNamesLocale)):t.displayNamesLocale===void 0&&xi(e,1),t.maxResults!==void 0?Wc(e,2,t.maxResults):"maxResults"in t&&xi(e,2),t.scoreThreshold!==void 0?ft(e,3,t.scoreThreshold):"scoreThreshold"in t&&xi(e,3),t.categoryAllowlist!==void 0?nk(e,4,t.categoryAllowlist):"categoryAllowlist"in t&&xi(e,4),t.categoryDenylist!==void 0?nk(e,5,t.categoryDenylist):"categoryDenylist"in t&&xi(e,5),e}function LU(t,e=-1,n=""){return{categories:t.map(i=>({index:zl(rl(i,1),0)??-1,score:Ir(i,2)??0,categoryName:Gc(i,3)??"",displayName:Gc(i,4)??""})),headIndex:e,headName:n}}function FJ(t){var e=Dg(t,3,lf),n=Dg(t,2,jg),i=Dg(t,1,Zp),r=Dg(t,9,Zp);let o={categories:[],keypoints:[]};for(let s=0;s<e.length;s++)o.categories.push({score:e[s],index:n[s]??-1,categoryName:i[s]??"",displayName:r[s]??""});if((e=yn(t,jI,4)?.h())&&(o.boundingBox={originX:rl(e,1)??0,originY:rl(e,2)??0,width:rl(e,3)??0,height:rl(e,4)??0,angle:0}),yn(t,jI,4)?.g().length)for(let s of yn(t,jI,4).g())o.keypoints.push({x:HI(s,1)??0,y:HI(s,2)??0,score:HI(s,4)??0,label:Zp(rf(s,3))??""});return o}function Ck(t){let e=[];for(let n of xu(t,iJ,1))e.push({x:Ir(n,1)??0,y:Ir(n,2)??0,z:Ir(n,3)??0,visibility:Ir(n,4)??0});return e}function Ay(t){let e=[];for(let n of xu(t,tJ,1))e.push({x:Ir(n,1)??0,y:Ir(n,2)??0,z:Ir(n,3)??0,visibility:Ir(n,4)??0});return e}function _X(t){return Array.from(t,e=>127<e?e-256:e)}function bX(t,e){if(t.length!==e.length)throw Error(`Cannot compute cosine similarity between embeddings of different sizes (${t.length} vs. ${e.length}).`);let n=0,i=0,r=0;for(let o=0;o<t.length;o++)n+=t[o]*e[o],i+=t[o]*t[o],r+=e[o]*e[o];if(0>=i||0>=r)throw Error("Cannot compute cosine similarity on embedding with 0 norm.");return n/Math.sqrt(i*r)}var NI;ji[516587230]=[0,Mr,BU,FU,no];var lMe=new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]);function NJ(){return ue(this,null,function*(){if(NI===void 0)try{yield WebAssembly.instantiate(lMe),NI=!0}catch{NI=!1}return NI})}function sy(t,e=""){return ue(this,null,function*(){let n=(yield NJ())?"wasm_internal":"wasm_nosimd_internal";return{wasmLoaderPath:`${e}/${t}_${n}.js`,wasmBinaryPath:`${e}/${t}_${n}.wasm`}})}var Xh=class{};function LJ(){var t=navigator;return typeof OffscreenCanvas<"u"&&(!function(e=navigator){return(e=e.userAgent).includes("Safari")&&!e.includes("Chrome")}(t)||!!((t=t.userAgent.match(/Version\/([\d]+).*Safari/))&&1<=t.length&&17<=Number(t[1])))}function yX(t){return ue(this,null,function*(){if(typeof importScripts!="function"){let e=document.createElement("script");return e.src=t.toString(),e.crossOrigin="anonymous",new Promise((n,i)=>{e.addEventListener("load",()=>{n()},!1),e.addEventListener("error",r=>{i(r)},!1),document.body.appendChild(e)})}importScripts(t.toString())})}function UJ(t){return t.videoWidth!==void 0?[t.videoWidth,t.videoHeight]:t.naturalWidth!==void 0?[t.naturalWidth,t.naturalHeight]:t.displayWidth!==void 0?[t.displayWidth,t.displayHeight]:[t.width,t.height]}function vt(t,e,n){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target"),n(e=t.i.stringToNewUTF8(e)),t.i._free(e)}function CX(t,e,n){if(!t.i.canvas)throw Error("No OpenGL canvas configured.");if(n?t.i._bindTextureToStream(n):t.i._bindTextureToCanvas(),!(n=t.i.canvas.getContext("webgl2")||t.i.canvas.getContext("webgl")))throw Error("Failed to obtain WebGL context from the provided canvas. `getContext()` should only be invoked with `webgl` or `webgl2`.");t.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!0),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e),t.i.gpuOriginForWebTexturesIsBottomLeft&&n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1);let[i,r]=UJ(e);return!t.l||i===t.i.canvas.width&&r===t.i.canvas.height||(t.i.canvas.width=i,t.i.canvas.height=r),[i,r]}function wX(t,e,n){t.m||console.error("No wasm multistream support detected: ensure dependency inclusion of :gl_graph_runner_internal_multi_input target");let i=new Uint32Array(e.length);for(let r=0;r<e.length;r++)i[r]=t.i.stringToNewUTF8(e[r]);e=t.i._malloc(4*i.length),t.i.HEAPU32.set(i,e>>2),n(e);for(let r of i)t.i._free(r);t.i._free(e)}function Hc(t,e,n){t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=n}function Yh(t,e,n){let i=[];t.i.simpleListeners=t.i.simpleListeners||{},t.i.simpleListeners[e]=(r,o,s)=>{o?(n(i,s),i=[]):i.push(r)}}Xh.forVisionTasks=function(t){return sy("vision",t)},Xh.forTextTasks=function(t){return sy("text",t)},Xh.forGenAiExperimentalTasks=function(t){return sy("genai_experimental",t)},Xh.forGenAiTasks=function(t){return sy("genai",t)},Xh.forAudioTasks=function(t){return sy("audio",t)},Xh.isSimdSupported=function(){return NJ()};function cMe(t,e,n,i){return ue(this,null,function*(){return t=yield((r,o,s,a,l)=>ue(null,null,function*(){if(o&&(yield yX(o)),!self.ModuleFactory||s&&(yield yX(s),!self.ModuleFactory))throw Error("ModuleFactory not set.");return self.Module&&l&&((o=self.Module).locateFile=l.locateFile,l.mainScriptUrlOrBlob&&(o.mainScriptUrlOrBlob=l.mainScriptUrlOrBlob)),l=yield self.ModuleFactory(self.Module||l),self.ModuleFactory=self.Module=void 0,new r(l,a)}))(t,n.wasmLoaderPath,n.assetLoaderPath,e,{locateFile:r=>r.endsWith(".wasm")?n.wasmBinaryPath.toString():n.assetBinaryPath&&r.endsWith(".data")?n.assetBinaryPath.toString():r}),yield t.o(i),t})}function TL(t,e){let n=yn(t.baseOptions,rk,1)||new rk;typeof e=="string"?(xi(n,2,$g(e)),xi(n,1)):e instanceof Uint8Array&&(xi(n,1,mU(e,!1,!1)),xi(n,2)),Ct(t.baseOptions,0,1,n)}function EX(t){try{let e=t.K.length;if(e===1)throw Error(t.K[0].message);if(1<e)throw Error("Encountered multiple errors: "+t.K.map(n=>n.message).join(", "))}finally{t.K=[]}}function et(t,e){t.J=Math.max(t.J,e)}function wk(t,e){t.C=new As,_a(t.C,"PassThroughCalculator"),Si(t.C,"free_memory"),pn(t.C,"free_memory_unused_out"),Fi(e,"free_memory"),ba(e,t.C)}function Ng(t,e){Si(t.C,e),pn(t.C,e+"_unused_out")}function Ek(t){t.g.addBoolToStream(!0,"free_memory",t.J)}var zI=class{constructor(t){this.g=t,this.K=[],this.J=0,this.g.setAutoRenderToScreen(!1)}l(t,e=!0){if(e){let n=t.baseOptions||{};if(t.baseOptions?.modelAssetBuffer&&t.baseOptions?.modelAssetPath)throw Error("Cannot set both baseOptions.modelAssetPath and baseOptions.modelAssetBuffer");if(!(yn(this.baseOptions,rk,1)?.g()||yn(this.baseOptions,rk,1)?.h()||t.baseOptions?.modelAssetBuffer||t.baseOptions?.modelAssetPath))throw Error("Either baseOptions.modelAssetPath or baseOptions.modelAssetBuffer must be set");if(function(i,r){let o=yn(i.baseOptions,vX,3);if(!o){var s=o=new vX,a=new AX;hy(s,4,$I,a)}"delegate"in r&&(r.delegate==="GPU"?(r=o,s=new jZ,hy(r,2,$I,s)):(r=o,s=new AX,hy(r,4,$I,s))),Ct(i.baseOptions,0,3,o)}(this,n),n.modelAssetPath)return fetch(n.modelAssetPath.toString()).then(i=>{if(i.ok)return i.arrayBuffer();throw Error(`Failed to fetch model: ${n.modelAssetPath} (${i.status})`)}).then(i=>{try{this.g.i.FS_unlink("/model.dat")}catch{}this.g.i.FS_createDataFile("/","model.dat",new Uint8Array(i),!0,!1,!1),TL(this,"/model.dat"),this.m(),this.L()});if(n.modelAssetBuffer instanceof Uint8Array)TL(this,n.modelAssetBuffer);else if(n.modelAssetBuffer)return function(i){return ue(this,null,function*(){let r=[];for(var o=0;;){let{done:s,value:a}=yield i.read();if(s)break;r.push(a),o+=a.length}if(r.length===0)return new Uint8Array(0);if(r.length===1)return r[0];i=new Uint8Array(o),o=0;for(let s of r)i.set(s,o),o+=s.length;return i})}(n.modelAssetBuffer).then(i=>{TL(this,i),this.m(),this.L()})}return this.m(),this.L(),Promise.resolve()}L(){}fa(){let t;if(this.g.fa(e=>{t=Eke(e)}),!t)throw Error("Failed to retrieve CalculatorGraphConfig");return t}setGraph(t,e){this.g.attachErrorListener((n,i)=>{this.K.push(Error(i))}),this.g.Ma(),this.g.setGraph(t,e),this.C=void 0,EX(this)}finishProcessing(){this.g.finishProcessing(),EX(this)}close(){this.C=void 0,this.g.closeGraph()}};function ms(t,e){if(!t)throw Error(`Unable to obtain required WebGL resource: ${e}`);return t}zI.prototype.close=zI.prototype.close,function(t,e){t=t.split(".");var n,i=yy;for((t[0]in i)||i.execScript===void 0||i.execScript("var "+t[0]);t.length&&(n=t.shift());)t.length||e===void 0?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=e}("TaskRunner",zI);var zL=class{constructor(e,n,i,r){this.g=e,this.h=n,this.m=i,this.l=r}bind(){this.g.bindVertexArray(this.h)}close(){this.g.deleteVertexArray(this.h),this.g.deleteBuffer(this.m),this.g.deleteBuffer(this.l)}};function xX(t,e,n){let i=t.g;if(n=ms(i.createShader(n),"Failed to create WebGL shader"),i.shaderSource(n,e),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw Error(`Could not compile WebGL shader: ${i.getShaderInfoLog(n)}`);return i.attachShader(t.h,n),n}function SX(t,e){let n=t.g,i=ms(n.createVertexArray(),"Failed to create vertex array");n.bindVertexArray(i);let r=ms(n.createBuffer(),"Failed to create buffer");n.bindBuffer(n.ARRAY_BUFFER,r),n.enableVertexAttribArray(t.K),n.vertexAttribPointer(t.K,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW);let o=ms(n.createBuffer(),"Failed to create buffer");return n.bindBuffer(n.ARRAY_BUFFER,o),n.enableVertexAttribArray(t.J),n.vertexAttribPointer(t.J,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array(e?[0,1,0,0,1,0,1,1]:[0,0,0,1,1,1,1,0]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null),new zL(n,i,r,o)}function UU(t,e){if(t.g){if(e!==t.g)throw Error("Cannot change GL context once initialized")}else t.g=e}function My(t,e,n,i){return UU(t,e),t.h||(t.m(),t.D()),n?(t.v||(t.v=SX(t,!0)),n=t.v):(t.A||(t.A=SX(t,!1)),n=t.A),e.useProgram(t.h),n.bind(),t.l(),t=i(),n.g.bindVertexArray(null),t}function af(t,e,n){return UU(t,e),t=ms(e.createTexture(),"Failed to create texture"),e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n??e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n??e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),t}function xk(t,e,n){UU(t,e),t.u||(t.u=ms(e.createFramebuffer(),"Failed to create framebuffe.")),e.bindFramebuffer(e.FRAMEBUFFER,t.u),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)}function VU(t){t.g?.bindFramebuffer(t.g.FRAMEBUFFER,null)}var Kg=class{H(){return`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D inputTexture;
  void main() {
    gl_FragColor = texture2D(inputTexture, vTex);
  }
 `}m(){let t=this.g;if(this.h=ms(t.createProgram(),"Failed to create WebGL program"),this.ba=xX(this,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,t.VERTEX_SHADER),this.aa=xX(this,this.H(),t.FRAGMENT_SHADER),t.linkProgram(this.h),!t.getProgramParameter(this.h,t.LINK_STATUS))throw Error(`Error during program linking: ${t.getProgramInfoLog(this.h)}`);this.K=t.getAttribLocation(this.h,"aVertex"),this.J=t.getAttribLocation(this.h,"aTex")}D(){}l(){}close(){if(this.h){let t=this.g;t.deleteProgram(this.h),t.deleteShader(this.ba),t.deleteShader(this.aa)}this.u&&this.g.deleteFramebuffer(this.u),this.A&&this.A.close(),this.v&&this.v.close()}},dMe=class extends Kg{H(){return`
  precision mediump float;
  uniform sampler2D backgroundTexture;
  uniform sampler2D maskTexture;
  uniform sampler2D colorMappingTexture;
  varying vec2 vTex;
  void main() {
    vec4 backgroundColor = texture2D(backgroundTexture, vTex);
    float category = texture2D(maskTexture, vTex).r;
    vec4 categoryColor = texture2D(colorMappingTexture, vec2(category, 0.0));
    gl_FragColor = mix(backgroundColor, categoryColor, categoryColor.a);
  }
 `}D(){let t=this.g;t.activeTexture(t.TEXTURE1),this.C=af(this,t,t.LINEAR),t.activeTexture(t.TEXTURE2),this.j=af(this,t,t.NEAREST)}m(){super.m();let t=this.g;this.M=ms(t.getUniformLocation(this.h,"backgroundTexture"),"Uniform location"),this.V=ms(t.getUniformLocation(this.h,"colorMappingTexture"),"Uniform location"),this.L=ms(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();let t=this.g;t.uniform1i(this.L,0),t.uniform1i(this.M,1),t.uniform1i(this.V,2)}close(){this.C&&this.g.deleteTexture(this.C),this.j&&this.g.deleteTexture(this.j),super.close()}},uMe=class extends Kg{H(){return`
  precision mediump float;
  uniform sampler2D maskTexture;
  uniform sampler2D defaultTexture;
  uniform sampler2D overlayTexture;
  varying vec2 vTex;
  void main() {
    float confidence = texture2D(maskTexture, vTex).r;
    vec4 defaultColor = texture2D(defaultTexture, vTex);
    vec4 overlayColor = texture2D(overlayTexture, vTex);
    // Apply the alpha from the overlay and merge in the default color
    overlayColor = mix(defaultColor, overlayColor, overlayColor.a);
    gl_FragColor = mix(defaultColor, overlayColor, confidence);
  }
 `}D(){let t=this.g;t.activeTexture(t.TEXTURE1),this.j=af(this,t),t.activeTexture(t.TEXTURE2),this.C=af(this,t)}m(){super.m();let t=this.g;this.L=ms(t.getUniformLocation(this.h,"defaultTexture"),"Uniform location"),this.M=ms(t.getUniformLocation(this.h,"overlayTexture"),"Uniform location"),this.I=ms(t.getUniformLocation(this.h,"maskTexture"),"Uniform location")}l(){super.l();let t=this.g;t.uniform1i(this.I,0),t.uniform1i(this.L,1),t.uniform1i(this.M,2)}close(){this.j&&this.g.deleteTexture(this.j),this.C&&this.g.deleteTexture(this.C),super.close()}};function Cu(t,e){switch(e){case 0:return t.g.find(n=>n instanceof Uint8Array);case 1:return t.g.find(n=>n instanceof Float32Array);case 2:return t.g.find(n=>typeof WebGLTexture<"u"&&n instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function GL(t){var e=Cu(t,1);if(!e){if(e=Cu(t,0))e=new Float32Array(e).map(i=>i/255);else{e=new Float32Array(t.width*t.height);let i=Lg(t);var n=HU(t);if(xk(n,i,VJ(t)),"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in self.document){n=new Float32Array(t.width*t.height*4),i.readPixels(0,0,t.width,t.height,i.RGBA,i.FLOAT,n);for(let r=0,o=0;r<e.length;++r,o+=4)e[r]=n[o]}else i.readPixels(0,0,t.width,t.height,i.RED,i.FLOAT,e)}t.g.push(e)}return e}function VJ(t){let e=Cu(t,2);if(!e){let n=Lg(t);e=QJ(t);let i=GL(t),r=HJ(t);n.texImage2D(n.TEXTURE_2D,0,r,t.width,t.height,0,n.RED,n.FLOAT,i),WL(t)}return e}function Lg(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when initializing the image.");return t.h||(t.h=ms(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function HJ(t){if(t=Lg(t),!LI)if(t.getExtension("EXT_color_buffer_float")&&t.getExtension("OES_texture_float_linear")&&t.getExtension("EXT_float_blend"))LI=t.R32F;else{if(!t.getExtension("EXT_color_buffer_half_float"))throw Error("GPU does not fully support 4-channel float32 or float16 formats");LI=t.R16F}return LI}function HU(t){return t.l||(t.l=new Kg),t.l}function QJ(t){let e=Lg(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let n=Cu(t,2);return n||(n=af(HU(t),e,t.m?e.LINEAR:e.NEAREST),t.g.push(n),t.j=!0),e.bindTexture(e.TEXTURE_2D,n),n}function WL(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}var LI,to=class{constructor(t,e,n,i,r,o,s){this.g=t,this.m=e,this.j=n,this.canvas=i,this.l=r,this.width=o,this.height=s,this.j&&--TX===0&&console.error("You seem to be creating MPMask instances without invoking .close(). This leaks resources.")}Ha(){return!!Cu(this,0)}la(){return!!Cu(this,1)}R(){return!!Cu(this,2)}ka(){return(e=Cu(t=this,0))||(e=GL(t),e=new Uint8Array(e.map(n=>255*n)),t.g.push(e)),e;var t,e}ja(){return GL(this)}O(){return VJ(this)}clone(){let t=[];for(let e of this.g){let n;if(e instanceof Uint8Array)n=new Uint8Array(e);else if(e instanceof Float32Array)n=new Float32Array(e);else{if(!(e instanceof WebGLTexture))throw Error(`Type is not supported: ${e}`);{let i=Lg(this),r=HU(this);i.activeTexture(i.TEXTURE1),n=af(r,i,this.m?i.LINEAR:i.NEAREST),i.bindTexture(i.TEXTURE_2D,n);let o=HJ(this);i.texImage2D(i.TEXTURE_2D,0,o,this.width,this.height,0,i.RED,i.FLOAT,null),i.bindTexture(i.TEXTURE_2D,null),xk(r,i,n),My(r,i,!1,()=>{QJ(this),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLE_FAN,0,4),WL(this)}),VU(r),WL(this)}}t.push(n)}return new to(t,this.m,this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&Lg(this).deleteTexture(Cu(this,2)),TX=-1}};to.prototype.close=to.prototype.close,to.prototype.clone=to.prototype.clone,to.prototype.getAsWebGLTexture=to.prototype.O,to.prototype.getAsFloat32Array=to.prototype.ja,to.prototype.getAsUint8Array=to.prototype.ka,to.prototype.hasWebGLTexture=to.prototype.R,to.prototype.hasFloat32Array=to.prototype.la,to.prototype.hasUint8Array=to.prototype.Ha;var TX=250,hMe={color:"white",lineWidth:4,radius:6};function IL(t){return V(De(V({},hMe),{fillColor:(t=t||{}).color}),t)}function yu(t,e){return t instanceof Function?t(e):t}function IX(t,e,n){return Math.max(Math.min(e,n),Math.min(Math.max(e,n),t))}function ay(t){if(!t.l)throw Error("CPU rendering requested but CanvasRenderingContext2D not provided.");return t.l}function by(t){if(!t.j)throw Error("GPU rendering requested but WebGL2RenderingContext not provided.");return t.j}function kX(t,e,n){if(e.R())n(e.O());else{let i=e.la()?e.ja():e.ka();t.m=t.m??new Kg;let r=by(t);n((t=new to([i],e.m,!1,r.canvas,t.m,e.width,e.height)).O()),t.close()}}function MX(t,e,n,i){let r=function(a){return a.g||(a.g=new dMe),a.g}(t),o=by(t),s=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n;My(r,o,!0,()=>{(function(l,c,d,u){let p=l.g;if(p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,c),p.activeTexture(p.TEXTURE1),p.bindTexture(p.TEXTURE_2D,l.C),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,p.RGBA,p.UNSIGNED_BYTE,d),l.I&&function(g,v){if(g!==v)return!1;g=g.entries(),v=v.entries();for(let[x,T]of g){g=x;let k=T;var b=v.next();if(b.done)return!1;let[U,D]=b.value;if(b=D,g!==U||k[0]!==b[0]||k[1]!==b[1]||k[2]!==b[2]||k[3]!==b[3])return!1}return!!v.next().done}(l.I,u))p.activeTexture(p.TEXTURE2),p.bindTexture(p.TEXTURE_2D,l.j);else{l.I=u;let g=Array(1024).fill(0);u.forEach((v,b)=>{if(v.length!==4)throw Error(`Color at index ${b} is not a four-channel value.`);g[4*b]=v[0],g[4*b+1]=v[1],g[4*b+2]=v[2],g[4*b+3]=v[3]}),p.activeTexture(p.TEXTURE2),p.bindTexture(p.TEXTURE_2D,l.j),p.texImage2D(p.TEXTURE_2D,0,p.RGBA,256,1,0,p.RGBA,p.UNSIGNED_BYTE,new Uint8Array(g))}})(r,e,s,i),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLE_FAN,0,4);let a=r.g;a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE2),a.bindTexture(a.TEXTURE_2D,null)})}function DX(t,e,n,i){let r=by(t),o=function(l){return l.h||(l.h=new uMe),l.h}(t),s=Array.isArray(n)?new ImageData(new Uint8ClampedArray(n),1,1):n,a=Array.isArray(i)?new ImageData(new Uint8ClampedArray(i),1,1):i;My(o,r,!0,()=>{var l=o.g;l.activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,e),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,o.j),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,s),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,o.C),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,a),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,4),r.bindTexture(r.TEXTURE_2D,null),(l=o.g).activeTexture(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE1),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE2),l.bindTexture(l.TEXTURE_2D,null)})}var Ns=class{constructor(t,e){t instanceof CanvasRenderingContext2D||t instanceof OffscreenCanvasRenderingContext2D?(this.l=t,this.j=e):this.j=t}Aa(t,e){if(t){var n=ay(this);e=IL(e),n.save();var i=n.canvas,r=0;for(let o of t)n.fillStyle=yu(e.fillColor,{index:r,from:o}),n.strokeStyle=yu(e.color,{index:r,from:o}),n.lineWidth=yu(e.lineWidth,{index:r,from:o}),(t=new Path2D).arc(o.x*i.width,o.y*i.height,yu(e.radius,{index:r,from:o}),0,2*Math.PI),n.fill(t),n.stroke(t),++r;n.restore()}}za(t,e,n){if(t&&e){var i=ay(this);n=IL(n),i.save();var r=i.canvas,o=0;for(let s of e){i.beginPath(),e=t[s.start];let a=t[s.end];e&&a&&(i.strokeStyle=yu(n.color,{index:o,from:e,to:a}),i.lineWidth=yu(n.lineWidth,{index:o,from:e,to:a}),i.moveTo(e.x*r.width,e.y*r.height),i.lineTo(a.x*r.width,a.y*r.height)),++o,i.stroke()}i.restore()}}wa(t,e){let n=ay(this);e=IL(e),n.save(),n.beginPath(),n.lineWidth=yu(e.lineWidth,{}),n.strokeStyle=yu(e.color,{}),n.fillStyle=yu(e.fillColor,{}),n.moveTo(t.originX,t.originY),n.lineTo(t.originX+t.width,t.originY),n.lineTo(t.originX+t.width,t.originY+t.height),n.lineTo(t.originX,t.originY+t.height),n.lineTo(t.originX,t.originY),n.stroke(),n.fill(),n.restore()}xa(t,e,n=[0,0,0,255]){this.l?function(i,r,o,s){let a=by(i);kX(i,r,l=>{MX(i,l,o,s),(l=ay(i)).drawImage(a.canvas,0,0,l.canvas.width,l.canvas.height)})}(this,t,n,e):MX(this,t.O(),n,e)}ya(t,e,n){this.l?function(i,r,o,s){let a=by(i);kX(i,r,l=>{DX(i,l,o,s),(l=ay(i)).drawImage(a.canvas,0,0,l.canvas.width,l.canvas.height)})}(this,t,e,n):DX(this,t.O(),e,n)}close(){this.g?.close(),this.g=void 0,this.h?.close(),this.h=void 0,this.m?.close(),this.m=void 0}};function $c(t,e){switch(e){case 0:return t.g.find(n=>n instanceof ImageData);case 1:return t.g.find(n=>typeof ImageBitmap<"u"&&n instanceof ImageBitmap);case 2:return t.g.find(n=>typeof WebGLTexture<"u"&&n instanceof WebGLTexture);default:throw Error(`Type is not supported: ${e}`)}}function jJ(t){var e=$c(t,0);if(!e){e=Ug(t);let n=Sk(t),i=new Uint8Array(t.width*t.height*4);xk(n,e,GI(t)),e.readPixels(0,0,t.width,t.height,e.RGBA,e.UNSIGNED_BYTE,i),VU(n),e=new ImageData(new Uint8ClampedArray(i.buffer),t.width,t.height),t.g.push(e)}return e}function GI(t){let e=$c(t,2);if(!e){let n=Ug(t);e=WI(t);let i=$c(t,1)||jJ(t);n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,i),cy(t)}return e}function Ug(t){if(!t.canvas)throw Error("Conversion to different image formats require that a canvas is passed when iniitializing the image.");return t.h||(t.h=ms(t.canvas.getContext("webgl2"),"You cannot use a canvas that is already bound to a different type of rendering context.")),t.h}function Sk(t){return t.l||(t.l=new Kg),t.l}function WI(t){let e=Ug(t);e.viewport(0,0,t.width,t.height),e.activeTexture(e.TEXTURE0);let n=$c(t,2);return n||(n=af(Sk(t),e),t.g.push(n),t.m=!0),e.bindTexture(e.TEXTURE_2D,n),n}function cy(t){t.h.bindTexture(t.h.TEXTURE_2D,null)}function PX(t){let e=Ug(t);return My(Sk(t),e,!0,()=>function(n,i){let r=n.canvas;if(r.width===n.width&&r.height===n.height)return i();let o=r.width,s=r.height;return r.width=n.width,r.height=n.height,n=i(),r.width=o,r.height=s,n}(t,()=>{if(e.bindFramebuffer(e.FRAMEBUFFER,null),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_FAN,0,4),!(t.canvas instanceof OffscreenCanvas))throw Error("Conversion to ImageBitmap requires that the MediaPipe Tasks is initialized with an OffscreenCanvas");return t.canvas.transferToImageBitmap()}))}Ns.prototype.close=Ns.prototype.close,Ns.prototype.drawConfidenceMask=Ns.prototype.ya,Ns.prototype.drawCategoryMask=Ns.prototype.xa,Ns.prototype.drawBoundingBox=Ns.prototype.wa,Ns.prototype.drawConnectors=Ns.prototype.za,Ns.prototype.drawLandmarks=Ns.prototype.Aa,Ns.lerp=function(t,e,n,i,r){return IX(i*(1-(t-e)/(n-e))+r*(1-(n-t)/(n-e)),i,r)},Ns.clamp=IX;var fo=class{constructor(t,e,n,i,r,o,s){this.g=t,this.j=e,this.m=n,this.canvas=i,this.l=r,this.width=o,this.height=s,(this.j||this.m)&&--OX===0&&console.error("You seem to be creating MPImage instances without invoking .close(). This leaks resources.")}Ga(){return!!$c(this,0)}ma(){return!!$c(this,1)}R(){return!!$c(this,2)}Ea(){return jJ(this)}Da(){var t=$c(this,1);return t||(GI(this),WI(this),t=PX(this),cy(this),this.g.push(t),this.j=!0),t}O(){return GI(this)}clone(){let t=[];for(let e of this.g){let n;if(e instanceof ImageData)n=new ImageData(e.data,this.width,this.height);else if(e instanceof WebGLTexture){let i=Ug(this),r=Sk(this);i.activeTexture(i.TEXTURE1),n=af(r,i),i.bindTexture(i.TEXTURE_2D,n),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,this.width,this.height,0,i.RGBA,i.UNSIGNED_BYTE,null),i.bindTexture(i.TEXTURE_2D,null),xk(r,i,n),My(r,i,!1,()=>{WI(this),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLE_FAN,0,4),cy(this)}),VU(r),cy(this)}else{if(!(e instanceof ImageBitmap))throw Error(`Type is not supported: ${e}`);GI(this),WI(this),n=PX(this),cy(this)}t.push(n)}return new fo(t,this.ma(),this.R(),this.canvas,this.l,this.width,this.height)}close(){this.j&&$c(this,1).close(),this.m&&Ug(this).deleteTexture($c(this,2)),OX=-1}};fo.prototype.close=fo.prototype.close,fo.prototype.clone=fo.prototype.clone,fo.prototype.getAsWebGLTexture=fo.prototype.O,fo.prototype.getAsImageBitmap=fo.prototype.Da,fo.prototype.getAsImageData=fo.prototype.Ea,fo.prototype.hasWebGLTexture=fo.prototype.R,fo.prototype.hasImageBitmap=fo.prototype.ma,fo.prototype.hasImageData=fo.prototype.Ga;var OX=250;function Kl(...t){return t.map(([e,n])=>({start:e,end:n}))}var fMe=function(t){return class extends t{Ma(){this.i._registerModelResourcesGraphService()}}}((RX=class{constructor(t,e){this.l=!0,this.i=t,this.g=null,this.h=0,this.m=typeof this.i._addIntToInputStream=="function",e!==void 0?this.i.canvas=e:LJ()?this.i.canvas=new OffscreenCanvas(1,1):(console.warn("OffscreenCanvas not supported and GraphRunner constructor glCanvas parameter is undefined. Creating backup canvas."),this.i.canvas=document.createElement("canvas"))}initializeGraph(t){return ue(this,null,function*(){let e=yield(yield fetch(t)).arrayBuffer();t=!(t.endsWith(".pbtxt")||t.endsWith(".textproto")),this.setGraph(new Uint8Array(e),t)})}setGraphFromString(t){this.setGraph(new TextEncoder().encode(t),!1)}setGraph(t,e){let n=t.length,i=this.i._malloc(n);this.i.HEAPU8.set(t,i),e?this.i._changeBinaryGraph(n,i):this.i._changeTextGraph(n,i),this.i._free(i)}configureAudio(t,e,n,i,r){this.i._configureAudio||console.warn('Attempting to use configureAudio without support for input audio. Is build dep ":gl_graph_runner_audio" missing?'),vt(this,i||"input_audio",o=>{vt(this,r=r||"audio_header",s=>{this.i._configureAudio(o,s,t,e,n)})})}setAutoResizeCanvas(t){this.l=t}setAutoRenderToScreen(t){this.i._setAutoRenderToScreen(t)}setGpuBufferVerticalFlip(t){this.i.gpuOriginForWebTexturesIsBottomLeft=t}fa(t){Hc(this,"__graph_config__",e=>{t(e)}),vt(this,"__graph_config__",e=>{this.i._getGraphConfig(e,void 0)}),delete this.i.simpleListeners.__graph_config__}attachErrorListener(t){this.i.errorListener=t}attachEmptyPacketListener(t,e){this.i.emptyPacketListeners=this.i.emptyPacketListeners||{},this.i.emptyPacketListeners[t]=e}addAudioToStream(t,e,n){this.addAudioToStreamWithShape(t,0,0,e,n)}addAudioToStreamWithShape(t,e,n,i,r){let o=4*t.length;this.h!==o&&(this.g&&this.i._free(this.g),this.g=this.i._malloc(o),this.h=o),this.i.HEAPF32.set(t,this.g/4),vt(this,i,s=>{this.i._addAudioToInputStream(this.g,e,n,s,r)})}addGpuBufferToStream(t,e,n){vt(this,e,i=>{let[r,o]=CX(this,t,i);this.i._addBoundTextureToStream(i,r,o,n)})}addBoolToStream(t,e,n){vt(this,e,i=>{this.i._addBoolToInputStream(t,i,n)})}addDoubleToStream(t,e,n){vt(this,e,i=>{this.i._addDoubleToInputStream(t,i,n)})}addFloatToStream(t,e,n){vt(this,e,i=>{this.i._addFloatToInputStream(t,i,n)})}addIntToStream(t,e,n){vt(this,e,i=>{this.i._addIntToInputStream(t,i,n)})}addUintToStream(t,e,n){vt(this,e,i=>{this.i._addUintToInputStream(t,i,n)})}addStringToStream(t,e,n){vt(this,e,i=>{vt(this,t,r=>{this.i._addStringToInputStream(r,i,n)})})}addStringRecordToStream(t,e,n){vt(this,e,i=>{wX(this,Object.keys(t),r=>{wX(this,Object.values(t),o=>{this.i._addFlatHashMapToInputStream(r,o,Object.keys(t).length,i,n)})})})}addProtoToStream(t,e,n,i){vt(this,n,r=>{vt(this,e,o=>{let s=this.i._malloc(t.length);this.i.HEAPU8.set(t,s),this.i._addProtoToInputStream(s,t.length,o,r,i),this.i._free(s)})})}addEmptyPacketToStream(t,e){vt(this,t,n=>{this.i._addEmptyPacketToInputStream(n,e)})}addBoolVectorToStream(t,e,n){vt(this,e,i=>{let r=this.i._allocateBoolVector(t.length);if(!r)throw Error("Unable to allocate new bool vector on heap.");for(let o of t)this.i._addBoolVectorEntry(r,o);this.i._addBoolVectorToInputStream(r,i,n)})}addDoubleVectorToStream(t,e,n){vt(this,e,i=>{let r=this.i._allocateDoubleVector(t.length);if(!r)throw Error("Unable to allocate new double vector on heap.");for(let o of t)this.i._addDoubleVectorEntry(r,o);this.i._addDoubleVectorToInputStream(r,i,n)})}addFloatVectorToStream(t,e,n){vt(this,e,i=>{let r=this.i._allocateFloatVector(t.length);if(!r)throw Error("Unable to allocate new float vector on heap.");for(let o of t)this.i._addFloatVectorEntry(r,o);this.i._addFloatVectorToInputStream(r,i,n)})}addIntVectorToStream(t,e,n){vt(this,e,i=>{let r=this.i._allocateIntVector(t.length);if(!r)throw Error("Unable to allocate new int vector on heap.");for(let o of t)this.i._addIntVectorEntry(r,o);this.i._addIntVectorToInputStream(r,i,n)})}addUintVectorToStream(t,e,n){vt(this,e,i=>{let r=this.i._allocateUintVector(t.length);if(!r)throw Error("Unable to allocate new unsigned int vector on heap.");for(let o of t)this.i._addUintVectorEntry(r,o);this.i._addUintVectorToInputStream(r,i,n)})}addStringVectorToStream(t,e,n){vt(this,e,i=>{let r=this.i._allocateStringVector(t.length);if(!r)throw Error("Unable to allocate new string vector on heap.");for(let o of t)vt(this,o,s=>{this.i._addStringVectorEntry(r,s)});this.i._addStringVectorToInputStream(r,i,n)})}addBoolToInputSidePacket(t,e){vt(this,e,n=>{this.i._addBoolToInputSidePacket(t,n)})}addDoubleToInputSidePacket(t,e){vt(this,e,n=>{this.i._addDoubleToInputSidePacket(t,n)})}addFloatToInputSidePacket(t,e){vt(this,e,n=>{this.i._addFloatToInputSidePacket(t,n)})}addIntToInputSidePacket(t,e){vt(this,e,n=>{this.i._addIntToInputSidePacket(t,n)})}addUintToInputSidePacket(t,e){vt(this,e,n=>{this.i._addUintToInputSidePacket(t,n)})}addStringToInputSidePacket(t,e){vt(this,e,n=>{vt(this,t,i=>{this.i._addStringToInputSidePacket(i,n)})})}addProtoToInputSidePacket(t,e,n){vt(this,n,i=>{vt(this,e,r=>{let o=this.i._malloc(t.length);this.i.HEAPU8.set(t,o),this.i._addProtoToInputSidePacket(o,t.length,r,i),this.i._free(o)})})}addBoolVectorToInputSidePacket(t,e){vt(this,e,n=>{let i=this.i._allocateBoolVector(t.length);if(!i)throw Error("Unable to allocate new bool vector on heap.");for(let r of t)this.i._addBoolVectorEntry(i,r);this.i._addBoolVectorToInputSidePacket(i,n)})}addDoubleVectorToInputSidePacket(t,e){vt(this,e,n=>{let i=this.i._allocateDoubleVector(t.length);if(!i)throw Error("Unable to allocate new double vector on heap.");for(let r of t)this.i._addDoubleVectorEntry(i,r);this.i._addDoubleVectorToInputSidePacket(i,n)})}addFloatVectorToInputSidePacket(t,e){vt(this,e,n=>{let i=this.i._allocateFloatVector(t.length);if(!i)throw Error("Unable to allocate new float vector on heap.");for(let r of t)this.i._addFloatVectorEntry(i,r);this.i._addFloatVectorToInputSidePacket(i,n)})}addIntVectorToInputSidePacket(t,e){vt(this,e,n=>{let i=this.i._allocateIntVector(t.length);if(!i)throw Error("Unable to allocate new int vector on heap.");for(let r of t)this.i._addIntVectorEntry(i,r);this.i._addIntVectorToInputSidePacket(i,n)})}addUintVectorToInputSidePacket(t,e){vt(this,e,n=>{let i=this.i._allocateUintVector(t.length);if(!i)throw Error("Unable to allocate new unsigned int vector on heap.");for(let r of t)this.i._addUintVectorEntry(i,r);this.i._addUintVectorToInputSidePacket(i,n)})}addStringVectorToInputSidePacket(t,e){vt(this,e,n=>{let i=this.i._allocateStringVector(t.length);if(!i)throw Error("Unable to allocate new string vector on heap.");for(let r of t)vt(this,r,o=>{this.i._addStringVectorEntry(i,o)});this.i._addStringVectorToInputSidePacket(i,n)})}attachBoolListener(t,e){Hc(this,t,e),vt(this,t,n=>{this.i._attachBoolListener(n)})}attachBoolVectorListener(t,e){Yh(this,t,e),vt(this,t,n=>{this.i._attachBoolVectorListener(n)})}attachIntListener(t,e){Hc(this,t,e),vt(this,t,n=>{this.i._attachIntListener(n)})}attachIntVectorListener(t,e){Yh(this,t,e),vt(this,t,n=>{this.i._attachIntVectorListener(n)})}attachUintListener(t,e){Hc(this,t,e),vt(this,t,n=>{this.i._attachUintListener(n)})}attachUintVectorListener(t,e){Yh(this,t,e),vt(this,t,n=>{this.i._attachUintVectorListener(n)})}attachDoubleListener(t,e){Hc(this,t,e),vt(this,t,n=>{this.i._attachDoubleListener(n)})}attachDoubleVectorListener(t,e){Yh(this,t,e),vt(this,t,n=>{this.i._attachDoubleVectorListener(n)})}attachFloatListener(t,e){Hc(this,t,e),vt(this,t,n=>{this.i._attachFloatListener(n)})}attachFloatVectorListener(t,e){Yh(this,t,e),vt(this,t,n=>{this.i._attachFloatVectorListener(n)})}attachStringListener(t,e){Hc(this,t,e),vt(this,t,n=>{this.i._attachStringListener(n)})}attachStringVectorListener(t,e){Yh(this,t,e),vt(this,t,n=>{this.i._attachStringVectorListener(n)})}attachProtoListener(t,e,n){Hc(this,t,e),vt(this,t,i=>{this.i._attachProtoListener(i,n||!1)})}attachProtoVectorListener(t,e,n){Yh(this,t,e),vt(this,t,i=>{this.i._attachProtoVectorListener(i,n||!1)})}attachAudioListener(t,e,n){this.i._attachAudioListener||console.warn('Attempting to use attachAudioListener without support for output audio. Is build dep ":gl_graph_runner_audio_out" missing?'),Hc(this,t,(i,r)=>{i=new Float32Array(i.buffer,i.byteOffset,i.length/4),e(i,r)}),vt(this,t,i=>{this.i._attachAudioListener(i,n||!1)})}finishProcessing(){this.i._waitUntilIdle()}closeGraph(){this.i._closeGraph(),this.i.simpleListeners=void 0,this.i.emptyPacketListeners=void 0}},class extends RX{get ha(){return this.i}sa(t,e,n){vt(this,e,i=>{let[r,o]=CX(this,t,i);this.ha._addBoundTextureAsImageToStream(i,r,o,n)})}W(t,e){Hc(this,t,e),vt(this,t,n=>{this.ha._attachImageListener(n)})}da(t,e){Yh(this,t,e),vt(this,t,n=>{this.ha._attachImageVectorListener(n)})}})),RX,al=class extends fMe{};function dn(t,e,n){return ue(this,null,function*(){return function(i,r,o,s){return ue(this,null,function*(){return cMe(i,r,o,s)})}(t,n.canvas??(LJ()?void 0:document.createElement("canvas")),e,n)})}function $J(t,e,n,i){if(t.V){let o=new sJ;if(n?.regionOfInterest){if(!t.ra)throw Error("This task doesn't support region-of-interest.");var r=n.regionOfInterest;if(r.left>=r.right||r.top>=r.bottom)throw Error("Expected RectF with left < right and top < bottom.");if(0>r.left||0>r.top||1<r.right||1<r.bottom)throw Error("Expected RectF values to be in [0,1].");ft(o,1,(r.left+r.right)/2),ft(o,2,(r.top+r.bottom)/2),ft(o,4,r.right-r.left),ft(o,3,r.bottom-r.top)}else ft(o,1,.5),ft(o,2,.5),ft(o,4,1),ft(o,3,1);if(n?.rotationDegrees){if(n?.rotationDegrees%90!=0)throw Error("Expected rotation to be a multiple of 90\xB0.");if(ft(o,5,-Math.PI*n.rotationDegrees/180),n?.rotationDegrees%180!=0){let[s,a]=UJ(e);n=Ir(o,3)*a/s,r=Ir(o,4)*s/a,ft(o,4,n),ft(o,3,r)}}t.g.addProtoToStream(o.g(),"mediapipe.NormalizedRect",t.V,i)}t.g.sa(e,t.ba,i??performance.now()),t.finishProcessing()}function ll(t,e,n){if(t.baseOptions?.g())throw Error("Task is not initialized with image mode. 'runningMode' must be set to 'IMAGE'.");$J(t,e,n,t.J+1)}function Xc(t,e,n,i){if(!t.baseOptions?.g())throw Error("Task is not initialized with video mode. 'runningMode' must be set to 'VIDEO'.");$J(t,e,n,i)}function Vg(t,e,n,i){var r=e.data;let o=e.width,s=o*(e=e.height);if((r instanceof Uint8Array||r instanceof Float32Array)&&r.length!==s)throw Error("Unsupported channel count: "+r.length/s);return t=new to([r],n,!1,t.g.i.canvas,t.M,o,e),i?t.clone():t}var Ls=class extends zI{constructor(t,e,n,i){super(t),this.g=t,this.ba=e,this.V=n,this.ra=i,this.M=new Kg}l(t,e=!0){if("runningMode"in t&&_y(this.baseOptions,2,!!t.runningMode&&t.runningMode!=="IMAGE"),t.canvas!==void 0&&this.g.i.canvas!==t.canvas)throw Error("You must create a new task to reset the canvas.");return super.l(t,e)}close(){this.M.close(),super.close()}};Ls.prototype.close=Ls.prototype.close;var el=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect_in",!1),this.j={detections:[]},Ct(t=this.h=new yk,0,1,e=new $i),ft(this.h,2,.5),ft(this.h,3,.3)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){return"minDetectionConfidence"in t&&ft(this.h,2,t.minDetectionConfidence??.5),"minSuppressionThreshold"in t&&ft(this.h,3,t.minSuppressionThreshold??.3),this.l(t)}F(t,e){return this.j={detections:[]},ll(this,t,e),this.j}G(t,e,n){return this.j={detections:[]},Xc(this,t,n,e),this.j}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect_in"),Tn(t,"detections");let e=new va;Gl(e,Wke,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.face_detector.FaceDetectorGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect_in"),pn(n,"DETECTIONS:detections"),n.o(e),ba(t,n),this.g.attachProtoVectorListener("detections",(i,r)=>{for(let o of i)i=eJ(o),this.j.detections.push(FJ(i));et(this,r)}),this.g.attachEmptyPacketListener("detections",i=>{et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};el.prototype.detectForVideo=el.prototype.G,el.prototype.detect=el.prototype.F,el.prototype.setOptions=el.prototype.o,el.createFromModelPath=function(t,e){return ue(this,null,function*(){return dn(el,t,{baseOptions:{modelAssetPath:e}})})},el.createFromModelBuffer=function(t,e){return dn(el,t,{baseOptions:{modelAssetBuffer:e}})},el.createFromOptions=function(t,e){return dn(el,t,e)};var QU=Kl([61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]),jU=Kl([263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]),$U=Kl([276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]),zJ=Kl([474,475],[475,476],[476,477],[477,474]),zU=Kl([33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]),GU=Kl([46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]),GJ=Kl([469,470],[470,471],[471,472],[472,469]),WU=Kl([10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]),WJ=[...QU,...jU,...$U,...zU,...GU,...WU],KJ=Kl([127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]);function BX(t){t.u={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]}}var dr=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect",!1),this.u={faceLandmarks:[],faceBlendshapes:[],facialTransformationMatrixes:[]},this.outputFacialTransformationMatrixes=this.outputFaceBlendshapes=!1,Ct(t=this.h=new AJ,0,1,e=new $i),this.H=new mJ,Ct(this.h,0,3,this.H),this.j=new yk,Ct(this.h,0,2,this.j),Wc(this.j,4,1),ft(this.j,2,.5),ft(this.H,2,.5),ft(this.h,4,.5)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){return"numFaces"in t&&Wc(this.j,4,t.numFaces??1),"minFaceDetectionConfidence"in t&&ft(this.j,2,t.minFaceDetectionConfidence??.5),"minTrackingConfidence"in t&&ft(this.h,4,t.minTrackingConfidence??.5),"minFacePresenceConfidence"in t&&ft(this.H,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"outputFacialTransformationMatrixes"in t&&(this.outputFacialTransformationMatrixes=!!t.outputFacialTransformationMatrixes),this.l(t)}F(t,e){return BX(this),ll(this,t,e),this.u}G(t,e,n){return BX(this),Xc(this,t,n,e),this.u}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect"),Tn(t,"face_landmarks");let e=new va;Gl(e,qke,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.face_landmarker.FaceLandmarkerGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect"),pn(n,"NORM_LANDMARKS:face_landmarks"),n.o(e),ba(t,n),this.g.attachProtoVectorListener("face_landmarks",(i,r)=>{for(let o of i)i=ky(o),this.u.faceLandmarks.push(Ck(i));et(this,r)}),this.g.attachEmptyPacketListener("face_landmarks",i=>{et(this,i)}),this.outputFaceBlendshapes&&(Tn(t,"blendshapes"),pn(n,"BLENDSHAPES:blendshapes"),this.g.attachProtoVectorListener("blendshapes",(i,r)=>{if(this.outputFaceBlendshapes)for(let o of i)i=_k(o),this.u.faceBlendshapes.push(LU(i.g()??[]));et(this,r)}),this.g.attachEmptyPacketListener("blendshapes",i=>{et(this,i)})),this.outputFacialTransformationMatrixes&&(Tn(t,"face_geometry"),pn(n,"FACE_GEOMETRY:face_geometry"),this.g.attachProtoVectorListener("face_geometry",(i,r)=>{if(this.outputFacialTransformationMatrixes)for(let o of i)(i=yn(Kke(o),oJ,2))&&this.u.facialTransformationMatrixes.push({rows:zl(rl(i,1),0)??0,columns:zl(rl(i,2),0)??0,data:Dg(i,3,lf).slice()??[]});et(this,r)}),this.g.attachEmptyPacketListener("face_geometry",i=>{et(this,i)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};dr.prototype.detectForVideo=dr.prototype.G,dr.prototype.detect=dr.prototype.F,dr.prototype.setOptions=dr.prototype.o,dr.createFromModelPath=function(t,e){return dn(dr,t,{baseOptions:{modelAssetPath:e}})},dr.createFromModelBuffer=function(t,e){return dn(dr,t,{baseOptions:{modelAssetBuffer:e}})},dr.createFromOptions=function(t,e){return dn(dr,t,e)},dr.FACE_LANDMARKS_LIPS=QU,dr.FACE_LANDMARKS_LEFT_EYE=jU,dr.FACE_LANDMARKS_LEFT_EYEBROW=$U,dr.FACE_LANDMARKS_LEFT_IRIS=zJ,dr.FACE_LANDMARKS_RIGHT_EYE=zU,dr.FACE_LANDMARKS_RIGHT_EYEBROW=GU,dr.FACE_LANDMARKS_RIGHT_IRIS=GJ,dr.FACE_LANDMARKS_FACE_OVAL=WU,dr.FACE_LANDMARKS_CONTOURS=WJ,dr.FACE_LANDMARKS_TESSELATION=KJ;var Qc=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect",!0),Ct(t=this.j=new vJ,0,1,e=new $i)}get baseOptions(){return yn(this.j,$i,1)}set baseOptions(t){Ct(this.j,0,1,t)}o(t){return super.l(t)}Pa(t,e,n){let i=typeof e!="function"?e:{};if(this.h=typeof e=="function"?e:n,ll(this,t,i??{}),!this.h)return this.u}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect"),Tn(t,"stylized_image");let e=new va;Gl(e,Yke,this.j);let n=new As;_a(n,"mediapipe.tasks.vision.face_stylizer.FaceStylizerGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect"),pn(n,"STYLIZED_IMAGE:stylized_image"),n.o(e),ba(t,n),this.g.W("stylized_image",(i,r)=>{var o=!this.h,s=i.data,a=i.width;let l=a*(i=i.height);if(s instanceof Uint8Array)if(s.length===3*l){let c=new Uint8ClampedArray(4*l);for(let d=0;d<l;++d)c[4*d]=s[3*d],c[4*d+1]=s[3*d+1],c[4*d+2]=s[3*d+2],c[4*d+3]=255;s=new ImageData(c,a,i)}else{if(s.length!==4*l)throw Error("Unsupported channel count: "+s.length/l);s=new ImageData(new Uint8ClampedArray(s.buffer,s.byteOffset,s.length),a,i)}else if(!(s instanceof WebGLTexture))throw Error(`Unsupported format: ${s.constructor.name}`);a=new fo([s],!1,!1,this.g.i.canvas,this.M,a,i),this.u=o=o?a.clone():a,this.h&&this.h(o),et(this,r)}),this.g.attachEmptyPacketListener("stylized_image",i=>{this.u=null,this.h&&this.h(null),et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Qc.prototype.stylize=Qc.prototype.Pa,Qc.prototype.setOptions=Qc.prototype.o,Qc.createFromModelPath=function(t,e){return dn(Qc,t,{baseOptions:{modelAssetPath:e}})},Qc.createFromModelBuffer=function(t,e){return dn(Qc,t,{baseOptions:{modelAssetBuffer:e}})},Qc.createFromOptions=function(t,e){return dn(Qc,t,e)};var KU=Kl([0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]);function FX(t){t.gestures=[],t.landmarks=[],t.worldLandmarks=[],t.handedness=[]}function NX(t){return t.gestures.length===0?{gestures:[],landmarks:[],worldLandmarks:[],handedness:[],handednesses:[]}:{gestures:t.gestures,landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handedness:t.handedness,handednesses:t.handedness}}function LX(t,e=!0){let n=[];for(let r of t){var i=_k(r);t=[];for(let o of i.g())i=e&&rl(o,1)!=null?zl(rl(o,1),0):-1,t.push({score:Ir(o,2)??0,index:i,categoryName:Gc(o,3)??"",displayName:Gc(o,4)??""});n.push(t)}return n}var fa=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect",!1),this.gestures=[],this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Ct(t=this.v=new xJ,0,1,e=new $i),this.A=new RU,Ct(this.v,0,2,this.A),this.u=new PU,Ct(this.A,0,3,this.u),this.h=new CJ,Ct(this.A,0,2,this.h),this.j=new Xke,Ct(this.v,0,3,this.j),ft(this.h,2,.5),ft(this.A,4,.5),ft(this.u,2,.5)}get baseOptions(){return yn(this.v,$i,1)}set baseOptions(t){Ct(this.v,0,1,t)}o(t){if(Wc(this.h,3,t.numHands??1),"minHandDetectionConfidence"in t&&ft(this.h,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&ft(this.A,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&ft(this.u,2,t.minHandPresenceConfidence??.5),t.cannedGesturesClassifierOptions){var e=new Mg,n=e,i=$L(t.cannedGesturesClassifierOptions,yn(this.j,Mg,3)?.h());Ct(n,0,2,i),Ct(this.j,0,3,e)}else t.cannedGesturesClassifierOptions===void 0&&yn(this.j,Mg,3)?.g();return t.customGesturesClassifierOptions?(Ct(n=e=new Mg,0,2,i=$L(t.customGesturesClassifierOptions,yn(this.j,Mg,4)?.h())),Ct(this.j,0,4,e)):t.customGesturesClassifierOptions===void 0&&yn(this.j,Mg,4)?.g(),this.l(t)}Ka(t,e){return FX(this),ll(this,t,e),NX(this)}La(t,e,n){return FX(this),Xc(this,t,n,e),NX(this)}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect"),Tn(t,"hand_gestures"),Tn(t,"hand_landmarks"),Tn(t,"world_hand_landmarks"),Tn(t,"handedness");let e=new va;Gl(e,eMe,this.v);let n=new As;_a(n,"mediapipe.tasks.vision.gesture_recognizer.GestureRecognizerGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect"),pn(n,"HAND_GESTURES:hand_gestures"),pn(n,"LANDMARKS:hand_landmarks"),pn(n,"WORLD_LANDMARKS:world_hand_landmarks"),pn(n,"HANDEDNESS:handedness"),n.o(e),ba(t,n),this.g.attachProtoVectorListener("hand_landmarks",(i,r)=>{for(let o of i){i=ky(o);let s=[];for(let a of xu(i,iJ,1))s.push({x:Ir(a,1)??0,y:Ir(a,2)??0,z:Ir(a,3)??0,visibility:Ir(a,4)??0});this.landmarks.push(s)}et(this,r)}),this.g.attachEmptyPacketListener("hand_landmarks",i=>{et(this,i)}),this.g.attachProtoVectorListener("world_hand_landmarks",(i,r)=>{for(let o of i){i=Pg(o);let s=[];for(let a of xu(i,tJ,1))s.push({x:Ir(a,1)??0,y:Ir(a,2)??0,z:Ir(a,3)??0,visibility:Ir(a,4)??0});this.worldLandmarks.push(s)}et(this,r)}),this.g.attachEmptyPacketListener("world_hand_landmarks",i=>{et(this,i)}),this.g.attachProtoVectorListener("hand_gestures",(i,r)=>{this.gestures.push(...LX(i,!1)),et(this,r)}),this.g.attachEmptyPacketListener("hand_gestures",i=>{et(this,i)}),this.g.attachProtoVectorListener("handedness",(i,r)=>{this.handedness.push(...LX(i)),et(this,r)}),this.g.attachEmptyPacketListener("handedness",i=>{et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};function UX(t){return{landmarks:t.landmarks,worldLandmarks:t.worldLandmarks,handednesses:t.handedness,handedness:t.handedness}}fa.prototype.recognizeForVideo=fa.prototype.La,fa.prototype.recognize=fa.prototype.Ka,fa.prototype.setOptions=fa.prototype.o,fa.createFromModelPath=function(t,e){return dn(fa,t,{baseOptions:{modelAssetPath:e}})},fa.createFromModelBuffer=function(t,e){return dn(fa,t,{baseOptions:{modelAssetBuffer:e}})},fa.createFromOptions=function(t,e){return dn(fa,t,e)},fa.HAND_CONNECTIONS=KU;var pa=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Ct(t=this.j=new RU,0,1,e=new $i),this.u=new PU,Ct(this.j,0,3,this.u),this.h=new CJ,Ct(this.j,0,2,this.h),Wc(this.h,3,1),ft(this.h,2,.5),ft(this.u,2,.5),ft(this.j,4,.5)}get baseOptions(){return yn(this.j,$i,1)}set baseOptions(t){Ct(this.j,0,1,t)}o(t){return"numHands"in t&&Wc(this.h,3,t.numHands??1),"minHandDetectionConfidence"in t&&ft(this.h,2,t.minHandDetectionConfidence??.5),"minTrackingConfidence"in t&&ft(this.j,4,t.minTrackingConfidence??.5),"minHandPresenceConfidence"in t&&ft(this.u,2,t.minHandPresenceConfidence??.5),this.l(t)}F(t,e){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],ll(this,t,e),UX(this)}G(t,e,n){return this.landmarks=[],this.worldLandmarks=[],this.handedness=[],Xc(this,t,n,e),UX(this)}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect"),Tn(t,"hand_landmarks"),Tn(t,"world_hand_landmarks"),Tn(t,"handedness");let e=new va;Gl(e,Jke,this.j);let n=new As;_a(n,"mediapipe.tasks.vision.hand_landmarker.HandLandmarkerGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect"),pn(n,"LANDMARKS:hand_landmarks"),pn(n,"WORLD_LANDMARKS:world_hand_landmarks"),pn(n,"HANDEDNESS:handedness"),n.o(e),ba(t,n),this.g.attachProtoVectorListener("hand_landmarks",(i,r)=>{for(let o of i)i=ky(o),this.landmarks.push(Ck(i));et(this,r)}),this.g.attachEmptyPacketListener("hand_landmarks",i=>{et(this,i)}),this.g.attachProtoVectorListener("world_hand_landmarks",(i,r)=>{for(let o of i)i=Pg(o),this.worldLandmarks.push(Ay(i));et(this,r)}),this.g.attachEmptyPacketListener("world_hand_landmarks",i=>{et(this,i)}),this.g.attachProtoVectorListener("handedness",(i,r)=>{var o=this.handedness,s=o.push;let a=[];for(let l of i){i=_k(l);let c=[];for(let d of i.g())c.push({score:Ir(d,2)??0,index:zl(rl(d,1),0)??-1,categoryName:Gc(d,3)??"",displayName:Gc(d,4)??""});a.push(c)}s.call(o,...a),et(this,r)}),this.g.attachEmptyPacketListener("handedness",i=>{et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};pa.prototype.detectForVideo=pa.prototype.G,pa.prototype.detect=pa.prototype.F,pa.prototype.setOptions=pa.prototype.o,pa.createFromModelPath=function(t,e){return dn(pa,t,{baseOptions:{modelAssetPath:e}})},pa.createFromModelBuffer=function(t,e){return dn(pa,t,{baseOptions:{modelAssetBuffer:e}})},pa.createFromOptions=function(t,e){return dn(pa,t,e)},pa.HAND_CONNECTIONS=KU;var qJ=Kl([0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]);function VX(t){t.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]}}function HX(t){try{if(!t.I)return t.h;t.I(t.h)}finally{Ek(t)}}function UI(t,e){t=ky(t),e.push(Ck(t))}var Qi=class extends Ls{constructor(t,e){super(new al(t,e),"input_frames_image",null,!1),this.h={faceLandmarks:[],faceBlendshapes:[],poseLandmarks:[],poseWorldLandmarks:[],poseSegmentationMasks:[],leftHandLandmarks:[],leftHandWorldLandmarks:[],rightHandLandmarks:[],rightHandWorldLandmarks:[]},this.outputPoseSegmentationMasks=this.outputFaceBlendshapes=!1,Ct(t=this.A=new IJ,0,1,e=new $i),this.u=new PU,Ct(this.A,0,2,this.u),this.aa=new tMe,Ct(this.A,0,3,this.aa),this.j=new yk,Ct(this.A,0,4,this.j),this.H=new mJ,Ct(this.A,0,5,this.H),this.v=new SJ,Ct(this.A,0,6,this.v),this.D=new TJ,Ct(this.A,0,7,this.D),ft(this.j,2,.5),ft(this.j,3,.3),ft(this.H,2,.5),ft(this.v,2,.5),ft(this.v,3,.3),ft(this.D,2,.5),ft(this.u,2,.5)}get baseOptions(){return yn(this.A,$i,1)}set baseOptions(t){Ct(this.A,0,1,t)}o(t){return"minFaceDetectionConfidence"in t&&ft(this.j,2,t.minFaceDetectionConfidence??.5),"minFaceSuppressionThreshold"in t&&ft(this.j,3,t.minFaceSuppressionThreshold??.3),"minFacePresenceConfidence"in t&&ft(this.H,2,t.minFacePresenceConfidence??.5),"outputFaceBlendshapes"in t&&(this.outputFaceBlendshapes=!!t.outputFaceBlendshapes),"minPoseDetectionConfidence"in t&&ft(this.v,2,t.minPoseDetectionConfidence??.5),"minPoseSuppressionThreshold"in t&&ft(this.v,3,t.minPoseSuppressionThreshold??.3),"minPosePresenceConfidence"in t&&ft(this.D,2,t.minPosePresenceConfidence??.5),"outputPoseSegmentationMasks"in t&&(this.outputPoseSegmentationMasks=!!t.outputPoseSegmentationMasks),"minHandLandmarksConfidence"in t&&ft(this.u,2,t.minHandLandmarksConfidence??.5),this.l(t)}F(t,e,n){let i=typeof e!="function"?e:{};return this.I=typeof e=="function"?e:n,VX(this),ll(this,t,i),HX(this)}G(t,e,n,i){let r=typeof n!="function"?n:{};return this.I=typeof n=="function"?n:i,VX(this),Xc(this,t,r,e),HX(this)}m(){var t=new Hs;Fi(t,"input_frames_image"),Tn(t,"pose_landmarks"),Tn(t,"pose_world_landmarks"),Tn(t,"face_landmarks"),Tn(t,"left_hand_landmarks"),Tn(t,"left_hand_world_landmarks"),Tn(t,"right_hand_landmarks"),Tn(t,"right_hand_world_landmarks");let e=new va,n=new mX;LL(n,1,$g("type.googleapis.com/mediapipe.tasks.vision.holistic_landmarker.proto.HolisticLandmarkerGraphOptions"),""),function(r,o){if(o!=null)if(Array.isArray(o))xi(r,2,hk(o,yU,void 0,void 0,!1));else{if(!(typeof o=="string"||o instanceof wu||Cy(o)))throw Error("invalid value in Any.value field: "+o+" expected a ByteString, a base64 encoded string, a Uint8Array or a jspb array");LL(r,2,mU(o,!1,!1),em())}}(n,this.A.g());let i=new As;_a(i,"mediapipe.tasks.vision.holistic_landmarker.HolisticLandmarkerGraph"),ik(i,8,mX,n),Si(i,"IMAGE:input_frames_image"),pn(i,"POSE_LANDMARKS:pose_landmarks"),pn(i,"POSE_WORLD_LANDMARKS:pose_world_landmarks"),pn(i,"FACE_LANDMARKS:face_landmarks"),pn(i,"LEFT_HAND_LANDMARKS:left_hand_landmarks"),pn(i,"LEFT_HAND_WORLD_LANDMARKS:left_hand_world_landmarks"),pn(i,"RIGHT_HAND_LANDMARKS:right_hand_landmarks"),pn(i,"RIGHT_HAND_WORLD_LANDMARKS:right_hand_world_landmarks"),i.o(e),ba(t,i),wk(this,t),this.g.attachProtoListener("pose_landmarks",(r,o)=>{UI(r,this.h.poseLandmarks),et(this,o)}),this.g.attachEmptyPacketListener("pose_landmarks",r=>{et(this,r)}),this.g.attachProtoListener("pose_world_landmarks",(r,o)=>{var s=this.h.poseWorldLandmarks;r=Pg(r),s.push(Ay(r)),et(this,o)}),this.g.attachEmptyPacketListener("pose_world_landmarks",r=>{et(this,r)}),this.outputPoseSegmentationMasks&&(pn(i,"POSE_SEGMENTATION_MASK:pose_segmentation_mask"),Ng(this,"pose_segmentation_mask"),this.g.W("pose_segmentation_mask",(r,o)=>{this.h.poseSegmentationMasks=[Vg(this,r,!0,!this.I)],et(this,o)}),this.g.attachEmptyPacketListener("pose_segmentation_mask",r=>{this.h.poseSegmentationMasks=[],et(this,r)})),this.g.attachProtoListener("face_landmarks",(r,o)=>{UI(r,this.h.faceLandmarks),et(this,o)}),this.g.attachEmptyPacketListener("face_landmarks",r=>{et(this,r)}),this.outputFaceBlendshapes&&(Tn(t,"extra_blendshapes"),pn(i,"FACE_BLENDSHAPES:extra_blendshapes"),this.g.attachProtoListener("extra_blendshapes",(r,o)=>{var s=this.h.faceBlendshapes;this.outputFaceBlendshapes&&(r=_k(r),s.push(LU(r.g()??[]))),et(this,o)}),this.g.attachEmptyPacketListener("extra_blendshapes",r=>{et(this,r)})),this.g.attachProtoListener("left_hand_landmarks",(r,o)=>{UI(r,this.h.leftHandLandmarks),et(this,o)}),this.g.attachEmptyPacketListener("left_hand_landmarks",r=>{et(this,r)}),this.g.attachProtoListener("left_hand_world_landmarks",(r,o)=>{var s=this.h.leftHandWorldLandmarks;r=Pg(r),s.push(Ay(r)),et(this,o)}),this.g.attachEmptyPacketListener("left_hand_world_landmarks",r=>{et(this,r)}),this.g.attachProtoListener("right_hand_landmarks",(r,o)=>{UI(r,this.h.rightHandLandmarks),et(this,o)}),this.g.attachEmptyPacketListener("right_hand_landmarks",r=>{et(this,r)}),this.g.attachProtoListener("right_hand_world_landmarks",(r,o)=>{var s=this.h.rightHandWorldLandmarks;r=Pg(r),s.push(Ay(r)),et(this,o)}),this.g.attachEmptyPacketListener("right_hand_world_landmarks",r=>{et(this,r)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Qi.prototype.detectForVideo=Qi.prototype.G,Qi.prototype.detect=Qi.prototype.F,Qi.prototype.setOptions=Qi.prototype.o,Qi.createFromModelPath=function(t,e){return dn(Qi,t,{baseOptions:{modelAssetPath:e}})},Qi.createFromModelBuffer=function(t,e){return dn(Qi,t,{baseOptions:{modelAssetBuffer:e}})},Qi.createFromOptions=function(t,e){return dn(Qi,t,e)},Qi.HAND_CONNECTIONS=KU,Qi.POSE_CONNECTIONS=qJ,Qi.FACE_LANDMARKS_LIPS=QU,Qi.FACE_LANDMARKS_LEFT_EYE=jU,Qi.FACE_LANDMARKS_LEFT_EYEBROW=$U,Qi.FACE_LANDMARKS_LEFT_IRIS=zJ,Qi.FACE_LANDMARKS_RIGHT_EYE=zU,Qi.FACE_LANDMARKS_RIGHT_EYEBROW=GU,Qi.FACE_LANDMARKS_RIGHT_IRIS=GJ,Qi.FACE_LANDMARKS_FACE_OVAL=WU,Qi.FACE_LANDMARKS_CONTOURS=WJ,Qi.FACE_LANDMARKS_TESSELATION=KJ;var tl=class extends Ls{constructor(t,e){super(new al(t,e),"input_image","norm_rect",!0),this.j={classifications:[]},Ct(t=this.h=new kJ,0,1,e=new $i)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){return Ct(this.h,0,2,$L(t,yn(this.h,bk,2))),this.l(t)}ua(t,e){return this.j={classifications:[]},ll(this,t,e),this.j}va(t,e,n){return this.j={classifications:[]},Xc(this,t,n,e),this.j}m(){var t=new Hs;Fi(t,"input_image"),Fi(t,"norm_rect"),Tn(t,"classifications");let e=new va;Gl(e,iMe,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.image_classifier.ImageClassifierGraph"),Si(n,"IMAGE:input_image"),Si(n,"NORM_RECT:norm_rect"),pn(n,"CLASSIFICATIONS:classifications"),n.o(e),ba(t,n),this.g.attachProtoListener("classifications",(i,r)=>{this.j=function(o){let s={classifications:xu(o,Uke,1).map(a=>LU(yn(a,kU,4)?.g()??[],zl(rl(a,2),0),Gc(a,3)))};return JI(rf(o,2))!=null&&(s.timestampMs=zl(JI(rf(o,2)),0)),s}(Hke(i)),et(this,r)}),this.g.attachEmptyPacketListener("classifications",i=>{et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};tl.prototype.classifyForVideo=tl.prototype.va,tl.prototype.classify=tl.prototype.ua,tl.prototype.setOptions=tl.prototype.o,tl.createFromModelPath=function(t,e){return dn(tl,t,{baseOptions:{modelAssetPath:e}})},tl.createFromModelBuffer=function(t,e){return dn(tl,t,{baseOptions:{modelAssetBuffer:e}})},tl.createFromOptions=function(t,e){return dn(tl,t,e)};var ma=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect",!0),this.h=new MJ,this.embeddings={embeddings:[]},Ct(t=this.h,0,1,e=new $i)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){var e=this.h,n=yn(this.h,gX,2);return n=n?n.clone():new gX,t.l2Normalize!==void 0?_y(n,1,t.l2Normalize):"l2Normalize"in t&&xi(n,1),t.quantize!==void 0?_y(n,2,t.quantize):"quantize"in t&&xi(n,2),Ct(e,0,2,n),this.l(t)}Ba(t,e){return ll(this,t,e),this.embeddings}Ca(t,e,n){return Xc(this,t,n,e),this.embeddings}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect"),Tn(t,"embeddings_out");let e=new va;Gl(e,rMe,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.image_embedder.ImageEmbedderGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect"),pn(n,"EMBEDDINGS:embeddings_out"),n.o(e),ba(t,n),this.g.attachProtoListener("embeddings_out",(i,r)=>{i=zke(i),this.embeddings=function(o){return{embeddings:xu(o,jke,1).map(s=>{let a={headIndex:zl(rl(s,3),0)??-1,headName:Gc(s,4)??""};if(xZ(s,QL,xL(s,1))!==void 0)s=Dg(s=yn(s,QL,xL(s,1)),1,lf),a.floatEmbedding=s.slice();else{let l=new Uint8Array(0);a.quantizedEmbedding=yn(s,Qke,xL(s,2))?.qa()?.h()??l}return a}),timestampMs:zl(JI(rf(o,2)),0)}}(i),et(this,r)}),this.g.attachEmptyPacketListener("embeddings_out",i=>{et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};ma.cosineSimilarity=function(t,e){if(t.floatEmbedding&&e.floatEmbedding)t=bX(t.floatEmbedding,e.floatEmbedding);else{if(!t.quantizedEmbedding||!e.quantizedEmbedding)throw Error("Cannot compute cosine similarity between quantized and float embeddings.");t=bX(_X(t.quantizedEmbedding),_X(e.quantizedEmbedding))}return t},ma.prototype.embedForVideo=ma.prototype.Ca,ma.prototype.embed=ma.prototype.Ba,ma.prototype.setOptions=ma.prototype.o,ma.createFromModelPath=function(t,e){return dn(ma,t,{baseOptions:{modelAssetPath:e}})},ma.createFromModelBuffer=function(t,e){return dn(ma,t,{baseOptions:{modelAssetBuffer:e}})},ma.createFromOptions=function(t,e){return dn(ma,t,e)};var KL=class{constructor(t,e,n){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=n}close(){this.confidenceMasks?.forEach(t=>{t.close()}),this.categoryMask?.close()}};function QX(t){t.categoryMask=void 0,t.confidenceMasks=void 0,t.qualityScores=void 0}function jX(t){try{let e=new KL(t.confidenceMasks,t.categoryMask,t.qualityScores);if(!t.j)return e;t.j(e)}finally{Ek(t)}}KL.prototype.close=KL.prototype.close;var qo=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect",!1),this.u=[],this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new NU,this.v=new DJ,Ct(this.h,0,3,this.v),Ct(t=this.h,0,1,e=new $i)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?xi(this.h,2,$g(t.displayNamesLocale)):"displayNamesLocale"in t&&xi(this.h,2),"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}L(){(function(t){let e=xu(t.fa(),As,1).filter(n=>Gc(n,1).includes("mediapipe.tasks.TensorsToSegmentationCalculator"));if(t.u=[],1<e.length)throw Error("The graph has more than one mediapipe.tasks.TensorsToSegmentationCalculator.");e.length===1&&(yn(e[0],va,7)?.l()?.g()??new Map).forEach((n,i)=>{t.u[Number(i)]=Gc(n,1)})})(this)}ga(t,e,n){let i=typeof e!="function"?e:{};return this.j=typeof e=="function"?e:n,QX(this),ll(this,t,i),jX(this)}Na(t,e,n,i){let r=typeof n!="function"?n:{};return this.j=typeof n=="function"?n:i,QX(this),Xc(this,t,r,e),jX(this)}Fa(){return this.u}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect");let e=new va;Gl(e,OJ,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.image_segmenter.ImageSegmenterGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect"),n.o(e),ba(t,n),wk(this,t),this.outputConfidenceMasks&&(Tn(t,"confidence_masks"),pn(n,"CONFIDENCE_MASKS:confidence_masks"),Ng(this,"confidence_masks"),this.g.da("confidence_masks",(i,r)=>{this.confidenceMasks=i.map(o=>Vg(this,o,!0,!this.j)),et(this,r)}),this.g.attachEmptyPacketListener("confidence_masks",i=>{this.confidenceMasks=[],et(this,i)})),this.outputCategoryMask&&(Tn(t,"category_mask"),pn(n,"CATEGORY_MASK:category_mask"),Ng(this,"category_mask"),this.g.W("category_mask",(i,r)=>{this.categoryMask=Vg(this,i,!1,!this.j),et(this,r)}),this.g.attachEmptyPacketListener("category_mask",i=>{this.categoryMask=void 0,et(this,i)})),Tn(t,"quality_scores"),pn(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(i,r)=>{this.qualityScores=i,et(this,r)}),this.g.attachEmptyPacketListener("quality_scores",i=>{this.categoryMask=void 0,et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};qo.prototype.getLabels=qo.prototype.Fa,qo.prototype.segmentForVideo=qo.prototype.Na,qo.prototype.segment=qo.prototype.ga,qo.prototype.setOptions=qo.prototype.o,qo.createFromModelPath=function(t,e){return dn(qo,t,{baseOptions:{modelAssetPath:e}})},qo.createFromModelBuffer=function(t,e){return dn(qo,t,{baseOptions:{modelAssetBuffer:e}})},qo.createFromOptions=function(t,e){return dn(qo,t,e)};var qL=class{constructor(t,e,n){this.confidenceMasks=t,this.categoryMask=e,this.qualityScores=n}close(){this.confidenceMasks?.forEach(t=>{t.close()}),this.categoryMask?.close()}};qL.prototype.close=qL.prototype.close;var pMe=class extends dt{constructor(t){super(t)}},Hg=[0,fr,-2],mMe=[0,Eu,-3,kr],Tk=[0,Eu,-3,kr,Eu,-1],YJ=[0,Tk],AMe=[0,YJ,Hg],gMe=[0,Tk,Hg],XJ=[0,Tk,fr,-1],vMe=[0,XJ,Hg],_Me=[0,Eu,-3,kr,Hg,-1],bMe=[0,Eu,-3,kr,Kc],kL=class extends dt{constructor(t){super(t)}},$X=[0,Eu,-1,kr],ZJ=class extends dt{constructor(){super()}};ZJ.B=[1];var zX=class extends dt{constructor(t){super(t)}},YL=[1,2,3,4,5,6,7,8,9,10,14,15],yMe=[0,YL,gi,Tk,gi,gMe,gi,YJ,gi,AMe,gi,$X,gi,bMe,gi,mMe,gi,[0,di,Eu,-2,kr,fr,kr,-1,2,Eu,Hg],gi,XJ,gi,vMe,Eu,Hg,di,gi,_Me,gi,[0,$r,$X]],CMe=[0,di,fr,-1,kr],XL=class extends dt{constructor(){super()}};XL.B=[1],XL.prototype.g=vk([0,$r,yMe,di,CMe]);var jc=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect_in",!1),this.outputCategoryMask=!1,this.outputConfidenceMasks=!0,this.h=new NU,this.v=new DJ,Ct(this.h,0,3,this.v),Ct(t=this.h,0,1,e=new $i)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){return"outputCategoryMask"in t&&(this.outputCategoryMask=t.outputCategoryMask??!1),"outputConfidenceMasks"in t&&(this.outputConfidenceMasks=t.outputConfidenceMasks??!0),super.l(t)}ga(t,e,n,i){let r=typeof n!="function"?n:{};this.j=typeof n=="function"?n:i,this.qualityScores=this.categoryMask=this.confidenceMasks=void 0,n=this.J+1,i=new XL;let o=new zX;var s=new pMe;if(Wc(s,1,255),Ct(o,0,12,s),e.keypoint&&e.scribble)throw Error("Cannot provide both keypoint and scribble.");if(e.keypoint){var a=new kL;_y(a,3,!0),ft(a,1,e.keypoint.x),ft(a,2,e.keypoint.y),hy(o,5,YL,a)}else{if(!e.scribble)throw Error("Must provide either a keypoint or a scribble.");for(a of(s=new ZJ,e.scribble))_y(e=new kL,3,!0),ft(e,1,a.x),ft(e,2,a.y),ik(s,1,kL,e);hy(o,15,YL,s)}ik(i,1,zX,o),this.g.addProtoToStream(i.g(),"drishti.RenderData","roi_in",n),ll(this,t,r);e:{try{let c=new qL(this.confidenceMasks,this.categoryMask,this.qualityScores);if(!this.j){var l=c;break e}this.j(c)}finally{Ek(this)}l=void 0}return l}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"roi_in"),Fi(t,"norm_rect_in");let e=new va;Gl(e,OJ,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.interactive_segmenter.InteractiveSegmenterGraph"),Si(n,"IMAGE:image_in"),Si(n,"ROI:roi_in"),Si(n,"NORM_RECT:norm_rect_in"),n.o(e),ba(t,n),wk(this,t),this.outputConfidenceMasks&&(Tn(t,"confidence_masks"),pn(n,"CONFIDENCE_MASKS:confidence_masks"),Ng(this,"confidence_masks"),this.g.da("confidence_masks",(i,r)=>{this.confidenceMasks=i.map(o=>Vg(this,o,!0,!this.j)),et(this,r)}),this.g.attachEmptyPacketListener("confidence_masks",i=>{this.confidenceMasks=[],et(this,i)})),this.outputCategoryMask&&(Tn(t,"category_mask"),pn(n,"CATEGORY_MASK:category_mask"),Ng(this,"category_mask"),this.g.W("category_mask",(i,r)=>{this.categoryMask=Vg(this,i,!1,!this.j),et(this,r)}),this.g.attachEmptyPacketListener("category_mask",i=>{this.categoryMask=void 0,et(this,i)})),Tn(t,"quality_scores"),pn(n,"QUALITY_SCORES:quality_scores"),this.g.attachFloatVectorListener("quality_scores",(i,r)=>{this.qualityScores=i,et(this,r)}),this.g.attachEmptyPacketListener("quality_scores",i=>{this.categoryMask=void 0,et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};jc.prototype.segment=jc.prototype.ga,jc.prototype.setOptions=jc.prototype.o,jc.createFromModelPath=function(t,e){return dn(jc,t,{baseOptions:{modelAssetPath:e}})},jc.createFromModelBuffer=function(t,e){return dn(jc,t,{baseOptions:{modelAssetBuffer:e}})},jc.createFromOptions=function(t,e){return dn(jc,t,e)};var nl=class extends Ls{constructor(t,e){super(new al(t,e),"input_frame_gpu","norm_rect",!1),this.j={detections:[]},Ct(t=this.h=new RJ,0,1,e=new $i)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){return t.displayNamesLocale!==void 0?xi(this.h,2,$g(t.displayNamesLocale)):"displayNamesLocale"in t&&xi(this.h,2),t.maxResults!==void 0?Wc(this.h,3,t.maxResults):"maxResults"in t&&xi(this.h,3),t.scoreThreshold!==void 0?ft(this.h,4,t.scoreThreshold):"scoreThreshold"in t&&xi(this.h,4),t.categoryAllowlist!==void 0?nk(this.h,5,t.categoryAllowlist):"categoryAllowlist"in t&&xi(this.h,5),t.categoryDenylist!==void 0?nk(this.h,6,t.categoryDenylist):"categoryDenylist"in t&&xi(this.h,6),this.l(t)}F(t,e){return this.j={detections:[]},ll(this,t,e),this.j}G(t,e,n){return this.j={detections:[]},Xc(this,t,n,e),this.j}m(){var t=new Hs;Fi(t,"input_frame_gpu"),Fi(t,"norm_rect"),Tn(t,"detections");let e=new va;Gl(e,sMe,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.ObjectDetectorGraph"),Si(n,"IMAGE:input_frame_gpu"),Si(n,"NORM_RECT:norm_rect"),pn(n,"DETECTIONS:detections"),n.o(e),ba(t,n),this.g.attachProtoVectorListener("detections",(i,r)=>{for(let o of i)i=eJ(o),this.j.detections.push(FJ(i));et(this,r)}),this.g.attachEmptyPacketListener("detections",i=>{et(this,i)}),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};nl.prototype.detectForVideo=nl.prototype.G,nl.prototype.detect=nl.prototype.F,nl.prototype.setOptions=nl.prototype.o,nl.createFromModelPath=function(t,e){return ue(this,null,function*(){return dn(nl,t,{baseOptions:{modelAssetPath:e}})})},nl.createFromModelBuffer=function(t,e){return dn(nl,t,{baseOptions:{modelAssetBuffer:e}})},nl.createFromOptions=function(t,e){return dn(nl,t,e)};var ZL=class{constructor(t,e,n){this.landmarks=t,this.worldLandmarks=e,this.segmentationMasks=n}close(){this.segmentationMasks?.forEach(t=>{t.close()})}};function GX(t){t.landmarks=[],t.worldLandmarks=[],t.segmentationMasks=void 0}function WX(t){try{let e=new ZL(t.landmarks,t.worldLandmarks,t.segmentationMasks);if(!t.j)return e;t.j(e)}finally{Ek(t)}}ZL.prototype.close=ZL.prototype.close;var Aa=class extends Ls{constructor(t,e){super(new al(t,e),"image_in","norm_rect",!1),this.landmarks=[],this.worldLandmarks=[],this.outputSegmentationMasks=!1,Ct(t=this.h=new BJ,0,1,e=new $i),this.D=new TJ,Ct(this.h,0,3,this.D),this.v=new SJ,Ct(this.h,0,2,this.v),Wc(this.v,4,1),ft(this.v,2,.5),ft(this.D,2,.5),ft(this.h,4,.5)}get baseOptions(){return yn(this.h,$i,1)}set baseOptions(t){Ct(this.h,0,1,t)}o(t){return"numPoses"in t&&Wc(this.v,4,t.numPoses??1),"minPoseDetectionConfidence"in t&&ft(this.v,2,t.minPoseDetectionConfidence??.5),"minTrackingConfidence"in t&&ft(this.h,4,t.minTrackingConfidence??.5),"minPosePresenceConfidence"in t&&ft(this.D,2,t.minPosePresenceConfidence??.5),"outputSegmentationMasks"in t&&(this.outputSegmentationMasks=t.outputSegmentationMasks??!1),this.l(t)}F(t,e,n){let i=typeof e!="function"?e:{};return this.j=typeof e=="function"?e:n,GX(this),ll(this,t,i),WX(this)}G(t,e,n,i){let r=typeof n!="function"?n:{};return this.j=typeof n=="function"?n:i,GX(this),Xc(this,t,r,e),WX(this)}m(){var t=new Hs;Fi(t,"image_in"),Fi(t,"norm_rect"),Tn(t,"normalized_landmarks"),Tn(t,"world_landmarks"),Tn(t,"segmentation_masks");let e=new va;Gl(e,aMe,this.h);let n=new As;_a(n,"mediapipe.tasks.vision.pose_landmarker.PoseLandmarkerGraph"),Si(n,"IMAGE:image_in"),Si(n,"NORM_RECT:norm_rect"),pn(n,"NORM_LANDMARKS:normalized_landmarks"),pn(n,"WORLD_LANDMARKS:world_landmarks"),n.o(e),ba(t,n),wk(this,t),this.g.attachProtoVectorListener("normalized_landmarks",(i,r)=>{this.landmarks=[];for(let o of i)i=ky(o),this.landmarks.push(Ck(i));et(this,r)}),this.g.attachEmptyPacketListener("normalized_landmarks",i=>{this.landmarks=[],et(this,i)}),this.g.attachProtoVectorListener("world_landmarks",(i,r)=>{this.worldLandmarks=[];for(let o of i)i=Pg(o),this.worldLandmarks.push(Ay(i));et(this,r)}),this.g.attachEmptyPacketListener("world_landmarks",i=>{this.worldLandmarks=[],et(this,i)}),this.outputSegmentationMasks&&(pn(n,"SEGMENTATION_MASK:segmentation_masks"),Ng(this,"segmentation_masks"),this.g.da("segmentation_masks",(i,r)=>{this.segmentationMasks=i.map(o=>Vg(this,o,!0,!this.j)),et(this,r)}),this.g.attachEmptyPacketListener("segmentation_masks",i=>{this.segmentationMasks=[],et(this,i)})),t=t.g(),this.setGraph(new Uint8Array(t),!0)}};Aa.prototype.detectForVideo=Aa.prototype.G,Aa.prototype.detect=Aa.prototype.F,Aa.prototype.setOptions=Aa.prototype.o,Aa.createFromModelPath=function(t,e){return dn(Aa,t,{baseOptions:{modelAssetPath:e}})},Aa.createFromModelBuffer=function(t,e){return dn(Aa,t,{baseOptions:{modelAssetBuffer:e}})},Aa.createFromOptions=function(t,e){return dn(Aa,t,e)},Aa.POSE_CONNECTIONS=qJ;var EMe=()=>typeof OffscreenCanvas<"u";function JJ(t){return ue(this,null,function*(){return new Promise(e=>setTimeout(e,t))})}function xMe(t){return ue(this,null,function*(){yield JJ(10);let n=Date.now();for(;Date.now()-n<500;){let{width:i,height:r}=t.getSettings();if(i&&r)return{width:i,height:r};yield JJ(50)}return{width:void 0,height:void 0}})}function Ik(t,e){if(EMe())return new OffscreenCanvas(t,e);let n=document.createElement("canvas");return n.width=t,n.height=e,n}var eee=class ree{constructor(e,n,i={}){this.useStreamFallback=!1,this.processingEnabled=!1;var r;this.name=n,this.transformer=e,this.maxFps=(r=i.maxFps)!=null?r:30}static get isSupported(){let e=typeof MediaStreamTrackGenerator<"u"&&typeof MediaStreamTrackProcessor<"u",n=typeof HTMLCanvasElement<"u"&&typeof VideoFrame<"u"&&"captureStream"in HTMLCanvasElement.prototype;return e||n}static get hasModernApiSupport(){return typeof MediaStreamTrackGenerator<"u"&&typeof MediaStreamTrackProcessor<"u"}setup(e){return ue(this,null,function*(){this.source=e.track;let{width:n,height:i}=yield xMe(this.source);if(this.sourceDummy=e.element,!(this.sourceDummy instanceof HTMLVideoElement))throw TypeError("Currently only video transformers are supported");if(this.sourceDummy instanceof HTMLVideoElement&&(this.sourceDummy.height=i??300,this.sourceDummy.width=n??300),this.useStreamFallback=!ree.hasModernApiSupport,this.useStreamFallback){let r=document.querySelector('canvas[data-livekit-processor="'+this.name+'"]');r?(this.displayCanvas=r,this.displayCanvas.width=n??300,this.displayCanvas.height=i??300):(this.displayCanvas=document.createElement("canvas"),this.displayCanvas.width=n??300,this.displayCanvas.height=i??300,this.displayCanvas.style.display="none",this.displayCanvas.dataset.livekitProcessor=this.name,document.body.appendChild(this.displayCanvas)),this.renderContext=this.displayCanvas.getContext("2d"),this.capturedStream=this.displayCanvas.captureStream(),this.canvas=Ik(n??300,i??300)}else this.processor=new MediaStreamTrackProcessor({track:this.source}),this.trackGenerator=new MediaStreamTrackGenerator({kind:"video",signalTarget:this.source}),this.canvas=Ik(n??300,i??300)})}init(e){return ue(this,null,function*(){if(yield this.setup(e),!this.canvas)throw new TypeError("Expected canvas to be defined after setup");yield this.transformer.init({outputCanvas:this.canvas,inputElement:this.sourceDummy}),this.useStreamFallback?this.initFallbackPath():this.initStreamProcessorPath()})}initStreamProcessorPath(){if(!this.processor||!this.trackGenerator)throw new TypeError("Expected processor and trackGenerator to be defined for stream processor path");let n=this.processor.readable.pipeThrough(this.transformer.transformer),i=Symbol("stream");this.symbol=i,n.pipeTo(this.trackGenerator.writable).then(()=>this.destroy(i)).catch(r=>{r instanceof DOMException&&r.name==="AbortError"?console.log("stream processor path aborted"):(console.error("error when trying to pipe",r),this.destroy(i))}),this.processedTrack=this.trackGenerator}initFallbackPath(){if(!this.capturedStream||!this.source||!this.canvas||!this.renderContext)throw new TypeError("Missing required components for fallback implementation");this.processedTrack=this.capturedStream.getVideoTracks()[0],this.processingEnabled=!0,this.frameCallback=e=>{if(!this.processingEnabled||!e){e.close();return}let n={enqueue:i=>{this.renderContext&&this.displayCanvas&&(this.renderContext.drawImage(i,0,0,this.displayCanvas.width,this.displayCanvas.height),i.close())}};try{this.transformer.transform(e,n)}catch(i){console.error("Error in transform:",i),e.close()}},this.startRenderLoop()}startRenderLoop(){if(!this.sourceDummy||!(this.sourceDummy instanceof HTMLVideoElement))return;let e=-1,n=0,i=this.sourceDummy,r=1e3/this.maxFps,o=this.maxFps,s=[],a=0,l=0,c=0,d=()=>{if(!this.processingEnabled||!this.sourceDummy||!(this.sourceDummy instanceof HTMLVideoElement))return;if(this.sourceDummy.paused){console.warn("Video is paused, trying to play"),this.sourceDummy.play();return}let u=i.currentTime,p=performance.now(),g=p-n,v=u!==e;if(v){if(a>0){let x=p-a;s.push(x),s.length>10&&s.shift(),s.length>2&&(o=1e3/(s.reduce((U,D)=>U+D,0)/s.length),(typeof window<"u"&&window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&p-c>5e3&&(console.debug(`[${this.name}] Estimated video FPS: ${o.toFixed(1)}, Processing at: ${(l/5).toFixed(1)} FPS`),l=0,c=p))}a=p}let b=g>=r;if(v&&b){e=u,n=p,l++;try{if(i.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA){let x=new VideoFrame(i);this.frameCallback?this.frameCallback(x):x.close()}}catch(x){console.error("Error in render loop:",x)}}this.animationFrameId=requestAnimationFrame(d)};this.animationFrameId=requestAnimationFrame(d)}restart(e){return ue(this,null,function*(){yield this.destroy(),yield this.init(e)})}restartTransformer(...e){return ue(this,null,function*(){yield this.transformer.restart(e[0])})}updateTransformerOptions(...e){return ue(this,null,function*(){yield this.transformer.update(e[0])})}destroy(e){return ue(this,null,function*(){var n,i,r,o;e&&this.symbol!==e||(this.useStreamFallback?(this.processingEnabled=!1,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0),this.displayCanvas&&this.displayCanvas.parentNode&&this.displayCanvas.parentNode.removeChild(this.displayCanvas),(n=this.capturedStream)==null||n.getTracks().forEach(s=>s.stop())):(yield(r=(i=this.processor)==null?void 0:i.writableControl)==null?void 0:r.close(),(o=this.trackGenerator)==null||o.stop()),yield this.transformer.destroy())})}},SMe={"@mediapipe/tasks-vision":"0.10.14"};function nm(t,e){let n=t.TEXTURE0+e;t.activeTexture(n);let i=t.createTexture();return t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.bindTexture(t.TEXTURE_2D,i),i}function df(t,e,n){let i=t.createShader(e);if(t.shaderSource(i,n),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw console.error("Shader compile failed:",t.getShaderInfoLog(i)),t.deleteShader(i),new Error("Shader compile failed");return i}function kk(t,e,n){let i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw console.error("Program link failed:",t.getProgramInfoLog(i)),new Error("Program link failed");return i}function Dy(t,e,n,i){let r=t.createFramebuffer();if(t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,i,0,t.RGBA,t.UNSIGNED_BYTE,null),t.checkFramebufferStatus(t.FRAMEBUFFER)!==t.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer not complete");return t.bindFramebuffer(t.FRAMEBUFFER,null),r}function TMe(t){let e=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,-1,-1,1,1,1,-1]),t.STATIC_DRAW),e}function IMe(t,e,n){return ue(this,null,function*(){let i=t.width/t.height,r=e/n,o=0,s=0,a=t.width,l=t.height;return i>r?(a=Math.round(t.height*r),o=Math.round((t.width-a)/2)):i<r&&(l=Math.round(t.width/r),s=Math.round((t.height-l)/2)),createImageBitmap(t,o,s,a,l,{resizeWidth:e,resizeHeight:n,resizeQuality:"medium"})})}var im;function qU(){return im||(im=new ImageData(2,2),im.data[0]=0,im.data[1]=0,im.data[2]=0,im.data[3]=0),im}var YU=t=>t,XU=(t=!0)=>`#version 300 es
  in vec2 position;
  out vec2 texCoords;

  void main() {
    texCoords = (position + 1.0) / 2.0;
    texCoords.y = ${t?"1.0 - texCoords.y":"texCoords.y"};
    gl_Position = vec4(position, 0, 1.0);
  }
`,kMe=YU`#version 300 es
  precision mediump float;
  in vec2 texCoords;
  uniform sampler2D u_texture;
  uniform vec2 u_texelSize;
  uniform vec2 u_direction;
  uniform float u_radius;
  out vec4 fragColor;

  void main() {
    float sigma = u_radius;
    float twoSigmaSq = 2.0 * sigma * sigma;
    float totalWeight = 0.0;
    vec3 result = vec3(0.0);
    const int MAX_SAMPLES = 16;
    int radius = int(min(float(MAX_SAMPLES), ceil(u_radius)));

    for (int i = -MAX_SAMPLES; i <= MAX_SAMPLES; ++i) {
      float offset = float(i);
      if (abs(offset) > float(radius)) continue;
      float weight = exp(-(offset * offset) / twoSigmaSq);
      vec2 sampleCoord = texCoords + u_direction * u_texelSize * offset;
      result += texture(u_texture, sampleCoord).rgb * weight;
      totalWeight += weight;
    }

    fragColor = vec4(result / totalWeight, 1.0);
  }
`;function MMe(t){let e=df(t,t.VERTEX_SHADER,XU()),n=df(t,t.FRAGMENT_SHADER,kMe),i=kk(t,e,n),r={position:t.getAttribLocation(i,"position"),texture:t.getUniformLocation(i,"u_texture"),texelSize:t.getUniformLocation(i,"u_texelSize"),direction:t.getUniformLocation(i,"u_direction"),radius:t.getUniformLocation(i,"u_radius")};return{program:i,shader:n,vertexShader:e,uniforms:r}}function tee(t,e,n,i,r,o,s,a,l,c){t.useProgram(o),t.bindBuffer(t.ARRAY_BUFFER,a),t.vertexAttribPointer(s.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(s.position);let d=1/n,u=1/i;return t.bindFramebuffer(t.FRAMEBUFFER,l[0]),t.viewport(0,0,n,i),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(s.texture,0),t.uniform2f(s.texelSize,d,u),t.uniform2f(s.direction,1,0),t.uniform1f(s.radius,r),t.drawArrays(t.TRIANGLES,0,6),t.bindFramebuffer(t.FRAMEBUFFER,l[1]),t.viewport(0,0,n,i),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,c[0]),t.uniform1i(s.texture,0),t.uniform2f(s.direction,0,1),t.drawArrays(t.TRIANGLES,0,6),t.bindFramebuffer(t.FRAMEBUFFER,null),c[1]}var DMe=YU`#version 300 es
precision mediump float;

in vec2 texCoords;

uniform sampler2D u_texture;
uniform vec2 u_texelSize;    // 1.0 / texture size
uniform vec2 u_direction;    // (1.0, 0.0) for horizontal, (0.0, 1.0) for vertical
uniform float u_radius;      // blur radius in texels

out vec4 fragColor;

void main() {
    vec3 sum = vec3(0.0);
    float count = 0.0;

    // Limit radius to avoid excessive loop cost
    const int MAX_RADIUS = 16;
    int radius = int(min(float(MAX_RADIUS), u_radius));

    for (int i = -MAX_RADIUS; i <= MAX_RADIUS; ++i) {
        if (abs(i) > radius) continue;

        vec2 offset = u_direction * u_texelSize * float(i);
        sum += texture(u_texture, texCoords + offset).rgb;
        count += 1.0;
  }

  fragColor = vec4(sum / count, 1.0);
}
`;function PMe(t){let e=df(t,t.VERTEX_SHADER,XU()),n=df(t,t.FRAGMENT_SHADER,DMe),i=kk(t,e,n),r={position:t.getAttribLocation(i,"position"),texture:t.getUniformLocation(i,"u_texture"),texelSize:t.getUniformLocation(i,"u_texelSize"),direction:t.getUniformLocation(i,"u_direction"),radius:t.getUniformLocation(i,"u_radius")};return{program:i,vertexShader:e,fragmentShader:n,uniforms:r}}var OMe=YU`#version 300 es
  precision mediump float;
  in vec2 texCoords;
  uniform sampler2D background;
  uniform sampler2D frame;
  uniform sampler2D mask;
  out vec4 fragColor;
  
  void main() {
      
    vec4 frameTex = texture(frame, texCoords);
    vec4 bgTex = texture(background, texCoords);

    float maskVal = texture(mask, texCoords).r;

    // Compute screen-space gradient to detect edge sharpness
    float grad = length(vec2(dFdx(maskVal), dFdy(maskVal)));

    float edgeSoftness = 2.0; // higher = softer
    
    // Create a smooth edge around binary transition
    float smoothAlpha = smoothstep(0.5 - grad * edgeSoftness, 0.5 + grad * edgeSoftness, maskVal);

    // Optional: preserve frame alpha, or override as fully opaque
    vec4 blended = mix(bgTex, vec4(frameTex.rgb, 1.0), 1.0 - smoothAlpha);
    
    fragColor = blended;
  
  }
`;function RMe(t){let e=df(t,t.VERTEX_SHADER,XU()),n=df(t,t.FRAGMENT_SHADER,OMe),i=kk(t,e,n),r={position:t.getAttribLocation(i,"position")},o={mask:t.getUniformLocation(i,"mask"),frame:t.getUniformLocation(i,"frame"),background:t.getUniformLocation(i,"background"),stepWidth:t.getUniformLocation(i,"u_stepWidth")};return{program:i,vertexShader:e,fragmentShader:n,attribLocations:r,uniformLocations:o}}function BMe(t,e,n){let i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);let r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0);let o=`
      attribute vec2 position;
      varying vec2 v_uv;
      void main() {
        v_uv = (position + 1.0) * 0.5;
        gl_Position = vec4(position, 0.0, 1.0);
      }
    `,s=`
      precision mediump float;
      varying vec2 v_uv;
      uniform sampler2D u_texture;
      void main() {
        gl_FragColor = texture2D(u_texture, v_uv);
      }
    `,a=df(t,t.VERTEX_SHADER,o),l=df(t,t.FRAGMENT_SHADER,s),c=kk(t,a,l),d={texture:t.getUniformLocation(c,"u_texture"),position:t.getAttribLocation(c,"position")};return{framebuffer:r,texture:i,program:c,uniforms:d}}function FMe(t,e,n,i,r,o){return t.useProgram(n.program),t.bindFramebuffer(t.FRAMEBUFFER,n.framebuffer),t.viewport(0,0,r,o),t.bindBuffer(t.ARRAY_BUFFER,i),t.enableVertexAttribArray(n.uniforms.position),t.vertexAttribPointer(n.uniforms.position,2,t.FLOAT,!1,0,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,e),t.uniform1i(n.uniforms.texture,0),t.drawArrays(t.TRIANGLES,0,6),t.bindFramebuffer(t.FRAMEBUFFER,null),n.texture}var nee=t=>{let e=t.getContext("webgl2",{antialias:!0,premultipliedAlpha:!0}),n=null,i=8,r=4;if(!e){console.error("Failed to create WebGL context");return}e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA);let o=RMe(e),s=o.program,a=o.attribLocations.position,{mask:l,frame:c,background:d}=o.uniformLocations,u=MMe(e),p=u.program,g=u.uniforms,v=PMe(e),b=v.program,x=v.uniforms,T=nm(e,0),k=nm(e,1),U=TMe(e);if(!U)throw new Error("Failed to create vertex buffer");let D=[],N=[],z=null,Z=[],ne=0,ee=1;D.push(nm(e,3)),D.push(nm(e,4));let he=Math.floor(t.width/r),ge=Math.floor(t.height/r),Ee=BMe(e,he,ge);N.push(Dy(e,D[0],he,ge)),N.push(Dy(e,D[1],he,ge));let St=nm(e,5),qt=Dy(e,St,t.width,t.height);Z.push(nm(e,6)),Z.push(nm(e,7));let bt=[Dy(e,Z[0],t.width,t.height),Dy(e,Z[1],t.width,t.height)];e.useProgram(s),e.uniform1i(d,0),e.uniform1i(c,1),e.uniform1i(l,2);let pt=qU();function jt(Ut){if(Ut.codedWidth===0||Z.length===0)return;let vn=Ut.displayWidth,qn=Ut.displayHeight;e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,k),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,Ut);let Li=T;if(n){let Yr=FMe(e,k,Ee,U,he,ge);Li=tee(e,Yr,he,ge,n,p,g,U,N,D)}else e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,T),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,pt),Li=T;e.viewport(0,0,vn,qn),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(s),e.bindBuffer(e.ARRAY_BUFFER,U),e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(a),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,Li),e.uniform1i(d,0),e.activeTexture(e.TEXTURE1),e.bindTexture(e.TEXTURE_2D,k),e.uniform1i(c,1),e.activeTexture(e.TEXTURE2),e.bindTexture(e.TEXTURE_2D,Z[ne]),e.uniform1i(l,2),e.drawArrays(e.TRIANGLES,0,6)}function wn(Ut){return ue(this,null,function*(){if(pt=qU(),Ut)try{pt=yield IMe(Ut,t.width,t.height)}catch(vn){console.error("Error processing background image, falling back to black background:",vn)}e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,T),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,pt)})}function it(Ut){n=Ut?Math.max(1,Math.floor(Ut/r)):null,wn(null)}function Lt(Ut){let vn=[qt,bt[ee]],qn=[St,Z[ee]];tee(e,Ut,t.width,t.height,i||1,b,x,U,vn,qn),ne=ee,ee=1-ee}function Pe(){e.deleteProgram(s),e.deleteProgram(p),e.deleteProgram(b),e.deleteTexture(T),e.deleteTexture(k),e.deleteTexture(St),e.deleteFramebuffer(qt);for(let Ut of D)e.deleteTexture(Ut);for(let Ut of N)e.deleteFramebuffer(Ut);for(let Ut of Z)e.deleteTexture(Ut);for(let Ut of bt)e.deleteFramebuffer(Ut);e.deleteBuffer(U),z&&e.deleteTexture(z),Ee&&(e.deleteTexture(Ee.texture),e.deleteFramebuffer(Ee.framebuffer),e.deleteProgram(Ee.program)),pt&&(pt instanceof ImageBitmap&&pt.close(),pt=qU()),D=[],N=[],Z=[]}return{renderFrame:jt,updateMask:Lt,setBackgroundImage:wn,setBlurRadius:it,cleanup:Pe}},NMe=class{constructor(){this.isDisabled=!1}init(n){return ue(this,arguments,function*({outputCanvas:t,inputElement:e}){if(!(e instanceof HTMLVideoElement))throw TypeError("Video transformer needs a HTMLVideoElement as input");this.transformer=new TransformStream({transform:(i,r)=>this.transform(i,r)}),this.canvas=t||null,t&&(this.gl=nee(this.canvas||Ik(e.videoWidth,e.videoHeight))),this.inputVideo=e,this.isDisabled=!1})}restart(n){return ue(this,arguments,function*({outputCanvas:t,inputElement:e}){var i;this.canvas=t||null,(i=this.gl)==null||i.cleanup(),this.gl=nee(this.canvas||Ik(e.videoWidth,e.videoHeight)),this.inputVideo=e,this.isDisabled=!1})}destroy(){return ue(this,null,function*(){var t;this.isDisabled=!0,this.canvas=void 0,(t=this.gl)==null||t.cleanup(),this.gl=void 0})}},iee=class t extends NMe{constructor(e){super(),this.backgroundImage=null,this.segmentationTimeMs=0,this.options=e,this.update(e)}static get isSupported(){return typeof OffscreenCanvas<"u"&&typeof VideoFrame<"u"&&typeof createImageBitmap<"u"&&!!document.createElement("canvas").getContext("webgl2")}init(i){return ue(this,arguments,function*({outputCanvas:e,inputElement:n}){var r,o,s,a,l,c;yield CO(t.prototype,this,"init").call(this,{outputCanvas:e,inputElement:n});let d=yield Xh.forVisionTasks((o=(r=this.options.assetPaths)==null?void 0:r.tasksVisionFileSet)!=null?o:`https://cdn.jsdelivr.net/npm/@mediapipe/tasks-vision@${SMe["@mediapipe/tasks-vision"]}/wasm`);this.imageSegmenter=yield qo.createFromOptions(d,{baseOptions:V({modelAssetPath:(a=(s=this.options.assetPaths)==null?void 0:s.modelAssetPath)!=null?a:"https://storage.googleapis.com/mediapipe-models/image_segmenter/selfie_segmenter/float16/latest/selfie_segmenter.tflite",delegate:"GPU"},this.options.segmenterOptions),canvas:this.canvas,runningMode:"VIDEO",outputCategoryMask:!0,outputConfidenceMasks:!1}),(l=this.options)!=null&&l.imagePath&&!this.backgroundImage&&(yield this.loadBackground(this.options.imagePath).catch(u=>console.error("Error while loading processor background image: ",u))),this.options.blurRadius&&((c=this.gl)==null||c.setBlurRadius(this.options.blurRadius))})}destroy(){return ue(this,null,function*(){var e;yield CO(t.prototype,this,"destroy").call(this),yield(e=this.imageSegmenter)==null?void 0:e.close(),this.backgroundImage=null})}loadBackground(e){return ue(this,null,function*(){var n;let i=new Image;yield new Promise((o,s)=>{i.crossOrigin="Anonymous",i.onload=()=>o(i),i.onerror=a=>s(a),i.src=e});let r=yield createImageBitmap(i);(n=this.gl)==null||n.setBackgroundImage(r)})}transform(e,n){return ue(this,null,function*(){var i,r;try{if(!(e instanceof VideoFrame)||e.codedWidth===0||e.codedHeight===0){console.debug("empty frame detected, ignoring");return}if(this.isDisabled){n.enqueue(e);return}let o=Date.now();if(!this.canvas)throw TypeError("Canvas needs to be initialized first");this.canvas.width=e.displayWidth,this.canvas.height=e.displayHeight;let s=new Promise((l,c)=>{var d;try{let u=performance.now();(d=this.imageSegmenter)==null||d.segmentForVideo(e,u,p=>{this.segmentationTimeMs=performance.now()-u,this.segmentationResults=p,this.updateMask(p.categoryMask),p.close(),l()})}catch(u){c(u)}}),a=performance.now();if(this.drawFrame(e),this.canvas&&this.canvas.width>0&&this.canvas.height>0){let l=new VideoFrame(this.canvas,{timestamp:e.timestamp||o});n.enqueue(l);let c=performance.now()-a,d={processingTimeMs:this.segmentationTimeMs+c,segmentationTimeMs:this.segmentationTimeMs,filterTimeMs:c};(r=(i=this.options).onFrameProcessed)==null||r.call(i,d)}else n.enqueue(e);yield s}catch(o){console.error("Error while processing frame: ",o)}finally{e.close()}})}update(e){return ue(this,null,function*(){var n;this.options=V(V({},this.options),e),e.blurRadius?(n=this.gl)==null||n.setBlurRadius(e.blurRadius):e.imagePath&&(yield this.loadBackground(e.imagePath))})}drawFrame(e){return ue(this,null,function*(){var n;this.gl&&((n=this.gl)==null||n.renderFrame(e))})}updateMask(e){return ue(this,null,function*(){var n;e&&((n=this.gl)==null||n.updateMask(e.getAsWebGLTexture()))})}};var oee=(t=10,e,n,i)=>aee(V({blurRadius:t,segmenterOptions:e,onFrameProcessed:n},i),"background-blur"),see=(t,e,n,i)=>aee(V({imagePath:t,segmenterOptions:e,onFrameProcessed:n},i),"virtual-background"),aee=(t,e="background-processor")=>{let n=iee.isSupported,i=eee.isSupported;if(!n)throw new Error("Background transformer is not supported in this browser");if(!i)throw new Error("Neither MediaStreamTrackProcessor nor canvas.captureStream() fallback is supported in this browser");let p=t,{blurRadius:r,imagePath:o,segmenterOptions:s,assetPaths:a,onFrameProcessed:l}=p,c=gc(p,["blurRadius","imagePath","segmenterOptions","assetPaths","onFrameProcessed"]),d=new iee({blurRadius:r,imagePath:o,segmenterOptions:s,assetPaths:a,onFrameProcessed:l});return new eee(d,e,c)};function LMe(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in t)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(t)}var UMe=Object.defineProperty,VMe=(t,e,n)=>e in t?UMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lee=(t,e,n)=>VMe(t,typeof e!="symbol"?e+"":e,n),Zo=class{constructor(){lee(this,"_locking"),lee(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let e,n=new Promise(r=>e=()=>{this._locks-=1,r()}),i=this._locking.then(()=>e);return this._locking=this._locking.then(()=>n),i}};function pr(t,e){if(!t)throw new Error(e)}var HMe=34028234663852886e22,QMe=-34028234663852886e22,jMe=4294967295,$Me=2147483647,zMe=-2147483648;function Pk(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>$Me||t<zMe)throw new Error("invalid int 32: "+t)}function A4(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>jMe||t<0)throw new Error("invalid uint 32: "+t)}function rte(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>HMe||t<QMe))throw new Error("invalid float 32: "+t)}var ote=Symbol("@bufbuild/protobuf/enum-type");function GMe(t){let e=t[ote];return pr(e,"missing enum type on enum object"),e}function ste(t,e,n,i){t[ote]=ate(e,n.map(r=>({no:r.no,name:r.name,localName:t[r.no]})))}function ate(t,e,n){let i=Object.create(null),r=Object.create(null),o=[];for(let s of e){let a=lte(s);o.push(a),i[s.name]=a,r[s.no]=a}return{typeName:t,values:o,findName(s){return i[s]},findNumber(s){return r[s]}}}function WMe(t,e,n){let i={};for(let r of e){let o=lte(r);i[o.localName]=o.no,i[o.no]=o.localName}return ste(i,t,e),i}function lte(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}var Qy=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){let i=this.getType(),r=i.runtime.bin,o=r.makeReadOptions(n);return r.readMessage(this,o.readerFactory(e),e.byteLength,o),this}fromJson(e,n){let i=this.getType(),r=i.runtime.json,o=r.makeReadOptions(n);return r.readMessage(i,e,o,this),this}fromJsonString(e,n){let i;try{i=JSON.parse(e)}catch(r){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(r instanceof Error?r.message:String(r)))}return this.fromJson(i,n)}toBinary(e){let n=this.getType(),i=n.runtime.bin,r=i.makeWriteOptions(e),o=r.writerFactory();return i.writeMessage(this,o,r),o.finish()}toJson(e){let n=this.getType(),i=n.runtime.json,r=i.makeWriteOptions(e);return i.writeMessage(this,r)}toJsonString(e){var n;let i=this.toJson(e);return JSON.stringify(i,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};function KMe(t,e,n,i){var r;let o=(r=i?.localName)!==null&&r!==void 0?r:e.substring(e.lastIndexOf(".")+1),s={[o]:function(a){t.util.initFields(this),t.util.initPartial(a,this)}}[o];return Object.setPrototypeOf(s.prototype,new Qy),Object.assign(s,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(a,l){return new s().fromBinary(a,l)},fromJson(a,l){return new s().fromJson(a,l)},fromJsonString(a,l){return new s().fromJsonString(a,l)},equals(a,l){return t.util.equals(s,a,l)}}),s}function qMe(){let t=0,e=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,(n&128)==0)return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,(r&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function ZU(t,e,n){for(let o=0;o<28;o=o+7){let s=t>>>o,a=!(!(s>>>7)&&e==0),l=(a?s|128:s)&255;if(n.push(l),!a)return}let i=t>>>28&15|(e&7)<<4,r=e>>3!=0;if(n.push((r?i|128:i)&255),!!r){for(let o=3;o<31;o=o+7){let s=e>>>o,a=!!(s>>>7),l=(a?s|128:s)&255;if(n.push(l),!a)return}n.push(e>>>31&1)}}var Ok=4294967296;function cee(t){let e=t[0]==="-";e&&(t=t.slice(1));let n=1e6,i=0,r=0;function o(s,a){let l=Number(t.slice(s,a));r*=n,i=i*n+l,i>=Ok&&(r=r+(i/Ok|0),i=i%Ok)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),e?dte(i,r):w3(i,r)}function YMe(t,e){let n=w3(t,e),i=n.hi&2147483648;i&&(n=dte(n.lo,n.hi));let r=cte(n.lo,n.hi);return i?"-"+r:r}function cte(t,e){if({lo:t,hi:e}=XMe(t,e),e<=2097151)return String(Ok*e+t);let n=t&16777215,i=(t>>>24|e<<8)&16777215,r=e>>16&65535,o=n+i*6777216+r*6710656,s=i+r*8147497,a=r*2,l=1e7;return o>=l&&(s+=Math.floor(o/l),o%=l),s>=l&&(a+=Math.floor(s/l),s%=l),a.toString()+dee(s)+dee(o)}function XMe(t,e){return{lo:t>>>0,hi:e>>>0}}function w3(t,e){return{lo:t|0,hi:e|0}}function dte(t,e){return e=~e,t?t=~t+1:e+=1,w3(t,e)}var dee=t=>{let e=String(t);return"0000000".slice(e.length)+e};function uee(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function ZMe(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;(t&128)!==0&&n<10;n++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function JMe(){let t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let r=BigInt("-9223372036854775808"),o=BigInt("9223372036854775807"),s=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){let c=typeof l=="bigint"?l:BigInt(l);if(c>o||c<r)throw new Error("int64 invalid: ".concat(l));return c},uParse(l){let c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<s)throw new Error("uint64 invalid: ".concat(l));return c},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}let n=r=>pr(/^-?[0-9]+$/.test(r),"int64 invalid: ".concat(r)),i=r=>pr(/^[0-9]+$/.test(r),"uint64 invalid: ".concat(r));return{zero:"0",supported:!1,parse(r){return typeof r!="string"&&(r=r.toString()),n(r),r},uParse(r){return typeof r!="string"&&(r=r.toString()),i(r),r},enc(r){return typeof r!="string"&&(r=r.toString()),n(r),cee(r)},uEnc(r){return typeof r!="string"&&(r=r.toString()),i(r),cee(r)},dec(r,o){return YMe(r,o)},uDec(r,o){return cte(r,o)}}}var Gi=JMe(),ve=function(t){return t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64",t}(ve||{}),cm=function(t){return t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING",t}(cm||{});function uf(t,e,n){if(e===n)return!0;if(t==ve.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==n[i])return!1;return!0}switch(t){case ve.UINT64:case ve.FIXED64:case ve.INT64:case ve.SFIXED64:case ve.SINT64:return e==n}return!1}function ov(t,e){switch(t){case ve.BOOL:return!1;case ve.UINT64:case ve.FIXED64:case ve.INT64:case ve.SFIXED64:case ve.SINT64:return e==0?Gi.zero:"0";case ve.DOUBLE:case ve.FLOAT:return 0;case ve.BYTES:return new Uint8Array(0);case ve.STRING:return"";default:return 0}}function ute(t,e){switch(t){case ve.BOOL:return e===!1;case ve.STRING:return e==="";case ve.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var Gr=function(t){return t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32",t}(Gr||{}),g4=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let n=new Uint8Array(e),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(A4(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Pk(e),uee(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){rte(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){A4(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){Pk(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return Pk(e),e=(e<<1^e>>31)>>>0,uee(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=Gi.enc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=Gi.uEnc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(e){let n=Gi.enc(e);return ZU(n.lo,n.hi,this.buf),this}sint64(e){let n=Gi.enc(e),i=n.hi>>31,r=n.lo<<1^i,o=(n.hi<<1|n.lo>>>31)^i;return ZU(r,o,this.buf),this}uint64(e){let n=Gi.uEnc(e);return ZU(n.lo,n.hi,this.buf),this}},v4=class{constructor(e,n){this.varint64=qMe,this.uint32=ZMe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case Gr.Varint:for(;this.buf[this.pos++]&128;);break;case Gr.Bit64:this.pos+=4;case Gr.Bit32:this.pos+=4;break;case Gr.LengthDelimited:let r=this.uint32();this.pos+=r;break;case Gr.StartGroup:for(;;){let[o,s]=this.tag();if(s===Gr.EndGroup){if(n!==void 0&&o!==n)throw new Error("invalid end group tag");break}this.skip(s,o)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Gi.dec(...this.varint64())}uint64(){return Gi.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,Gi.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Gi.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Gi.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}};function e1e(t,e,n,i){let r;return{typeName:e,extendee:n,get field(){if(!r){let o=typeof i=="function"?i():i;o.name=e.split(".").pop(),o.jsonName="[".concat(e,"]"),r=t.util.newFieldList([o]).list()[0]}return r},runtime:t}}function hte(t){let e=t.field.localName,n=Object.create(null);return n[e]=t1e(t),[n,()=>n[e]]}function t1e(t){let e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return ov(e.T,e.L);case"message":let n=e.T,i=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(i):i;case"map":throw"map fields are not allowed to be extensions"}}function n1e(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}var Tu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),dM=[];for(let t=0;t<Tu.length;t++)dM[Tu[t].charCodeAt(0)]=t;dM[45]=Tu.indexOf("+");dM[95]=Tu.indexOf("/");var fte={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),i=0,r=0,o,s=0;for(let a=0;a<t.length;a++){if(o=dM[t.charCodeAt(a)],o===void 0)switch(t[a]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(r){case 0:s=o,r=1;break;case 1:n[i++]=s<<2|(o&48)>>4,s=o,r=2;break;case 2:n[i++]=(s&15)<<4|(o&60)>>2,s=o,r=3;break;case 3:n[i++]=(s&3)<<6|o,r=0;break}}if(r==1)throw Error("invalid base64 string.");return n.subarray(0,i)},enc(t){let e="",n=0,i,r=0;for(let o=0;o<t.length;o++)switch(i=t[o],n){case 0:e+=Tu[i>>2],r=(i&3)<<4,n=1;break;case 1:e+=Tu[r|i>>4],r=(i&15)<<2,n=2;break;case 2:e+=Tu[r|i>>6],e+=Tu[i&63],n=0;break}return n&&(e+=Tu[r],e+="=",n==1&&(e+="=")),e}};function i1e(t,e,n){mte(e,t);let i=e.runtime.bin.makeReadOptions(n),r=n1e(t.getType().runtime.bin.listUnknownFields(t),e.field),[o,s]=hte(e);for(let a of r)e.runtime.bin.readField(o,i.readerFactory(a.data),e.field,a.wireType,i);return s()}function r1e(t,e,n,i){mte(e,t);let r=e.runtime.bin.makeReadOptions(i),o=e.runtime.bin.makeWriteOptions(i);if(pte(t,e)){let c=t.getType().runtime.bin.listUnknownFields(t).filter(d=>d.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(let d of c)t.getType().runtime.bin.onUnknownField(t,d.no,d.wireType,d.data)}let s=o.writerFactory(),a=e.field;!a.opt&&!a.repeated&&(a.kind=="enum"||a.kind=="scalar")&&(a=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(a,n,s,o);let l=r.readerFactory(s.finish());for(;l.pos<l.len;){let[c,d]=l.tag(),u=l.skip(d,c);t.getType().runtime.bin.onUnknownField(t,c,d,u)}}function pte(t,e){let n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(i=>i.no==e.field.no)}function mte(t,e){pr(t.extendee.typeName==e.getType().typeName,"extension ".concat(t.typeName," can only be applied to message ").concat(t.extendee.typeName))}function Ate(t,e){let n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!ute(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function hee(t,e){let n=t.localName,i=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=i?t.T.values[0].no:void 0;break;case"scalar":e[n]=i?ov(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function Iu(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(Qy.prototype).every(i=>i in t&&typeof t[i]=="function"))return!1;let n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function gte(t,e){return Iu(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}ve.DOUBLE,ve.FLOAT,ve.INT64,ve.UINT64,ve.INT32,ve.UINT32,ve.BOOL,ve.STRING,ve.BYTES;var fee={ignoreUnknownFields:!1},pee={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function o1e(t){return t?Object.assign(Object.assign({},fee),t):fee}function s1e(t){return t?Object.assign(Object.assign({},pee),t):pee}var Wk=Symbol(),Rk=Symbol();function a1e(){return{makeReadOptions:o1e,makeWriteOptions:s1e,readMessage(t,e,n,i){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error("cannot decode message ".concat(t.typeName," from JSON: ").concat(ed(e)));i=i??new t;let r=new Map,o=n.typeRegistry;for(let[s,a]of Object.entries(e)){let l=t.fields.findJsonName(s);if(l){if(l.oneof){if(a===null&&l.kind=="scalar")continue;let c=r.get(l.oneof);if(c!==void 0)throw new Error("cannot decode message ".concat(t.typeName,' from JSON: multiple keys for oneof "').concat(l.oneof.name,'" present: "').concat(c,'", "').concat(s,'"'));r.set(l.oneof,s)}mee(i,a,l,n,t)}else{let c=!1;if(o?.findExtension&&s.startsWith("[")&&s.endsWith("]")){let d=o.findExtension(s.substring(1,s.length-1));if(d&&d.extendee.typeName==t.typeName){c=!0;let[u,p]=hte(d);mee(u,a,d.field,n,d),r1e(i,d,p(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(t.typeName,' from JSON: key "').concat(s,'" is unknown'))}}return i},writeMessage(t,e){let n=t.getType(),i={},r;try{for(r of n.fields.byNumber()){if(!Ate(r,t)){if(r.req)throw"required field not set";if(!e.emitDefaultValues||!c1e(r))continue}let s=r.oneof?t[r.oneof.localName].value:t[r.localName],a=Aee(r,s,e);a!==void 0&&(i[e.useProtoFieldName?r.name:r.jsonName]=a)}let o=e.typeRegistry;if(o?.findExtensionFor)for(let s of n.runtime.bin.listUnknownFields(t)){let a=o.findExtensionFor(n.typeName,s.no);if(a&&pte(t,a)){let l=i1e(t,a,e),c=Aee(a.field,l,e);c!==void 0&&(i[a.field.jsonName]=c)}}}catch(o){let s=r?"cannot encode field ".concat(n.typeName,".").concat(r.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),a=o instanceof Error?o.message:String(o);throw new Error(s+(a.length>0?": ".concat(a):""))}return i},readScalar(t,e,n){return Vy(t,e,n??cm.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||ute(t,e)))return Bk(t,e)},debug:ed}}function ed(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":'"'.concat(t.split('"').join('\\"'),'"');default:return String(t)}}function mee(t,e,n,i,r){let o=n.localName;if(n.repeated){if(pr(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ed(e)));let s=t[o];for(let a of e){if(a===null)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ed(a)));switch(n.kind){case"message":s.push(n.T.fromJson(a,i));break;case"enum":let l=JU(n.T,a,i.ignoreUnknownFields,!0);l!==Rk&&s.push(l);break;case"scalar":try{s.push(Vy(n.T,a,n.L,!0))}catch(c){let d="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ed(a));throw c instanceof Error&&c.message.length>0&&(d+=": ".concat(c.message)),new Error(d)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ed(e)));let s=t[o];for(let[a,l]of Object.entries(e)){if(l===null)throw new Error("cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: map value null"));let c;try{c=l1e(n.K,a)}catch(d){let u="cannot decode map key for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ed(e));throw d instanceof Error&&d.message.length>0&&(u+=": ".concat(d.message)),new Error(u)}switch(n.V.kind){case"message":s[c]=n.V.T.fromJson(l,i);break;case"enum":let d=JU(n.V.T,l,i.ignoreUnknownFields,!0);d!==Rk&&(s[c]=d);break;case"scalar":try{s[c]=Vy(n.V.T,l,cm.BIGINT,!0)}catch(u){let p="cannot decode map value for field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ed(e));throw u instanceof Error&&u.message.length>0&&(p+=": ".concat(u.message)),new Error(p)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:o},o="value"),n.kind){case"message":let s=n.T;if(e===null&&s.typeName!="google.protobuf.Value")return;let a=t[o];Iu(a)?a.fromJson(e,i):(t[o]=a=s.fromJson(e,i),s.fieldWrapper&&!n.oneof&&(t[o]=s.fieldWrapper.unwrapField(a)));break;case"enum":let l=JU(n.T,e,i.ignoreUnknownFields,!1);switch(l){case Wk:hee(n,t);break;case Rk:break;default:t[o]=l;break}break;case"scalar":try{let c=Vy(n.T,e,n.L,!1);switch(c){case Wk:hee(n,t);break;default:t[o]=c;break}}catch(c){let d="cannot decode field ".concat(r.typeName,".").concat(n.name," from JSON: ").concat(ed(e));throw c instanceof Error&&c.message.length>0&&(d+=": ".concat(c.message)),new Error(d)}break}}function l1e(t,e){if(t===ve.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return Vy(t,e,cm.BIGINT,!0).toString()}function Vy(t,e,n,i){if(e===null)return i?ov(t,n):Wk;switch(t){case ve.DOUBLE:case ve.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;let r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==ve.FLOAT&&rte(r),r;case ve.INT32:case ve.FIXED32:case ve.SFIXED32:case ve.SINT32:case ve.UINT32:let o;if(typeof e=="number"?o=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(o=Number(e)),o===void 0)break;return t==ve.UINT32||t==ve.FIXED32?A4(o):Pk(o),o;case ve.INT64:case ve.SFIXED64:case ve.SINT64:if(typeof e!="number"&&typeof e!="string")break;let s=Gi.parse(e);return n?s.toString():s;case ve.FIXED64:case ve.UINT64:if(typeof e!="number"&&typeof e!="string")break;let a=Gi.uParse(e);return n?a.toString():a;case ve.BOOL:if(typeof e!="boolean")break;return e;case ve.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case ve.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return fte.dec(e)}throw new Error}function JU(t,e,n,i){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:i?t.values[0].no:Wk;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":let r=t.findName(e);if(r!==void 0)return r.no;if(n)return Rk;break}throw new Error("cannot decode enum ".concat(t.typeName," from JSON: ").concat(ed(e)))}function c1e(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function Aee(t,e,n){if(t.kind=="map"){pr(typeof e=="object"&&e!=null);let i={},r=Object.entries(e);switch(t.V.kind){case"scalar":for(let[s,a]of r)i[s.toString()]=Bk(t.V.T,a);break;case"message":for(let[s,a]of r)i[s.toString()]=a.toJson(n);break;case"enum":let o=t.V.T;for(let[s,a]of r)i[s.toString()]=e4(o,a,n.enumAsInteger);break}return n.emitDefaultValues||r.length>0?i:void 0}if(t.repeated){pr(Array.isArray(e));let i=[];switch(t.kind){case"scalar":for(let r=0;r<e.length;r++)i.push(Bk(t.T,e[r]));break;case"enum":for(let r=0;r<e.length;r++)i.push(e4(t.T,e[r],n.enumAsInteger));break;case"message":for(let r=0;r<e.length;r++)i.push(e[r].toJson(n));break}return n.emitDefaultValues||i.length>0?i:void 0}switch(t.kind){case"scalar":return Bk(t.T,e);case"enum":return e4(t.T,e,n.enumAsInteger);case"message":return gte(t.T,e).toJson(n)}}function e4(t,e,n){var i;if(pr(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;let r=t.findNumber(e);return(i=r?.name)!==null&&i!==void 0?i:e}function Bk(t,e){switch(t){case ve.INT32:case ve.SFIXED32:case ve.SINT32:case ve.FIXED32:case ve.UINT32:return pr(typeof e=="number"),e;case ve.FLOAT:case ve.DOUBLE:return pr(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case ve.STRING:return pr(typeof e=="string"),e;case ve.BOOL:return pr(typeof e=="boolean"),e;case ve.UINT64:case ve.FIXED64:case ve.INT64:case ve.SFIXED64:case ve.SINT64:return pr(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case ve.BYTES:return pr(e instanceof Uint8Array),fte.enc(e)}}var qg=Symbol("@bufbuild/protobuf/unknown-fields"),gee={readUnknownFields:!0,readerFactory:t=>new v4(t)},vee={writeUnknownFields:!0,writerFactory:()=>new g4};function d1e(t){return t?Object.assign(Object.assign({},gee),t):gee}function u1e(t){return t?Object.assign(Object.assign({},vee),t):vee}function h1e(){return{makeReadOptions:d1e,makeWriteOptions:u1e,listUnknownFields(t){var e;return(e=t[qg])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[qg]},writeUnknownFields(t,e){let i=t[qg];if(i)for(let r of i)e.tag(r.no,r.wireType).raw(r.data)},onUnknownField(t,e,n,i){let r=t;Array.isArray(r[qg])||(r[qg]=[]),r[qg].push({no:e,wireType:n,data:i})},readMessage(t,e,n,i,r){let o=t.getType(),s=r?e.len:e.pos+n,a,l;for(;e.pos<s&&([a,l]=e.tag(),!(r===!0&&l==Gr.EndGroup));){let c=o.fields.find(a);if(!c){let d=e.skip(l,a);i.readUnknownFields&&this.onUnknownField(t,a,l,d);continue}_ee(t,e,c,l,i)}if(r&&(l!=Gr.EndGroup||a!==n))throw new Error("invalid end group tag")},readField:_ee,writeMessage(t,e,n){let i=t.getType();for(let r of i.fields.byNumber()){if(!Ate(r,t)){if(r.req)throw new Error("cannot encode field ".concat(i.typeName,".").concat(r.name," to binary: required field not set"));continue}let o=r.oneof?t[r.oneof.localName].value:t[r.localName];bee(r,o,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,i){e!==void 0&&bee(t,e,n,i)}}}function _ee(t,e,n,i,r){let{repeated:o,localName:s}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=s&&delete t.value,t.case=s,s="value"),n.kind){case"scalar":case"enum":let a=n.kind=="enum"?ve.INT32:n.T,l=Kk;if(n.kind=="scalar"&&n.L>0&&(l=p1e),o){let p=t[s];if(i==Gr.LengthDelimited&&a!=ve.STRING&&a!=ve.BYTES){let v=e.uint32()+e.pos;for(;e.pos<v;)p.push(l(e,a))}else p.push(l(e,a))}else t[s]=l(e,a);break;case"message":let c=n.T;o?t[s].push(Fk(e,new c,r,n)):Iu(t[s])?Fk(e,t[s],r,n):(t[s]=Fk(e,new c,r,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(t[s]=c.fieldWrapper.unwrapField(t[s])));break;case"map":let[d,u]=f1e(n,e,r);t[s][d]=u;break}}function Fk(t,e,n,i){let r=e.getType().runtime.bin,o=i?.delimited;return r.readMessage(e,t,o?i.no:t.uint32(),n,o),e}function f1e(t,e,n){let i=e.uint32(),r=e.pos+i,o,s;for(;e.pos<r;){let[a]=e.tag();switch(a){case 1:o=Kk(e,t.K);break;case 2:switch(t.V.kind){case"scalar":s=Kk(e,t.V.T);break;case"enum":s=e.int32();break;case"message":s=Fk(e,new t.V.T,n,void 0);break}break}}if(o===void 0&&(o=ov(t.K,cm.BIGINT)),typeof o!="string"&&typeof o!="number"&&(o=o.toString()),s===void 0)switch(t.V.kind){case"scalar":s=ov(t.V.T,cm.BIGINT);break;case"enum":s=t.V.T.values[0].no;break;case"message":s=new t.V.T;break}return[o,s]}function p1e(t,e){let n=Kk(t,e);return typeof n=="bigint"?n.toString():n}function Kk(t,e){switch(e){case ve.STRING:return t.string();case ve.BOOL:return t.bool();case ve.DOUBLE:return t.double();case ve.FLOAT:return t.float();case ve.INT32:return t.int32();case ve.INT64:return t.int64();case ve.UINT64:return t.uint64();case ve.FIXED64:return t.fixed64();case ve.BYTES:return t.bytes();case ve.FIXED32:return t.fixed32();case ve.SFIXED32:return t.sfixed32();case ve.SFIXED64:return t.sfixed64();case ve.SINT64:return t.sint64();case ve.UINT32:return t.uint32();case ve.SINT32:return t.sint32()}}function bee(t,e,n,i){pr(e!==void 0);let r=t.repeated;switch(t.kind){case"scalar":case"enum":let o=t.kind=="enum"?ve.INT32:t.T;if(r)if(pr(Array.isArray(e)),t.packed)A1e(n,o,t.no,e);else for(let s of e)Hy(n,o,t.no,s);else Hy(n,o,t.no,e);break;case"message":if(r){pr(Array.isArray(e));for(let s of e)yee(n,i,t,s)}else yee(n,i,t,e);break;case"map":pr(typeof e=="object"&&e!=null);for(let[s,a]of Object.entries(e))m1e(n,i,t,s,a);break}}function m1e(t,e,n,i,r){t.tag(n.no,Gr.LengthDelimited),t.fork();let o=i;switch(n.K){case ve.INT32:case ve.FIXED32:case ve.UINT32:case ve.SFIXED32:case ve.SINT32:o=Number.parseInt(i);break;case ve.BOOL:pr(i=="true"||i=="false"),o=i=="true";break}switch(Hy(t,n.K,1,o),n.V.kind){case"scalar":Hy(t,n.V.T,2,r);break;case"enum":Hy(t,ve.INT32,2,r);break;case"message":pr(r!==void 0),t.tag(2,Gr.LengthDelimited).bytes(r.toBinary(e));break}t.join()}function yee(t,e,n,i){let r=gte(n.T,i);n.delimited?t.tag(n.no,Gr.StartGroup).raw(r.toBinary(e)).tag(n.no,Gr.EndGroup):t.tag(n.no,Gr.LengthDelimited).bytes(r.toBinary(e))}function Hy(t,e,n,i){pr(i!==void 0);let[r,o]=vte(e);t.tag(n,r)[o](i)}function A1e(t,e,n,i){if(!i.length)return;t.tag(n,Gr.LengthDelimited).fork();let[,r]=vte(e);for(let o=0;o<i.length;o++)t[r](i[o]);t.join()}function vte(t){let e=Gr.Varint;switch(t){case ve.BYTES:case ve.STRING:e=Gr.LengthDelimited;break;case ve.DOUBLE:case ve.FIXED64:case ve.SFIXED64:e=Gr.Bit64;break;case ve.FIXED32:case ve.SFIXED32:case ve.FLOAT:e=Gr.Bit32;break}let n=ve[t].toLowerCase();return[e,n]}function g1e(){return{setEnumType:ste,initPartial(t,e){if(t===void 0)return;let n=e.getType();for(let i of n.fields.byMember()){let r=i.localName,o=e,s=t;if(s[r]!=null)switch(i.kind){case"oneof":let a=s[r].case;if(a===void 0)continue;let l=i.findField(a),c=s[r].value;l&&l.kind=="message"&&!Iu(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===ve.BYTES&&(c=Py(c)),o[r]={case:a,value:c};break;case"scalar":case"enum":let d=s[r];i.T===ve.BYTES&&(d=i.repeated?d.map(Py):Py(d)),o[r]=d;break;case"map":switch(i.V.kind){case"scalar":case"enum":if(i.V.T===ve.BYTES)for(let[g,v]of Object.entries(s[r]))o[r][g]=Py(v);else Object.assign(o[r],s[r]);break;case"message":let p=i.V.T;for(let g of Object.keys(s[r])){let v=s[r][g];p.fieldWrapper||(v=new p(v)),o[r][g]=v}break}break;case"message":let u=i.T;if(i.repeated)o[r]=s[r].map(p=>Iu(p,u)?p:new u(p));else{let p=s[r];u.fieldWrapper?u.typeName==="google.protobuf.BytesValue"?o[r]=Py(p):o[r]=p:o[r]=Iu(p,u)?p:new u(p)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(i=>{let r=e[i.localName],o=n[i.localName];if(i.repeated){if(r.length!==o.length)return!1;switch(i.kind){case"message":return r.every((s,a)=>i.T.equals(s,o[a]));case"scalar":return r.every((s,a)=>uf(i.T,s,o[a]));case"enum":return r.every((s,a)=>uf(ve.INT32,s,o[a]))}throw new Error("repeated cannot contain ".concat(i.kind))}switch(i.kind){case"message":let s=r,a=o;return i.T.fieldWrapper&&(s!==void 0&&!Iu(s)&&(s=i.T.fieldWrapper.wrapField(s)),a!==void 0&&!Iu(a)&&(a=i.T.fieldWrapper.wrapField(a))),i.T.equals(s,a);case"enum":return uf(ve.INT32,r,o);case"scalar":return uf(i.T,r,o);case"oneof":if(r.case!==o.case)return!1;let l=i.findField(r.case);if(l===void 0)return!0;switch(l.kind){case"message":return l.T.equals(r.value,o.value);case"enum":return uf(ve.INT32,r.value,o.value);case"scalar":return uf(l.T,r.value,o.value)}throw new Error("oneof cannot contain ".concat(l.kind));case"map":let c=Object.keys(r).concat(Object.keys(o));switch(i.V.kind){case"message":let d=i.V.T;return c.every(p=>d.equals(r[p],o[p]));case"enum":return c.every(p=>uf(ve.INT32,r[p],o[p]));case"scalar":let u=i.V.T;return c.every(p=>uf(u,r[p],o[p]))}break}})},clone(t){let e=t.getType(),n=new e,i=n;for(let r of e.fields.byMember()){let o=t[r.localName],s;if(r.repeated)s=o.map(Mk);else if(r.kind=="map"){s=i[r.localName];for(let[a,l]of Object.entries(o))s[a]=Mk(l)}else r.kind=="oneof"?s=r.findField(o.case)?{case:o.case,value:Mk(o.value)}:{case:void 0}:s=Mk(o);i[r.localName]=s}for(let r of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(i,r.no,r.wireType,r.data);return n}}}function Mk(t){if(t===void 0)return t;if(Iu(t))return t.clone();if(t instanceof Uint8Array){let e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function Py(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function v1e(t,e,n){return{syntax:t,json:a1e(),bin:h1e(),util:Object.assign(Object.assign({},g1e()),{newFieldList:e,initFields:n}),makeMessageType(i,r,o){return KMe(this,i,r,o)},makeEnum:WMe,makeEnumType:ate,getEnumType:GMe,makeExtension(i,r,o){return e1e(this,i,r,o)}}}var _4=class{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){let n={};for(let i of this.list())n[i.jsonName]=n[i.name]=i;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){let n={};for(let i of this.list())n[i.no]=i;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];let e=this.members,n;for(let i of this.list())i.oneof?i.oneof!==n&&(n=i.oneof,e.push(n)):e.push(i)}return this.members}};function _te(t,e){let n=bte(t);return e?n:E1e(w1e(n))}function _1e(t){return _te(t,!1)}var b1e=bte;function bte(t){let e=!1,n=[];for(let i=0;i<t.length;i++){let r=t.charAt(i);switch(r){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),e=!1;break;default:e&&(e=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}var y1e=new Set(["constructor","toString","toJSON","valueOf"]),C1e=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),yte=t=>"".concat(t,"$"),w1e=t=>C1e.has(t)?yte(t):t,E1e=t=>y1e.has(t)?yte(t):t,b4=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=_1e(e)}addField(e){pr(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}};function x1e(t,e){var n,i,r,o,s,a;let l=[],c;for(let d of typeof t=="function"?t():t){let u=d;if(u.localName=_te(d.name,d.oneof!==void 0),u.jsonName=(n=d.jsonName)!==null&&n!==void 0?n:b1e(d.name),u.repeated=(i=d.repeated)!==null&&i!==void 0?i:!1,d.kind=="scalar"&&(u.L=(r=d.L)!==null&&r!==void 0?r:cm.BIGINT),u.delimited=(o=d.delimited)!==null&&o!==void 0?o:!1,u.req=(s=d.req)!==null&&s!==void 0?s:!1,u.opt=(a=d.opt)!==null&&a!==void 0?a:!1,d.packed===void 0&&(u.packed=d.kind=="enum"||d.kind=="scalar"&&d.T!=ve.BYTES&&d.T!=ve.STRING),d.oneof!==void 0){let p=typeof d.oneof=="string"?d.oneof:d.oneof.name;(!c||c.name!=p)&&(c=new b4(p)),u.oneof=c,c.addField(u)}l.push(u)}return l}var ae=v1e("proto3",t=>new _4(t,e=>x1e(e)),t=>{for(let e of t.getType().fields.byMember()){if(e.opt)continue;let n=e.localName,i=t;if(e.repeated){i[n]=[];continue}switch(e.kind){case"oneof":i[n]={case:void 0};break;case"enum":i[n]=0;break;case"map":i[n]={};break;case"scalar":i[n]=ov(e.T,e.L);break}}}),Mu=class t extends Qy{constructor(e){super(),this.seconds=Gi.zero,this.nanos=0,ae.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(ae.json.debug(e)));let i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let r=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(r))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Gi.parse(r/1e3),this.nanos=0,i[7]&&(this.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9),this}toJson(e){let n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let i="Z";if(this.nanos>0){let r=(this.nanos+1e9).toString().substring(1);r.substring(3)==="000000"?i="."+r.substring(0,3)+"Z":r.substring(6)==="000"?i="."+r.substring(0,6)+"Z":i="."+r+"Z"}return new Date(n).toISOString().replace(".000Z",i)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return t.fromDate(new Date)}static fromDate(e){let n=e.getTime();return new t({seconds:Gi.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new t().fromBinary(e,n)}static fromJson(e,n){return new t().fromJson(e,n)}static fromJsonString(e,n){return new t().fromJsonString(e,n)}static equals(e,n){return ae.util.equals(t,e,n)}};Mu.runtime=ae;Mu.typeName="google.protobuf.Timestamp";Mu.fields=ae.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);var S1e=ae.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:Mu},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:T1e,repeated:!0},{no:5,name:"events",kind:"message",T:k1e,repeated:!0}]),T1e=ae.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:I1e,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),I1e=ae.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:Mu},{no:3,name:"value",kind:"scalar",T:2}]),k1e=ae.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:Mu},{no:7,name:"normalized_end_timestamp",kind:"message",T:Mu,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),Cte=ae.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),Zl=ae.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),zr=ae.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),E3=ae.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),Ly=ae.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),jy=ae.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),tc=ae.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),Yg=ae.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),M1e=ae.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),po=ae.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),uM=ae.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:qk,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:Bte}]),qk=ae.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),D1e=ae.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:ae.getEnumType(zr),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),dm=ae.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ae.getEnumType(Jg)},{no:4,name:"tracks",kind:"message",T:Xg,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:D1e},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:ae.getEnumType($y)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:ae.getEnumType(tc)},{no:18,name:"kind_details",kind:"enum",T:ae.getEnumType(P1e),repeated:!0}]),Jg=ae.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),$y=ae.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"}]),P1e=ae.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),ya=ae.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),O1e=ae.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:am,repeated:!0}]),Xg=ae.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:ae.getEnumType(Zl)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:ae.getEnumType(zr)},{no:10,name:"layers",kind:"message",T:am,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:O1e,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:ae.getEnumType(ya)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:Bte},{no:19,name:"audio_features",kind:"enum",T:ae.getEnumType(po),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:ae.getEnumType(Cte)}]),am=ae.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:ae.getEnumType(E3)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),Qs=ae.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:ae.getEnumType(sn)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:Ete,oneof:"value"},{no:3,name:"speaker",kind:"message",T:R1e,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:xte,oneof:"value"},{no:7,name:"transcription",kind:"message",T:B1e,oneof:"value"},{no:8,name:"metrics",kind:"message",T:S1e,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:y4,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:Ste,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:Tte,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:Ite,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:w4,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:E4,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:x4,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),sn=ae.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),R1e=ae.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:wte,repeated:!0}]),wte=ae.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),Ete=ae.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),xte=ae.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),B1e=ae.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:F1e,repeated:!0}]),F1e=ae.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),y4=ae.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),Ste=ae.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),Tte=ae.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),Ite=ae.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:kte,oneof:"value"}]),kte=ae.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),Mte=ae.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),Dte=ae.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:ae.getEnumType(Pte)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),Pte=ae.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),N1e=ae.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:ae.getEnumType(Ote)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),Ote=ae.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),Rte=ae.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:Cee},{no:2,name:"screen",kind:"message",T:Cee},{no:3,name:"resume_connection",kind:"enum",T:ae.getEnumType(jy)},{no:4,name:"disabled_codecs",kind:"message",T:L1e},{no:5,name:"force_relay",kind:"enum",T:ae.getEnumType(jy)}]),Cee=ae.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:ae.getEnumType(jy)}]),L1e=ae.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:qk,repeated:!0},{no:2,name:"publish",kind:"message",T:qk,repeated:!0}]),Bte=ae.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),C4=ae.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),Fte=ae.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:ae.getEnumType(C4)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),Nte=ae.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),w4=ae.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:ae.getEnumType(ya)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:Fte,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:Nte,oneof:"content_header"}],{localName:"DataStream_Header"}),E4=ae.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),x4=ae.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),Jl=ae.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),S4=ae.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),U1e=ae.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),V1e=ae.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:um,oneof:"message"},{no:2,name:"answer",kind:"message",T:um,oneof:"message"},{no:3,name:"trickle",kind:"message",T:x3,oneof:"message"},{no:4,name:"add_track",kind:"message",T:I4,oneof:"message"},{no:5,name:"mute",kind:"message",T:S3,oneof:"message"},{no:6,name:"subscription",kind:"message",T:hM,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:Lte,oneof:"message"},{no:8,name:"leave",kind:"message",T:fM,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:Vte,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:$te,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:zte,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Zc,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:Hte,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:Kte,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:Ute,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:z1e,oneof:"message"}]),wee=ae.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:H1e,oneof:"message"},{no:2,name:"answer",kind:"message",T:um,oneof:"message"},{no:3,name:"offer",kind:"message",T:um,oneof:"message"},{no:4,name:"trickle",kind:"message",T:x3,oneof:"message"},{no:5,name:"update",kind:"message",T:$1e,oneof:"message"},{no:6,name:"track_published",kind:"message",T:T3,oneof:"message"},{no:8,name:"leave",kind:"message",T:fM,oneof:"message"},{no:9,name:"mute",kind:"message",T:S3,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:G1e,oneof:"message"},{no:11,name:"room_update",kind:"message",T:W1e,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:q1e,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:X1e,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:J1e,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:eDe,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:j1e,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:Q1e,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:nDe,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:oDe,oneof:"message"},{no:22,name:"request_response",kind:"message",T:sDe,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:aDe,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:tDe,oneof:"message"}]),T4=ae.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9}]),I4=ae.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:ae.getEnumType(Zl)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:ae.getEnumType(zr)},{no:9,name:"layers",kind:"message",T:am,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:T4,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:ae.getEnumType(ya)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:ae.getEnumType(Cte)},{no:17,name:"audio_features",kind:"enum",T:ae.getEnumType(po),repeated:!0}]),x3=ae.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:ae.getEnumType(Jl)},{no:3,name:"final",kind:"scalar",T:8}]),S3=ae.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),H1e=ae.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:uM},{no:2,name:"participant",kind:"message",T:dm},{no:3,name:"other_participants",kind:"message",T:dm,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:Qte,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:Rte},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:Dte},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:qk,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),Q1e=ae.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:Qte,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:Rte},{no:3,name:"server_info",kind:"message",T:Dte},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),T3=ae.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:Xg}]),j1e=ae.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),um=ae.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13}]),$1e=ae.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:dm,repeated:!0}]),hM=ae.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:Mte,repeated:!0}]),Lte=ae.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:ae.getEnumType(E3)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),Ute=ae.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:ae.getEnumType(po),repeated:!0}]),z1e=ae.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),fM=ae.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:ae.getEnumType(tc)},{no:3,name:"action",kind:"enum",T:ae.getEnumType(ev)},{no:4,name:"regions",kind:"message",T:iDe}]),ev=ae.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),Vte=ae.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:am,repeated:!0}]),Hte=ae.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),Qte=ae.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),G1e=ae.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:wte,repeated:!0}]),W1e=ae.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:uM}]),K1e=ae.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:ae.getEnumType(Ly)},{no:3,name:"score",kind:"scalar",T:2}]),q1e=ae.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:K1e,repeated:!0}]),Y1e=ae.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ae.getEnumType(S4)}]),X1e=ae.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:Y1e,repeated:!0}]),I3=ae.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:ae.getEnumType(E3)},{no:2,name:"enabled",kind:"scalar",T:8}]),Z1e=ae.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:I3,repeated:!0}]),J1e=ae.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:I3,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:Z1e,repeated:!0}]),jte=ae.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),$te=ae.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:jte,repeated:!0}]),eDe=ae.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),tDe=ae.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:uM},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:dm},{no:4,name:"other_participants",kind:"message",T:dm,repeated:!0}]),zte=ae.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:um},{no:2,name:"subscription",kind:"message",T:hM},{no:3,name:"publish_tracks",kind:"message",T:T3,repeated:!0},{no:4,name:"data_channels",kind:"message",T:Wte,repeated:!0},{no:5,name:"offer",kind:"message",T:um},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:Gte,repeated:!0}]),Gte=ae.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),Wte=ae.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:ae.getEnumType(Jl)}]),Zc=ae.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:ae.getEnumType(U1e),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),Kte=ae.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),nDe=ae.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),iDe=ae.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:rDe,repeated:!0}]),rDe=ae.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),oDe=ae.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:ae.getEnumType(M1e)}]),sDe=ae.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:ae.getEnumType(k3)},{no:3,name:"message",kind:"scalar",T:9}]),k3=ae.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"}]),aDe=ae.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]);function lDe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nk={exports:{}},cDe=Nk.exports,Eee;function dDe(){return Eee||(Eee=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(cDe,function(){var e=function(){},n="undefined",i=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],o={},s=null;function a(b,x){var T=b[x];if(typeof T.bind=="function")return T.bind(b);try{return Function.prototype.bind.call(T,b)}catch{return function(){return Function.prototype.apply.apply(T,[b,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(b){return b==="debug"&&(b="log"),typeof console===n?!1:b==="trace"&&i?l:console[b]!==void 0?a(console,b):console.log!==void 0?a(console,"log"):e}function d(){for(var b=this.getLevel(),x=0;x<r.length;x++){var T=r[x];this[T]=x<b?e:this.methodFactory(T,b,this.name)}if(this.log=this.debug,typeof console===n&&b<this.levels.SILENT)return"No console available for logging"}function u(b){return function(){typeof console!==n&&(d.call(this),this[b].apply(this,arguments))}}function p(b,x,T){return c(b)||u.apply(this,arguments)}function g(b,x){var T=this,k,U,D,N="loglevel";typeof b=="string"?N+=":"+b:typeof b=="symbol"&&(N=void 0);function z(ge){var Ee=(r[ge]||"silent").toUpperCase();if(!(typeof window===n||!N)){try{window.localStorage[N]=Ee;return}catch{}try{window.document.cookie=encodeURIComponent(N)+"="+Ee+";"}catch{}}}function Z(){var ge;if(!(typeof window===n||!N)){try{ge=window.localStorage[N]}catch{}if(typeof ge===n)try{var Ee=window.document.cookie,St=encodeURIComponent(N),qt=Ee.indexOf(St+"=");qt!==-1&&(ge=/^([^;]+)/.exec(Ee.slice(qt+St.length+1))[1])}catch{}return T.levels[ge]===void 0&&(ge=void 0),ge}}function ne(){if(!(typeof window===n||!N)){try{window.localStorage.removeItem(N)}catch{}try{window.document.cookie=encodeURIComponent(N)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function ee(ge){var Ee=ge;if(typeof Ee=="string"&&T.levels[Ee.toUpperCase()]!==void 0&&(Ee=T.levels[Ee.toUpperCase()]),typeof Ee=="number"&&Ee>=0&&Ee<=T.levels.SILENT)return Ee;throw new TypeError("log.setLevel() called with invalid level: "+ge)}T.name=b,T.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},T.methodFactory=x||p,T.getLevel=function(){return D??U??k},T.setLevel=function(ge,Ee){return D=ee(ge),Ee!==!1&&z(D),d.call(T)},T.setDefaultLevel=function(ge){U=ee(ge),Z()||T.setLevel(ge,!1)},T.resetLevel=function(){D=null,ne(),d.call(T)},T.enableAll=function(ge){T.setLevel(T.levels.TRACE,ge)},T.disableAll=function(ge){T.setLevel(T.levels.SILENT,ge)},T.rebuild=function(){if(s!==T&&(k=ee(s.getLevel())),d.call(T),s===T)for(var ge in o)o[ge].rebuild()},k=ee(s?s.getLevel():"WARN");var he=Z();he!=null&&(D=ee(he)),d.call(T)}s=new g,s.getLogger=function(x){if(typeof x!="symbol"&&typeof x!="string"||x==="")throw new TypeError("You must supply a name when creating a logger.");var T=o[x];return T||(T=o[x]=new g(x,s.methodFactory)),T};var v=typeof window!==n?window.log:void 0;return s.noConflict=function(){return typeof window!==n&&window.log===s&&(window.log=v),s},s.getLoggers=function(){return o},s.default=s,s})}(Nk)),Nk.exports}var pM=dDe(),Yk=function(t){return t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.silent=5]="silent",t}(Yk||{}),cd=function(t){return t.Default="livekit",t.Room="livekit-room",t.Participant="livekit-participant",t.Track="livekit-track",t.Publication="livekit-track-publication",t.Engine="livekit-engine",t.Signal="livekit-signal",t.PCManager="livekit-pc-manager",t.PCTransport="livekit-pc-transport",t.E2EE="lk-e2ee",t}(cd||{}),un=pM.getLogger("livekit"),uDe=Object.values(cd).map(t=>pM.getLogger(t));un.setDefaultLevel(Yk.info);function Du(t){let e=pM.getLogger(t);return e.setDefaultLevel(un.getLevel()),e}function Qvt(t,e){(e?[e]:uDe).forEach(i=>{let r=i.methodFactory;i.methodFactory=(o,s,a)=>{let l=r(o,s,a),c=Yk[o],d=c>=s&&c<Yk.silent;return(u,p)=>{p?l(u,p):l(u),d&&t(c,u,p)}},i.setLevel(i.getLevel())})}var hDe=pM.getLogger("lk-e2ee"),Oy=7e3,fDe=[0,300,2*2*300,3*3*300,4*4*300,Oy,Oy,Oy,Oy,Oy],k4=class{constructor(e){this._retryDelays=e!==void 0?[...e]:fDe}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;let n=this._retryDelays[e.retryCount];return e.retryCount<=1?n:n+Math.random()*1e3}};function pDe(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function j(t,e,n,i){function r(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{c(i.next(d))}catch(u){s(u)}}function l(d){try{c(i.throw(d))}catch(u){s(u)}}function c(d){d.done?o(d.value):r(d.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}function xee(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ku(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xee=="function"?xee(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),r(a,l,s.done,s.value)})}}function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Dk={exports:{}},See;function mDe(){if(See)return Dk.exports;See=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(N,z,Z){return Function.prototype.apply.call(N,z,Z)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:n=function(N){return Object.getOwnPropertyNames(N)};function i(D){console&&console.warn&&console.warn(D)}var r=Number.isNaN||function(N){return N!==N};function o(){o.init.call(this)}Dk.exports=o,Dk.exports.once=T,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(D){if(typeof D!="number"||D<0||r(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");s=D}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||r(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function l(D){return D._maxListeners===void 0?o.defaultMaxListeners:D._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(N){for(var z=[],Z=1;Z<arguments.length;Z++)z.push(arguments[Z]);var ne=N==="error",ee=this._events;if(ee!==void 0)ne=ne&&ee.error===void 0;else if(!ne)return!1;if(ne){var he;if(z.length>0&&(he=z[0]),he instanceof Error)throw he;var ge=new Error("Unhandled error."+(he?" ("+he.message+")":""));throw ge.context=he,ge}var Ee=ee[N];if(Ee===void 0)return!1;if(typeof Ee=="function")e(Ee,this,z);else for(var St=Ee.length,qt=v(Ee,St),Z=0;Z<St;++Z)e(qt[Z],this,z);return!0};function c(D,N,z,Z){var ne,ee,he;if(a(z),ee=D._events,ee===void 0?(ee=D._events=Object.create(null),D._eventsCount=0):(ee.newListener!==void 0&&(D.emit("newListener",N,z.listener?z.listener:z),ee=D._events),he=ee[N]),he===void 0)he=ee[N]=z,++D._eventsCount;else if(typeof he=="function"?he=ee[N]=Z?[z,he]:[he,z]:Z?he.unshift(z):he.push(z),ne=l(D),ne>0&&he.length>ne&&!he.warned){he.warned=!0;var ge=new Error("Possible EventEmitter memory leak detected. "+he.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");ge.name="MaxListenersExceededWarning",ge.emitter=D,ge.type=N,ge.count=he.length,i(ge)}return D}o.prototype.addListener=function(N,z){return c(this,N,z,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(N,z){return c(this,N,z,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(D,N,z){var Z={fired:!1,wrapFn:void 0,target:D,type:N,listener:z},ne=d.bind(Z);return ne.listener=z,Z.wrapFn=ne,ne}o.prototype.once=function(N,z){return a(z),this.on(N,u(this,N,z)),this},o.prototype.prependOnceListener=function(N,z){return a(z),this.prependListener(N,u(this,N,z)),this},o.prototype.removeListener=function(N,z){var Z,ne,ee,he,ge;if(a(z),ne=this._events,ne===void 0)return this;if(Z=ne[N],Z===void 0)return this;if(Z===z||Z.listener===z)--this._eventsCount===0?this._events=Object.create(null):(delete ne[N],ne.removeListener&&this.emit("removeListener",N,Z.listener||z));else if(typeof Z!="function"){for(ee=-1,he=Z.length-1;he>=0;he--)if(Z[he]===z||Z[he].listener===z){ge=Z[he].listener,ee=he;break}if(ee<0)return this;ee===0?Z.shift():b(Z,ee),Z.length===1&&(ne[N]=Z[0]),ne.removeListener!==void 0&&this.emit("removeListener",N,ge||z)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(N){var z,Z,ne;if(Z=this._events,Z===void 0)return this;if(Z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Z[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Z[N]),this;if(arguments.length===0){var ee=Object.keys(Z),he;for(ne=0;ne<ee.length;++ne)he=ee[ne],he!=="removeListener"&&this.removeAllListeners(he);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(z=Z[N],typeof z=="function")this.removeListener(N,z);else if(z!==void 0)for(ne=z.length-1;ne>=0;ne--)this.removeListener(N,z[ne]);return this};function p(D,N,z){var Z=D._events;if(Z===void 0)return[];var ne=Z[N];return ne===void 0?[]:typeof ne=="function"?z?[ne.listener||ne]:[ne]:z?x(ne):v(ne,ne.length)}o.prototype.listeners=function(N){return p(this,N,!0)},o.prototype.rawListeners=function(N){return p(this,N,!1)},o.listenerCount=function(D,N){return typeof D.listenerCount=="function"?D.listenerCount(N):g.call(D,N)},o.prototype.listenerCount=g;function g(D){var N=this._events;if(N!==void 0){var z=N[D];if(typeof z=="function")return 1;if(z!==void 0)return z.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(D,N){for(var z=new Array(N),Z=0;Z<N;++Z)z[Z]=D[Z];return z}function b(D,N){for(;N+1<D.length;N++)D[N]=D[N+1];D.pop()}function x(D){for(var N=new Array(D.length),z=0;z<N.length;++z)N[z]=D[z].listener||D[z];return N}function T(D,N){return new Promise(function(z,Z){function ne(he){D.removeListener(N,ee),Z(he)}function ee(){typeof D.removeListener=="function"&&D.removeListener("error",ne),z([].slice.call(arguments))}U(D,N,ee,{once:!0}),N!=="error"&&k(D,ne,{once:!0})})}function k(D,N,z){typeof D.on=="function"&&U(D,"error",N,z)}function U(D,N,z,Z){if(typeof D.on=="function")Z.once?D.once(N,z):D.on(N,z);else if(typeof D.addEventListener=="function")D.addEventListener(N,function ne(ee){Z.once&&D.removeEventListener(N,ne),z(ee)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}return Dk.exports}var dd=mDe(),qte=!0,Yte=!0;function Uy(t,e,n){let i=t.match(e);return i&&i.length>=n&&parseFloat(i[n],10)}function fm(t,e,n){if(!t.RTCPeerConnection)return;let i=t.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(s,a){if(s!==e)return r.apply(this,arguments);let l=c=>{let d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),r.apply(this,[s,l])};let o=i.removeEventListener;i.removeEventListener=function(s,a){if(s!==e||!this._eventMap||!this._eventMap[e])return o.apply(this,arguments);if(!this._eventMap[e].has(a))return o.apply(this,arguments);let l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,o.apply(this,[s,l])},Object.defineProperty(i,"on"+e,{get(){return this["_on"+e]},set(s){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),s&&this.addEventListener(e,this["_on"+e]=s)},enumerable:!0,configurable:!0})}function ADe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(qte=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function gDe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Yte=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Xte(){if(typeof window=="object"){if(qte)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function M3(t,e){Yte&&console.warn(t+" is deprecated, please use "+e+" instead.")}function vDe(t){let e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;let{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){let i=n.userAgentData.brands.find(r=>r.brand==="Chromium");if(i)return{browser:"chrome",version:parseInt(i.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Uy(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Uy(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Uy(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Uy(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function Tee(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zte(t){return Tee(t)?Object.keys(t).reduce(function(e,n){let i=Tee(t[n]),r=i?Zte(t[n]):t[n],o=i&&!Object.keys(r).length;return r===void 0||o?e:Object.assign(e,{[n]:r})},{}):t}function M4(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(i=>{i.endsWith("Id")?M4(t,t.get(e[i]),n):i.endsWith("Ids")&&e[i].forEach(r=>{M4(t,t.get(r),n)})}))}function Iee(t,e,n){let i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(e===null)return r;let o=[];return t.forEach(s=>{s.type==="track"&&s.trackIdentifier===e.id&&o.push(s)}),o.forEach(s=>{t.forEach(a=>{a.type===i&&a.trackId===s.id&&M4(t,a,r)})}),r}var kee=Xte;function Jte(t,e){let n=t&&t.navigator;if(!n.mediaDevices)return;let i=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;let l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;let d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);let u=function(p,g){return p?p+g.charAt(0).toUpperCase()+g.slice(1):g==="deviceId"?"sourceId":g};if(d.ideal!==void 0){l.optional=l.optional||[];let p={};typeof d.ideal=="number"?(p[u("min",c)]=d.ideal,l.optional.push(p),p={},p[u("max",c)]=d.ideal,l.optional.push(p)):(p[u("",c)]=d.ideal,l.optional.push(p))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[u("",c)]=d.exact):["min","max"].forEach(p=>{d[p]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[u(p,c)]=d[p])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},r=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){let c=function(d,u,p){u in d&&!(p in d)&&(d[p]=d[u],delete d[u])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=i(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});let d=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let u;if(c.exact==="environment"||c.ideal==="environment"?u=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(u=["front"]),u)return n.mediaDevices.enumerateDevices().then(p=>{p=p.filter(v=>v.kind==="videoinput");let g=p.find(v=>u.some(b=>v.label.toLowerCase().includes(b)));return!g&&p.length&&u.includes("back")&&(g=p[p.length-1]),g&&(a.video.deviceId=c.exact?{exact:g.deviceId}:{ideal:g.deviceId}),a.video=i(a.video),kee("chrome: "+JSON.stringify(a)),l(a)})}a.video=i(a.video)}return kee("chrome: "+JSON.stringify(a)),l(a)},o=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},s=function(a,l,c){r(a,d=>{n.webkitGetUserMedia(d,l,u=>{c&&c(o(u))})})};if(n.getUserMedia=s.bind(n),n.mediaDevices.getUserMedia){let a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return r(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(u=>{u.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(o(d))))}}}function ene(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function tne(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=i=>{i.stream.addEventListener("addtrack",r=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===r.track.id):o={track:r.track};let s=new Event("track");s.track=r.track,s.receiver=o,s.transceiver={receiver:o},s.streams=[i.stream],this.dispatchEvent(s)}),i.stream.getTracks().forEach(r=>{let o;t.RTCPeerConnection.prototype.getReceivers?o=this.getReceivers().find(a=>a.track&&a.track.id===r.id):o={track:r};let s=new Event("track");s.track=r,s.receiver=o,s.transceiver={receiver:o},s.streams=[i.stream],this.dispatchEvent(s)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else fm(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function nne(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){let e=function(r,o){return{track:o,get dtmf(){return this._dtmf===void 0&&(o.kind==="audio"?this._dtmf=r.createDTMFSender(o):this._dtmf=null),this._dtmf},_pc:r}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};let r=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=r.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};let o=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){o.apply(this,arguments);let l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._senders=this._senders||[],n.apply(this,[o]),o.getTracks().forEach(s=>{this._senders.push(e(this,s))})};let i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){this._senders=this._senders||[],i.apply(this,[o]),o.getTracks().forEach(s=>{let a=this._senders.find(l=>l.track===s);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){let e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){let i=e.apply(this,[]);return i.forEach(r=>r._pc=this),i},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function ine(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){let n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){let o=n.apply(this,[]);return o.forEach(s=>s._pc=this),o});let i=t.RTCPeerConnection.prototype.addTrack;i&&(t.RTCPeerConnection.prototype.addTrack=function(){let o=i.apply(this,arguments);return o._pc=this,o}),t.RTCRtpSender.prototype.getStats=function(){let o=this;return this._pc.getStats().then(s=>Iee(s,o.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){let n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){let r=n.apply(this,[]);return r.forEach(o=>o._pc=this),r}),fm(t,"track",i=>(i.receiver._pc=i.srcElement,i)),t.RTCRtpReceiver.prototype.getStats=function(){let r=this;return this._pc.getStats().then(o=>Iee(o,r.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;let e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){let i=arguments[0],r,o,s;return this.getSenders().forEach(a=>{a.track===i&&(r?s=!0:r=a)}),this.getReceivers().forEach(a=>(a.track===i&&(o?s=!0:o=a),a.track===i)),s||r&&o?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():o?o.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function rne(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(s=>this._shimmedLocalStreams[s][0])};let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(s,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};let l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};let n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._shimmedLocalStreams=this._shimmedLocalStreams||{},s.getTracks().forEach(c=>{if(this.getSenders().find(u=>u.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});let a=this.getSenders();n.apply(this,arguments);let l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[s.id]=[s].concat(l)};let i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[s.id],i.apply(this,arguments)};let r=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(s){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},s&&Object.keys(this._shimmedLocalStreams).forEach(a=>{let l=this._shimmedLocalStreams[a].indexOf(s);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),r.apply(this,arguments)}}function one(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return rne(t);let n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){let d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(u=>this._reverseStreams[u.id])};let i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(u=>{if(this.getSenders().find(g=>g.track===u))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){let u=new t.MediaStream(d.getTracks());this._streams[d.id]=u,this._reverseStreams[u.id]=d,d=u}i.apply(this,[d])};let r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,u){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");let p=[].slice.call(arguments,1);if(p.length!==1||!p[0].getTracks().find(b=>b===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(b=>b.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};let v=this._streams[u.id];if(v)v.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{let b=new t.MediaStream([d]);this._streams[u.id]=b,this._reverseStreams[b.id]=u,this.addStream(b)}return this.getSenders().find(b=>b.track===d)};function o(c,d){let u=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{let g=c._reverseStreams[p],v=c._streams[g.id];u=u.replace(new RegExp(v.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:u})}function s(c,d){let u=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(p=>{let g=c._reverseStreams[p],v=c._streams[g.id];u=u.replace(new RegExp(g.id,"g"),v.id)}),new RTCSessionDescription({type:d.type,sdp:u})}["createOffer","createAnswer"].forEach(function(c){let d=t.RTCPeerConnection.prototype[c],u={[c](){let p=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[v=>{let b=o(this,v);p[0].apply(null,[b])},v=>{p[1]&&p[1].apply(null,v)},arguments[2]]):d.apply(this,arguments).then(v=>o(this,v))}};t.RTCPeerConnection.prototype[c]=u[c]});let a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=s(this,arguments[0]),a.apply(this,arguments))};let l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){let c=l.get.apply(this);return c.type===""?c:o(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let p;Object.keys(this._streams).forEach(g=>{this._streams[g].getTracks().find(b=>d.track===b)&&(p=this._streams[g])}),p&&(p.getTracks().length===1?this.removeStream(this._reverseStreams[p.id]):p.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function D4(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){let i=t.RTCPeerConnection.prototype[n],r={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=r[n]})}function sne(t,e){fm(t,"negotiationneeded",n=>{let i=n.target;if(!((e.version<72||i.getConfiguration&&i.getConfiguration().sdpSemantics==="plan-b")&&i.signalingState!=="stable"))return n})}var Mee=Object.freeze({__proto__:null,fixNegotiationNeeded:sne,shimAddTrackRemoveTrack:one,shimAddTrackRemoveTrackWithNative:rne,shimGetSendersWithDtmf:nne,shimGetUserMedia:Jte,shimMediaStream:ene,shimOnTrack:tne,shimPeerConnection:D4,shimSenderReceiverGetStats:ine});function ane(t,e){let n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(r,o,s){M3("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(r).then(o,s)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){let r=function(s,a,l){a in s&&!(l in s)&&(s[l]=s[a],delete s[a])},o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(s){return typeof s=="object"&&typeof s.audio=="object"&&(s=JSON.parse(JSON.stringify(s)),r(s.audio,"autoGainControl","mozAutoGainControl"),r(s.audio,"noiseSuppression","mozNoiseSuppression")),o(s)},i&&i.prototype.getSettings){let s=i.prototype.getSettings;i.prototype.getSettings=function(){let a=s.apply(this,arguments);return r(a,"mozAutoGainControl","autoGainControl"),r(a,"mozNoiseSuppression","noiseSuppression"),a}}if(i&&i.prototype.applyConstraints){let s=i.prototype.applyConstraints;i.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),r(a,"autoGainControl","mozAutoGainControl"),r(a,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[a])}}}}function _De(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){let r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return i.video===!0?i.video={mediaSource:e}:i.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(i)})}function lne(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function P4(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(r){let o=t.RTCPeerConnection.prototype[r],s={[r](){return arguments[0]=new(r==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),o.apply(this,arguments)}};t.RTCPeerConnection.prototype[r]=s[r]});let n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){let[o,s,a]=arguments;return i.apply(this,[o||null]).then(l=>{if(e.version<53&&!s)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,u)=>{l.set(u,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(s,a)}}function cne(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;let e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){let r=e.apply(this,[]);return r.forEach(o=>o._pc=this),r});let n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){let r=n.apply(this,arguments);return r._pc=this,r}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function dne(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;let e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){let i=e.apply(this,[]);return i.forEach(r=>r._pc=this),i}),fm(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function une(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){M3("removeStream","removeTrack"),this.getSenders().forEach(i=>{i.track&&n.getTracks().includes(i.track)&&this.removeTrack(i)})})}function hne(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function fne(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;let e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let i=arguments[1]&&arguments[1].sendEncodings;i===void 0&&(i=[]),i=[...i];let r=i.length>0;r&&i.forEach(s=>{if("rid"in s&&!/^[a-z0-9]{0,16}$/i.test(s.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in s&&!(parseFloat(s.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in s&&!(parseFloat(s.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});let o=e.apply(this,arguments);if(r){let{sender:s}=o,a=s.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=i,s.sendEncodings=i,this.setParametersPromises.push(s.setParameters(a).then(()=>{delete s.sendEncodings}).catch(()=>{delete s.sendEncodings})))}return o})}function pne(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;let e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){let i=e.apply(this,arguments);return"encodings"in i||(i.encodings=[].concat(this.sendEncodings||[{}])),i})}function mne(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Ane(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;let e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var Dee=Object.freeze({__proto__:null,shimAddTransceiver:fne,shimCreateAnswer:Ane,shimCreateOffer:mne,shimGetDisplayMedia:_De,shimGetParameters:pne,shimGetUserMedia:ane,shimOnTrack:lne,shimPeerConnection:P4,shimRTCDataChannel:hne,shimReceiverGetStats:dne,shimRemoveStream:une,shimSenderGetStats:cne});function gne(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){let e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(i){this._localStreams||(this._localStreams=[]),this._localStreams.includes(i)||this._localStreams.push(i),i.getAudioTracks().forEach(r=>e.call(this,r,i)),i.getVideoTracks().forEach(r=>e.call(this,r,i))},t.RTCPeerConnection.prototype.addTrack=function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o&&o.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);let i=this._localStreams.indexOf(n);if(i===-1)return;this._localStreams.splice(i,1);let r=n.getTracks();this.getSenders().forEach(o=>{r.includes(o.track)&&this.removeTrack(o)})})}}function vne(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=i=>{i.streams.forEach(r=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(r))return;this._remoteStreams.push(r);let o=new Event("addstream");o.stream=r,this.dispatchEvent(o)})})}});let e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){let i=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(r){r.streams.forEach(o=>{if(i._remoteStreams||(i._remoteStreams=[]),i._remoteStreams.indexOf(o)>=0)return;i._remoteStreams.push(o);let s=new Event("addstream");s.stream=o,i.dispatchEvent(s)})}),e.apply(i,arguments)}}}function _ne(t){if(typeof t!="object"||!t.RTCPeerConnection)return;let e=t.RTCPeerConnection.prototype,n=e.createOffer,i=e.createAnswer,r=e.setLocalDescription,o=e.setRemoteDescription,s=e.addIceCandidate;e.createOffer=function(c,d){let u=arguments.length>=2?arguments[2]:arguments[0],p=n.apply(this,[u]);return d?(p.then(c,d),Promise.resolve()):p},e.createAnswer=function(c,d){let u=arguments.length>=2?arguments[2]:arguments[0],p=i.apply(this,[u]);return d?(p.then(c,d),Promise.resolve()):p};let a=function(l,c,d){let u=r.apply(this,[l]);return d?(u.then(c,d),Promise.resolve()):u};e.setLocalDescription=a,a=function(l,c,d){let u=o.apply(this,[l]);return d?(u.then(c,d),Promise.resolve()):u},e.setRemoteDescription=a,a=function(l,c,d){let u=s.apply(this,[l]);return d?(u.then(c,d),Promise.resolve()):u},e.addIceCandidate=a}function bne(t){let e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){let n=e.mediaDevices,i=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=r=>i(yne(r))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(i,r,o){e.mediaDevices.getUserMedia(i).then(r,o)}).bind(e))}function yne(t){return t&&t.video!==void 0?Object.assign({},t,{video:Zte(t.video)}):t}function Cne(t){if(!t.RTCPeerConnection)return;let e=t.RTCPeerConnection;t.RTCPeerConnection=function(i,r){if(i&&i.iceServers){let o=[];for(let s=0;s<i.iceServers.length;s++){let a=i.iceServers[s];a.urls===void 0&&a.url?(M3("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,o.push(a)):o.push(i.iceServers[s])}i.iceServers=o}return new e(i,r)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function wne(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Ene(t){let e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(i){if(i){typeof i.offerToReceiveAudio<"u"&&(i.offerToReceiveAudio=!!i.offerToReceiveAudio);let r=this.getTransceivers().find(s=>s.receiver.track.kind==="audio");i.offerToReceiveAudio===!1&&r?r.direction==="sendrecv"?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":r.direction==="recvonly"&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):i.offerToReceiveAudio===!0&&!r&&this.addTransceiver("audio",{direction:"recvonly"}),typeof i.offerToReceiveVideo<"u"&&(i.offerToReceiveVideo=!!i.offerToReceiveVideo);let o=this.getTransceivers().find(s=>s.receiver.track.kind==="video");i.offerToReceiveVideo===!1&&o?o.direction==="sendrecv"?o.setDirection?o.setDirection("sendonly"):o.direction="sendonly":o.direction==="recvonly"&&(o.setDirection?o.setDirection("inactive"):o.direction="inactive"):i.offerToReceiveVideo===!0&&!o&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function xne(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var Pee=Object.freeze({__proto__:null,shimAudioContext:xne,shimCallbacksAPI:_ne,shimConstraints:yne,shimCreateOfferLegacy:Ene,shimGetUserMedia:bne,shimLocalStreamsAPI:gne,shimRTCIceServerUrls:Cne,shimRemoteStreamsAPI:vne,shimTrackEventTransceiver:wne}),t4={exports:{}},Oee;function bDe(){return Oee||(Oee=1,function(t){let e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(i=>i.trim())},e.splitSections=function(n){return n.split(`
m=`).map((r,o)=>(o>0?"m="+r:r).trim()+`\r
`)},e.getDescription=function(n){let i=e.splitSections(n);return i&&i[0]},e.getMediaSections=function(n){let i=e.splitSections(n);return i.shift(),i},e.matchPrefix=function(n,i){return e.splitLines(n).filter(r=>r.indexOf(i)===0)},e.parseCandidate=function(n){let i;n.indexOf("a=candidate:")===0?i=n.substring(12).split(" "):i=n.substring(10).split(" ");let r={foundation:i[0],component:{1:"rtp",2:"rtcp"}[i[1]]||i[1],protocol:i[2].toLowerCase(),priority:parseInt(i[3],10),ip:i[4],address:i[4],port:parseInt(i[5],10),type:i[7]};for(let o=8;o<i.length;o+=2)switch(i[o]){case"raddr":r.relatedAddress=i[o+1];break;case"rport":r.relatedPort=parseInt(i[o+1],10);break;case"tcptype":r.tcpType=i[o+1];break;case"ufrag":r.ufrag=i[o+1],r.usernameFragment=i[o+1];break;default:r[i[o]]===void 0&&(r[i[o]]=i[o+1]);break}return r},e.writeCandidate=function(n){let i=[];i.push(n.foundation);let r=n.component;r==="rtp"?i.push(1):r==="rtcp"?i.push(2):i.push(r),i.push(n.protocol.toUpperCase()),i.push(n.priority),i.push(n.address||n.ip),i.push(n.port);let o=n.type;return i.push("typ"),i.push(o),o!=="host"&&n.relatedAddress&&n.relatedPort&&(i.push("raddr"),i.push(n.relatedAddress),i.push("rport"),i.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(i.push("tcptype"),i.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(i.push("ufrag"),i.push(n.usernameFragment||n.ufrag)),"candidate:"+i.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let i=n.substring(9).split(" "),r={payloadType:parseInt(i.shift(),10)};return i=i[0].split("/"),r.name=i[0],r.clockRate=parseInt(i[1],10),r.channels=i.length===3?parseInt(i[2],10):1,r.numChannels=r.channels,r},e.writeRtpMap=function(n){let i=n.payloadType;n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType);let r=n.channels||n.numChannels||1;return"a=rtpmap:"+i+" "+n.name+"/"+n.clockRate+(r!==1?"/"+r:"")+`\r
`},e.parseExtmap=function(n){let i=n.substring(9).split(" ");return{id:parseInt(i[0],10),direction:i[0].indexOf("/")>0?i[0].split("/")[1]:"sendrecv",uri:i[1],attributes:i.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){let i={},r,o=n.substring(n.indexOf(" ")+1).split(";");for(let s=0;s<o.length;s++)r=o[s].trim().split("="),i[r[0].trim()]=r[1];return i},e.writeFmtp=function(n){let i="",r=n.payloadType;if(n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){let o=[];Object.keys(n.parameters).forEach(s=>{n.parameters[s]!==void 0?o.push(s+"="+n.parameters[s]):o.push(s)}),i+="a=fmtp:"+r+" "+o.join(";")+`\r
`}return i},e.parseRtcpFb=function(n){let i=n.substring(n.indexOf(" ")+1).split(" ");return{type:i.shift(),parameter:i.join(" ")}},e.writeRtcpFb=function(n){let i="",r=n.payloadType;return n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(o=>{i+="a=rtcp-fb:"+r+" "+o.type+(o.parameter&&o.parameter.length?" "+o.parameter:"")+`\r
`}),i},e.parseSsrcMedia=function(n){let i=n.indexOf(" "),r={ssrc:parseInt(n.substring(7,i),10)},o=n.indexOf(":",i);return o>-1?(r.attribute=n.substring(i+1,o),r.value=n.substring(o+1)):r.attribute=n.substring(i+1),r},e.parseSsrcGroup=function(n){let i=n.substring(13).split(" ");return{semantics:i.shift(),ssrcs:i.map(r=>parseInt(r,10))}},e.getMid=function(n){let i=e.matchPrefix(n,"a=mid:")[0];if(i)return i.substring(6)},e.parseFingerprint=function(n){let i=n.substring(14).split(" ");return{algorithm:i[0].toLowerCase(),value:i[1].toUpperCase()}},e.getDtlsParameters=function(n,i){return{role:"auto",fingerprints:e.matchPrefix(n+i,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,i){let r="a=setup:"+i+`\r
`;return n.fingerprints.forEach(o=>{r+="a=fingerprint:"+o.algorithm+" "+o.value+`\r
`}),r},e.parseCryptoLine=function(n){let i=n.substring(9).split(" ");return{tag:parseInt(i[0],10),cryptoSuite:i[1],keyParams:i[2],sessionParams:i.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;let i=n.substring(7).split("|");return{keyMethod:"inline",keySalt:i[0],lifeTime:i[1],mkiValue:i[2]?i[2].split(":")[0]:void 0,mkiLength:i[2]?i[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,i){return e.matchPrefix(n+i,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,i){let r=e.matchPrefix(n+i,"a=ice-ufrag:")[0],o=e.matchPrefix(n+i,"a=ice-pwd:")[0];return r&&o?{usernameFragment:r.substring(12),password:o.substring(10)}:null},e.writeIceParameters=function(n){let i="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(i+=`a=ice-lite\r
`),i},e.parseRtpParameters=function(n){let i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},o=e.splitLines(n)[0].split(" ");i.profile=o[2];for(let a=3;a<o.length;a++){let l=o[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){let d=e.parseRtpMap(c),u=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=u.length?e.parseFmtp(u[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),i.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{i.headerExtensions.push(e.parseExtmap(a))});let s=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return i.codecs.forEach(a=>{s.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),i},e.writeRtpDescription=function(n,i){let r="";r+="m="+n+" ",r+=i.codecs.length>0?"9":"0",r+=" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=i.codecs.map(s=>s.preferredPayloadType!==void 0?s.preferredPayloadType:s.payloadType).join(" ")+`\r
`,r+=`c=IN IP4 0.0.0.0\r
`,r+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,i.codecs.forEach(s=>{r+=e.writeRtpMap(s),r+=e.writeFmtp(s),r+=e.writeRtcpFb(s)});let o=0;return i.codecs.forEach(s=>{s.maxptime>o&&(o=s.maxptime)}),o>0&&(r+="a=maxptime:"+o+`\r
`),i.headerExtensions&&i.headerExtensions.forEach(s=>{r+=e.writeExtmap(s)}),r},e.parseRtpEncodingParameters=function(n){let i=[],r=e.parseRtpParameters(n),o=r.fecMechanisms.indexOf("RED")!==-1,s=r.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(p=>e.parseSsrcMedia(p)).filter(p=>p.attribute==="cname"),l=a.length>0&&a[0].ssrc,c,d=e.matchPrefix(n,"a=ssrc-group:FID").map(p=>p.substring(17).split(" ").map(v=>parseInt(v,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),r.codecs.forEach(p=>{if(p.name.toUpperCase()==="RTX"&&p.parameters.apt){let g={ssrc:l,codecPayloadType:parseInt(p.parameters.apt,10)};l&&c&&(g.rtx={ssrc:c}),i.push(g),o&&(g=JSON.parse(JSON.stringify(g)),g.fec={ssrc:l,mechanism:s?"red+ulpfec":"red"},i.push(g))}}),i.length===0&&l&&i.push({ssrc:l});let u=e.matchPrefix(n,"b=");return u.length&&(u[0].indexOf("b=TIAS:")===0?u=parseInt(u[0].substring(7),10):u[0].indexOf("b=AS:")===0?u=parseInt(u[0].substring(5),10)*1e3*.95-50*40*8:u=void 0,i.forEach(p=>{p.maxBitrate=u})),i},e.parseRtcpParameters=function(n){let i={},r=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];r&&(i.cname=r.value,i.ssrc=r.ssrc);let o=e.matchPrefix(n,"a=rtcp-rsize");i.reducedSize=o.length>0,i.compound=o.length===0;let s=e.matchPrefix(n,"a=rtcp-mux");return i.mux=s.length>0,i},e.writeRtcpParameters=function(n){let i="";return n.reducedSize&&(i+=`a=rtcp-rsize\r
`),n.mux&&(i+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(i+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),i},e.parseMsid=function(n){let i,r=e.matchPrefix(n,"a=msid:");if(r.length===1)return i=r[0].substring(7).split(" "),{stream:i[0],track:i[1]};let o=e.matchPrefix(n,"a=ssrc:").map(s=>e.parseSsrcMedia(s)).filter(s=>s.attribute==="msid");if(o.length>0)return i=o[0].value.split(" "),{stream:i[0],track:i[1]}},e.parseSctpDescription=function(n){let i=e.parseMLine(n),r=e.matchPrefix(n,"a=max-message-size:"),o;r.length>0&&(o=parseInt(r[0].substring(19),10)),isNaN(o)&&(o=65536);let s=e.matchPrefix(n,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:i.fmt,maxMessageSize:o};let a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){let l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:o}}},e.writeSctpDescription=function(n,i){let r=[];return n.protocol!=="DTLS/SCTP"?r=["m="+n.kind+" 9 "+n.protocol+" "+i.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+i.port+`\r
`]:r=["m="+n.kind+" 9 "+n.protocol+" "+i.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+i.port+" "+i.protocol+` 65535\r
`],i.maxMessageSize!==void 0&&r.push("a=max-message-size:"+i.maxMessageSize+`\r
`),r.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,i,r){let o,s=i!==void 0?i:2;return n?o=n:o=e.generateSessionId(),`v=0\r
o=`+(r||"thisisadapterortc")+" "+o+" "+s+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,i){let r=e.splitLines(n);for(let o=0;o<r.length;o++)switch(r[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[o].substring(2)}return i?e.getDirection(i):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){let r=e.splitLines(n)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},e.parseOLine=function(n){let r=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;let i=e.splitLines(n);for(let r=0;r<i.length;r++)if(i[r].length<2||i[r].charAt(1)!=="=")return!1;return!0},t.exports=e}(t4)),t4.exports}var Sne=bDe(),tv=lDe(Sne),yDe=LMe({__proto__:null,default:tv},[Sne]);function Lk(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;let e=t.RTCIceCandidate;t.RTCIceCandidate=function(i){if(typeof i=="object"&&i.candidate&&i.candidate.indexOf("a=")===0&&(i=JSON.parse(JSON.stringify(i)),i.candidate=i.candidate.substring(2)),i.candidate&&i.candidate.length){let r=new e(i),o=tv.parseCandidate(i.candidate);for(let s in o)s in r||Object.defineProperty(r,s,{value:o[s]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new e(i)},t.RTCIceCandidate.prototype=e.prototype,fm(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function O4(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||fm(t,"icecandidate",e=>{if(e.candidate){let n=tv.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Uk(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});let n=function(a){if(!a||!a.sdp)return!1;let l=tv.splitSections(a.sdp);return l.shift(),l.some(c=>{let d=tv.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},i=function(a){let l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;let c=parseInt(l[1],10);return c!==c?-1:c},r=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},o=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);let d=tv.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},s=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){let{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){let l=i(arguments[0]),c=r(l),d=o(arguments[0],l),u;c===0&&d===0?u=Number.POSITIVE_INFINITY:c===0||d===0?u=Math.max(c,d):u=Math.min(c,d);let p={};Object.defineProperty(p,"maxMessageSize",{get(){return u}}),this._sctp=p}return s.apply(this,arguments)}}function Vk(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(i,r){let o=i.send;i.send=function(){let a=arguments[0],l=a.length||a.size||a.byteLength;if(i.readyState==="open"&&r.sctp&&l>r.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+r.sctp.maxMessageSize+" bytes)");return o.apply(i,arguments)}}let n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){let r=n.apply(this,arguments);return e(r,this),r},fm(t,"datachannel",i=>(e(i.channel,i.target),i))}function R4(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;let e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{let i=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=r=>{let o=r.target;if(o._lastConnectionState!==o.connectionState){o._lastConnectionState=o.connectionState;let s=new Event("connectionstatechange",r);o.dispatchEvent(s)}return r},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function B4(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;let n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(r){if(r&&r.sdp&&r.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){let o=r.sdp.split(`
`).filter(s=>s.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&r instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:r.type,sdp:o}):r.sdp=o}return n.apply(this,arguments)}}function Hk(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;let n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Qk(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;let n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let r=arguments[0]||{};if(typeof r!="object"||r.type&&r.sdp)return n.apply(this,arguments);if(r={type:r.type,sdp:r.sdp},!r.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":r.type="offer";break;default:r.type="answer";break}return r.sdp||r.type!=="offer"&&r.type!=="answer"?n.apply(this,[r]):(r.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(s=>n.apply(this,[s]))})}var CDe=Object.freeze({__proto__:null,removeExtmapAllowMixed:B4,shimAddIceCandidateNullOrEmpty:Hk,shimConnectionState:R4,shimMaxMessageSize:Uk,shimParameterlessSetLocalDescription:Qk,shimRTCIceCandidate:Lk,shimRTCIceCandidateRelayProtocol:O4,shimSendThrowTypeError:Vk});function wDe(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},n=Xte,i=vDe(t),r={browserDetails:i,commonShim:CDe,extractVersion:Uy,disableLog:ADe,disableWarnings:gDe,sdp:yDe};switch(i.browser){case"chrome":if(!Mee||!D4||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(i.version===null)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=Mee,Hk(t,i),Qk(t),Jte(t,i),ene(t),D4(t,i),tne(t),one(t,i),nne(t),ine(t),sne(t,i),Lk(t),O4(t),R4(t),Uk(t,i),Vk(t),B4(t,i);break;case"firefox":if(!Dee||!P4||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=Dee,Hk(t,i),Qk(t),ane(t,i),P4(t,i),lne(t),une(t),cne(t),dne(t),hne(t),fne(t),pne(t),mne(t),Ane(t),Lk(t),R4(t),Uk(t,i),Vk(t);break;case"safari":if(!Pee||!e.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=Pee,Hk(t,i),Qk(t),Cne(t),Ene(t),_ne(t),gne(t),vne(t),wne(t),bne(t),xne(t),Lk(t),O4(t),Uk(t,i),Vk(t),B4(t,i);break;default:n("Unsupported browser!");break}return r}wDe({window:typeof window>"u"?void 0:window});var EDe=10,Ry="lk_e2ee",xDe="LKFrameEncryptionKey",SDe={sharedKey:!1,ratchetSalt:xDe,ratchetWindowSize:8,failureTolerance:EDe,keyringSize:16},lm=function(t){return t.SetKey="setKey",t.RatchetRequest="ratchetRequest",t.KeyRatcheted="keyRatcheted",t}(lm||{});var sm=function(t){return t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError",t}(sm||{});function TDe(){return IDe()||F4()}function F4(){return typeof window.RTCRtpScriptTransform<"u"}function IDe(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}var Ree=class extends dd.EventEmitter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,i,r)=>{un.debug("key ratcheted event received",{ratchetResult:n,participantId:i,keyIndex:r})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},SDe),e),this.on(lm.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(e,n,i){let r={key:e,participantIdentity:n,keyIndex:i};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(i??0),r),this.emit(lm.SetKey,r)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(e,n){this.emit(lm.RatchetRequest,e,n)}};var nc=class extends Error{constructor(e,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=e}},Cn=function(t){return t[t.NotAllowed=0]="NotAllowed",t[t.ServerUnreachable=1]="ServerUnreachable",t[t.InternalError=2]="InternalError",t[t.Cancelled=3]="Cancelled",t[t.LeaveRequest=4]="LeaveRequest",t[t.Timeout=5]="Timeout",t}(Cn||{}),Jn=class extends nc{constructor(e,n,i,r){super(1,e),this.name="ConnectionError",this.status=i,this.reason=n,this.context=r,this.reasonName=Cn[n]}},zy=class extends nc{constructor(e){super(21,e??"device is unsupported"),this.name="DeviceUnsupportedError"}},ec=class extends nc{constructor(e){super(20,e??"track is invalid"),this.name="TrackInvalidError"}},N4=class extends nc{constructor(e){super(10,e??"unsupported server"),this.name="UnsupportedServer"}},Dr=class extends nc{constructor(e){super(12,e??"unexpected connection state"),this.name="UnexpectedConnectionState"}},Gy=class extends nc{constructor(e){super(13,e??"unable to negotiate"),this.name="NegotiationError"}};var Xk=class extends nc{constructor(e,n){super(15,e),this.name="PublishTrackError",this.status=n}},Zk=class extends nc{constructor(e,n){super(15,e),this.reason=n,this.reasonName=typeof n=="string"?n:k3[n]}},nd=function(t){return t[t.AlreadyOpened=0]="AlreadyOpened",t[t.AbnormalEnd=1]="AbnormalEnd",t[t.DecodeFailed=2]="DecodeFailed",t[t.LengthExceeded=3]="LengthExceeded",t[t.Incomplete=4]="Incomplete",t[t.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",t}(nd||{}),id=class extends nc{constructor(e,n){super(16,e),this.name="DataStreamError",this.reason=n,this.reasonName=nd[n]}},L4=function(t){return t.PermissionDenied="PermissionDenied",t.NotFound="NotFound",t.DeviceInUse="DeviceInUse",t.Other="Other",t}(L4||{});(function(t){function e(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?t.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?t.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?t.DeviceInUse:t.Other}t.getFailure=e})(L4||(L4={}));var Me=function(t){return t.Connected="connected",t.Reconnecting="reconnecting",t.SignalReconnecting="signalReconnecting",t.Reconnected="reconnected",t.Disconnected="disconnected",t.ConnectionStateChanged="connectionStateChanged",t.Moved="moved",t.MediaDevicesChanged="mediaDevicesChanged",t.ParticipantConnected="participantConnected",t.ParticipantDisconnected="participantDisconnected",t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalAudioSilenceDetected="localAudioSilenceDetected",t.ActiveSpeakersChanged="activeSpeakersChanged",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.ParticipantAttributesChanged="participantAttributesChanged",t.ParticipantActive="participantActive",t.RoomMetadataChanged="roomMetadataChanged",t.DataReceived="dataReceived",t.SipDTMFReceived="sipDTMFReceived",t.TranscriptionReceived="transcriptionReceived",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.AudioPlaybackStatusChanged="audioPlaybackChanged",t.VideoPlaybackStatusChanged="videoPlaybackChanged",t.MediaDevicesError="mediaDevicesError",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.SignalConnected="signalConnected",t.RecordingStatusChanged="recordingStatusChanged",t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ActiveDeviceChanged="activeDeviceChanged",t.ChatMessage="chatMessage",t.LocalTrackSubscribed="localTrackSubscribed",t.MetricsReceived="metricsReceived",t}(Me||{}),Le=function(t){return t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalTrackCpuConstrained="localTrackCpuConstrained",t.LocalSenderCreated="localSenderCreated",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.DataReceived="dataReceived",t.SipDTMFReceived="sipDTMFReceived",t.TranscriptionReceived="transcriptionReceived",t.IsSpeakingChanged="isSpeakingChanged",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.TrackCpuConstrained="trackCpuConstrained",t.MediaDevicesError="mediaDevicesError",t.AudioStreamAcquired="audioStreamAcquired",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.PCTrackAdded="pcTrackAdded",t.AttributesChanged="attributesChanged",t.LocalTrackSubscribed="localTrackSubscribed",t.ChatMessage="chatMessage",t.Active="active",t}(Le||{}),Be=function(t){return t.TransportsCreated="transportsCreated",t.Connected="connected",t.Disconnected="disconnected",t.Resuming="resuming",t.Resumed="resumed",t.Restarting="restarting",t.Restarted="restarted",t.SignalResumed="signalResumed",t.SignalRestarted="signalRestarted",t.Closing="closing",t.MediaTrackAdded="mediaTrackAdded",t.ActiveSpeakersUpdate="activeSpeakersUpdate",t.DataPacketReceived="dataPacketReceived",t.RTPVideoMapUpdate="rtpVideoMapUpdate",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ParticipantUpdate="participantUpdate",t.RoomUpdate="roomUpdate",t.SpeakersChanged="speakersChanged",t.StreamStateChanged="streamStateChanged",t.ConnectionQualityUpdate="connectionQualityUpdate",t.SubscriptionError="subscriptionError",t.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",t.RemoteMute="remoteMute",t.SubscribedQualityUpdate="subscribedQualityUpdate",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalTrackSubscribed="localTrackSubscribed",t.Offline="offline",t.SignalRequestResponse="signalRequestResponse",t.SignalConnected="signalConnected",t.RoomMoved="roomMoved",t}(Be||{}),ke=function(t){return t.Message="message",t.Muted="muted",t.Unmuted="unmuted",t.Restarted="restarted",t.Ended="ended",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",t.CpuConstrained="cpuConstrained",t.UpdateSettings="updateSettings",t.UpdateSubscription="updateSubscription",t.AudioPlaybackStarted="audioPlaybackStarted",t.AudioPlaybackFailed="audioPlaybackFailed",t.AudioSilenceDetected="audioSilenceDetected",t.VisibilityChanged="visibilityChanged",t.VideoDimensionsChanged="videoDimensionsChanged",t.VideoPlaybackStarted="videoPlaybackStarted",t.VideoPlaybackFailed="videoPlaybackFailed",t.ElementAttached="elementAttached",t.ElementDetached="elementDetached",t.UpstreamPaused="upstreamPaused",t.UpstreamResumed="upstreamResumed",t.SubscriptionPermissionChanged="subscriptionPermissionChanged",t.SubscriptionStatusChanged="subscriptionStatusChanged",t.SubscriptionFailed="subscriptionFailed",t.TrackProcessorUpdate="trackProcessorUpdate",t.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",t.TranscriptionReceived="transcriptionReceived",t.TimeSyncUpdate="timeSyncUpdate",t.PreConnectBufferFlushed="preConnectBufferFlushed",t}(ke||{});function kDe(t){return typeof t>"u"?t:typeof structuredClone=="function"?typeof t=="object"&&t!==null?structuredClone(Object.assign({},t)):structuredClone(t):JSON.parse(JSON.stringify(t))}var MDe=/version\/(\d+(\.?_?\d+)+)/i,n4;function Ea(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof t>"u"&&typeof navigator>"u")return;let n=(t??navigator.userAgent).toLowerCase();if(n4===void 0||e){let i=DDe.find(r=>{let{test:o}=r;return o.test(n)});n4=i?.describe(n)}return n4}var DDe=[{test:/firefox|iceweasel|fxios/i,describe(t){return{name:"Firefox",version:jk(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:i4(t)}}},{test:/chrom|crios|crmo/i,describe(t){return{name:"Chrome",version:jk(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("crios")?"iOS":void 0,osVersion:i4(t)}}},{test:/safari|applewebkit/i,describe(t){return{name:"Safari",version:jk(MDe,t),os:t.includes("mobile/")?"iOS":"macOS",osVersion:i4(t)}}}];function jk(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=e.match(t);return i&&i.length>=n&&i[n]||""}function i4(t){return t.includes("mac os")?jk(/\(.+?(\d+_\d+(:?_\d+)?)/,t,1).replace(/_/g,"."):void 0}var PDe="2.15.5",ODe=PDe,RDe=16,Ca=(()=>{class t{}return t.setTimeout=function(){return setTimeout(...arguments)},t.setInterval=function(){return setInterval(...arguments)},t.clearTimeout=function(){return clearTimeout(...arguments)},t.clearInterval=function(){return clearInterval(...arguments)},t})(),BDe=5e3,By=[],cl=function(t){return t[t.LOW=0]="LOW",t[t.MEDIUM=1]="MEDIUM",t[t.HIGH=2]="HIGH",t}(cl||{}),_e=class t extends dd.EventEmitter{constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;super(),this.attachedElements=[],this.isMuted=!1,this.streamState=t.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=un,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),BDe):this.handleAppVisibilityChanged()},this.log=Du((r=i.loggerName)!==null&&r!==void 0?r:cd.Track),this.loggerContextCb=i.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=t.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this)),an(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let n="audio";this.kind===t.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===t.Kind.Video&&this.addAppVisibilityListener(),e||(n==="audio"&&(By.forEach(o=>{o.parentElement===null&&!e&&(e=o)}),e&&By.splice(By.indexOf(e),1)),e||(e=document.createElement(n))),this.attachedElements.includes(e)||this.attachedElements.push(e),Zg(this.mediaStreamTrack,e);let i=e.srcObject.getTracks(),r=i.some(o=>o.kind==="audio");return e.play().then(()=>{this.emit(r?ke.AudioPlaybackStarted:ke.VideoPlaybackStarted)}).catch(o=>{o.name==="NotAllowedError"?this.emit(r?ke.AudioPlaybackFailed:ke.VideoPlaybackFailed,o):o.name==="AbortError"?un.debug("".concat(r?"audio":"video"," playback aborted, likely due to new play request")):un.warn("could not playback ".concat(r?"audio":"video"),o),r&&e&&i.some(s=>s.kind==="video")&&o.name==="NotAllowedError"&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(ke.ElementAttached,e),e}detach(e){try{if(e){nv(this.mediaStreamTrack,e);let i=this.attachedElements.indexOf(e);return i>=0&&(this.attachedElements.splice(i,1),this.recycleElement(e),this.emit(ke.ElementDetached,e)),e}let n=[];return this.attachedElements.forEach(i=>{nv(this.mediaStreamTrack,i),n.push(i),this.recycleElement(i),this.emit(ke.ElementDetached,i)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(e){e.loggerName&&(this.log=Du(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let n=!0;e.pause(),By.forEach(i=>{i.parentElement||(n=!1)}),n&&By.push(e)}}handleAppVisibilityChanged(){return j(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===t.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(e=>e.play().catch(()=>{})),0)})}addAppVisibilityListener(){js()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){js()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}};function Zg(t,e){let n;e.srcObject instanceof MediaStream?n=e.srcObject:n=new MediaStream;let i;t.kind==="audio"?i=n.getAudioTracks():i=n.getVideoTracks(),i.includes(t)||(i.forEach(r=>{n.removeTrack(r)}),n.addTrack(t)),(!hm()||!(e instanceof HTMLVideoElement))&&(e.autoplay=!0),e.muted=n.getAudioTracks().length===0,e instanceof HTMLVideoElement&&(e.playsInline=!0),e.srcObject!==n&&(e.srcObject=n,(hm()||sv())&&e instanceof HTMLVideoElement&&setTimeout(()=>{e.srcObject=n,e.play().catch(()=>{})},0))}function nv(t,e){if(e.srcObject instanceof MediaStream){let n=e.srcObject;n.removeTrack(t),n.getTracks().length>0?e.srcObject=n:e.srcObject=null}}(function(t){let e;(function(c){c.Audio="audio",c.Video="video",c.Unknown="unknown"})(e=t.Kind||(t.Kind={}));let n;(function(c){c.Camera="camera",c.Microphone="microphone",c.ScreenShare="screen_share",c.ScreenShareAudio="screen_share_audio",c.Unknown="unknown"})(n=t.Source||(t.Source={}));let i;(function(c){c.Active="active",c.Paused="paused",c.Unknown="unknown"})(i=t.StreamState||(t.StreamState={}));function r(c){switch(c){case e.Audio:return Zl.AUDIO;case e.Video:return Zl.VIDEO;default:return Zl.DATA}}t.kindToProto=r;function o(c){switch(c){case Zl.AUDIO:return e.Audio;case Zl.VIDEO:return e.Video;default:return e.Unknown}}t.kindFromProto=o;function s(c){switch(c){case n.Camera:return zr.CAMERA;case n.Microphone:return zr.MICROPHONE;case n.ScreenShare:return zr.SCREEN_SHARE;case n.ScreenShareAudio:return zr.SCREEN_SHARE_AUDIO;default:return zr.UNKNOWN}}t.sourceToProto=s;function a(c){switch(c){case zr.CAMERA:return n.Camera;case zr.MICROPHONE:return n.Microphone;case zr.SCREEN_SHARE:return n.ScreenShare;case zr.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}t.sourceFromProto=a;function l(c){switch(c){case S4.ACTIVE:return i.Active;case S4.PAUSED:return i.Paused;default:return i.Unknown}}t.streamStateFromProto=l})(_e||(_e={}));var zn=class{constructor(e,n,i,r,o){if(typeof e=="object")this.width=e.width,this.height=e.height,this.aspectRatio=e.aspectRatio,this.encoding={maxBitrate:e.maxBitrate,maxFramerate:e.maxFramerate,priority:e.priority};else if(n!==void 0&&i!==void 0)this.width=e,this.height=n,this.aspectRatio=e/n,this.encoding={maxBitrate:i,maxFramerate:r,priority:o};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}},FDe=["vp8","h264"],NDe=["vp8","h264","vp9","av1","h265"];function LDe(t){return!!FDe.find(e=>e===t)}var Tne=function(t){return t.telephone={maxBitrate:12e3},t.speech={maxBitrate:24e3},t.music={maxBitrate:48e3},t.musicStereo={maxBitrate:64e3},t.musicHighQuality={maxBitrate:96e3},t.musicHighQualityStereo={maxBitrate:128e3},t}(Tne||{}),Jo={h90:new zn(160,90,9e4,20),h180:new zn(320,180,16e4,20),h216:new zn(384,216,18e4,20),h360:new zn(640,360,45e4,20),h540:new zn(960,540,8e5,25),h720:new zn(1280,720,17e5,30),h1080:new zn(1920,1080,3e6,30),h1440:new zn(2560,1440,5e6,30),h2160:new zn(3840,2160,8e6,30)},U4={h120:new zn(160,120,7e4,20),h180:new zn(240,180,125e3,20),h240:new zn(320,240,14e4,20),h360:new zn(480,360,33e4,20),h480:new zn(640,480,5e5,20),h540:new zn(720,540,6e5,25),h720:new zn(960,720,13e5,30),h1080:new zn(1440,1080,23e5,30),h1440:new zn(1920,1440,38e5,30)},D3={h360fps3:new zn(640,360,2e5,3,"medium"),h360fps15:new zn(640,360,4e5,15,"medium"),h720fps5:new zn(1280,720,8e5,5,"medium"),h720fps15:new zn(1280,720,15e5,15,"medium"),h720fps30:new zn(1280,720,2e6,30,"medium"),h1080fps15:new zn(1920,1080,25e5,15,"medium"),h1080fps30:new zn(1920,1080,5e6,30,"medium"),original:new zn(0,0,7e6,30,"medium")},UDe="|",Bee="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function VDe(t){let e=t.split(UDe);return e.length>1?[e[0],t.substr(e[0].length+1)]:[t,""]}function $s(t){return j(this,void 0,void 0,function*(){return new Promise(e=>Ca.setTimeout(e,t))})}function V4(){return"addTransceiver"in RTCPeerConnection.prototype}function H4(){return"addTrack"in RTCPeerConnection.prototype}function HDe(){if(!("getCapabilities"in RTCRtpSender)||hm())return!1;let t=RTCRtpSender.getCapabilities("video"),e=!1;if(t){for(let n of t.codecs)if(n.mimeType==="video/AV1"){e=!0;break}}return e}function QDe(){if(!("getCapabilities"in RTCRtpSender)||sv())return!1;if(hm()){let n=Ea();if(n?.version&&ad(n.version,"16")<0||n?.os==="iOS"&&n?.osVersion&&ad(n.osVersion,"16")<0)return!1}let t=RTCRtpSender.getCapabilities("video"),e=!1;if(t){for(let n of t.codecs)if(n.mimeType==="video/VP9"){e=!0;break}}return e}function rd(t){return t==="av1"||t==="vp9"}function Q4(t){return!document||Jk()?!1:(t||(t=document.createElement("audio")),"setSinkId"in t)}function jDe(){return typeof RTCPeerConnection>"u"?!1:V4()||H4()}function sv(){var t;return((t=Ea())===null||t===void 0?void 0:t.name)==="Firefox"}function hm(){var t;return((t=Ea())===null||t===void 0?void 0:t.name)==="Safari"}function Jk(){let t=Ea();return t?.name==="Safari"||t?.os==="iOS"}function $De(){let t=Ea();return t?.name==="Safari"&&t.version.startsWith("17.")||t?.os==="iOS"&&!!t?.osVersion&&ad(t.osVersion,"17")>=0}function zDe(t){return t||(t=Ea()),t?.name==="Safari"&&ad(t.version,"18.3")>0||t?.os==="iOS"&&!!t?.osVersion&&ad(t.osVersion,"18.3")>0}function Ine(){var t,e;return js()?(e=(t=navigator.userAgentData)===null||t===void 0?void 0:t.mobile)!==null&&e!==void 0?e:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function GDe(){let t=Ea(),e="17.2";if(t)return t.name!=="Safari"&&t.os!=="iOS"||t.os==="iOS"&&t.osVersion&&ad(e,t.osVersion)>=0?!0:t.name==="Safari"&&ad(e,t.version)>=0}function js(){return typeof document<"u"}function sd(){return navigator.product=="ReactNative"}function j4(t){return t.hostname.endsWith(".livekit.cloud")||t.hostname.endsWith(".livekit.run")}function kne(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function Mne(){if(!sd())return;let t=kne();if(t)return t.platform}function Fee(){if(js())return window.devicePixelRatio;if(sd()){let t=kne();if(t)return t.devicePixelRatio}return 1}function ad(t,e){let n=t.split("."),i=e.split("."),r=Math.min(n.length,i.length);for(let o=0;o<r;++o){let s=parseInt(n[o],10),a=parseInt(i[o],10);if(s>a)return 1;if(s<a)return-1;if(o===r-1&&s===a)return 0}return t===""&&e!==""?-1:e===""?1:n.length==i.length?0:n.length<i.length?-1:1}function WDe(t){for(let e of t)e.target.handleResize(e)}function KDe(t){for(let e of t)e.target.handleVisibilityChanged(e)}var r4=null,Nee=()=>(r4||(r4=new ResizeObserver(WDe)),r4),o4=null,Lee=()=>(o4||(o4=new IntersectionObserver(KDe,{root:null,rootMargin:"0px"})),o4);function qDe(){var t;let e=new N1e({sdk:Ote.JS,protocol:RDe,version:ODe});return sd()&&(e.os=(t=Mne())!==null&&t!==void 0?t:""),e}function Uee(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=document.createElement("canvas");r.width=t,r.height=e;let o=r.getContext("2d");o?.fillRect(0,0,r.width,r.height),i&&o&&(o.beginPath(),o.arc(t/2,e/2,50,0,Math.PI*2,!0),o.closePath(),o.fillStyle="grey",o.fill());let s=r.captureStream(),[a]=s.getTracks();if(!a)throw Error("Could not get empty media stream video track");return a.enabled=n,a}var Fy;function s4(){if(!Fy){let t=new AudioContext,e=t.createOscillator(),n=t.createGain();n.gain.setValueAtTime(0,0);let i=t.createMediaStreamDestination();if(e.connect(n),n.connect(i),e.start(),[Fy]=i.stream.getAudioTracks(),!Fy)throw Error("Could not get empty media stream audio track");Fy.enabled=!1}return Fy.clone()}var dl=class{get isResolved(){return this._isResolved}constructor(e,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((i,r)=>j(this,void 0,void 0,function*(){this.resolve=i,this.reject=r,e&&(yield e(i,r))})).finally(()=>{var i;this._isResolved=!0,(i=this.onFinally)===null||i===void 0||i.call(this)})}};function YDe(t){return NDe.includes(t)}function mf(t){if(typeof t=="string"||typeof t=="number")return t;if(Array.isArray(t))return t[0];if(t.exact!==void 0)return Array.isArray(t.exact)?t.exact[0]:t.exact;if(t.ideal!==void 0)return Array.isArray(t.ideal)?t.ideal[0]:t.ideal;throw Error("could not unwrap constraint")}function XDe(t){return t.startsWith("http")?t.replace(/^(http)/,"ws"):t}function $4(t){return t.startsWith("ws")?t.replace(/^(ws)/,"http"):t}function ZDe(t,e){return t.segments.map(n=>{let{id:i,text:r,language:o,startTime:s,endTime:a,final:l}=n;var c;let d=(c=e.get(i))!==null&&c!==void 0?c:Date.now(),u=Date.now();return l?e.delete(i):e.set(i,d),{id:i,text:r,startTime:Number.parseInt(s.toString()),endTime:Number.parseInt(a.toString()),final:l,language:o,firstReceivedTime:d,lastReceivedTime:u}})}function JDe(t){let{id:e,timestamp:n,message:i,editTimestamp:r}=t;return{id:e,timestamp:Number.parseInt(n.toString()),editTimestamp:r?Number.parseInt(r.toString()):void 0,message:i}}function Vee(t){switch(t.reason){case Cn.LeaveRequest:return t.context;case Cn.Cancelled:return tc.CLIENT_INITIATED;case Cn.NotAllowed:return tc.USER_REJECTED;case Cn.ServerUnreachable:return tc.JOIN_FAILURE;default:return tc.UNKNOWN_REASON}}function $k(t){return t!==void 0?Number(t):void 0}function rm(t){return t!==void 0?BigInt(t):void 0}function iv(t){return!!t&&!(t instanceof MediaStreamTrack)&&t.isLocal}function od(t){return!!t&&t.kind==_e.Kind.Audio}function pm(t){return!!t&&t.kind==_e.Kind.Video}function hf(t){return iv(t)&&pm(t)}function Su(t){return iv(t)&&od(t)}function z4(t){return!!t&&!t.isLocal}function ePe(t){return!!t&&!t.isLocal}function a4(t){return z4(t)&&pm(t)}function tPe(t){return t.isLocal}function nPe(t,e){let n=[],i=new TextEncoder().encode(t);for(;i.length>e;){let r=e;for(;r>0;){let o=i[r];if(o!==void 0&&(o&192)!==128)break;r--}n.push(i.slice(0,r)),i=i.slice(r)}return i.length>0&&n.push(i),n}function Dne(t,e,n){var i,r,o,s;let{optionsWithoutProcessor:a,audioProcessor:l,videoProcessor:c}=Rne(t??{}),d=e?.processor,u=n?.processor,p=a??{};return p.audio===!0&&(p.audio={}),p.video===!0&&(p.video={}),p.audio&&(G4(p.audio,e),(i=(o=p.audio).deviceId)!==null&&i!==void 0||(o.deviceId={ideal:"default"}),(l||d)&&(p.audio.processor=l??d)),p.video&&(G4(p.video,n),(r=(s=p.video).deviceId)!==null&&r!==void 0||(s.deviceId={ideal:"default"}),(c||u)&&(p.video.processor=c??u)),p}function G4(t,e){return Object.keys(e).forEach(n=>{t[n]===void 0&&(t[n]=e[n])}),t}function P3(t){var e,n,i,r;let o={};if(t.video)if(typeof t.video=="object"){let s={},a=s,l=t.video;Object.keys(l).forEach(c=>{switch(c){case"resolution":G4(a,l.resolution);break;default:a[c]=l[c]}}),o.video=s,(e=(i=o.video).deviceId)!==null&&e!==void 0||(i.deviceId={ideal:"default"})}else o.video=t.video?{deviceId:{ideal:"default"}}:!1;else o.video=!1;return t.audio?typeof t.audio=="object"?(o.audio=t.audio,(n=(r=o.audio).deviceId)!==null&&n!==void 0||(r.deviceId={ideal:"default"})):o.audio={deviceId:{ideal:"default"}}:o.audio=!1,o}function Pne(t){return j(this,arguments,void 0,function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){let i=One();if(i){let r=i.createAnalyser();r.fftSize=2048;let o=r.frequencyBinCount,s=new Uint8Array(o);i.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(r),yield $s(n),r.getByteTimeDomainData(s);let l=s.some(c=>c!==128&&c!==0);return i.close(),!l}return!1}()})}function One(){var t;let e=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(e){let n=new e({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((t=window.document)===null||t===void 0)&&t.body)){let i=()=>j(this,void 0,void 0,function*(){var r;try{n.state==="suspended"&&(yield n.resume())}catch(o){console.warn("Error trying to auto-resume audio context",o)}(r=window.document.body)===null||r===void 0||r.removeEventListener("click",i)});window.document.body.addEventListener("click",i)}return n}}function iPe(t){return t==="audioinput"?_e.Source.Microphone:t==="videoinput"?_e.Source.Camera:_e.Source.Unknown}function W4(t){return t===_e.Source.Microphone?"audioinput":t===_e.Source.Camera?"videoinput":void 0}function rPe(t){var e,n;let i=(e=t.video)!==null&&e!==void 0?e:!0;return t.resolution&&t.resolution.width>0&&t.resolution.height>0&&(i=typeof i=="boolean"?{}:i,hm()?i=Object.assign(Object.assign({},i),{width:{max:t.resolution.width},height:{max:t.resolution.height},frameRate:t.resolution.frameRate}):i=Object.assign(Object.assign({},i),{width:{ideal:t.resolution.width},height:{ideal:t.resolution.height},frameRate:t.resolution.frameRate})),{audio:(n=t.audio)!==null&&n!==void 0?n:!1,video:i,controller:t.controller,selfBrowserSurface:t.selfBrowserSurface,surfaceSwitching:t.surfaceSwitching,systemAudio:t.systemAudio,preferCurrentTab:t.preferCurrentTab}}function zk(t){return t.split("/")[1].toLowerCase()}function oPe(t){let e=[];return t.forEach(n=>{n.track!==void 0&&e.push(new T3({cid:n.track.mediaStreamID,track:n.trackInfo}))}),e}function an(t){return"mediaStreamTrack"in t?{trackID:t.sid,source:t.source,muted:t.isMuted,enabled:t.mediaStreamTrack.enabled,kind:t.kind,streamID:t.mediaStreamID,streamTrackID:t.mediaStreamTrack.id}:{trackID:t.trackSid,enabled:t.isEnabled,muted:t.isMuted,trackInfo:Object.assign({mimeType:t.mimeType,name:t.trackName,encrypted:t.isEncrypted,kind:t.kind,source:t.source},t.track?an(t.track):{})}}function sPe(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function aPe(t,e){var n;t===void 0&&(t={}),e===void 0&&(e={});let i=[...Object.keys(e),...Object.keys(t)],r={};for(let o of i)t[o]!==e[o]&&(r[o]=(n=e[o])!==null&&n!==void 0?n:"");return r}function Rne(t){let e=Object.assign({},t),n,i;return typeof e.audio=="object"&&e.audio.processor&&(n=e.audio.processor,e.audio=Object.assign(Object.assign({},e.audio),{processor:void 0})),typeof e.video=="object"&&e.video.processor&&(i=e.video.processor,e.video=Object.assign(Object.assign({},e.video),{processor:void 0})),{audioProcessor:n,videoProcessor:i,optionsWithoutProcessor:kDe(e)}}function lPe(t){switch(t){case zr.CAMERA:return _e.Source.Camera;case zr.MICROPHONE:return _e.Source.Microphone;case zr.SCREEN_SHARE:return _e.Source.ScreenShare;case zr.SCREEN_SHARE_AUDIO:return _e.Source.ScreenShareAudio;default:return _e.Source.Unknown}}function Hee(t,e){return t.width*t.height<e.width*e.height}function cPe(t,e){var n;return(n=t.layers)===null||n===void 0?void 0:n.find(i=>i.quality===e)}var K4=class extends dd.EventEmitter{constructor(e){super(),this.onWorkerMessage=n=>{var i,r;let{kind:o,data:s}=n.data;switch(o){case"error":un.error(s.error.message),this.emit(sm.EncryptionError,s.error);break;case"initAck":s.enabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)});break;case"enable":if(s.enabled&&this.keyProvider.getKeys().forEach(a=>{this.postKey(a)}),this.encryptionEnabled!==s.enabled&&s.participantIdentity===((i=this.room)===null||i===void 0?void 0:i.localParticipant.identity))this.emit(sm.ParticipantEncryptionStatusChanged,s.enabled,this.room.localParticipant),this.encryptionEnabled=s.enabled;else if(s.participantIdentity){let a=(r=this.room)===null||r===void 0?void 0:r.getParticipantByIdentity(s.participantIdentity);if(!a)throw TypeError("couldn't set encryption status, participant not found".concat(s.participantIdentity));this.emit(sm.ParticipantEncryptionStatusChanged,s.enabled,a)}break;case"ratchetKey":this.keyProvider.emit(lm.KeyRatcheted,s.ratchetResult,s.participantIdentity,s.keyIndex);break}},this.onWorkerError=n=>{un.error("e2ee worker encountered an error:",{error:n.error}),this.emit(sm.EncryptionError,n.error)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1}setup(e){if(!TDe())throw new zy("tried to setup end-to-end encryption on an unsupported browser");if(un.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);let n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:hDe.getLevel()}};this.worker&&(un.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(e,n){un.debug("set e2ee to ".concat(e," for participant ").concat(n)),this.postEnable(e,n)}setSifTrailer(e){!e||e.length===0?un.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(e)}setupEngine(e){e.on(Be.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(e,n){e.on(Me.TrackPublished,(i,r)=>this.setParticipantCryptorEnabled(i.trackInfo.encryption!==ya.NONE,r.identity)),e.on(Me.ConnectionStateChanged,i=>{i===$n.Connected&&e.remoteParticipants.forEach(r=>{r.trackPublications.forEach(o=>{this.setParticipantCryptorEnabled(o.trackInfo.encryption!==ya.NONE,r.identity)})})}).on(Me.TrackUnsubscribed,(i,r,o)=>{var s;let a={kind:"removeTransform",data:{participantIdentity:o.identity,trackId:i.mediaStreamID}};(s=this.worker)===null||s===void 0||s.postMessage(a)}).on(Me.TrackSubscribed,(i,r,o)=>{this.setupE2EEReceiver(i,o.identity,r.trackInfo)}).on(Me.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(i=>{this.postKey(i)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),e.localParticipant.on(Le.LocalSenderCreated,(i,r)=>j(this,void 0,void 0,function*(){this.setupE2EESender(r,i)})),n.on(lm.SetKey,i=>this.postKey(i)).on(lm.RatchetRequest,(i,r)=>this.postRatchetRequest(i,r))}postRatchetRequest(e,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");let i={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:n}};this.worker.postMessage(i)}postKey(e){let{key:n,participantIdentity:i,keyIndex:r}=e;var o;if(!this.worker)throw Error("could not set key, worker is missing");let s={kind:"setKey",data:{participantIdentity:i,isPublisher:i===((o=this.room)===null||o===void 0?void 0:o.localParticipant.identity),key:n,keyIndex:r}};this.worker.postMessage(s)}postEnable(e,n){if(this.worker){let i={kind:"enable",data:{enabled:e,participantIdentity:n}};this.worker.postMessage(i)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(e){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");let i={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");let n={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(n)}setupE2EEReceiver(e,n,i){if(e.receiver){if(!i?.mimeType||i.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,n,e.kind==="video"?zk(i.mimeType):void 0)}}setupE2EESender(e,n){if(!iv(e)||!n){n||un.warn("early return because sender is not ready");return}this.handleSender(n,e.mediaStreamID,void 0)}handleReceiver(e,n,i,r){return j(this,void 0,void 0,function*(){if(this.worker){if(F4()){let o={kind:"decode",participantIdentity:i,trackId:n,codec:r};e.transform=new RTCRtpScriptTransform(this.worker,o)}else{if(Ry in e&&r){let l={kind:"updateCodec",data:{trackId:n,codec:r,participantIdentity:i}};this.worker.postMessage(l);return}let o=e.writableStream,s=e.readableStream;if(!o||!s){let l=e.createEncodedStreams();e.writableStream=l.writable,o=l.writable,e.readableStream=l.readable,s=l.readable}let a={kind:"decode",data:{readableStream:s,writableStream:o,trackId:n,codec:r,participantIdentity:i,isReuse:Ry in e}};this.worker.postMessage(a,[s,o])}e[Ry]=!0}})}handleSender(e,n,i){var r;if(!(Ry in e||!this.worker)){if(!(!((r=this.room)===null||r===void 0)&&r.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(F4()){un.info("initialize script transform");let o={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:i};e.transform=new RTCRtpScriptTransform(this.worker,o)}else{un.info("initialize encoded streams");let o=e.createEncodedStreams(),s={kind:"encode",data:{readableStream:o.readable,writableStream:o.writable,codec:i,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(s,[o.readable,o.writable])}e[Ry]=!0}}},l4="default",wa=class t{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new t),this.instance}get previousDevices(){return this._previousDevices}getDevices(e){return j(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o;if(((o=t.userMediaPromiseMap)===null||o===void 0?void 0:o.size)>0){un.debug("awaiting getUserMedia promise");try{n?yield t.userMediaPromiseMap.get(n):yield Promise.all(t.userMediaPromiseMap.values())}catch{un.warn("error waiting for media permissons")}}let s=yield navigator.mediaDevices.enumerateDevices();if(r&&!(hm()&&i.hasDeviceInUse(n))&&(s.filter(l=>l.kind===n).length===0||s.some(l=>{let c=l.label==="",d=n?l.kind===n:!0;return c&&d}))){let l={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},c=yield navigator.mediaDevices.getUserMedia(l);s=yield navigator.mediaDevices.enumerateDevices(),c.getTracks().forEach(d=>{d.stop()})}return i._previousDevices=s,n&&(s=s.filter(a=>a.kind===n)),s}()})}normalizeDeviceId(e,n,i){return j(this,void 0,void 0,function*(){if(n!==l4)return n;let r=yield this.getDevices(e),o=r.find(a=>a.deviceId===l4);if(!o){un.warn("could not reliably determine default device");return}let s=r.find(a=>a.deviceId!==l4&&a.groupId===(i??o.groupId));if(!s){un.warn("could not reliably determine default device");return}return s?.deviceId})}hasDeviceInUse(e){return e?t.userMediaPromiseMap.has(e):t.userMediaPromiseMap.size>0}};wa.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];wa.userMediaPromiseMap=new Map;var Gk=function(t){return t[t.WAITING=0]="WAITING",t[t.RUNNING=1]="RUNNING",t[t.COMPLETED=2]="COMPLETED",t}(Gk||{}),q4=class{constructor(){this.pendingTasks=new Map,this.taskMutex=new Zo,this.nextTaskIndex=0}run(e){return j(this,void 0,void 0,function*(){let n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:Gk.WAITING};this.pendingTasks.set(n.id,n);let i=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=Gk.RUNNING,yield e()}finally{n.status=Gk.COMPLETED,this.pendingTasks.delete(n.id),i()}})}flush(){return j(this,void 0,void 0,function*(){return this.run(()=>j(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}};function dPe(t,e){let n=new URL(XDe(t));return e.forEach((i,r)=>{n.searchParams.set(r,i)}),Bne(n,"rtc")}function uPe(t){let e=new URL($4(t));return Bne(e,"validate")}function hPe(t){return t.endsWith("/")?t:"".concat(t,"/")}function Bne(t,e){return t.pathname="".concat(hPe(t.pathname)).concat(e),t.toString()}var fPe=["syncState","trickle","offer","answer","simulate","leave"];function pPe(t){let e=fPe.indexOf(t.case)>=0;return un.trace("request allowed to bypass queue:",{canPass:e,req:t}),e}var zi=function(t){return t[t.CONNECTING=0]="CONNECTING",t[t.CONNECTED=1]="CONNECTED",t[t.RECONNECTING=2]="RECONNECTING",t[t.DISCONNECTING=3]="DISCONNECTING",t[t.DISCONNECTED=4]="DISCONNECTED",t}(zi||{}),Wy=class{get currentState(){return this.state}get isDisconnected(){return this.state===zi.DISCONNECTING||this.state===zi.DISCONNECTED}get isEstablishingConnection(){return this.state===zi.CONNECTING||this.state===zi.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var i;this.rtt=0,this.state=zi.DISCONNECTED,this.log=un,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0},this.log=Du((i=n.loggerName)!==null&&i!==void 0?i:cd.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=e,this.requestQueue=new q4,this.queuedRequests=[],this.closingLock=new Zo,this.connectionLock=new Zo,this.state=zi.DISCONNECTED}get logContext(){var e,n;return(n=(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:{}}join(e,n,i,r){return j(this,void 0,void 0,function*(){return this.state=zi.CONNECTING,this.options=i,yield this.connect(e,n,i,r)})}reconnect(e,n,i,r){return j(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=zi.RECONNECTING,this.clearPingInterval(),yield this.connect(e,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:i,reconnectReason:r}))})}connect(e,n,i,r){this.connectOptions=i;let o=qDe(),s=mPe(n,o,i),a=dPe(e,s),l=uPe(a);return new Promise((c,d)=>j(this,void 0,void 0,function*(){let u=yield this.connectionLock.lock();try{let p=()=>j(this,void 0,void 0,function*(){this.close(),clearTimeout(g),d(new Jn("room connection has been cancelled (signal)",Cn.Cancelled))}),g=setTimeout(()=>{this.close(),d(new Jn("room connection has timed out (signal)",Cn.ServerUnreachable))},i.websocketTimeout);r?.aborted&&p(),r?.addEventListener("abort",p);let v=new URL(a);v.searchParams.has("access_token")&&v.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(v),Object.assign({reconnect:i.reconnect,reconnectReason:i.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new WebSocket(a),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{clearTimeout(g)},this.ws.onerror=b=>j(this,void 0,void 0,function*(){if(this.state!==zi.CONNECTED){this.state=zi.DISCONNECTED,clearTimeout(g);try{let x=yield fetch(l);if(x.status.toFixed(0).startsWith("4")){let T=yield x.text();d(new Jn(T,Cn.NotAllowed,x.status))}else d(new Jn("Encountered unknown websocket error during connection: ".concat(b.toString()),Cn.InternalError,x.status))}catch(x){d(new Jn(x instanceof Error?x.message:"server was not reachable",Cn.ServerUnreachable))}return}this.handleWSError(b)}),this.ws.onmessage=b=>j(this,void 0,void 0,function*(){var x,T,k;let U;if(typeof b.data=="string"){let D=JSON.parse(b.data);U=wee.fromJson(D,{ignoreUnknownFields:!0})}else if(b.data instanceof ArrayBuffer)U=wee.fromBinary(new Uint8Array(b.data));else{this.log.error("could not decode websocket message: ".concat(typeof b.data),this.logContext);return}if(this.state!==zi.CONNECTED){let D=!1;if(((x=U.message)===null||x===void 0?void 0:x.case)==="join"?(this.state=zi.CONNECTED,r?.removeEventListener("abort",p),this.pingTimeoutDuration=U.message.value.pingTimeout,this.pingIntervalDuration=U.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&(this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})),this.startPingInterval()),c(U.message.value)):this.state===zi.RECONNECTING&&U.message.case!=="leave"?(this.state=zi.CONNECTED,r?.removeEventListener("abort",p),this.startPingInterval(),((T=U.message)===null||T===void 0?void 0:T.case)==="reconnect"?c(U.message.value):(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),c(void 0),D=!0)):this.isEstablishingConnection&&U.message.case==="leave"?d(new Jn("Received leave request while trying to (re)connect",Cn.LeaveRequest,void 0,U.message.value.reason)):i.reconnect||d(new Jn("did not receive join response, got ".concat((k=U.message)===null||k===void 0?void 0:k.case," instead"),Cn.InternalError)),!D)return}this.signalLatency&&(yield $s(this.signalLatency)),this.handleSignalResponse(U)}),this.ws.onclose=b=>{this.isEstablishingConnection&&d(new Jn("Websocket got closed during a (re)connection attempt",Cn.InternalError)),this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:b.reason,code:b.code,wasClean:b.wasClean,state:this.state})),this.handleOnClose(b.reason)}}finally{u()}}))}close(){return j(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){let i=yield e.closingLock.lock();try{if(e.clearPingInterval(),n&&(e.state=zi.DISCONNECTING),e.ws){e.ws.onmessage=null,e.ws.onopen=null,e.ws.onclose=null;let r=new Promise(o=>{e.ws?e.ws.onclose=()=>{o()}:o()});e.ws.readyState<e.ws.CLOSING&&(e.ws.close(),yield Promise.race([r,$s(250)])),e.ws=void 0}}finally{n&&(e.state=zi.DISCONNECTED),i()}}()})}sendOffer(e,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:eM(e,n)})}sendAnswer(e,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:eM(e,n)})}sendIceCandidate(e,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new x3({candidateInit:JSON.stringify(e),target:n})})}sendMuteTrack(e,n){return this.sendRequest({case:"mute",value:new S3({sid:e,muted:n})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,n){return j(this,arguments,void 0,function(i,r){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){let a=o.getNextRequestId();return yield o.sendRequest({case:"updateMetadata",value:new Hte({requestId:a,metadata:i,name:r,attributes:s})}),a}()})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,n){return this.sendRequest({case:"updateLayers",value:new Vte({trackSid:e,layers:n})})}sendUpdateSubscriptionPermissions(e,n){return this.sendRequest({case:"subscriptionPermission",value:new $te({allParticipants:e,trackPermissions:n})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Gi.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new Kte({timestamp:Gi.parse(Date.now()),rtt:Gi.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(e,n){return this.sendRequest({case:"updateAudioTrack",value:new Ute({trackSid:e,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new fM({reason:tc.CLIENT_INITIATED,action:ev.DISCONNECT})})}sendRequest(e){return j(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function*(){if(!r&&!pPe(n)&&i.state===zi.RECONNECTING){i.queuedRequests.push(()=>j(i,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(r||(yield i.requestQueue.flush()),i.signalLatency&&(yield $s(i.signalLatency)),i.isDisconnected){i.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));return}if(!i.ws||i.ws.readyState!==i.ws.OPEN){i.log.error("cannot send signal request before connected, type: ".concat(n?.case),i.logContext);return}let s=new V1e({message:n});try{i.useJSON?i.ws.send(s.toJsonString()):i.ws.send(s.toBinary())}catch(a){i.log.error("error sending signal message",Object.assign(Object.assign({},i.logContext),{error:a}))}}()})}handleSignalResponse(e){var n,i;let r=e.message;if(r==null){this.log.debug("received unsupported message",this.logContext);return}let o=!1;if(r.case==="answer"){let s=Qee(r.value);this.onAnswer&&this.onAnswer(s,r.value.id)}else if(r.case==="offer"){let s=Qee(r.value);this.onOffer&&this.onOffer(s,r.value.id)}else if(r.case==="trickle"){let s=JSON.parse(r.value.candidateInit);this.onTrickle&&this.onTrickle(s,r.value.target)}else r.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=r.value.participants)!==null&&n!==void 0?n:[]):r.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(r.value):r.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((i=r.value.speakers)!==null&&i!==void 0?i:[]):r.case==="leave"?this.onLeave&&this.onLeave(r.value):r.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(r.value.sid,r.value.muted):r.case==="roomUpdate"?this.onRoomUpdate&&r.value.room&&this.onRoomUpdate(r.value.room):r.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(r.value):r.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(r.value):r.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(r.value):r.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(r.value):r.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(r.value):r.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(r.value):r.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(r.value):r.case==="pong"||(r.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(r.value.lastPingTimestamp.toString()),this.resetPingTimeout(),o=!0):r.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(r.value):r.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(r.value.trackSid):r.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(r.value.token),this.onRoomMoved&&this.onRoomMoved(r.value)):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:r.case})));o||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){let e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return j(this,void 0,void 0,function*(){if(this.state===zi.DISCONNECTED)return;let n=this.onClose;yield this.close(),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),n&&n(e)})}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=Ca.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Ca.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=Ca.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&Ca.clearInterval(this.pingInterval)}};function Qee(t){let e={type:"offer",sdp:t.sdp};switch(t.type){case"answer":case"offer":case"pranswer":case"rollback":e.type=t.type;break}return e}function eM(t,e){return new um({sdp:t.sdp,type:t.type,id:e})}function mPe(t,e,n){var i;let r=new URLSearchParams;return r.set("access_token",t),n.reconnect&&(r.set("reconnect","1"),n.sid&&r.set("sid",n.sid)),r.set("auto_subscribe",n.autoSubscribe?"1":"0"),r.set("sdk",sd()?"reactnative":"js"),r.set("version",e.version),r.set("protocol",e.protocol.toString()),e.deviceModel&&r.set("device_model",e.deviceModel),e.os&&r.set("os",e.os),e.osVersion&&r.set("os_version",e.osVersion),e.browser&&r.set("browser",e.browser),e.browserVersion&&r.set("browser_version",e.browserVersion),n.adaptiveStream&&r.set("adaptive_stream","1"),n.reconnectReason&&r.set("reconnect_reason",n.reconnectReason.toString()),!((i=navigator.connection)===null||i===void 0)&&i.type&&r.set("network",navigator.connection.type),r}var tM=class{constructor(){this.buffer=[],this._totalSize=0}push(e){this.buffer.push(e),this._totalSize+=e.data.byteLength}pop(){let e=this.buffer.shift();return e&&(this._totalSize-=e.data.byteLength),e}getAll(){return this.buffer.slice()}popToSequence(e){for(;this.buffer.length>0&&this.buffer[0].sequence<=e;)this.pop()}alignBufferedAmount(e){for(;this.buffer.length>0;){let n=this.buffer[0];if(this._totalSize-n.data.byteLength<=e)break;this.pop()}}get length(){return this.buffer.length}},Y4=class{constructor(e){this._map=new Map,this._lastCleanup=0,this.ttl=e}set(e,n){let i=Date.now();i-this._lastCleanup>this.ttl/2&&this.cleanup();let r=i+this.ttl;return this._map.set(e,{value:n,expiresAt:r}),this}get(e){let n=this._map.get(e);if(n){if(n.expiresAt<Date.now()){this._map.delete(e);return}return n.value}}has(e){let n=this._map.get(e);return n?n.expiresAt<Date.now()?(this._map.delete(e),!1):!0:!1}delete(e){return this._map.delete(e)}clear(){this._map.clear()}cleanup(){let e=Date.now();for(let[n,i]of this._map.entries())i.expiresAt<e&&this._map.delete(n);this._lastCleanup=e}get size(){return this.cleanup(),this._map.size}forEach(e){this.cleanup();for(let[n,i]of this._map.entries())i.expiresAt>=Date.now()&&e(i.value,n,this.asValueMap())}map(e){this.cleanup();let n=[],i=this.asValueMap();for(let[r,o]of i.entries())n.push(e(o,r,i));return n}asValueMap(){let e=new Map;for(let[n,i]of this._map.entries())i.expiresAt>=Date.now()&&e.set(n,i.value);return e}},ql={},c4={},d4={exports:{}},jee;function O3(){if(jee)return d4.exports;jee=1;var t=d4.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var n="candidate:%s %d %s %d %s %d typ %s";return n+=e.raddr!=null?" raddr %s rport %d":"%v%v",n+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(n+=" generation %d"),n+=e["network-id"]!=null?" network-id %d":"%v",n+=e["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var n="ssrc:%d";return e.attribute!=null&&(n+=" %s",e.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var n="mediaclk:";return n+=e.id!=null?"id=%s %s":"%v%s",n+=e.mediaClockValue!=null?"=%s":"",n+=e.rateNumerator!=null?" rate=%s":"",n+=e.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(t).forEach(function(e){var n=t[e];n.forEach(function(i){i.reg||(i.reg=/(.*)/),i.format||(i.format="%s")})}),d4.exports}var $ee;function APe(){return $ee||($ee=1,function(t){var e=function(a){return String(Number(a))===a?Number(a):a},n=function(a,l,c,d){if(d&&!c)l[d]=e(a[1]);else for(var u=0;u<c.length;u+=1)a[u+1]!=null&&(l[c[u]]=e(a[u+1]))},i=function(a,l,c){var d=a.name&&a.names;a.push&&!l[a.push]?l[a.push]=[]:d&&!l[a.name]&&(l[a.name]={});var u=a.push?{}:d?l[a.name]:l;n(c.match(a.reg),u,a.names,a.name),a.push&&l[a.push].push(u)},r=O3(),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(a){var l={},c=[],d=l;return a.split(/(\r\n|\r|\n)/).filter(o).forEach(function(u){var p=u[0],g=u.slice(2);p==="m"&&(c.push({rtp:[],fmtp:[]}),d=c[c.length-1]);for(var v=0;v<(r[p]||[]).length;v+=1){var b=r[p][v];if(b.reg.test(g))return i(b,d,g)}}),l.media=c,l};var s=function(a,l){var c=l.split(/=(.+)/,2);return c.length===2?a[c[0]]=e(c[1]):c.length===1&&l.length>1&&(a[c[0]]=void 0),a};t.parseParams=function(a){return a.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(a){return a.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(a){for(var l=[],c=a.split(" ").map(e),d=0;d<c.length;d+=3)l.push({component:c[d],ip:c[d+1],port:c[d+2]});return l},t.parseImageAttributes=function(a){return a.split(" ").map(function(l){return l.substring(1,l.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(a){return a.split(";").map(function(l){return l.split(",").map(function(c){var d,u=!1;return c[0]!=="~"?d=e(c):(d=e(c.substring(1,c.length)),u=!0),{scid:d,paused:u}})})}}(c4)),c4}var u4,zee;function gPe(){if(zee)return u4;zee=1;var t=O3(),e=/%[sdv%]/g,n=function(s){var a=1,l=arguments,c=l.length;return s.replace(e,function(d){if(a>=c)return d;var u=l[a];switch(a+=1,d){case"%%":return"%";case"%s":return String(u);case"%d":return Number(u);case"%v":return""}})},i=function(s,a,l){var c=a.format instanceof Function?a.format(a.push?l:l[a.name]):a.format,d=[s+"="+c];if(a.names)for(var u=0;u<a.names.length;u+=1){var p=a.names[u];a.name?d.push(l[a.name][p]):d.push(l[a.names[u]])}else d.push(l[a.name]);return n.apply(null,d)},r=["v","o","s","i","u","e","p","c","b","t","r","z","a"],o=["i","c","b","a"];return u4=function(s,a){a=a||{},s.version==null&&(s.version=0),s.name==null&&(s.name=" "),s.media.forEach(function(u){u.payloads==null&&(u.payloads="")});var l=a.outerOrder||r,c=a.innerOrder||o,d=[];return l.forEach(function(u){t[u].forEach(function(p){p.name in s&&s[p.name]!=null?d.push(i(u,p,s)):p.push in s&&s[p.push]!=null&&s[p.push].forEach(function(g){d.push(i(u,p,g))})})}),s.media.forEach(function(u){d.push(i("m",t.m[0],u)),c.forEach(function(p){t[p].forEach(function(g){g.name in u&&u[g.name]!=null?d.push(i(p,g,u)):g.push in u&&u[g.push]!=null&&u[g.push].forEach(function(v){d.push(i(p,g,v))})})})}),d.join(`\r
`)+`\r
`},u4}var Gee;function vPe(){if(Gee)return ql;Gee=1;var t=APe(),e=gPe(),n=O3();return ql.grammar=n,ql.write=e,ql.parse=t.parse,ql.parseParams=t.parseParams,ql.parseFmtpConfig=t.parseFmtpConfig,ql.parsePayloads=t.parsePayloads,ql.parseRemoteCandidates=t.parseRemoteCandidates,ql.parseImageAttributes=t.parseImageAttributes,ql.parseSimulcastStreamList=t.parseSimulcastStreamList,ql}var ff=vPe();function R3(t,e,n){var i,r,o;e===void 0&&(e=50),n===void 0&&(n={});var s=(i=n.isImmediate)!=null&&i,a=(r=n.callback)!=null&&r,l=n.maxWait,c=Date.now(),d=[];function u(){if(l!==void 0){var g=Date.now()-c;if(g+e>=l)return l-g}return e}var p=function(){var g=[].slice.call(arguments),v=this;return new Promise(function(b,x){var T=s&&o===void 0;if(o!==void 0&&clearTimeout(o),o=setTimeout(function(){if(o=void 0,c=Date.now(),!s){var U=t.apply(v,g);a&&a(U),d.forEach(function(D){return(0,D.resolve)(U)}),d=[]}},u()),T){var k=t.apply(v,g);return a&&a(k),b(k)}d.push({resolve:b,reject:x})})};return p.cancel=function(g){o!==void 0&&clearTimeout(o),d.forEach(function(v){return(0,v.reject)(g)}),d=[]},p}var _Pe=.7,bPe=20,rv={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"},nM=class extends dd.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var i;super(),this.log=un,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=R3(r=>j(this,void 0,void 0,function*(){this.emit(rv.NegotiationStarted);try{yield this.createAndSendOffer()}catch(o){if(r)r(o);else throw o}}),bPe),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=Du((i=n.loggerName)!==null&&i!==void 0?i:cd.PCTransport),this.loggerOptions=n,this.config=e,this._pc=this.createPC(),this.offerLock=new Zo}createPC(){let e=new RTCPeerConnection(this.config);return e.onicecandidate=n=>{var i;n.candidate&&((i=this.onIceCandidate)===null||i===void 0||i.call(this,n.candidate))},e.onicecandidateerror=n=>{var i;(i=this.onIceCandidateError)===null||i===void 0||i.call(this,n)},e.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,e.connectionState)},e.ondatachannel=n=>{var i;(i=this.onDataChannel)===null||i===void 0||i.call(this,n)},e.ontrack=n=>{var i;(i=this.onTrack)===null||i===void 0||i.call(this,n)},e}get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(e))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(e){return j(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e,n){return j(this,void 0,void 0,function*(){var i;if(e.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let r;if(e.type==="offer"){let{stereoMids:o,nackMids:s}=yPe(e);this.remoteStereoMids=o,this.remoteNackMids=s}else if(e.type==="answer"){let o=ff.parse((i=e.sdp)!==null&&i!==void 0?i:"");o.media.forEach(s=>{s.type==="audio"&&this.trackBitrates.some(a=>{if(!a.transceiver||s.mid!=a.transceiver.mid)return!1;let l=0;if(s.rtp.some(d=>d.codec.toUpperCase()===a.codec.toUpperCase()?(l=d.payload,!0):!1),l===0)return!0;let c=!1;for(let d of s.fmtp)if(d.payload===l){d.config=d.config.split(";").filter(u=>!u.includes("maxaveragebitrate")).join(";"),a.maxbr>0&&(d.config+=";maxaveragebitrate=".concat(a.maxbr*1e3)),c=!0;break}return c||a.maxbr>0&&s.fmtp.push({payload:l,config:"maxaveragebitrate=".concat(a.maxbr*1e3)}),!0})}),r=ff.write(o)}return yield this.setMungedSDP(e,r,!0),this.pendingCandidates.forEach(o=>{this.pc.addIceCandidate(o)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):e.type==="answer"&&(this.emit(rv.NegotiationComplete),e.sdp&&ff.parse(e.sdp).media.forEach(s=>{s.type==="video"&&this.emit(rv.RTPVideoPayloadTypes,s.rtp)})),!0})}createAndSendOffer(e){return j(this,void 0,void 0,function*(){var n;let i=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(e?.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){let a=this._pc.remoteDescription;if(e?.iceRestart&&a)yield this._pc.setRemoteDescription(a);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);let r=this.latestOfferId+1;this.latestOfferId=r;let o=yield this.pc.createOffer(e);this.log.debug("original offer",Object.assign({sdp:o.sdp},this.logContext));let s=ff.parse((n=o.sdp)!==null&&n!==void 0?n:"");if(s.media.forEach(a=>{Kee(a),a.type==="audio"?Wee(a,[],[]):a.type==="video"&&this.trackBitrates.some(l=>{if(!a.msid||!l.cid||!a.msid.includes(l.cid))return!1;let c=0;if(a.rtp.some(u=>u.codec.toUpperCase()===l.codec.toUpperCase()?(c=u.payload,!0):!1),c===0||(rd(l.codec)&&!hm()&&this.ensureVideoDDExtensionForSVC(a,s),l.codec!=="av1"))return!0;let d=Math.round(l.maxbr*_Pe);for(let u of a.fmtp)if(u.payload===c){u.config.includes("x-google-start-bitrate")||(u.config+=";x-google-start-bitrate=".concat(d));break}return!0})}),this.latestOfferId>r){this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:r}));return}yield this.setMungedSDP(o,ff.write(s)),this.onOffer(o,this.latestOfferId)}finally{i()}})}createAndSetAnswer(){return j(this,void 0,void 0,function*(){var e;let n=yield this.pc.createAnswer(),i=ff.parse((e=n.sdp)!==null&&e!==void 0?e:"");return i.media.forEach(r=>{Kee(r),r.type==="audio"&&Wee(r,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,ff.write(i)),n})}createDataChannel(e,n){return this.pc.createDataChannel(e,n)}addTransceiver(e,n){return this.pc.addTransceiver(e,n)}addTrack(e){if(!this._pc)throw new Dr("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var n;if(!this._pc)throw new Dr("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(e)}canRemoveTrack(){var e;return!!(!((e=this._pc)===null||e===void 0)&&e.removeTrack)}removeTrack(e){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(e)}getConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var e;return(e=this._pc)===null||e===void 0?void 0:e.localDescription}getRemoteDescription(){var e;return(e=this.pc)===null||e===void 0?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return j(this,void 0,void 0,function*(){var e;if(!this._pc)return;let n="",i=new Map,r=new Map;if((yield this._pc.getStats()).forEach(a=>{switch(a.type){case"transport":n=a.selectedCandidatePairId;break;case"candidate-pair":n===""&&a.selected&&(n=a.id),i.set(a.id,a);break;case"remote-candidate":r.set(a.id,"".concat(a.address,":").concat(a.port));break}}),n==="")return;let s=(e=i.get(n))===null||e===void 0?void 0:e.remoteCandidateId;if(s!==void 0)return r.get(s)})}setMungedSDP(e,n,i){return j(this,void 0,void 0,function*(){if(n){let r=e.sdp;e.sdp=n;try{this.log.debug("setting munged ".concat(i?"remote":"local"," description"),this.logContext),i?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e);return}catch(o){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:o,sdp:n})),e.sdp=r}}try{i?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(r){let o="unknown error";r instanceof Error?o=r.message:typeof r=="string"&&(o=r);let s={error:o,sdp:e.sdp};throw!i&&this.pc.remoteDescription&&(s.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:s})),new Gy(o)}})}ensureVideoDDExtensionForSVC(e,n){var i,r;if(!((i=e.ext)===null||i===void 0?void 0:i.some(s=>s.uri===Bee))){if(this.ddExtID===0){let s=0;n.media.forEach(a=>{var l;a.type==="video"&&((l=a.ext)===null||l===void 0||l.forEach(c=>{c.value>s&&(s=c.value)}))}),this.ddExtID=s+1}(r=e.ext)===null||r===void 0||r.push({value:this.ddExtID,uri:Bee})}}};function Wee(t,e,n){let i=0;t.rtp.some(r=>r.codec==="opus"?(i=r.payload,!0):!1),i>0&&(t.rtcpFb||(t.rtcpFb=[]),n.includes(t.mid)&&!t.rtcpFb.some(r=>r.payload===i&&r.type==="nack")&&t.rtcpFb.push({payload:i,type:"nack"}),e.includes(t.mid)&&t.fmtp.some(r=>r.payload===i?(r.config.includes("stereo=1")||(r.config+=";stereo=1"),!0):!1))}function yPe(t){var e;let n=[],i=[],r=ff.parse((e=t.sdp)!==null&&e!==void 0?e:""),o=0;return r.media.forEach(s=>{var a;s.type==="audio"&&(s.rtp.some(l=>l.codec==="opus"?(o=l.payload,!0):!1),!((a=s.rtcpFb)===null||a===void 0)&&a.some(l=>l.payload===o&&l.type==="nack")&&i.push(s.mid),s.fmtp.some(l=>l.payload===o?(l.config.includes("sprop-stereo=1")&&n.push(s.mid),!0):!1))}),{stereoMids:n,nackMids:i}}function Kee(t){if(t.connection){let e=t.connection.ip.indexOf(":")>=0;(t.connection.version===4&&e||t.connection.version===6&&!e)&&(t.connection.ip="0.0.0.0",t.connection.version=4)}}var X4="vp8",CPe={audioPreset:Tne.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:D3.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:X4,backupCodec:!0,preConnectBuffer:!1},Fne={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},Nne={deviceId:{ideal:"default"},resolution:Jo.h720.resolution},wPe={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new k4,disconnectOnPageLeave:!0,webAudioMix:!1},B3={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3},Pr=function(t){return t[t.NEW=0]="NEW",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED",t[t.FAILED=3]="FAILED",t[t.CLOSING=4]="CLOSING",t[t.CLOSED=5]="CLOSED",t}(Pr||{}),Z4=class{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,n,i){var r;this.peerConnectionTimeout=B3.peerConnectionTimeout,this.log=un,this.updateState=()=>{var o;let s=this.state,a=this.requiredTransports.map(l=>l.getConnectionState());a.every(l=>l==="connected")?this.state=Pr.CONNECTED:a.some(l=>l==="failed")?this.state=Pr.FAILED:a.some(l=>l==="connecting")?this.state=Pr.CONNECTING:a.every(l=>l==="closed")?this.state=Pr.CLOSED:a.some(l=>l==="closed")?this.state=Pr.CLOSING:a.every(l=>l==="new")&&(this.state=Pr.NEW),s!==this.state&&(this.log.debug("pc state change: from ".concat(Pr[s]," to ").concat(Pr[this.state]),this.logContext),(o=this.onStateChange)===null||o===void 0||o.call(this,this.state,this.publisher.getConnectionState(),this.subscriber.getConnectionState()))},this.log=Du((r=i.loggerName)!==null&&r!==void 0?r:cd.PCManager),this.loggerOptions=i,this.isPublisherConnectionRequired=!n,this.isSubscriberConnectionRequired=n,this.publisher=new nM(e,i),this.subscriber=new nM(e,i),this.publisher.onConnectionStateChange=this.updateState,this.subscriber.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=o=>{var s;(s=this.onIceCandidate)===null||s===void 0||s.call(this,o,Jl.PUBLISHER)},this.subscriber.onIceCandidate=o=>{var s;(s=this.onIceCandidate)===null||s===void 0||s.call(this,o,Jl.SUBSCRIBER)},this.subscriber.onDataChannel=o=>{var s;(s=this.onDataChannel)===null||s===void 0||s.call(this,o)},this.subscriber.onTrack=o=>{var s;(s=this.onTrack)===null||s===void 0||s.call(this,o)},this.publisher.onOffer=(o,s)=>{var a;(a=this.onPublisherOffer)===null||a===void 0||a.call(this,o,s)},this.state=Pr.NEW,this.connectionLock=new Zo,this.remoteOfferLock=new Zo}get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(e))}requirePublisher(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=e,this.updateState()}requireSubscriber(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSubscriberConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e,n){return this.publisher.setRemoteDescription(e,n)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return j(this,void 0,void 0,function*(){if(this.publisher&&this.publisher.getSignallingState()!=="closed"){let e=this.publisher;for(let n of e.getSenders())try{e.canRemoveTrack()&&e.removeTrack(n)}catch(i){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:i}))}}yield Promise.all([this.publisher.close(),this.subscriber.close()]),this.updateState()})}triggerIceRestart(){return j(this,void 0,void 0,function*(){this.subscriber.restartingIce=!0,this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,n){return j(this,void 0,void 0,function*(){n===Jl.PUBLISHER?yield this.publisher.addIceCandidate(e):yield this.subscriber.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e,n){return j(this,void 0,void 0,function*(){this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:this.subscriber.getSignallingState().toString()}));let i=yield this.remoteOfferLock.lock();try{return(yield this.subscriber.setRemoteDescription(e,n))?yield this.subscriber.createAndSetAnswer():void 0}finally{i()}})}updateConfiguration(e,n){this.publisher.setConfiguration(e),this.subscriber.setConfiguration(e),n&&this.triggerIceRestart()}ensurePCTransportConnection(e,n){return j(this,void 0,void 0,function*(){var i;let r=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((i=this.requiredTransports)===null||i===void 0?void 0:i.map(o=>this.ensureTransportConnected(o,e,n)))}finally{r()}})}negotiate(e){return j(this,void 0,void 0,function*(){return new Promise((n,i)=>j(this,void 0,void 0,function*(){let r=setTimeout(()=>{i("negotiation timed out")},this.peerConnectionTimeout),o=()=>{clearTimeout(r),i("negotiation aborted")};e.signal.addEventListener("abort",o),this.publisher.once(rv.NegotiationStarted,()=>{e.signal.aborted||this.publisher.once(rv.NegotiationComplete,()=>{clearTimeout(r),n()})}),yield this.publisher.negotiate(s=>{clearTimeout(r),i(s)})}))})}addPublisherTransceiver(e,n){return this.publisher.addTransceiver(e,n)}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,n){return this.publisher.createDataChannel(e,n)}getConnectedAddress(e){return e===Jl.PUBLISHER?this.publisher.getConnectedAddress():e===Jl.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){let e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&e.push(this.subscriber),e}ensureTransportConnected(e,n){return j(this,arguments,void 0,function(i,r){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(i.getConnectionState()!=="connected")return new Promise((l,c)=>j(o,void 0,void 0,function*(){let d=()=>{this.log.warn("abort transport connection",this.logContext),Ca.clearTimeout(u),c(new Jn("room connection has been cancelled",Cn.Cancelled))};r?.signal.aborted&&d(),r?.signal.addEventListener("abort",d);let u=Ca.setTimeout(()=>{r?.signal.removeEventListener("abort",d),c(new Jn("could not establish pc connection",Cn.InternalError))},s);for(;this.state!==Pr.CONNECTED;)if(yield $s(50),r?.signal.aborted){c(new Jn("room connection has been cancelled",Cn.Cancelled));return}Ca.clearTimeout(u),r?.signal.removeEventListener("abort",d),l()}))}()})}},Yl=(()=>{class t extends Error{constructor(n,i,r){super(i),this.code=n,this.message=qee(i,t.MAX_MESSAGE_BYTES),this.data=r?qee(r,t.MAX_DATA_BYTES):void 0}static fromProto(n){return new t(n.code,n.message,n.data)}toProto(){return new kte({code:this.code,message:this.message,data:this.data})}static builtIn(n,i){return new t(t.ErrorCode[n],t.ErrorMessage[n],i)}}return t.MAX_MESSAGE_BYTES=256,t.MAX_DATA_BYTES=15360,t.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404},t.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"},t})(),Lne=15360;function F3(t){return new TextEncoder().encode(t).length}function qee(t,e){if(F3(t)<=e)return t;let n=0,i=t.length,r=new TextEncoder;for(;n<i;){let o=Math.floor((n+i+1)/2);r.encode(t.slice(0,o)).length<=e?n=o:i=o-1}return t.slice(0,n)}var N3=2e3;function mM(t,e){if(!e)return 0;let n,i;return"bytesReceived"in t?(n=t.bytesReceived,i=e.bytesReceived):"bytesSent"in t&&(n=t.bytesSent,i=e.bytesSent),n===void 0||i===void 0||t.timestamp===void 0||e.timestamp===void 0?0:(n-i)*8*1e3/(t.timestamp-e.timestamp)}var L3=typeof MediaRecorder<"u",J4=class{constructor(){throw new Error("MediaRecorder is not available in this environment")}},EPe=L3?MediaRecorder:J4,e3=class extends EPe{constructor(e,n){if(!L3)throw new Error("MediaRecorder is not available in this environment");super(new MediaStream([e.mediaStreamTrack]),n);let i,r,o=()=>r===void 0,s=()=>{this.removeEventListener("dataavailable",i),this.removeEventListener("stop",s),this.removeEventListener("error",a),r?.close(),r=void 0},a=l=>{r?.error(l),this.removeEventListener("dataavailable",i),this.removeEventListener("stop",s),this.removeEventListener("error",a),r=void 0};this.byteStream=new ReadableStream({start:l=>{r=l,i=c=>j(this,void 0,void 0,function*(){let d;if(c.data.arrayBuffer){let u=yield c.data.arrayBuffer();d=new Uint8Array(u)}else if(c.data.byteArray)d=c.data.byteArray;else throw new Error("no data available!");o()||l.enqueue(d)}),this.addEventListener("dataavailable",i)},cancel:()=>{s()}}),this.addEventListener("stop",s),this.addEventListener("error",a)}};function xPe(){return L3}var SPe=1e3,TPe=1e4,iM=class extends _e{get sender(){return this._sender}set sender(e){this._sender=e}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(e,n,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4?arguments[4]:void 0;super(e,n,o),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=R3(()=>j(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>j(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(ke.Ended,this)},this.reacquireTrack=!1,this.providedByUser=r,this.muteLock=new Zo,this.pauseUpstreamLock=new Zo,this.trackChangeLock=new Zo,this.trackChangeLock.lock().then(s=>j(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(e,!0)}finally{s()}})),this._constraints=e.getConstraints(),i&&(this._constraints=i)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==_e.Kind.Video)return;let{width:e,height:n}=this._mediaStreamTrack.getSettings();if(e&&n)return{width:e,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,n;return(n=(e=this.processor)===null||e===void 0?void 0:e.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(e,n){return j(this,void 0,void 0,function*(){var i;if(e===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(o=>{nv(this._mediaStreamTrack,o)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints());let r;if(this.processor&&e){if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(Zg(e,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),r=this.processor.processedTrack}this.sender&&((i=this.sender.transport)===null||i===void 0?void 0:i.state)!=="closed"&&(yield this.sender.replaceTrack(r??e)),!this.providedByUser&&this._mediaStreamTrack!==e&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(o=>{Zg(r??e,o)}))})}waitForDimensions(){return j(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SPe;return function*(){var i;if(e.kind===_e.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((i=Ea())===null||i===void 0?void 0:i.os)==="iOS"&&(yield $s(10));let r=Date.now();for(;Date.now()-r<n;){let o=e.dimensions;if(o)return o;yield $s(50)}throw new ec("unable to get track dimensions after timeout")}()})}setDeviceId(e){return j(this,void 0,void 0,function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===mf(e)||(this._constraints.deviceId=e,this.isMuted)?!0:(yield this.restartTrack(),mf(e)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return j(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){if(e.source===_e.Source.ScreenShare)return;let{deviceId:i,groupId:r}=e._mediaStreamTrack.getSettings(),o=e.kind===_e.Kind.Audio?"audioinput":"videoinput";return n?wa.getInstance().normalizeDeviceId(o,i,r):i}()})}mute(){return j(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return j(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e,n){return j(this,void 0,void 0,function*(){let i=yield this.trackChangeLock.lock();try{if(!this.sender)throw new ec("unable to replace an unpublished track");let r,o;return typeof n=="boolean"?r=n:n!==void 0&&(r=n.userProvidedTrack,o=n.stopProcessor),this.providedByUser=r??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),o&&this.processor&&(yield this.internalStopProcessor()),this}finally{i()}})}restart(e){return j(this,void 0,void 0,function*(){this.manuallyStopped=!1;let n=yield this.trackChangeLock.lock();try{e||(e=this._constraints);let{deviceId:i,facingMode:r}=e,o=pDe(e,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));let s={audio:!1,video:!1};this.kind===_e.Kind.Video?s.video=i||r?{deviceId:i,facingMode:r}:!0:s.audio=i?{deviceId:i}:!0,this.attachedElements.forEach(c=>{nv(this.mediaStreamTrack,c)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();let l=(yield navigator.mediaDevices.getUserMedia(s)).getTracks()[0];return yield l.applyConstraints(o),l.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(l),this._constraints=e,this.emit(ke.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),!(this.isMuted===e&&this._mediaStreamTrack.enabled!==e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ke.Muted:ke.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){let e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return j(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),Ine()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(e=this.processor)===null||e===void 0||e.destroy(),this.processor=void 0}pauseUpstream(){return j(this,void 0,void 0,function*(){var e;let n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(ke.UpstreamPaused,this);let i=Ea();if(i?.name==="Safari"&&ad(i.version,"12.0")<0)throw new zy("pauseUpstream is not supported on Safari < 12.");((e=this.sender.transport)===null||e===void 0?void 0:e.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return j(this,void 0,void 0,function*(){var e;let n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(ke.UpstreamResumed,this),((e=this.sender.transport)===null||e===void 0?void 0:e.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return j(this,void 0,void 0,function*(){var e;return!((e=this.sender)===null||e===void 0)&&e.getStats?yield this.sender.getStats():void 0})}setProcessor(e){return j(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o;let s=yield i.trackChangeLock.lock();try{i.log.debug("setting up processor",i.logContext);let a=document.createElement(i.kind),l={kind:i.kind,track:i._mediaStreamTrack,element:a,audioContext:i.audioContext};if(yield n.init(l),i.log.debug("processor initialized",i.logContext),i.processor&&(yield i.internalStopProcessor()),i.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(Zg(i._mediaStreamTrack,a),a.muted=!0,a.play().catch(c=>{c instanceof DOMException&&c.name==="AbortError"?(i.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},i.logContext),{error:c})),setTimeout(()=>{a.play().catch(d=>{i.log.error("failed to play processor element",Object.assign(Object.assign({},i.logContext),{err:d}))})},100)):i.log.error("failed to play processor element",Object.assign(Object.assign({},i.logContext),{error:c}))}),i.processor=n,i.processorElement=a,i.processor.processedTrack){for(let c of i.attachedElements)c!==i.processorElement&&r&&(nv(i._mediaStreamTrack,c),Zg(i.processor.processedTrack,c));yield(o=i.sender)===null||o===void 0?void 0:o.replaceTrack(i.processor.processedTrack)}i.emit(ke.TrackProcessorUpdate,i.processor)}finally{s()}}()})}getProcessor(){return this.processor}stopProcessor(){return j(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){let i=yield e.trackChangeLock.lock();try{yield e.internalStopProcessor(n)}finally{i()}}()})}internalStopProcessor(){return j(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var i,r;e.processor&&(e.log.debug("stopping processor",e.logContext),(i=e.processor.processedTrack)===null||i===void 0||i.stop(),yield e.processor.destroy(),e.processor=void 0,n||((r=e.processorElement)===null||r===void 0||r.remove(),e.processorElement=void 0),yield e._mediaStreamTrack.applyConstraints(e._constraints),yield e.setMediaStreamTrack(e._mediaStreamTrack,!0),e.emit(ke.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(!xPe()){this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext);return}if(this.localTrackRecorder){this.log.warn("preconnect buffer already started");return}else{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new e3(this,{mimeType:n})}this.localTrackRecorder.start(e),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},TPe)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var e;return(e=this.localTrackRecorder)===null||e===void 0?void 0:e.byteStream}getPreConnectBufferMimeType(){var e;return(e=this.localTrackRecorder)===null||e===void 0?void 0:e.mimeType}},av=class extends iM{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;super(e,_e.Kind.Audio,n,i,o),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>j(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let s;try{s=yield this.getSenderStats()}catch(a){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:a}));return}s&&this.prevStats&&(this._currentBitrate=mM(s,this.prevStats)),this.prevStats=s}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(ke.AudioTrackFeatureUpdate,this,po.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(ke.AudioTrackFeatureUpdate,this,po.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=r,this.checkForSilence()}mute(){let e=Object.create(null,{mute:{get:()=>super.mute}});return j(this,void 0,void 0,function*(){let n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===_e.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{n()}})}unmute(){let e=Object.create(null,{unmute:{get:()=>super.unmute}});return j(this,void 0,void 0,function*(){let n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;let i=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==mf(this._constraints.deviceId);return this.source===_e.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||i)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{n()}})}restartTrack(e){return j(this,void 0,void 0,function*(){let n;if(e){let i=P3({audio:e});typeof i.audio!="boolean"&&(n=i.audio)}yield this.restart(n)})}restart(e){let n=Object.create(null,{restart:{get:()=>super.restart}});return j(this,void 0,void 0,function*(){let i=yield n.restart.call(this,e);return this.checkForSilence(),i})}startMonitor(){js()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},N3)))}setProcessor(e){return j(this,void 0,void 0,function*(){var n;let i=yield this.trackChangeLock.lock();try{if(!sd()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());let r={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(r),this.processor=e,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(ke.TrackProcessorUpdate,this.processor)}finally{i()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){return j(this,void 0,void 0,function*(){var e;if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return;let n=yield this.sender.getStats(),i;return n.forEach(r=>{r.type==="outbound-rtp"&&(i={type:"audio",streamId:r.id,packetsSent:r.packetsSent,packetsLost:r.packetsLost,bytesSent:r.bytesSent,timestamp:r.timestamp,roundTripTime:r.roundTripTime,jitter:r.jitter})}),i})}checkForSilence(){return j(this,void 0,void 0,function*(){let e=yield Pne(this);return e&&(this.isMuted||this.log.warn("silence detected on local audio track",this.logContext),this.emit(ke.AudioSilenceDetected)),e})}};function IPe(t,e,n){switch(t.kind){case"audio":return new av(t,e,!1,void 0,n);case"video":return new lv(t,e,!1,n);default:throw new ec("unsupported track type: ".concat(t.kind))}}var kPe=Object.values(Jo),MPe=Object.values(U4),DPe=Object.values(D3),PPe=[Jo.h180,Jo.h360],OPe=[U4.h180,U4.h360],RPe=t=>[{scaleResolutionDownBy:2,fps:t.encoding.maxFramerate}].map(n=>{var i,r;return new zn(Math.floor(t.width/n.scaleResolutionDownBy),Math.floor(t.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(t.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((i=t.encoding.maxFramerate)!==null&&i!==void 0?i:30)/((r=n.fps)!==null&&r!==void 0?r:30))))),n.fps,t.encoding.priority)}),t3=["q","h","f"];function n3(t,e,n,i){var r,o;let s=i?.videoEncoding;t&&(s=i?.screenShareEncoding);let a=i?.simulcast,l=i?.scalabilityMode,c=i?.videoCodec;if(!s&&!a&&!l||!e||!n)return[{}];s||(s=FPe(t,e,n,c),un.debug("using video encoding",s));let d=s.maxFramerate,u=new zn(e,n,s.maxBitrate,s.maxFramerate,s.priority);if(l&&rd(c)){let v=new rM(l),b=[];if(v.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(l));let x=Ea();if(Jk()||sd()||x?.name==="Chrome"&&ad(x?.version,"113")<0){let T=v.suffix=="h"?2:3,k=zDe(x);for(let U=0;U<v.spatial;U+=1)b.push({rid:t3[2-U],maxBitrate:s.maxBitrate/Math.pow(T,U),maxFramerate:u.encoding.maxFramerate,scaleResolutionDownBy:k?Math.pow(2,U):void 0});b[0].scalabilityMode=l}else b.push({maxBitrate:s.maxBitrate,maxFramerate:u.encoding.maxFramerate,scalabilityMode:l});return u.encoding.priority&&(b[0].priority=u.encoding.priority,b[0].networkPriority=u.encoding.priority),un.debug("using svc encoding",{encodings:b}),b}if(!a)return[s];let p=[];t?p=(r=Xee(i?.screenShareSimulcastLayers))!==null&&r!==void 0?r:Yee(t,u):p=(o=Xee(i?.videoSimulcastLayers))!==null&&o!==void 0?o:Yee(t,u);let g;if(p.length>0){let v=p[0];p.length>1&&([,g]=p);let b=Math.max(e,n);if(b>=960&&g)return h4(e,n,[v,g,u],d);if(b>=480)return h4(e,n,[v,u],d)}return h4(e,n,[u])}function BPe(t,e,n){var i,r,o,s;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;e!==n.backupCodec.codec&&un.warn("requested a different codec than specified as backup",{serverRequested:e,backup:n.backupCodec.codec}),n.videoCodec=e,n.videoEncoding=n.backupCodec.encoding;let a=t.mediaStreamTrack.getSettings(),l=(i=a.width)!==null&&i!==void 0?i:(r=t.dimensions)===null||r===void 0?void 0:r.width,c=(o=a.height)!==null&&o!==void 0?o:(s=t.dimensions)===null||s===void 0?void 0:s.height;return t.source===_e.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),n3(t.source===_e.Source.ScreenShare,l,c,n)}function FPe(t,e,n,i){let r=NPe(t,e,n),{encoding:o}=r[0],s=Math.max(e,n);for(let a=0;a<r.length;a+=1){let l=r[a];if(o=l.encoding,l.width>=s)break}if(i)switch(i){case"av1":case"h265":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.7;break;case"vp9":o=Object.assign({},o),o.maxBitrate=o.maxBitrate*.85;break}return o}function NPe(t,e,n){if(t)return DPe;let i=e>n?e/n:n/e;return Math.abs(i-16/9)<Math.abs(i-4/3)?kPe:MPe}function Yee(t,e){if(t)return RPe(e);let{width:n,height:i}=e,r=n>i?n/i:i/n;return Math.abs(r-16/9)<Math.abs(r-4/3)?PPe:OPe}function h4(t,e,n,i){let r=[];if(n.forEach((o,s)=>{if(s>=t3.length)return;let a=Math.min(t,e),c={rid:t3[s],scaleResolutionDownBy:Math.max(1,a/Math.min(o.width,o.height)),maxBitrate:o.encoding.maxBitrate},d=i&&o.encoding.maxFramerate?Math.min(i,o.encoding.maxFramerate):o.encoding.maxFramerate;d&&(c.maxFramerate=d);let u=sv()||s===0;o.encoding.priority&&u&&(c.priority=o.encoding.priority,c.networkPriority=o.encoding.priority),r.push(c)}),sd()&&Mne()==="ios"){let o;r.forEach(a=>{o?a.maxFramerate&&a.maxFramerate>o&&(o=a.maxFramerate):o=a.maxFramerate});let s=!0;r.forEach(a=>{var l;a.maxFramerate!=o&&(s&&(s=!1,un.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),un.info('Setting framerate of encoding "'.concat((l=a.rid)!==null&&l!==void 0?l:"",'" to ').concat(o)),a.maxFramerate=o)})}return r}function Xee(t){if(t)return t.sort((e,n)=>{let{encoding:i}=e,{encoding:r}=n;return i.maxBitrate>r.maxBitrate?1:i.maxBitrate<r.maxBitrate?-1:i.maxBitrate===r.maxBitrate&&i.maxFramerate&&r.maxFramerate?i.maxFramerate>r.maxFramerate?1:-1:0})}var rM=class{constructor(e){let n=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat((e=this.suffix)!==null&&e!==void 0?e:"")}};function LPe(t){return t.source===_e.Source.ScreenShare||t.constraints.height&&mf(t.constraints.height)>=1080?"maintain-resolution":"balanced"}var UPe=5e3,lv=class extends iM{get sender(){return this._sender}set sender(e){this._sender=e,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3?arguments[3]:void 0;super(e,_e.Kind.Video,n,i,r),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>j(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(l){this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:l}));return}let s=new Map(o.map(l=>[l.rid,l])),a=o.some(l=>l.qualityLimitationReason==="cpu");if(a!==this.isCpuConstrained&&(this.isCpuConstrained=a,this.isCpuConstrained&&this.emit(ke.CpuConstrained)),this.prevStats){let l=0;s.forEach((c,d)=>{var u;let p=(u=this.prevStats)===null||u===void 0?void 0:u.get(d);l+=mM(c,p)}),this._currentBitrate=l}this.prevStats=s}),this.senderLock=new Zo}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var n;if(this.signalClient=e,!js())return;let i=(n=this.sender)===null||n===void 0?void 0:n.getParameters();i&&(this.encodings=i.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},N3))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){let e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return j(this,void 0,void 0,function*(){var n,i,r,o,s;yield e.pauseUpstream.call(this);try{for(var a=!0,l=ku(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0)o=c.value,a=!1,yield(s=o.sender)===null||s===void 0?void 0:s.replaceTrack(null)}catch(d){i={error:d}}finally{try{!a&&!n&&(r=l.return)&&(yield r.call(l))}finally{if(i)throw i.error}}})}resumeUpstream(){let e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return j(this,void 0,void 0,function*(){var n,i,r,o,s;yield e.resumeUpstream.call(this);try{for(var a=!0,l=ku(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0){o=c.value,a=!1;let d=o;yield(s=d.sender)===null||s===void 0?void 0:s.replaceTrack(d.mediaStreamTrack)}}catch(d){i={error:d}}finally{try{!a&&!n&&(r=l.return)&&(yield r.call(l))}finally{if(i)throw i.error}}})}mute(){let e=Object.create(null,{mute:{get:()=>super.mute}});return j(this,void 0,void 0,function*(){let n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===_e.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{n()}})}unmute(){let e=Object.create(null,{unmute:{get:()=>super.unmute}});return j(this,void 0,void 0,function*(){let n=yield this.muteLock.lock();try{return this.isMuted?(this.source===_e.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(e){super.setTrackMuted(e);for(let n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!e}getSenderStats(){return j(this,void 0,void 0,function*(){var e;if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return[];let n=[],i=yield this.sender.getStats();return i.forEach(r=>{var o;if(r.type==="outbound-rtp"){let s={type:"video",streamId:r.id,frameHeight:r.frameHeight,frameWidth:r.frameWidth,framesPerSecond:r.framesPerSecond,framesSent:r.framesSent,firCount:r.firCount,pliCount:r.pliCount,nackCount:r.nackCount,packetsSent:r.packetsSent,bytesSent:r.bytesSent,qualityLimitationReason:r.qualityLimitationReason,qualityLimitationDurations:r.qualityLimitationDurations,qualityLimitationResolutionChanges:r.qualityLimitationResolutionChanges,rid:(o=r.rid)!==null&&o!==void 0?o:r.id,retransmittedPacketsSent:r.retransmittedPacketsSent,targetBitrate:r.targetBitrate,timestamp:r.timestamp},a=i.get(r.remoteId);a&&(s.jitter=a.jitter,s.packetsLost=a.packetsLost,s.roundTripTime=a.roundTripTime),n.push(s)}}),n.sort((r,o)=>{var s,a;return((s=o.frameWidth)!==null&&s!==void 0?s:0)-((a=r.frameWidth)!==null&&a!==void 0?a:0)}),n})}setPublishingQuality(e){let n=[];for(let i=cl.LOW;i<=cl.HIGH;i+=1)n.push(new I3({quality:i,enabled:i<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(rd(this.codec),n)}restartTrack(e){return j(this,void 0,void 0,function*(){var n,i,r,o,s;let a;if(e){let u=P3({video:e});typeof u.video!="boolean"&&(a=u.video)}yield this.restart(a),this.isCpuConstrained=!1;try{for(var l=!0,c=ku(this.simulcastCodecs.values()),d;d=yield c.next(),n=d.done,!n;l=!0){o=d.value,l=!1;let u=o;u.sender&&((s=u.sender.transport)===null||s===void 0?void 0:s.state)!=="closed"&&(u.mediaStreamTrack=this.mediaStreamTrack.clone(),yield u.sender.replaceTrack(u.mediaStreamTrack))}}catch(u){i={error:u}}finally{try{!l&&!n&&(r=c.return)&&(yield r.call(c))}finally{if(i)throw i.error}}})}setProcessor(e){let n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return j(this,arguments,void 0,function(i){var r=this;let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var s,a,l,c,d,u;if(yield n.setProcessor.call(r,i,o),!((d=r.processor)===null||d===void 0)&&d.processedTrack)try{for(var p=!0,g=ku(r.simulcastCodecs.values()),v;v=yield g.next(),s=v.done,!s;p=!0)c=v.value,p=!1,yield(u=c.sender)===null||u===void 0?void 0:u.replaceTrack(r.processor.processedTrack)}catch(b){a={error:b}}finally{try{!p&&!s&&(l=g.return)&&(yield l.call(g))}finally{if(a)throw a.error}}}()})}setDegradationPreference(e){return j(this,void 0,void 0,function*(){if(this.degradationPreference=e,this.sender)try{this.log.debug("setting degradationPreference to ".concat(e),this.logContext);let n=this.sender.getParameters();n.degradationPreference=e,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(e,n){if(this.simulcastCodecs.has(e)){this.log.error("".concat(e," already added, skipping adding simulcast codec"),this.logContext);return}let i={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(e,i),i}setSimulcastTrackSender(e,n){let i=this.simulcastCodecs.get(e);i&&(i.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},UPe))}setPublishingCodecs(e){return j(this,void 0,void 0,function*(){var n,i,r,o,s,a,l;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(rd(e[0].codec),e[0].qualities),[];this.subscribedCodecs=e;let c=[];try{for(n=!0,i=ku(e);r=yield i.next(),o=r.done,!o;n=!0){l=r.value,n=!1;let d=l;if(!this.codec||this.codec===d.codec)yield this.setPublishingLayers(rd(d.codec),d.qualities);else{let u=this.simulcastCodecs.get(d.codec);if(this.log.debug("try setPublishingCodec for ".concat(d.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:u})),!u||!u.sender){for(let p of d.qualities)if(p.enabled){c.push(d.codec);break}}else u.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(d.codec),this.logContext),yield Zee(u.sender,u.encodings,d.qualities,this.senderLock,rd(d.codec),this.log,this.logContext))}}}catch(d){s={error:d}}finally{try{!n&&!o&&(a=i.return)&&(yield a.call(i))}finally{if(s)throw s.error}}return c})}setPublishingLayers(e,n){return j(this,void 0,void 0,function*(){if(this.optimizeForPerformance){this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n}));return}this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),!(!this.sender||!this.encodings)&&(yield Zee(this.sender,this.encodings,n,this.senderLock,e,this.log,this.logContext))})}prioritizePerformance(){return j(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");let e=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;let n=this.sender.getParameters();n.encodings=n.encodings.map((i,r)=>{var o;return Object.assign(Object.assign({},i),{active:r===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((o=this.mediaStreamTrack.getSettings().height)!==null&&o!==void 0?o:360)/360)),scalabilityMode:r===0&&rd(this.codec)?"L1T3":void 0,maxFramerate:r===0?15:0,maxBitrate:r===0?i.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{e()}})}handleAppVisibilityChanged(){let e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return j(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),Ine()&&this.isInBackground&&this.source===_e.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}};function Zee(t,e,n,i,r,o,s){return j(this,void 0,void 0,function*(){let a=yield i.lock();o.debug("setPublishingLayersForSender",Object.assign(Object.assign({},s),{sender:t,qualities:n,senderEncodings:e}));try{let l=t.getParameters(),{encodings:c}=l;if(!c)return;if(c.length!==e.length){o.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},s),{encodings:c,senderEncodings:e}));return}let d=!1;!1&&c[0].scalabilityMode||(r&&n.some(g=>g.enabled)&&n.forEach(g=>g.enabled=!0),c.forEach((p,g)=>{var v;let b=(v=p.rid)!==null&&v!==void 0?v:"";b===""&&(b="q");let x=Une(b),T=n.find(k=>k.quality===x);T&&p.active!==T.enabled&&(d=!0,p.active=T.enabled,o.debug("setting layer ".concat(T.quality," to ").concat(p.active?"enabled":"disabled"),s),sv()&&(T.enabled?(p.scaleResolutionDownBy=e[g].scaleResolutionDownBy,p.maxBitrate=e[g].maxBitrate,p.maxFrameRate=e[g].maxFrameRate):(p.scaleResolutionDownBy=4,p.maxBitrate=10,p.maxFrameRate=2)))})),d&&(l.encodings=c,o.debug("setting encodings",Object.assign(Object.assign({},s),{encodings:l.encodings})),yield t.setParameters(l))}finally{a()}})}function Une(t){switch(t){case"f":return cl.HIGH;case"h":return cl.MEDIUM;case"q":return cl.LOW;default:return cl.HIGH}}function Jee(t,e,n,i){if(!n)return[new am({quality:cl.HIGH,width:t,height:e,bitrate:0,ssrc:0})];if(i){let r=n[0].scalabilityMode,o=new rM(r),s=[],a=o.suffix=="h"?1.5:2,l=o.suffix=="h"?2:3;for(let c=0;c<o.spatial;c+=1)s.push(new am({quality:Math.min(cl.HIGH,o.spatial-1)-c,width:Math.ceil(t/Math.pow(a,c)),height:Math.ceil(e/Math.pow(a,c)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(l,c)):0,ssrc:0}));return s}return n.map(r=>{var o,s,a;let l=(o=r.scaleResolutionDownBy)!==null&&o!==void 0?o:1,c=Une((s=r.rid)!==null&&s!==void 0?s:"");return new am({quality:c,width:Math.ceil(t/l),height:Math.ceil(e/l),bitrate:(a=r.maxBitrate)!==null&&a!==void 0?a:0,ssrc:0})})}var ete="_lossy",tte="_reliable",VPe=2*1e3,f4="leave-reconnect",HPe=3e4,Jc=function(t){return t[t.New=0]="New",t[t.Connected=1]="Connected",t[t.Disconnected=2]="Disconnected",t[t.Reconnecting=3]="Reconnecting",t[t.Closed=4]="Closed",t}(Jc||{}),i3=class extends dd.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(e){var n;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=B3.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=Jc.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=un,this.reliableDataSequence=1,this.reliableMessageBuffer=new tM,this.reliableReceivedState=new Y4(HPe),this.handleDataChannel=i=>j(this,[i],void 0,function(r){var o=this;let{channel:s}=r;return function*(){if(s){if(s.label===tte)o.reliableDCSub=s;else if(s.label===ete)o.lossyDCSub=s;else return;o.log.debug("on data channel ".concat(s.id,", ").concat(s.label),o.logContext),s.onmessage=o.handleDataMessage}}()}),this.handleDataMessage=i=>j(this,void 0,void 0,function*(){var r,o;let s=yield this.dataProcessLock.lock();try{let a;if(i.data instanceof ArrayBuffer)a=i.data;else if(i.data instanceof Blob)a=yield i.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:i.data}));return}let l=Qs.fromBinary(new Uint8Array(a));if(l.sequence>0&&l.participantSid!==""){let c=this.reliableReceivedState.get(l.participantSid);if(c&&l.sequence<=c)return;this.reliableReceivedState.set(l.participantSid,l.sequence)}((r=l.value)===null||r===void 0?void 0:r.case)==="speaker"?this.emit(Be.ActiveSpeakersUpdate,l.value.value.speakers):(((o=l.value)===null||o===void 0?void 0:o.case)==="user"&&jPe(l,l.value.value),this.emit(Be.DataPacketReceived,l))}finally{s()}}),this.handleDataError=i=>{let o=i.currentTarget.maxRetransmits===0?"lossy":"reliable";if(i instanceof ErrorEvent&&i.error){let{error:s}=i.error;this.log.error("DataChannel error on ".concat(o,": ").concat(i.message),Object.assign(Object.assign({},this.logContext),{error:s}))}else this.log.error("Unknown DataChannel error on ".concat(o),Object.assign(Object.assign({},this.logContext),{event:i}))},this.handleBufferedAmountLow=i=>{let o=i.currentTarget.maxRetransmits===0?sn.LOSSY:sn.RELIABLE;this.updateAndEmitDCBufferStatus(o)},this.handleDisconnect=(i,r)=>{if(this._isClosed)return;this.log.warn("".concat(i," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());let o=l=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(l,"ms. giving up"),this.logContext),this.emit(Be.Disconnected),this.close()},s=Date.now()-this.reconnectStart,a=this.getNextRetryDelay({elapsedMs:s,retryCount:this.reconnectAttempts});if(a===null){o(s);return}i===f4&&(a=0),this.log.debug("reconnecting in ".concat(a,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Ca.setTimeout(()=>this.attemptReconnect(r).finally(()=>this.reconnectTimeout=void 0),a)},this.waitForRestarted=()=>new Promise((i,r)=>{this.pcState===Jc.Connected&&i();let o=()=>{this.off(Be.Disconnected,s),i()},s=()=>{this.off(Be.Restarted,o),r()};this.once(Be.Restarted,o),this.once(Be.Disconnected,s)}),this.updateAndEmitDCBufferStatus=i=>{let r=this.isBufferStatusLow(i);typeof r<"u"&&r!==this.dcBufferStatus.get(i)&&(this.dcBufferStatus.set(i,r),this.emit(Be.DCBufferStatusChanged,r,i))},this.isBufferStatusLow=i=>{let r=this.dataChannelForKind(i);if(r)return i===sn.RELIABLE&&this.reliableMessageBuffer.alignBufferedAmount(r.bufferedAmount),r.bufferedAmount<=r.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===zi.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(Yg.RR_SIGNAL_DISCONNECTED))},this.log=Du((n=e.loggerName)!==null&&n!==void 0?n:cd.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new Wy(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.registerOnLineListener(),this.closingLock=new Zo,this.dataProcessLock=new Zo,this.dcBufferStatus=new Map([[sn.LOSSY,!0],[sn.RELIABLE,!0]]),this.client.onParticipantUpdate=i=>this.emit(Be.ParticipantUpdate,i),this.client.onConnectionQuality=i=>this.emit(Be.ConnectionQualityUpdate,i),this.client.onRoomUpdate=i=>this.emit(Be.RoomUpdate,i),this.client.onSubscriptionError=i=>this.emit(Be.SubscriptionError,i),this.client.onSubscriptionPermissionUpdate=i=>this.emit(Be.SubscriptionPermissionUpdate,i),this.client.onSpeakersChanged=i=>this.emit(Be.SpeakersChanged,i),this.client.onStreamStateUpdate=i=>this.emit(Be.StreamStateChanged,i),this.client.onRequestResponse=i=>this.emit(Be.SignalRequestResponse,i)}get logContext(){var e,n,i,r,o,s;return{room:(n=(e=this.latestJoinResponse)===null||e===void 0?void 0:e.room)===null||n===void 0?void 0:n.name,roomID:(r=(i=this.latestJoinResponse)===null||i===void 0?void 0:i.room)===null||r===void 0?void 0:r.sid,participant:(s=(o=this.latestJoinResponse)===null||o===void 0?void 0:o.participant)===null||s===void 0?void 0:s.identity,pID:this.participantSid}}join(e,n,i,r){return j(this,void 0,void 0,function*(){this.url=e,this.token=n,this.signalOpts=i,this.maxJoinAttempts=i.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();let o=yield this.client.join(e,n,i,r);return this._isClosed=!1,this.latestJoinResponse=o,this.subscriberPrimary=o.subscriberPrimary,this.pcManager||(yield this.configure(o)),(!this.subscriberPrimary||o.fastPublish)&&this.negotiate(),this.clientConfiguration=o.clientConfiguration,this.emit(Be.SignalConnected,o),o}catch(o){if(o instanceof Jn&&o.reason===Cn.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(e,n,i,r);throw o}})}close(){return j(this,void 0,void 0,function*(){let e=yield this.closingLock.lock();if(this.isClosed){e();return}try{this._isClosed=!0,this.joinAttempts=0,this.emit(Be.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){return j(this,void 0,void 0,function*(){var e;yield(e=this.pcManager)===null||e===void 0?void 0:e.close(),this.pcManager=void 0;let n=i=>{i&&(i.close(),i.onbufferedamountlow=null,i.onclose=null,i.onclosing=null,i.onerror=null,i.onmessage=null,i.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new tM,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupClient(){return j(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new ec("a track with the same ID has already been published");return new Promise((n,i)=>{let r=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],i(new Jn("publication of local track timed out, no response from server",Cn.Timeout))},1e4);this.pendingTrackResolvers[e.cid]={resolve:o=>{clearTimeout(r),n(o)},reject:()=>{clearTimeout(r),i(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){let{reject:n}=this.pendingTrackResolvers[e.track.id];n&&n(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(e,n){this.client.sendMuteTrack(e,n)}get dataSubscriberReadyState(){var e;return(e=this.reliableDCSub)===null||e===void 0?void 0:e.readyState}getConnectedServerAddress(){return j(this,void 0,void 0,function*(){var e;return(e=this.pcManager)===null||e===void 0?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){return j(this,void 0,void 0,function*(){var n,i;if(this.pcManager&&this.pcManager.currentState!==Pr.NEW)return;this.participantSid=(n=e.participant)===null||n===void 0?void 0:n.sid;let r=this.makeRTCConfiguration(e);this.pcManager=new Z4(r,e.subscriberPrimary,this.loggerOptions),this.emit(Be.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(o,s)=>{this.client.sendIceCandidate(o,s)},this.pcManager.onPublisherOffer=(o,s)=>{this.client.sendOffer(o,s)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(o,s,a)=>j(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(o),this.logContext),["closed","disconnected","failed"].includes(s)&&(this.publisherConnectionPromise=void 0),o===Pr.CONNECTED){let d=this.pcState===Jc.New;this.pcState=Jc.Connected,d&&this.emit(Be.Connected,e)}else o===Pr.FAILED&&this.pcState===Jc.Connected&&(this.pcState=Jc.Disconnected,this.handleDisconnect("peerconnection failed",a==="failed"?Yg.RR_SUBSCRIBER_FAILED:Yg.RR_PUBLISHER_FAILED));let l=this.client.isDisconnected||this.client.currentState===zi.RECONNECTING,c=[Pr.FAILED,Pr.CLOSING,Pr.CLOSED].includes(o);l&&c&&!this._isClosed&&this.emit(Be.Offline)}),this.pcManager.onTrack=o=>{this.emit(Be.MediaTrackAdded,o.track,o.streams[0],o.receiver)},QPe((i=e.serverInfo)===null||i===void 0?void 0:i.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(e,n)=>j(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type})),yield this.pcManager.setPublisherAnswer(e,n))}),this.client.onTrickle=(e,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:n})),this.pcManager.addIceCandidate(e,n))},this.client.onOffer=(e,n)=>j(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;let i=yield this.pcManager.createSubscriberAnswerFromOffer(e,n);i&&this.client.sendAnswer(i,n)}),this.client.onLocalTrackPublished=e=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:(n=e.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[e.cid]){this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));return}let{resolve:i}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],i(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(Be.LocalTrackUnpublished,e)},this.client.onLocalTrackSubscribed=e=>{this.emit(Be.LocalTrackSubscribed,e)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onRemoteMuteChanged=(e,n)=>{this.emit(Be.RemoteMute,e,n)},this.client.onSubscribedQualityUpdate=e=>{this.emit(Be.SubscribedQualityUpdate,e)},this.client.onRoomMoved=e=>{var n;this.participantSid=(n=e.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=e.room),this.emit(Be.RoomMoved,e)},this.client.onClose=()=>{this.handleDisconnect("signal",Yg.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:e?.reason})),e.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions(e.regions)),e.action){case ev.DISCONNECT:this.emit(Be.Disconnected,e?.reason),this.close();break;case ev.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(f4);break;case ev.RESUME:this.handleDisconnect(f4)}}}makeRTCConfiguration(e){var n;let i=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),i.encodedInsertableStreams=!0),e.iceServers&&!i.iceServers){let r=[];e.iceServers.forEach(o=>{let s={urls:o.urls};o.username&&(s.username=o.username),o.credential&&(s.credential=o.credential),r.push(s)}),i.iceServers=r}return e.clientConfiguration&&e.clientConfiguration.forceRelay===jy.ENABLED&&(i.iceTransportPolicy="relay"),i.sdpSemantics="unified-plan",i.continualGatheringPolicy="gather_continually",i}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(ete,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(tte,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(e,n,i){return j(this,void 0,void 0,function*(){if(V4())return yield this.createTransceiverRTCRtpSender(e,n,i);if(H4())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new Dr("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,n,i,r){return j(this,void 0,void 0,function*(){if(V4())return this.createSimulcastTransceiverSender(e,n,i,r);if(H4())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new Dr("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,n,i){return j(this,void 0,void 0,function*(){if(!this.pcManager)throw new Dr("publisher is closed");let r=[];e.mediaStream&&r.push(e.mediaStream),pm(e)&&(e.codec=n.videoCodec);let o={direction:"sendonly",streams:r};return i&&(o.sendEncodings=i),(yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,o)).sender})}createSimulcastTransceiverSender(e,n,i,r){return j(this,void 0,void 0,function*(){if(!this.pcManager)throw new Dr("publisher is closed");let o={direction:"sendonly"};r&&(o.sendEncodings=r);let s=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,o);if(i.videoCodec)return e.setSimulcastTrackSender(i.videoCodec,s.sender),s.sender})}createRTCRtpSender(e){return j(this,void 0,void 0,function*(){if(!this.pcManager)throw new Dr("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){return j(this,void 0,void 0,function*(){var n,i,r;if(!this._isClosed){if(this.attemptingReconnect){un.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===jy.DISABLED||((r=(i=this.pcManager)===null||i===void 0?void 0:i.currentState)!==null&&r!==void 0?r:Pr.NEW)===Pr.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(o){this.reconnectAttempts+=1;let s=!0;o instanceof Dr?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:o})),s=!1):o instanceof pf||(this.fullReconnectOnNext=!0),s?this.handleDisconnect("reconnect",Yg.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(Be.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(e){return j(this,void 0,void 0,function*(){var n,i,r;try{if(!this.url||!this.token)throw new Dr("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(Be.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let o;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new pf;o=yield this.join(e??this.url,this.token,this.signalOpts)}catch(s){throw s instanceof Jn&&s.reason===Cn.NotAllowed?new Dr("could not reconnect, token might be expired"):new pf}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(Be.SignalRestarted,o),yield this.waitForPCReconnected(),this.client.currentState!==zi.CONNECTED)throw new pf("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(Be.Restarted)}catch(o){let s=yield(i=this.regionUrlProvider)===null||i===void 0?void 0:i.getNextBestRegionUrl();if(s){yield this.restartConnection(s);return}else throw(r=this.regionUrlProvider)===null||r===void 0||r.resetAttempts(),o}})}resumeConnection(e){return j(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new Dr("could not reconnect, url or token not saved");if(!this.pcManager)throw new Dr("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(Be.Resuming);let i;try{this.setupSignalClientCallbacks(),i=yield this.client.reconnect(this.url,this.token,this.participantSid,e)}catch(r){let o="";throw r instanceof Error&&(o=r.message,this.log.error(r.message,Object.assign(Object.assign({},this.logContext),{error:r}))),r instanceof Jn&&r.reason===Cn.NotAllowed?new Dr("could not reconnect, token might be expired"):r instanceof Jn&&r.reason===Cn.LeaveRequest?r:new pf(o)}if(this.emit(Be.SignalResumed),i){let r=this.makeRTCConfiguration(i);this.pcManager.updateConfiguration(r),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=i.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==zi.CONNECTED)throw new pf("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),i?.lastMessageSeq&&this.resendReliableMessagesForResume(i.lastMessageSeq),this.emit(Be.Resumed)})}waitForPCInitialConnection(e,n){return j(this,void 0,void 0,function*(){if(!this.pcManager)throw new Dr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,e)})}waitForPCReconnected(){return j(this,void 0,void 0,function*(){this.pcState=Jc.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield $s(VPe),!this.pcManager)throw new Dr("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=Jc.Connected}catch(e){throw this.pcState=Jc.Disconnected,new Jn("could not establish PC connection, ".concat(e.message),Cn.InternalError)}})}publishRpcResponse(e,n,i,r){return j(this,void 0,void 0,function*(){let o=new Qs({destinationIdentities:[e],kind:sn.RELIABLE,value:{case:"rpcResponse",value:new Ite({requestId:n,value:r?{case:"error",value:r.toProto()}:{case:"payload",value:i??""}})}});yield this.sendDataPacket(o,sn.RELIABLE)})}publishRpcAck(e,n){return j(this,void 0,void 0,function*(){let i=new Qs({destinationIdentities:[e],kind:sn.RELIABLE,value:{case:"rpcAck",value:new Tte({requestId:n})}});yield this.sendDataPacket(i,sn.RELIABLE)})}sendDataPacket(e,n){return j(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(n),n===sn.RELIABLE&&(e.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);let i=e.toBinary(),r=this.dataChannelForKind(n);if(r){if(n===sn.RELIABLE&&this.reliableMessageBuffer.push({data:i,sequence:e.sequence}),this.attemptingReconnect)return;r.send(i)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(e){return j(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(sn.RELIABLE);let n=this.dataChannelForKind(sn.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(e),this.reliableMessageBuffer.getAll().forEach(i=>{n.send(i.data)})),this.updateAndEmitDCBufferStatus(sn.RELIABLE)})}waitForBufferStatusLow(e){return new Promise((n,i)=>j(this,void 0,void 0,function*(){if(this.isBufferStatusLow(e))n();else{let r=()=>i("Engine closed");for(this.once(Be.Closing,r);!this.dcBufferStatus.get(e);)yield $s(10);this.off(Be.Closing,r),n()}}))}ensureDataTransportConnected(e){return j(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var o;if(!i.pcManager)throw new Dr("PC manager is closed");let s=r?i.pcManager.subscriber:i.pcManager.publisher,a=r?"Subscriber":"Publisher";if(!s)throw new Jn("".concat(a," connection not set"),Cn.InternalError);let l=!1;!r&&!i.dataChannelForKind(n,r)&&(i.createDataChannels(),l=!0),!l&&!r&&!i.pcManager.publisher.isICEConnected&&i.pcManager.publisher.getICEConnectionState()!=="checking"&&(l=!0),l&&i.negotiate();let c=i.dataChannelForKind(n,r);if(c?.readyState==="open")return;let d=new Date().getTime()+i.peerConnectionTimeout;for(;new Date().getTime()<d;){if(s.isICEConnected&&((o=i.dataChannelForKind(n,r))===null||o===void 0?void 0:o.readyState)==="open")return;yield $s(50)}throw new Jn("could not establish ".concat(a," connection, state: ").concat(s.getICEConnectionState()),Cn.InternalError)}()})}ensurePublisherConnected(e){return j(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(e,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==Pr.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return j(this,void 0,void 0,function*(){return new Promise((e,n)=>j(this,void 0,void 0,function*(){if(!this.pcManager){n(new Gy("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();let i=new AbortController,r=()=>{i.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(Be.Closing,r),this.pcManager.publisher.once(rv.RTPVideoPayloadTypes,o=>{let s=new Map;o.forEach(a=>{let l=a.codec.toLowerCase();YDe(l)&&s.set(a.payload,l)}),this.emit(Be.RTPVideoMapUpdate,s)});try{yield this.pcManager.negotiate(i),e()}catch(o){o instanceof Gy&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",Yg.RR_UNKNOWN),n(o)}finally{this.off(Be.Closing,r)}}))})}dataChannelForKind(e,n){if(n){if(e===sn.LOSSY)return this.lossyDCSub;if(e===sn.RELIABLE)return this.reliableDCSub}else{if(e===sn.LOSSY)return this.lossyDC;if(e===sn.RELIABLE)return this.reliableDC}}sendSyncState(e,n){var i,r;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}let o=this.pcManager.subscriber.getLocalDescription(),s=this.pcManager.subscriber.getRemoteDescription(),a=(r=(i=this.signalOpts)===null||i===void 0?void 0:i.autoSubscribe)!==null&&r!==void 0?r:!0,l=new Array,c=new Array;e.forEach(d=>{d.isDesired!==a&&l.push(d.trackSid),d.isEnabled||c.push(d.trackSid)}),this.client.sendSyncState(new zte({answer:o?eM({sdp:o.sdp,type:o.type}):void 0,offer:s?eM({sdp:s.sdp,type:s.type}):void 0,subscription:new hM({trackSids:l,subscribe:!a,participantTracks:[]}),publishTracks:oPe(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:c,datachannelReceiveStates:this.reliableReceivedState.map((d,u)=>new Gte({publisherSid:u,lastSeq:d}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){let e=[],n=(i,r)=>{i?.id!==void 0&&i.id!==null&&e.push(new Wte({label:i.label,id:i.id,target:r}))};return n(this.dataChannelForKind(sn.LOSSY),Jl.PUBLISHER),n(this.dataChannelForKind(sn.RELIABLE),Jl.PUBLISHER),n(this.dataChannelForKind(sn.LOSSY,!0),Jl.SUBSCRIBER),n(this.dataChannelForKind(sn.RELIABLE,!0),Jl.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&Ca.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){js()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){js()&&window.removeEventListener("online",this.handleBrowserOnLine)}},pf=class extends Error{};function QPe(t){return t!==void 0&&t>13}function jPe(t,e){let n=t.participantIdentity?t.participantIdentity:e.participantIdentity;t.participantIdentity=n,e.participantIdentity=n;let i=t.destinationIdentities.length!==0?t.destinationIdentities:e.destinationIdentities;t.destinationIdentities=i,e.destinationIdentities=i}var Ky=class{constructor(e,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=n}updateToken(e){this.token=e}isCloud(){return j4(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(e){return j(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(e));let n=this.regionSettings.regions.filter(i=>!this.attemptedRegions.find(r=>r.url===i.url));if(n.length>0){let i=n[0];return this.attemptedRegions.push(i),un.debug("next region: ".concat(i.region)),i.url}else return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(e){return j(this,void 0,void 0,function*(){let n=yield fetch("".concat($Pe(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});if(n.ok){let i=yield n.json();return this.lastUpdateAt=Date.now(),i}else throw new Jn("Could not fetch region settings: ".concat(n.statusText),n.status===401?Cn.NotAllowed:Cn.InternalError,n.status)})}setServerReportedRegions(e){this.regionSettings=e,this.lastUpdateAt=Date.now()}};function $Pe(t){return"".concat(t.protocol.replace("ws","http"),"//").concat(t.host,"/settings")}var oM=class{get info(){return this._info}validateBytesReceived(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(typeof this.totalByteSize!="number"||this.totalByteSize===0)){if(e&&this.bytesReceived<this.totalByteSize)throw new id("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),nd.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new id("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),nd.LengthExceeded)}}constructor(e,n,i,r){this.reader=n,this.totalByteSize=i,this._info=e,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=r}},r3=class extends oM{handleChunkReceived(e){var n;this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();let i=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,i)}[Symbol.asyncIterator](){let e=this.reader.getReader(),n=new dl,i=null,r=null;if(this.signal){let s=this.signal;r=()=>{var a;(a=n.reject)===null||a===void 0||a.call(n,s.reason)},s.addEventListener("abort",r),i=s}let o=()=>{e.releaseLock(),i&&r&&i.removeEventListener("abort",r),this.signal=void 0};return{next:()=>j(this,void 0,void 0,function*(){var s,a;try{let{done:l,value:c}=yield Promise.race([e.read(),n.promise,(a=(s=this.outOfBandFailureRejectingFuture)===null||s===void 0?void 0:s.promise)!==null&&a!==void 0?a:new Promise(()=>{})]);return l?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(c),{done:!1,value:c.content})}catch(l){throw o(),l}}),return(){return j(this,void 0,void 0,function*(){return o(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return j(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var i,r,o,s;let a=new Set,l=n.signal?e.withAbortSignal(n.signal):e;try{for(var c=!0,d=ku(l),u;u=yield d.next(),i=u.done,!i;c=!0){s=u.value,c=!1;let p=s;a.add(p)}}catch(p){r={error:p}}finally{try{!c&&!i&&(o=d.return)&&(yield o.call(d))}finally{if(r)throw r.error}}return Array.from(a)}()})}},o3=class extends oM{constructor(e,n,i,r){super(e,n,i,r),this.receivedChunks=new Map}handleChunkReceived(e){var n;let i=$k(e.chunkIndex),r=this.receivedChunks.get(i);if(r&&r.version>e.version)return;this.receivedChunks.set(i,e),this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();let o=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,o)}[Symbol.asyncIterator](){let e=this.reader.getReader(),n=new TextDecoder("utf-8",{fatal:!0}),i=new dl,r=null,o=null;if(this.signal){let a=this.signal;o=()=>{var l;(l=i.reject)===null||l===void 0||l.call(i,a.reason)},a.addEventListener("abort",o),r=a}let s=()=>{e.releaseLock(),r&&o&&r.removeEventListener("abort",o),this.signal=void 0};return{next:()=>j(this,void 0,void 0,function*(){var a,l;try{let{done:c,value:d}=yield Promise.race([e.read(),i.promise,(l=(a=this.outOfBandFailureRejectingFuture)===null||a===void 0?void 0:a.promise)!==null&&l!==void 0?l:new Promise(()=>{})]);if(c)return this.validateBytesReceived(!0),{done:!0,value:void 0};{this.handleChunkReceived(d);let u;try{u=n.decode(d.content)}catch(p){throw new id("Cannot decode datastream chunk ".concat(d.chunkIndex," as text: ").concat(p),nd.DecodeFailed)}return{done:!1,value:u}}}catch(c){throw s(),c}}),return(){return j(this,void 0,void 0,function*(){return s(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return j(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var i,r,o,s;let a="",l=n.signal?e.withAbortSignal(n.signal):e;try{for(var c=!0,d=ku(l),u;u=yield d.next(),i=u.done,!i;c=!0)s=u.value,c=!1,a+=s}catch(p){r={error:p}}finally{try{!c&&!i&&(o=d.return)&&(yield o.call(d))}finally{if(r)throw r.error}}return a}()})}},s3=class{constructor(){this.log=un,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(e,n){if(this.textStreamHandlers.has(e))throw new id('A text stream handler for topic "'.concat(e,'" has already been set.'),nd.HandlerAlreadyRegistered);this.textStreamHandlers.set(e,n)}unregisterTextStreamHandler(e){this.textStreamHandlers.delete(e)}registerByteStreamHandler(e,n){if(this.byteStreamHandlers.has(e))throw new id('A byte stream handler for topic "'.concat(e,'" has already been set.'),nd.HandlerAlreadyRegistered);this.byteStreamHandlers.set(e,n)}unregisterByteStreamHandler(e){this.byteStreamHandlers.delete(e)}clearHandlersAndControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear(),this.byteStreamHandlers.clear(),this.textStreamHandlers.clear()}validateParticipantHasNoActiveDataStreams(e){var n,i,r,o;let s=Array.from(this.textStreamControllers.entries()).filter(l=>l[1].sendingParticipantIdentity===e),a=Array.from(this.byteStreamControllers.entries()).filter(l=>l[1].sendingParticipantIdentity===e);if(s.length>0||a.length>0){let l=new id("Participant ".concat(e," unexpectedly disconnected in the middle of sending data"),nd.AbnormalEnd);for(let[c,d]of a)(i=(n=d.outOfBandFailureRejectingFuture).reject)===null||i===void 0||i.call(n,l),this.byteStreamControllers.delete(c);for(let[c,d]of s)(o=(r=d.outOfBandFailureRejectingFuture).reject)===null||o===void 0||o.call(r,l),this.textStreamControllers.delete(c)}}handleDataStreamPacket(e){return j(this,void 0,void 0,function*(){switch(e.value.case){case"streamHeader":return this.handleStreamHeader(e.value.value,e.participantIdentity);case"streamChunk":return this.handleStreamChunk(e.value.value);case"streamTrailer":return this.handleStreamTrailer(e.value.value);default:throw new Error('DataPacket of value "'.concat(e.value.case,'" is not data stream related!'))}})}handleStreamHeader(e,n){return j(this,void 0,void 0,function*(){var i;if(e.contentHeader.case==="byteHeader"){let r=this.byteStreamHandlers.get(e.topic);if(!r){this.log.debug("ignoring incoming byte stream due to no handler for topic",e.topic);return}let o,s=new dl,a={id:e.streamId,name:(i=e.contentHeader.value.name)!==null&&i!==void 0?i:"unknown",mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:$k(e.timestamp),attributes:e.attributes},l=new ReadableStream({start:c=>{if(o=c,this.textStreamControllers.has(e.streamId))throw new id("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),nd.AlreadyOpened);this.byteStreamControllers.set(e.streamId,{info:a,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:s})}});r(new r3(a,l,$k(e.totalLength),s),{identity:n})}else if(e.contentHeader.case==="textHeader"){let r=this.textStreamHandlers.get(e.topic);if(!r){this.log.debug("ignoring incoming text stream due to no handler for topic",e.topic);return}let o,s=new dl,a={id:e.streamId,mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:Number(e.timestamp),attributes:e.attributes},l=new ReadableStream({start:c=>{if(o=c,this.textStreamControllers.has(e.streamId))throw new id("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),nd.AlreadyOpened);this.textStreamControllers.set(e.streamId,{info:a,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:s})}});r(new o3(a,l,$k(e.totalLength),s),{identity:n})}})}handleStreamChunk(e){let n=this.byteStreamControllers.get(e.streamId);n&&e.content.length>0&&n.controller.enqueue(e);let i=this.textStreamControllers.get(e.streamId);i&&e.content.length>0&&i.controller.enqueue(e)}handleStreamTrailer(e){let n=this.textStreamControllers.get(e.streamId);n&&(n.info.attributes=Object.assign(Object.assign({},n.info.attributes),e.attributes),n.controller.close(),this.textStreamControllers.delete(e.streamId));let i=this.byteStreamControllers.get(e.streamId);i&&(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),e.attributes),i.controller.close(),this.byteStreamControllers.delete(e.streamId))}},sM=class{constructor(e,n,i){this.writableStream=e,this.defaultWriter=e.getWriter(),this.onClose=i,this.info=n}write(e){return this.defaultWriter.write(e)}close(){return j(this,void 0,void 0,function*(){var e;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(e=this.onClose)===null||e===void 0||e.call(this)})}},a3=class extends sM{},l3=class extends sM{},nte=15e3,c3=class{constructor(e,n){this.engine=e,this.log=n}setupEngine(e){this.engine=e}sendText(e,n){return j(this,void 0,void 0,function*(){var i;let r=crypto.randomUUID(),s=new TextEncoder().encode(e).byteLength,a=(i=n?.attachments)===null||i===void 0?void 0:i.map(()=>crypto.randomUUID()),l=new Array(a?a.length+1:1).fill(0),c=(u,p)=>{var g;l[p]=u;let v=l.reduce((b,x)=>b+x,0);(g=n?.onProgress)===null||g===void 0||g.call(n,v)},d=yield this.streamText({streamId:r,totalSize:s,destinationIdentities:n?.destinationIdentities,topic:n?.topic,attachedStreamIds:a,attributes:n?.attributes});return yield d.write(e),c(1,0),yield d.close(),n?.attachments&&a&&(yield Promise.all(n.attachments.map((u,p)=>j(this,void 0,void 0,function*(){return this._sendFile(a[p],u,{topic:n.topic,mimeType:u.type,onProgress:g=>{c(g,p+1)}})})))),d.info})}streamText(e){return j(this,void 0,void 0,function*(){var n,i;let r=(n=e?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),o={id:r,mimeType:"text/plain",timestamp:Date.now(),topic:(i=e?.topic)!==null&&i!==void 0?i:"",size:e?.totalSize,attributes:e?.attributes},s=new w4({streamId:r,mimeType:o.mimeType,topic:o.topic,timestamp:rm(o.timestamp),totalLength:rm(e?.totalSize),attributes:o.attributes,contentHeader:{case:"textHeader",value:new Fte({version:e?.version,attachedStreamIds:e?.attachedStreamIds,replyToStreamId:e?.replyToStreamId,operationType:e?.type==="update"?C4.UPDATE:C4.CREATE})}}),a=e?.destinationIdentities,l=new Qs({destinationIdentities:a,value:{case:"streamHeader",value:s}});yield this.engine.sendDataPacket(l,sn.RELIABLE);let c=0,d=this.engine,u=new WritableStream({write(v){return j(this,void 0,void 0,function*(){for(let b of nPe(v,nte)){yield d.waitForBufferStatusLow(sn.RELIABLE);let x=new E4({content:b,streamId:r,chunkIndex:rm(c)}),T=new Qs({destinationIdentities:a,value:{case:"streamChunk",value:x}});yield d.sendDataPacket(T,sn.RELIABLE),c+=1}})},close(){return j(this,void 0,void 0,function*(){let v=new x4({streamId:r}),b=new Qs({destinationIdentities:a,value:{case:"streamTrailer",value:v}});yield d.sendDataPacket(b,sn.RELIABLE)})},abort(v){console.log("Sink error:",v)}}),p=()=>j(this,void 0,void 0,function*(){yield g.close()});d.once(Be.Closing,p);let g=new a3(u,o,()=>this.engine.off(Be.Closing,p));return g})}sendFile(e,n){return j(this,void 0,void 0,function*(){let i=crypto.randomUUID();return yield this._sendFile(i,e,n),{id:i}})}_sendFile(e,n,i){return j(this,void 0,void 0,function*(){var r;let o=yield this.streamBytes({streamId:e,totalSize:n.size,name:n.name,mimeType:(r=i?.mimeType)!==null&&r!==void 0?r:n.type,topic:i?.topic,destinationIdentities:i?.destinationIdentities}),s=n.stream().getReader();for(;;){let{done:a,value:l}=yield s.read();if(a)break;yield o.write(l)}return yield o.close(),o.info})}streamBytes(e){return j(this,void 0,void 0,function*(){var n,i,r,o,s;let a=(n=e?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),l=e?.destinationIdentities,c={id:a,mimeType:(i=e?.mimeType)!==null&&i!==void 0?i:"application/octet-stream",topic:(r=e?.topic)!==null&&r!==void 0?r:"",timestamp:Date.now(),attributes:e?.attributes,size:e?.totalSize,name:(o=e?.name)!==null&&o!==void 0?o:"unknown"},d=new w4({totalLength:rm((s=c.size)!==null&&s!==void 0?s:0),mimeType:c.mimeType,streamId:a,topic:c.topic,timestamp:rm(Date.now()),attributes:c.attributes,contentHeader:{case:"byteHeader",value:new Nte({name:c.name})}}),u=new Qs({destinationIdentities:l,value:{case:"streamHeader",value:d}});yield this.engine.sendDataPacket(u,sn.RELIABLE);let p=0,g=new Zo,v=this.engine,b=this.log,x=new WritableStream({write(k){return j(this,void 0,void 0,function*(){let U=yield g.lock(),D=0;try{for(;D<k.byteLength;){let N=k.slice(D,D+nte);yield v.waitForBufferStatusLow(sn.RELIABLE);let z=new Qs({destinationIdentities:l,value:{case:"streamChunk",value:new E4({content:N,streamId:a,chunkIndex:rm(p)})}});yield v.sendDataPacket(z,sn.RELIABLE),p+=1,D+=N.byteLength}}finally{U()}})},close(){return j(this,void 0,void 0,function*(){let k=new x4({streamId:a}),U=new Qs({destinationIdentities:l,value:{case:"streamTrailer",value:k}});yield v.sendDataPacket(U,sn.RELIABLE)})},abort(k){b.error("Sink error:",k)}});return new l3(x,c)})}},aM=class extends _e{constructor(e,n,i,r,o){super(e,i,o),this.sid=n,this.receiver=r}get isLocal(){return!1}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?ke.Muted:ke.Unmuted,this))}setMediaStream(e){this.mediaStream=e;let n=i=>{i.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(ke.Ended,this))};e.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return j(this,void 0,void 0,function*(){var e;return!((e=this.receiver)===null||e===void 0)&&e.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(e){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=e:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),N3)),sPe()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){let e=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>e());let i=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(i){let{timestamp:r,rtpTimestamp:o}=i;o&&this.rtpTimestamp!==o&&(this.emit(ke.TimeSyncUpdate,{timestamp:r,rtpTimestamp:o}),this.rtpTimestamp=o)}};e()}},d3=class extends aM{constructor(e,n,i,r,o,s){super(e,n,_e.Kind.Audio,i,s),this.monitorReceiver=()=>j(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}let a=yield this.getReceiverStats();a&&this.prevStats&&this.receiver&&(this._currentBitrate=mM(a,this.prevStats)),this.prevStats=a}),this.audioContext=r,this.webAudioPluginNodes=[],o&&(this.sinkId=o.deviceId)}setVolume(e){var n;for(let i of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(e,0,.1):i.volume=e;sd()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(sd())return 1;let e=0;return this.attachedElements.forEach(n=>{n.volume>e&&(e=n.volume)}),e}setSinkId(e){return j(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(n=>{if(Q4(n))return n.setSinkId(e)}))})}attach(e){let n=this.attachedElements.length===0;return e?super.attach(e):e=super.attach(),this.sinkId&&Q4(e)&&e.setSinkId(this.sinkId).catch(i=>{this.log.error("Failed to set sink id on remote audio track",i,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let n;return e?(n=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,n){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(n.srcObject);let i=this.sourceNode;this.webAudioPluginNodes.forEach(r=>{i.connect(r),i=r}),this.gainNode=e.createGain(),i.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),e.state!=="running"&&e.resume().then(()=>{e.state!=="running"&&this.emit(ke.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(r=>{this.emit(ke.AudioPlaybackFailed,r)})}disconnectWebAudio(){var e,n;(e=this.gainNode)===null||e===void 0||e.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return j(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;let e=yield this.receiver.getStats(),n;return e.forEach(i=>{i.type==="inbound-rtp"&&(n={type:"audio",streamId:i.id,timestamp:i.timestamp,jitter:i.jitter,bytesReceived:i.bytesReceived,concealedSamples:i.concealedSamples,concealmentEvents:i.concealmentEvents,silentConcealedSamples:i.silentConcealedSamples,silentConcealmentEvents:i.silentConcealmentEvents,totalAudioEnergy:i.totalAudioEnergy,totalSamplesDuration:i.totalSamplesDuration})}),n})}},p4=100,u3=class extends aM{constructor(e,n,i,r,o){super(e,n,_e.Kind.Video,i,o),this.elementInfos=[],this.monitorReceiver=()=>j(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}let s=yield this.getReceiverStats();s&&this.prevStats&&this.receiver&&(this._currentBitrate=mM(s,this.prevStats)),this.prevStats=s}),this.debouncedHandleResize=R3(()=>{this.updateDimensions()},p4),this.adaptiveStreamSettings=r}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(n=>{e?nv(this._mediaStreamTrack,n):Zg(this._mediaStreamTrack,n)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===e)===void 0){let n=new h3(e);this.observeElementInfo(n)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===e)===void 0?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}let n=this.elementInfos.filter(i=>i===e);for(let i of n)i.stopObserving();this.elementInfos=this.elementInfos.filter(i=>i!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let n=[];if(e)return this.stopObservingElement(e),super.detach(e);n=super.detach();for(let i of n)this.stopObservingElement(i);return n}getDecoderImplementation(){var e;return(e=this.prevStats)===null||e===void 0?void 0:e.decoderImplementation}getReceiverStats(){return j(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;let e=yield this.receiver.getStats(),n,i="",r=new Map;return e.forEach(o=>{o.type==="inbound-rtp"?(i=o.codecId,n={type:"video",streamId:o.id,framesDecoded:o.framesDecoded,framesDropped:o.framesDropped,framesReceived:o.framesReceived,packetsReceived:o.packetsReceived,packetsLost:o.packetsLost,frameWidth:o.frameWidth,frameHeight:o.frameHeight,pliCount:o.pliCount,firCount:o.firCount,nackCount:o.nackCount,jitter:o.jitter,timestamp:o.timestamp,bytesReceived:o.bytesReceived,decoderImplementation:o.decoderImplementation}):o.type==="codec"&&r.set(o.id,o)}),n&&i!==""&&r.get(i)&&(n.mimeType=r.get(i).mimeType),n})}stopObservingElement(e){let n=this.elementInfos.filter(i=>i.element===e);for(let i of n)this.stopObservingElementInfo(i)}handleAppVisibilityChanged(){let e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return j(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(){var e,n;let i=this.elementInfos.reduce((a,l)=>Math.max(a,l.visibilityChangedAt||0),0),r=!((n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pauseVideoInBackground)!==null&&n!==void 0)||n?this.isInBackground:!1,o=this.elementInfos.some(a=>a.pictureInPicture),s=this.elementInfos.some(a=>a.visible)&&!r||o;if(this.lastVisible!==s){if(!s&&Date.now()-i<p4){Ca.setTimeout(()=>{this.updateVisibility()},p4);return}this.lastVisible=s,this.emit(ke.VisibilityChanged,s,this)}}updateDimensions(){var e,n;let i=0,r=0,o=this.getPixelDensity();for(let s of this.elementInfos){let a=s.width()*o,l=s.height()*o;a+l>i+r&&(i=a,r=l)}((e=this.lastDimensions)===null||e===void 0?void 0:e.width)===i&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===r||(this.lastDimensions={width:i,height:r},this.emit(ke.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;let n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pixelDensity;return n==="screen"?Fee():n||(Fee()>2?2:1)}},h3=class{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,n){this.onVisibilityChanged=i=>{var r;let{target:o,isIntersecting:s}=i;o===this.element&&(this.isIntersecting=s,this.isPiP=Ny(this.element),this.visibilityChangedAt=Date.now(),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this))},this.onEnterPiP=()=>{var i,r,o;(r=(i=window.documentPictureInPicture)===null||i===void 0?void 0:i.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP),this.isPiP=Ny(this.element),(o=this.handleVisibilityChanged)===null||o===void 0||o.call(this)},this.onLeavePiP=()=>{var i;this.isPiP=Ny(this.element),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this)},this.element=e,this.isIntersecting=n??f3(e),this.isPiP=js()&&Ny(e),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var e,n,i;this.isIntersecting=f3(this.element),this.isPiP=Ny(this.element),this.element.handleResize=()=>{var r;(r=this.handleResize)===null||r===void 0||r.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,Lee().observe(this.element),Nee().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(e=window.documentPictureInPicture)===null||e===void 0||e.addEventListener("enter",this.onEnterPiP),(i=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||i===void 0||i.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var e,n,i,r,o;(e=Lee())===null||e===void 0||e.unobserve(this.element),(n=Nee())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(i=window.documentPictureInPicture)===null||i===void 0||i.removeEventListener("enter",this.onEnterPiP),(o=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||o===void 0||o.removeEventListener("pagehide",this.onLeavePiP)}};function Ny(t){var e,n;return document.pictureInPictureElement===t?!0:!((e=window.documentPictureInPicture)===null||e===void 0)&&e.window?f3(t,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window):!1}function f3(t,e){let n=e||window,i=t.offsetTop,r=t.offsetLeft,o=t.offsetWidth,s=t.offsetHeight,{hidden:a}=t,{display:l}=getComputedStyle(t);for(;t.offsetParent;)t=t.offsetParent,i+=t.offsetTop,r+=t.offsetLeft;return i<n.pageYOffset+n.innerHeight&&r<n.pageXOffset+n.innerWidth&&i+s>n.pageYOffset&&r+o>n.pageXOffset&&!a&&l!=="none"}var Xl=class extends dd.EventEmitter{constructor(e,n,i,r){var o;super(),this.metadataMuted=!1,this.encryption=ya.NONE,this.log=un,this.handleMuted=()=>{this.emit(ke.Muted)},this.handleUnmuted=()=>{this.emit(ke.Unmuted)},this.log=Du((o=r?.loggerName)!==null&&o!==void 0?o:cd.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=n,this.trackName=i,this.source=_e.Source.Unknown}setTrack(e){this.track&&(this.track.off(ke.Muted,this.handleMuted),this.track.off(ke.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(ke.Muted,this.handleMuted),e.on(ke.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this)),an(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==ya.NONE}get audioTrack(){if(od(this.track))return this.track}get videoTrack(){if(pm(this.track))return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=_e.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===_e.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}};(function(t){(function(e){e.Desired="desired",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed"})(t.SubscriptionStatus||(t.SubscriptionStatus={})),function(e){e.Allowed="allowed",e.NotAllowed="not_allowed"}(t.PermissionStatus||(t.PermissionStatus={}))})(Xl||(Xl={}));var qy=class extends Xl{get isUpstreamPaused(){var e;return(e=this.track)===null||e===void 0?void 0:e.isUpstreamPaused}constructor(e,n,i,r){super(e,n.sid,n.name,r),this.track=void 0,this.handleTrackEnded=()=>{this.emit(ke.Ended)},this.handleCpuConstrained=()=>{this.track&&pm(this.track)&&this.emit(ke.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(i)}setTrack(e){this.track&&(this.track.off(ke.Ended,this.handleTrackEnded),this.track.off(ke.CpuConstrained,this.handleCpuConstrained)),super.setTrack(e),e&&(e.on(ke.Ended,this.handleTrackEnded),e.on(ke.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return j(this,void 0,void 0,function*(){var e;return(e=this.track)===null||e===void 0?void 0:e.mute()})}unmute(){return j(this,void 0,void 0,function*(){var e;return(e=this.track)===null||e===void 0?void 0:e.unmute()})}pauseUpstream(){return j(this,void 0,void 0,function*(){var e;yield(e=this.track)===null||e===void 0?void 0:e.pauseUpstream()})}resumeUpstream(){return j(this,void 0,void 0,function*(){var e;yield(e=this.track)===null||e===void 0?void 0:e.resumeUpstream()})}getTrackFeatures(){var e;if(od(this.track)){let n=this.track.getSourceTrackSettings(),i=new Set;return n.autoGainControl&&i.add(po.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&i.add(po.TF_ECHO_CANCELLATION),n.noiseSuppression&&i.add(po.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&i.add(po.TF_STEREO),!((e=this.options)===null||e===void 0)&&e.dtx||i.add(po.TF_NO_DTX),this.track.enhancedNoiseCancellation&&i.add(po.TF_ENHANCED_NOISE_CANCELLATION),Array.from(i.values())}else return[]}};function AM(t,e){return j(this,void 0,void 0,function*(){t??(t={});let n=!1,{audioProcessor:i,videoProcessor:r,optionsWithoutProcessor:o}=Rne(t),s=o.audio,a=o.video;if(i&&typeof o.audio=="object"&&(o.audio.processor=i),r&&typeof o.video=="object"&&(o.video.processor=r),t.audio&&typeof o.audio=="object"&&typeof o.audio.deviceId=="string"){let u=o.audio.deviceId;o.audio.deviceId={exact:u},n=!0,s=Object.assign(Object.assign({},o.audio),{deviceId:{ideal:u}})}if(o.video&&typeof o.video=="object"&&typeof o.video.deviceId=="string"){let u=o.video.deviceId;o.video.deviceId={exact:u},n=!0,a=Object.assign(Object.assign({},o.video),{deviceId:{ideal:u}})}(o.audio===!0||typeof o.audio=="object"&&!o.audio.deviceId)&&(o.audio={deviceId:"default"}),o.video===!0?o.video={deviceId:"default"}:typeof o.video=="object"&&!o.video.deviceId&&(o.video.deviceId="default");let l=Dne(o,Fne,Nne),c=P3(l),d=navigator.mediaDevices.getUserMedia(c);o.audio&&(wa.userMediaPromiseMap.set("audioinput",d),d.catch(()=>wa.userMediaPromiseMap.delete("audioinput"))),o.video&&(wa.userMediaPromiseMap.set("videoinput",d),d.catch(()=>wa.userMediaPromiseMap.delete("videoinput")));try{let u=yield d;return yield Promise.all(u.getTracks().map(p=>j(this,void 0,void 0,function*(){let g=p.kind==="audio",v=g?l.audio:l.video;(typeof v=="boolean"||!v)&&(v={});let b,x=g?c.audio:c.video;typeof x!="boolean"&&(b=x);let T=p.getSettings().deviceId;b?.deviceId&&mf(b.deviceId)!==T?b.deviceId=T:b||(b={deviceId:T});let k=IPe(p,b,e);return k.kind===_e.Kind.Video?k.source=_e.Source.Camera:k.kind===_e.Kind.Audio&&(k.source=_e.Source.Microphone),k.mediaStream=u,od(k)&&i?yield k.setProcessor(i):pm(k)&&r&&(yield k.setProcessor(r)),k})))}catch(u){if(!n)throw u;return AM(Object.assign(Object.assign({},t),{audio:s,video:a}),e)}})}function zPe(t){return j(this,void 0,void 0,function*(){return(yield AM({audio:!1,video:t??!0}))[0]})}function GPe(t){return j(this,void 0,void 0,function*(){return(yield AM({audio:t??!0,video:!1}))[0]})}var om=function(t){return t.Excellent="excellent",t.Good="good",t.Poor="poor",t.Lost="lost",t.Unknown="unknown",t}(om||{});function WPe(t){switch(t){case Ly.EXCELLENT:return om.Excellent;case Ly.GOOD:return om.Good;case Ly.POOR:return om.Poor;case Ly.LOST:return om.Lost;default:return om.Unknown}}var lM=class extends dd.EventEmitter{get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions)===null||e===void 0?void 0:e.loggerContextCb)===null||n===void 0?void 0:n.call(e))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(e=>e.isEncrypted)}get isAgent(){var e;return((e=this.permissions)===null||e===void 0?void 0:e.agent)||this.kind===$y.AGENT}get isActive(){var e;return((e=this.participantInfo)===null||e===void 0?void 0:e.state)===Jg.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(e,n,i,r,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:$y.STANDARD;var l;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=om.Unknown,this.log=un,this.log=Du((l=s?.loggerName)!==null&&l!==void 0?l:cd.Participant),this.loggerOptions=s,this.setMaxListeners(100),this.sid=e,this.identity=n,this.name=i,this.metadata=r,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=a,this._attributes=o??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(e){for(let[,n]of this.trackPublications)if(n.source===e)return n}getTrackPublicationByName(e){for(let[,n]of this.trackPublications)if(n.trackName===e)return n}waitUntilActive(){return this.isActive?Promise.resolve():this.activeFuture?this.activeFuture.promise:(this.activeFuture=new dl,this.once(Le.Active,()=>{var e,n;(n=(e=this.activeFuture)===null||e===void 0?void 0:e.resolve)===null||n===void 0||n.call(e),this.activeFuture=void 0}),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;let n=this.getTrackPublication(_e.Source.Camera);return!(!((e=n?.isMuted)!==null&&e!==void 0)||e)}get isMicrophoneEnabled(){var e;let n=this.getTrackPublication(_e.Source.Microphone);return!(!((e=n?.isMuted)!==null&&e!==void 0)||e)}get isScreenShareEnabled(){return!!this.getTrackPublication(_e.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(e){var n;return this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version?!1:(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),this._setAttributes(e.attributes),e.state===Jg.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==Jg.ACTIVE&&this.emit(Le.Active),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,!0)}_setMetadata(e){let n=this.metadata!==e,i=this.metadata;this.metadata=e,n&&this.emit(Le.ParticipantMetadataChanged,i)}_setName(e){let n=this.name!==e;this.name=e,n&&this.emit(Le.ParticipantNameChanged,e)}_setAttributes(e){let n=aPe(this.attributes,e);this._attributes=e,Object.keys(n).length>0&&this.emit(Le.AttributesChanged,n)}setPermissions(e){var n,i,r,o,s,a;let l=this.permissions,c=e.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||e.canSubscribe!==((i=this.permissions)===null||i===void 0?void 0:i.canSubscribe)||e.canPublishData!==((r=this.permissions)===null||r===void 0?void 0:r.canPublishData)||e.hidden!==((o=this.permissions)===null||o===void 0?void 0:o.hidden)||e.recorder!==((s=this.permissions)===null||s===void 0?void 0:s.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((d,u)=>{var p;return d!==((p=this.permissions)===null||p===void 0?void 0:p.canPublishSources[u])})||e.canSubscribeMetrics!==((a=this.permissions)===null||a===void 0?void 0:a.canSubscribeMetrics);return this.permissions=e,c&&this.emit(Le.ParticipantPermissionsChanged,l),c}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(Le.IsSpeakingChanged,e))}setConnectionQuality(e){let n=this._connectionQuality;this._connectionQuality=WPe(e),n!==this._connectionQuality&&this.emit(Le.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var e,n;this.activeFuture&&((n=(e=this.activeFuture).reject)===null||n===void 0||n.call(e,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(e){this.audioContext=e,this.audioTrackPublications.forEach(n=>od(n.track)&&n.track.setAudioContext(e))}addTrackPublication(e){e.on(ke.Muted,()=>{this.emit(Le.TrackMuted,e)}),e.on(ke.Unmuted,()=>{this.emit(Le.TrackUnmuted,e)});let n=e;switch(n.track&&(n.track.sid=e.trackSid),this.trackPublications.set(e.trackSid,e),e.kind){case _e.Kind.Audio:this.audioTrackPublications.set(e.trackSid,e);break;case _e.Kind.Video:this.videoTrackPublications.set(e.trackSid,e);break}}};function KPe(t){var e,n,i;if(!t.participantSid&&!t.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new jte({participantIdentity:(e=t.participantIdentity)!==null&&e!==void 0?e:"",participantSid:(n=t.participantSid)!==null&&n!==void 0?n:"",allTracks:(i=t.allowAll)!==null&&i!==void 0?i:!1,trackSids:t.allowedTrackSids||[]})}var cM=class extends lM{constructor(e,n,i,r,o,s){super(e,n,void 0,void 0,void 0,{loggerName:r.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=ya.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new dl)},this.handleReconnected=()=>{var a,l;(l=(a=this.reconnectFuture)===null||a===void 0?void 0:a.resolve)===null||l===void 0||l.call(a),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var a,l,c,d,u,p;this.reconnectFuture&&(this.reconnectFuture.promise.catch(g=>this.log.warn(g.message,this.logContext)),(l=(a=this.reconnectFuture)===null||a===void 0?void 0:a.reject)===null||l===void 0||l.call(a,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0),this.signalConnectedFuture&&((d=(c=this.signalConnectedFuture).reject)===null||d===void 0||d.call(c,"Got disconnected without signal connected"),this.signalConnectedFuture=void 0),(p=(u=this.activeAgentFuture)===null||u===void 0?void 0:u.reject)===null||p===void 0||p.call(u,"Got disconnected without active agent present"),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=a=>{var l,c;a.participant&&this.updateInfo(a.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new dl),(c=(l=this.signalConnectedFuture).resolve)===null||c===void 0||c.call(l)},this.handleSignalRequestResponse=a=>{let{requestId:l,reason:c,message:d}=a,u=this.pendingSignalRequests.get(l);u&&(c!==k3.OK&&u.reject(new Zk(d,c)),this.pendingSignalRequests.delete(l))},this.handleDataPacket=a=>{switch(a.value.case){case"rpcResponse":let l=a.value.value,c=null,d=null;l.value.case==="payload"?c=l.value.value:l.value.case==="error"&&(d=Yl.fromProto(l.value.value)),this.handleIncomingRpcResponse(l.requestId,c,d);break;case"rpcAck":let u=a.value.value;this.handleIncomingRpcAck(u.requestId);break}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(a=>KPe(a)))},this.onTrackUnmuted=a=>{this.onTrackMuted(a,a.isUpstreamPaused)},this.onTrackMuted=(a,l)=>{if(l===void 0&&(l=!0),!a.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),an(a)));return}this.engine.updateMuteStatus(a.sid,l)},this.onTrackUpstreamPaused=a=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),an(a))),this.onTrackMuted(a,!0)},this.onTrackUpstreamResumed=a=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),an(a))),this.onTrackMuted(a,a.isMuted)},this.onTrackFeatureUpdate=a=>{let l=this.audioTrackPublications.get(a.sid);if(!l){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(a.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(l.trackSid,l.getTrackFeatures())},this.onTrackCpuConstrained=(a,l)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),an(l))),this.emit(Le.LocalTrackCpuConstrained,a,l)},this.handleSubscribedQualityUpdate=a=>j(this,void 0,void 0,function*(){var l,c,d,u,p;if(!(!((p=this.roomOptions)===null||p===void 0)&&p.dynacast))return;let g=this.videoTrackPublications.get(a.trackSid);if(!g){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}));return}if(!g.videoTrack)return;let v=yield g.videoTrack.setPublishingCodecs(a.subscribedCodecs);try{for(var b=!0,x=ku(v),T;T=yield x.next(),l=T.done,!l;b=!0){u=T.value,b=!1;let k=u;LDe(k)&&(this.log.debug("publish ".concat(k," for ").concat(g.videoTrack.sid),Object.assign(Object.assign({},this.logContext),an(g))),yield this.publishAdditionalCodecForTrack(g.videoTrack,k,g.options))}}catch(k){c={error:k}}finally{try{!b&&!l&&(d=x.return)&&(yield d.call(x))}finally{if(c)throw c.error}}}),this.handleLocalTrackUnpublished=a=>{let l=this.trackPublications.get(a.trackSid);if(!l){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}));return}this.unpublishTrack(l.track)},this.handleTrackEnded=a=>j(this,void 0,void 0,function*(){if(a.source===_e.Source.ScreenShare||a.source===_e.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),an(a))),this.unpublishTrack(a);else if(a.isUserProvided)yield a.mute();else if(Su(a)||hf(a))try{if(js())try{let l=yield navigator?.permissions.query({name:a.source===_e.Source.Camera?"camera":"microphone"});if(l&&l.state==="denied")throw this.log.warn("user has revoked access to ".concat(a.source),Object.assign(Object.assign({},this.logContext),an(a))),l.onchange=()=>{l.state!=="denied"&&(a.isMuted||a.restartTrack(),l.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}a.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),an(a))),Su(a)?yield a.restartTrack({deviceId:"default"}):yield a.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),an(a))),yield a.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=i,this.roomOptions=r,this.setupEngine(i),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=o,this.roomOutgoingDataStreamManager=s}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==ya.NONE}getTrackPublication(e){let n=super.getTrackPublication(e);if(n)return n}getTrackPublicationByName(e){let n=super.getTrackPublicationByName(e);if(n)return n}setupEngine(e){var n;this.engine=e,this.engine.on(Be.RemoteMute,(i,r)=>{let o=this.trackPublications.get(i);!o||!o.track||(r?o.mute():o.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(Be.Connected,this.handleReconnected).on(Be.SignalConnected,this.handleSignalConnected).on(Be.SignalRestarted,this.handleReconnected).on(Be.SignalResumed,this.handleReconnected).on(Be.Restarting,this.handleReconnecting).on(Be.Resuming,this.handleReconnecting).on(Be.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(Be.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(Be.Closing,this.handleClosing).on(Be.SignalRequestResponse,this.handleSignalRequestResponse).on(Be.DataPacketReceived,this.handleDataPacket)}setMetadata(e){return j(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:e})})}setName(e){return j(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:e})})}setAttributes(e){return j(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:e})})}requestMetadataUpdate(e){return j(this,arguments,void 0,function(n){var i=this;let{metadata:r,name:o,attributes:s}=n;return function*(){return new Promise((a,l)=>j(i,void 0,void 0,function*(){var c,d;try{let u=!1,p=yield this.engine.client.sendUpdateLocalMetadata((c=r??this.metadata)!==null&&c!==void 0?c:"",(d=o??this.name)!==null&&d!==void 0?d:"",s),g=performance.now();for(this.pendingSignalRequests.set(p,{resolve:a,reject:v=>{l(v),u=!0},values:{name:o,metadata:r,attributes:s}});performance.now()-g<5e3&&!u;){if((!o||this.name===o)&&(!r||this.metadata===r)&&(!s||Object.entries(s).every(v=>{let[b,x]=v;return this.attributes[b]===x||x===""&&!this.attributes[b]}))){this.pendingSignalRequests.delete(p),a();return}yield $s(50)}l(new Zk("Request to update local metadata timed out","TimeoutError"))}catch(u){u instanceof Error&&l(u)}}))}()})}setCameraEnabled(e,n,i){return this.setTrackEnabled(_e.Source.Camera,e,n,i)}setMicrophoneEnabled(e,n,i){return this.setTrackEnabled(_e.Source.Microphone,e,n,i)}setScreenShareEnabled(e,n,i){return this.setTrackEnabled(_e.Source.ScreenShare,e,n,i)}setPermissions(e){let n=this.permissions,i=super.setPermissions(e);return i&&n&&this.emit(Le.ParticipantPermissionsChanged,n),i}setE2EEEnabled(e){return j(this,void 0,void 0,function*(){this.encryptionType=e?ya.GCM:ya.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,n,i,r){return j(this,void 0,void 0,function*(){var o,s;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:n})),this.republishPromise&&(yield this.republishPromise);let a=this.getTrackPublication(e);if(n)if(a)yield a.unmute();else{let l;if(this.pendingPublishing.has(e)){let c=yield this.waitForPendingPublicationOfSource(e);return c||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e})),yield c?.unmute(),c}this.pendingPublishing.add(e);try{switch(e){case _e.Source.Camera:l=yield this.createTracks({video:(o=i)!==null&&o!==void 0?o:!0});break;case _e.Source.Microphone:l=yield this.createTracks({audio:(s=i)!==null&&s!==void 0?s:!0});break;case _e.Source.ScreenShare:l=yield this.createScreenTracks(Object.assign({},i));break;default:throw new ec(e)}}catch(c){throw l?.forEach(d=>{d.stop()}),c instanceof Error&&this.emit(Le.MediaDevicesError,c,W4(e)),this.pendingPublishing.delete(e),c}for(let c of l){let d=Object.assign(Object.assign({},this.roomOptions.publishDefaults),i);e===_e.Source.Microphone&&od(c)&&d.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),c.startPreConnectBuffer())}try{let c=[];for(let u of l)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),an(u))),c.push(this.publishTrack(u,r));[a]=yield Promise.all(c)}catch(c){throw l?.forEach(d=>{d.stop()}),c}finally{this.pendingPublishing.delete(e)}}else if(!a?.track&&this.pendingPublishing.has(e)&&(a=yield this.waitForPendingPublicationOfSource(e),a||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e}))),a&&a.track)if(e===_e.Source.ScreenShare){a=yield this.unpublishTrack(a.track);let l=this.getTrackPublication(_e.Source.ScreenShareAudio);l&&l.track&&this.unpublishTrack(l.track)}else yield a.mute();return a})}enableCameraAndMicrophone(){return j(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(_e.Source.Camera)||this.pendingPublishing.has(_e.Source.Microphone))){this.pendingPublishing.add(_e.Source.Camera),this.pendingPublishing.add(_e.Source.Microphone);try{let e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(_e.Source.Camera),this.pendingPublishing.delete(_e.Source.Microphone)}}})}createTracks(e){return j(this,void 0,void 0,function*(){var n,i;e??(e={});let r=Dne(e,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(i=this.roomOptions)===null||i===void 0?void 0:i.videoCaptureDefaults);try{return(yield AM(r,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(a=>(od(a)&&(this.microphoneError=void 0,a.setAudioContext(this.audioContext),a.source=_e.Source.Microphone,this.emit(Le.AudioStreamAcquired)),pm(a)&&(this.cameraError=void 0,a.source=_e.Source.Camera),a))}catch(o){throw o instanceof Error&&(e.audio&&(this.microphoneError=o),e.video&&(this.cameraError=o)),o}})}createScreenTracks(e){return j(this,void 0,void 0,function*(){if(e===void 0&&(e={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new zy("getDisplayMedia not supported");e.resolution===void 0&&!$De()&&(e.resolution=D3.h1080fps30.resolution);let n=rPe(e),i=yield navigator.mediaDevices.getDisplayMedia(n),r=i.getVideoTracks();if(r.length===0)throw new ec("no video track found");let o=new lv(r[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});o.source=_e.Source.ScreenShare,e.contentHint&&(o.mediaStreamTrack.contentHint=e.contentHint);let s=[o];if(i.getAudioTracks().length>0){this.emit(Le.AudioStreamAcquired);let a=new av(i.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});a.source=_e.Source.ScreenShareAudio,s.push(a)}return s})}publishTrack(e,n){return j(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(e,n)})}publishOrRepublishTrack(e,n){return j(this,arguments,void 0,function(i,r){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function*(){var a,l,c,d;Su(i)&&i.setAudioContext(o.audioContext),yield(a=o.reconnectFuture)===null||a===void 0?void 0:a.promise,o.republishPromise&&!s&&(yield o.republishPromise),iv(i)&&o.pendingPublishPromises.has(i)&&(yield o.pendingPublishPromises.get(i));let u;if(i instanceof MediaStreamTrack)u=i.getConstraints();else{u=i.constraints;let T;switch(i.source){case _e.Source.Microphone:T="audioinput";break;case _e.Source.Camera:T="videoinput"}T&&o.activeDeviceMap.has(T)&&(u=Object.assign(Object.assign({},u),{deviceId:o.activeDeviceMap.get(T)}))}if(i instanceof MediaStreamTrack)switch(i.kind){case"audio":i=new av(i,u,!0,o.audioContext,{loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});break;case"video":i=new lv(i,u,!0,{loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});break;default:throw new ec("unsupported MediaStreamTrack kind ".concat(i.kind))}else i.updateLoggerOptions({loggerName:o.roomOptions.loggerName,loggerContextCb:()=>o.logContext});let p;if(o.trackPublications.forEach(T=>{T.track&&T.track===i&&(p=T)}),p)return o.log.warn("track has already been published, skipping",Object.assign(Object.assign({},o.logContext),an(p))),p;let g="channelCount"in i.mediaStreamTrack.getSettings()&&i.mediaStreamTrack.getSettings().channelCount===2||i.mediaStreamTrack.getConstraints().channelCount===2,v=(l=r?.forceStereo)!==null&&l!==void 0?l:g;v&&(r||(r={}),r.dtx===void 0&&o.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},o.logContext),an(i))),r.red===void 0&&o.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(c=r.dtx)!==null&&c!==void 0||(r.dtx=!1),(d=r.red)!==null&&d!==void 0||(r.red=!1));let b=Object.assign(Object.assign({},o.roomOptions.publishDefaults),r);!GDe()&&o.roomOptions.e2ee&&(o.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},o.logContext)),b.simulcast=!1),b.source&&(i.source=b.source);let x=new Promise((T,k)=>j(o,void 0,void 0,function*(){try{if(this.engine.client.currentState!==zi.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:an(i)}));let U=setTimeout(()=>{k(new Xk("publishing rejected as engine not connected within timeout",408))},15e3);yield this.waitUntilEngineConnected(),clearTimeout(U);let D=yield this.publish(i,b,v);T(D)}else try{let U=yield this.publish(i,b,v);T(U)}catch(U){k(U)}}catch(U){k(U)}}));o.pendingPublishPromises.set(i,x);try{return yield x}catch(T){throw T}finally{o.pendingPublishPromises.delete(i)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new dl),this.signalConnectedFuture.promise}hasPermissionsToPublish(e){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),an(e))),!1;let{canPublish:n,canPublishSources:i}=this.permissions;return n&&(i.length===0||i.map(r=>lPe(r)).includes(e.source))?!0:(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),an(e))),!1)}publish(e,n,i){return j(this,void 0,void 0,function*(){var r,o,s,a,l,c,d,u,p,g;if(!this.hasPermissionsToPublish(e))throw new Xk("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(ee=>iv(e)&&ee.source===e.source)&&e.source!==_e.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),an(e))),n.stopMicTrackOnMute&&od(e)&&(e.stopOnMute=!0),e.source===_e.Source.ScreenShare&&sv()&&(n.simulcast=!1),n.videoCodec==="av1"&&!HDe()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!QDe()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=X4),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(ee=>n.videoCodec===zk(ee.mime))||(n.videoCodec=zk(this.enabledPublishVideoCodecs[0].mime)));let b=n.videoCodec;e.on(ke.Muted,this.onTrackMuted),e.on(ke.Unmuted,this.onTrackUnmuted),e.on(ke.Ended,this.handleTrackEnded),e.on(ke.UpstreamPaused,this.onTrackUpstreamPaused),e.on(ke.UpstreamResumed,this.onTrackUpstreamResumed),e.on(ke.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);let x=[],T=!(!((r=n.dtx)!==null&&r!==void 0)||r),k=e.getSourceTrackSettings();k.autoGainControl&&x.push(po.TF_AUTO_GAIN_CONTROL),k.echoCancellation&&x.push(po.TF_ECHO_CANCELLATION),k.noiseSuppression&&x.push(po.TF_NOISE_SUPPRESSION),k.channelCount&&k.channelCount>1&&x.push(po.TF_STEREO),T&&x.push(po.TF_NO_DTX),Su(e)&&e.hasPreConnectBuffer&&x.push(po.TF_PRECONNECT_BUFFER);let U=new I4({cid:e.mediaStreamTrack.id,name:n.name,type:_e.kindToProto(e.kind),muted:e.isMuted,source:_e.sourceToProto(e.source),disableDtx:T,encryption:this.encryptionType,stereo:i,disableRed:this.isE2EEEnabled||!(!((o=n.red)!==null&&o!==void 0)||o),stream:n?.stream,backupCodecPolicy:n?.backupCodecPolicy,audioFeatures:x}),D;if(e.kind===_e.Kind.Video){let ee={width:0,height:0};try{ee=yield e.waitForDimensions()}catch{let ge=(a=(s=this.roomOptions.videoCaptureDefaults)===null||s===void 0?void 0:s.resolution)!==null&&a!==void 0?a:Jo.h720.resolution;ee={width:ge.width,height:ge.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),an(e)),{dims:ee}))}U.width=ee.width,U.height=ee.height,hf(e)&&(rd(b)&&(e.source===_e.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in e.mediaStreamTrack&&(e.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),an(e))))),n.scalabilityMode=(l=n.scalabilityMode)!==null&&l!==void 0?l:"L3T3_KEY"),U.simulcastCodecs=[new T4({codec:b,cid:e.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:X4}),n.backupCodec&&b!==n.backupCodec.codec&&U.encryption===ya.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),U.simulcastCodecs.push(new T4({codec:n.backupCodec.codec,cid:""})))),D=n3(e.source===_e.Source.ScreenShare,U.width,U.height,n),U.layers=Jee(U.width,U.height,D,rd(n.videoCodec))}else e.kind===_e.Kind.Audio&&(D=[{maxBitrate:(c=n.audioPreset)===null||c===void 0?void 0:c.maxBitrate,priority:(u=(d=n.audioPreset)===null||d===void 0?void 0:d.priority)!==null&&u!==void 0?u:"high",networkPriority:(g=(p=n.audioPreset)===null||p===void 0?void 0:p.priority)!==null&&g!==void 0?g:"high"}]);if(!this.engine||this.engine.isClosed)throw new Dr("cannot publish track when not connected");let N=()=>j(this,void 0,void 0,function*(){var ee,he,ge;if(!this.engine.pcManager)throw new Dr("pcManager is not ready");if(e.sender=yield this.engine.createSender(e,n,D),this.emit(Le.LocalSenderCreated,e.sender,e),hf(e)&&((ee=n.degradationPreference)!==null&&ee!==void 0||(n.degradationPreference=LPe(e)),e.setDegradationPreference(n.degradationPreference)),D)if(sv()&&e.kind===_e.Kind.Audio){let Ee;for(let St of this.engine.pcManager.publisher.getTransceivers())if(St.sender===e.sender){Ee=St;break}Ee&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:Ee,codec:"opus",maxbr:!((he=D[0])===null||he===void 0)&&he.maxBitrate?D[0].maxBitrate/1e3:0})}else e.codec&&rd(e.codec)&&(!((ge=D[0])===null||ge===void 0)&&ge.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:U.cid,codec:e.codec,maxbr:D[0].maxBitrate/1e3});yield this.engine.negotiate()}),z,Z=new Promise((ee,he)=>j(this,void 0,void 0,function*(){var ge;try{z=yield this.engine.addTrack(U),ee(z)}catch(Ee){e.sender&&(!((ge=this.engine.pcManager)===null||ge===void 0)&&ge.publisher)&&(this.engine.pcManager.publisher.removeTrack(e.sender),yield this.engine.negotiate().catch(St=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),an(e)),{error:St}))})),he(Ee)}}));if(this.enabledPublishVideoCodecs.length>0)z=(yield Promise.all([Z,N()]))[0];else{z=yield Z;let ee;if(z.codecs.forEach(he=>{ee===void 0&&(ee=he.mimeType)}),ee&&e.kind===_e.Kind.Video){let he=zk(ee);he!==b&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),an(e)),{codec:he})),n.videoCodec=he,D=n3(e.source===_e.Source.ScreenShare,U.width,U.height,n))}yield N()}let ne=new qy(e.kind,z,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if(ne.on(ke.CpuConstrained,ee=>this.onTrackCpuConstrained(ee,ne)),ne.options=n,e.sid=z.sid,this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:D,trackInfo:z})),hf(e)?e.startMonitor(this.engine.client):Su(e)&&e.startMonitor(),this.addTrackPublication(ne),this.emit(Le.LocalTrackPublished,ne),Su(e)&&z.audioFeatures.includes(po.TF_PRECONNECT_BUFFER)){let ee=e.getPreConnectBuffer(),he=e.getPreConnectBufferMimeType();this.on(Le.LocalTrackSubscribed,ge=>{if(ge.trackSid===z.sid){if(!e.hasPreConnectBuffer){this.log.warn("subscribe event came to late, buffer already closed",this.logContext);return}this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),an(e))),e.stopPreConnectBuffer()}}),ee&&new Promise((Ee,St)=>j(this,void 0,void 0,function*(){var qt,bt,pt,jt,wn,it;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),an(e)));let vn=setTimeout(()=>{St(new Error("agent not active within 10 seconds"))},1e4),qn=yield this.waitUntilActiveAgentPresent();clearTimeout(vn),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),an(e)));let Li=yield this.streamBytes({name:"preconnect-buffer",mimeType:he,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[qn.identity],attributes:{trackId:ne.trackSid,sampleRate:String((wn=k.sampleRate)!==null&&wn!==void 0?wn:"48000"),channels:String((it=k.channelCount)!==null&&it!==void 0?it:"1")}});try{for(var Lt=!0,Pe=ku(ee),Ut;Ut=yield Pe.next(),qt=Ut.done,!qt;Lt=!0){jt=Ut.value,Lt=!1;let Yr=jt;yield Li.write(Yr)}}catch(Yr){bt={error:Yr}}finally{try{!Lt&&!qt&&(pt=Pe.return)&&(yield pt.call(Pe))}finally{if(bt)throw bt.error}}yield Li.close(),Ee()}catch(vn){St(vn)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),an(e)))}).catch(Ee=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),an(e)),{error:Ee}))})}return ne})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,n,i){return j(this,void 0,void 0,function*(){var r;if(this.encryptionType!==ya.NONE)return;let o;if(this.trackPublications.forEach(g=>{g.track&&g.track===e&&(o=g)}),!o)throw new ec("track is not published");if(!hf(e))throw new ec("track is not a video track");let s=Object.assign(Object.assign({},(r=this.roomOptions)===null||r===void 0?void 0:r.publishDefaults),i),a=BPe(e,n,s);if(!a){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),an(e)));return}let l=e.addSimulcastTrack(n,a);if(!l)return;let c=new I4({cid:l.mediaStreamTrack.id,type:_e.kindToProto(e.kind),muted:e.isMuted,source:_e.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:s.videoCodec,cid:l.mediaStreamTrack.id}]});if(c.layers=Jee(c.width,c.height,a),!this.engine||this.engine.isClosed)throw new Dr("cannot publish track when not connected");let d=()=>j(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(e,l,s,a),yield this.engine.negotiate()}),p=(yield Promise.all([this.engine.addTrack(c),d()]))[0];this.log.debug("published ".concat(n," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:a,trackInfo:p}))})}unpublishTrack(e,n){return j(this,void 0,void 0,function*(){var i,r;if(iv(e)){let c=this.pendingPublishPromises.get(e);c&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),an(e))),yield c)}let o=this.getPublicationForTrack(e),s=o?an(o):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),s)),!o||!o.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),s));return}e=o.track,e.off(ke.Muted,this.onTrackMuted),e.off(ke.Unmuted,this.onTrackUnmuted),e.off(ke.Ended,this.handleTrackEnded),e.off(ke.UpstreamPaused,this.onTrackUpstreamPaused),e.off(ke.UpstreamResumed,this.onTrackUpstreamResumed),e.off(ke.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(r=(i=this.roomOptions)===null||i===void 0?void 0:i.stopLocalTrackOnUnpublish)!==null&&r!==void 0?r:!0),n?e.stop():e.stopMonitor();let a=!1,l=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<Pr.FAILED&&l)try{for(let c of this.engine.pcManager.publisher.getTransceivers())c.sender===l&&(c.direction="inactive",a=!0);if(this.engine.removeTrack(l)&&(a=!0),hf(e)){for(let[,c]of e.simulcastCodecs)c.sender&&(this.engine.removeTrack(c.sender)&&(a=!0),c.sender=void 0);e.simulcastCodecs.clear()}}catch(c){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),s),{error:c}))}switch(this.trackPublications.delete(o.trackSid),o.kind){case _e.Kind.Audio:this.audioTrackPublications.delete(o.trackSid);break;case _e.Kind.Video:this.videoTrackPublications.delete(o.trackSid);break}return this.emit(Le.LocalTrackUnpublished,o),o.setTrack(void 0),a&&(yield this.engine.negotiate()),o})}unpublishTracks(e){return j(this,void 0,void 0,function*(){return(yield Promise.all(e.map(i=>this.unpublishTrack(i)))).filter(i=>!!i)})}republishAllTracks(e){return j(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){i.republishPromise&&(yield i.republishPromise),i.republishPromise=new Promise((o,s)=>j(i,void 0,void 0,function*(){try{let a=[];this.trackPublications.forEach(l=>{l.track&&(n&&(l.options=Object.assign(Object.assign({},l.options),n)),a.push(l))}),yield Promise.all(a.map(l=>j(this,void 0,void 0,function*(){let c=l.track;yield this.unpublishTrack(c,!1),r&&!c.isMuted&&c.source!==_e.Source.ScreenShare&&c.source!==_e.Source.ScreenShareAudio&&(Su(c)||hf(c))&&!c.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:l.trackSid})),yield c.restartTrack()),yield this.publishOrRepublishTrack(c,l.options,!0)}))),o()}catch(a){s(a)}finally{this.republishPromise=void 0}})),yield i.republishPromise}()})}publishData(e){return j(this,arguments,void 0,function(n){var i=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){let o=r.reliable?sn.RELIABLE:sn.LOSSY,s=r.destinationIdentities,a=r.topic,l=new Qs({kind:o,value:{case:"user",value:new Ete({participantIdentity:i.identity,payload:n,destinationIdentities:s,topic:a})}});yield i.engine.sendDataPacket(l,o)}()})}publishDtmf(e,n){return j(this,void 0,void 0,function*(){let i=new Qs({kind:sn.RELIABLE,value:{case:"sipDtmf",value:new xte({code:e,digit:n})}});yield this.engine.sendDataPacket(i,sn.RELIABLE)})}sendChatMessage(e,n){return j(this,void 0,void 0,function*(){let i={id:crypto.randomUUID(),message:e,timestamp:Date.now(),attachedFiles:n?.attachments},r=new Qs({value:{case:"chatMessage",value:new y4(Object.assign(Object.assign({},i),{timestamp:Gi.parse(i.timestamp)}))}});return yield this.engine.sendDataPacket(r,sn.RELIABLE),this.emit(Le.ChatMessage,i),i})}editChatMessage(e,n){return j(this,void 0,void 0,function*(){let i=Object.assign(Object.assign({},n),{message:e,editTimestamp:Date.now()}),r=new Qs({value:{case:"chatMessage",value:new y4(Object.assign(Object.assign({},i),{timestamp:Gi.parse(i.timestamp),editTimestamp:Gi.parse(i.editTimestamp)}))}});return yield this.engine.sendDataPacket(r,sn.RELIABLE),this.emit(Le.ChatMessage,i),i})}sendText(e,n){return j(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(e,n)})}streamText(e){return j(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(e)})}sendFile(e,n){return j(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(e,n)})}streamBytes(e){return j(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(e)})}performRpc(e){return j(this,arguments,void 0,function(n){var i=this;let{destinationIdentity:r,method:o,payload:s,responseTimeout:a=1e4}=n;return function*(){return new Promise((c,d)=>j(i,void 0,void 0,function*(){var u,p,g,v;if(F3(s)>Lne){d(Yl.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));return}if(!((p=(u=this.engine.latestJoinResponse)===null||u===void 0?void 0:u.serverInfo)===null||p===void 0)&&p.version&&ad((v=(g=this.engine.latestJoinResponse)===null||g===void 0?void 0:g.serverInfo)===null||v===void 0?void 0:v.version,"1.8.0")<0){d(Yl.builtIn("UNSUPPORTED_SERVER"));return}let b=crypto.randomUUID();yield this.publishRpcRequest(r,b,o,s,a-2e3);let x=setTimeout(()=>{this.pendingAcks.delete(b),d(Yl.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(b),clearTimeout(T)},2e3);this.pendingAcks.set(b,{resolve:()=>{clearTimeout(x)},participantIdentity:r});let T=setTimeout(()=>{this.pendingResponses.delete(b),d(Yl.builtIn("RESPONSE_TIMEOUT"))},a);this.pendingResponses.set(b,{resolve:(k,U)=>{clearTimeout(T),this.pendingAcks.has(b)&&(console.warn("RPC response received before ack",b),this.pendingAcks.delete(b),clearTimeout(x)),U?d(U):c(k??"")},participantIdentity:r})}))}()})}registerRpcMethod(e,n){this.rpcHandlers.has(e)&&this.log.warn("you're overriding the RPC handler for method ".concat(e,", in the future this will throw an error")),this.rpcHandlers.set(e,n)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setTrackSubscriptionPermissions(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(e){let n=this.pendingAcks.get(e);n?(n.resolve(),this.pendingAcks.delete(e)):console.error("Ack received for unexpected RPC request",e)}handleIncomingRpcResponse(e,n,i){let r=this.pendingResponses.get(e);r?(r.resolve(n,i),this.pendingResponses.delete(e)):console.error("Response received for unexpected RPC request",e)}publishRpcRequest(e,n,i,r,o){return j(this,void 0,void 0,function*(){let s=new Qs({destinationIdentities:[e],kind:sn.RELIABLE,value:{case:"rpcRequest",value:new Ste({id:n,method:i,payload:r,responseTimeoutMs:o,version:1})}});yield this.engine.sendDataPacket(s,sn.RELIABLE)})}handleParticipantDisconnected(e){for(let[n,{participantIdentity:i}]of this.pendingAcks)i===e&&this.pendingAcks.delete(n);for(let[n,{participantIdentity:i,resolve:r}]of this.pendingResponses)i===e&&(r(null,Yl.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(e){this.enabledPublishVideoCodecs=e.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(e){return super.updateInfo(e)?(e.tracks.forEach(n=>{var i,r;let o=this.trackPublications.get(n.sid);if(o){let s=o.isMuted||((r=(i=o.track)===null||i===void 0?void 0:i.isUpstreamPaused)!==null&&r!==void 0?r:!1);s!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),an(o)),{mutedOnServer:s})),this.engine.client.sendMuteTrack(n.sid,s))}}),!0):!1}setActiveAgent(e){var n,i,r,o;this.firstActiveAgent=e,e&&!this.firstActiveAgent&&(this.firstActiveAgent=e),e?(i=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||i===void 0||i.call(n,e):(o=(r=this.activeAgentFuture)===null||r===void 0?void 0:r.reject)===null||o===void 0||o.call(r,"Agent disconnected"),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new dl),this.activeAgentFuture.promise)}getPublicationForTrack(e){let n;return this.trackPublications.forEach(i=>{let r=i.track;r&&(e instanceof MediaStreamTrack?(Su(r)||hf(r))&&r.mediaStreamTrack===e&&(n=i):e===r&&(n=i))}),n}waitForPendingPublicationOfSource(e){return j(this,void 0,void 0,function*(){let i=Date.now();for(;Date.now()<i+1e4;){let r=Array.from(this.pendingPublishPromises.entries()).find(o=>{let[s]=o;return s.source===e});if(r)return r[1];yield $s(20)}})}},p3=class extends Xl{constructor(e,n,i,r){super(e,n.sid,n.name,r),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=o=>{this.setTrack(void 0),this.emit(ke.Ended,o)},this.handleVisibilityChange=o=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(o),this.logContext),this.visible=o,this.emitTrackUpdate()},this.handleVideoDimensionsChange=o=>{this.log.debug("adaptivestream video dimensions ".concat(o.width,"x").concat(o.height),this.logContext),this.videoDimensionsAdaptiveStream=o,this.emitTrackUpdate()},this.subscribed=i,this.updateInfo(n)}setSubscribed(e){let n=this.subscriptionStatus,i=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);let r=new hM({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new Mte({participantSid:"",trackSids:[this.trackSid]})]});this.emit(ke.UpdateSubscription,r),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(i)}get subscriptionStatus(){return this.subscribed===!1?Xl.SubscriptionStatus.Unsubscribed:super.isSubscribed?Xl.SubscriptionStatus.Subscribed:Xl.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?Xl.PermissionStatus.Allowed:Xl.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:this.isAdaptiveStream?this.visible:!0}get isLocal(){return!1}setEnabled(e){!this.isManualOperationAllowed()||this.requestedDisabled===!e||(this.requestedDisabled=!e,this.emitTrackUpdate())}setVideoQuality(e){!this.isManualOperationAllowed()||this.requestedMaxQuality===e||(this.requestedMaxQuality=e,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var n,i;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===e.width&&((i=this.requestedVideoDimensions)===null||i===void 0?void 0:i.height)===e.height||(a4(this.track)&&(this.requestedVideoDimensions=e),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&a4(this.track)&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){var e;return(e=this.requestedMaxQuality)!==null&&e!==void 0?e:cl.HIGH}setTrack(e){let n=this.subscriptionStatus,i=this.permissionStatus,r=this.track;r!==e&&(r&&(r.off(ke.VideoDimensionsChanged,this.handleVideoDimensionsChange),r.off(ke.VisibilityChanged,this.handleVisibilityChange),r.off(ke.Ended,this.handleEnded),r.detach(),r.stopMonitor(),this.emit(ke.Unsubscribed,r)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(ke.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(ke.VisibilityChanged,this.handleVisibilityChange),e.on(ke.Ended,this.handleEnded),this.emit(ke.Subscribed,e)),this.emitPermissionUpdateIfChanged(i),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(e){let n=this.subscriptionStatus,i=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(i),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(e){this.emit(ke.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);let n=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):n!==e.muted&&this.emit(e.muted?ke.Muted:ke.Unmuted)}emitSubscriptionUpdateIfChanged(e){let n=this.subscriptionStatus;e!==n&&this.emit(ke.SubscriptionStatusChanged,n,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(ke.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return a4(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){let e=new Lte({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===_e.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)Hee(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){let i=cPe(this.trackInfo,this.requestedMaxQuality);i&&Hee(this.videoDimensionsAdaptiveStream,i)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(e.width=Math.ceil(n.width),e.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),e.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:cl.HIGH})),e.quality=cl.HIGH)}this.emit(ke.UpdateSettings,e)}},Yy=class t extends lM{static fromParticipantInfo(e,n,i){return new t(e,n.sid,n.identity,n.name,n.metadata,n.attributes,i,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(e,n,i,r,o,s,a){let l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:$y.STANDARD;super(n,i||"",r,o,s,a,l),this.signalClient=e,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(ke.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),an(e)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),e.on(ke.UpdateSubscription,n=>{n.participantTracks.forEach(i=>{i.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),e.on(ke.SubscriptionPermissionChanged,n=>{this.emit(Le.TrackSubscriptionPermissionChanged,e,n)}),e.on(ke.SubscriptionStatusChanged,n=>{this.emit(Le.TrackSubscriptionStatusChanged,e,n)}),e.on(ke.Subscribed,n=>{this.emit(Le.TrackSubscribed,n,e)}),e.on(ke.Unsubscribed,n=>{this.emit(Le.TrackUnsubscribed,n,e)}),e.on(ke.SubscriptionFailed,n=>{this.emit(Le.TrackSubscriptionFailed,e.trackSid,n)})}getTrackPublication(e){let n=super.getTrackPublication(e);if(n)return n}getTrackPublicationByName(e){let n=super.getTrackPublicationByName(e);if(n)return n}setVolume(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e.Source.Microphone;this.volumeMap.set(n,e);let i=this.getTrackPublication(n);i&&i.track&&i.track.setVolume(e)}getVolume(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_e.Source.Microphone,n=this.getTrackPublication(e);return n&&n.track?n.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,n,i,r,o,s){let a=this.getTrackPublicationBySid(n);if(a||n.startsWith("TR")||this.trackPublications.forEach(d=>{!a&&e.kind===d.kind.toString()&&(a=d)}),!a){if(s===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(Le.TrackSubscriptionFailed,n);return}s===void 0&&(s=20),setTimeout(()=>{this.addSubscribedMediaTrack(e,n,i,r,o,s-1)},150);return}if(e.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),an(a))),this.emit(Le.TrackSubscriptionFailed,n);return}let l=e.kind==="video",c;return l?c=new u3(e,n,r,o):c=new d3(e,n,r,this.audioContext,this.audioOutput),c.source=a.source,c.isMuted=a.isMuted,c.setMediaStream(i),c.start(),a.setTrack(c),this.volumeMap.has(a.source)&&z4(c)&&od(c)&&c.setVolume(this.volumeMap.get(a.source)),a}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(e){return this.trackPublications.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;let n=new Map,i=new Map;return e.tracks.forEach(r=>{var o,s;let a=this.getTrackPublicationBySid(r.sid);if(a)a.updateInfo(r);else{let l=_e.kindFromProto(r.type);if(!l)return;a=new p3(l,r,(o=this.signalClient.connectOptions)===null||o===void 0?void 0:o.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(s=this.loggerOptions)===null||s===void 0?void 0:s.loggerName}),a.updateInfo(r),i.set(r.sid,a);let c=Array.from(this.trackPublications.values()).find(d=>d.source===a?.source);c&&a.source!==_e.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(a.source),Object.assign(Object.assign({},this.logContext),{oldTrack:an(c),newTrack:an(a)})),this.addTrackPublication(a)}n.set(r.sid,a)}),this.trackPublications.forEach(r=>{n.has(r.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),an(r))),this.unpublishTrack(r.trackSid,!0))}),i.forEach(r=>{this.emit(Le.TrackPublished,r)}),!0}unpublishTrack(e,n){let i=this.trackPublications.get(e);if(!i)return;let{track:r}=i;switch(r&&(r.stop(),i.setTrack(void 0)),this.trackPublications.delete(e),i.kind){case _e.Kind.Audio:this.audioTrackPublications.delete(e);break;case _e.Kind.Video:this.videoTrackPublications.delete(e);break}n&&this.emit(Le.TrackUnpublished,i)}setAudioOutput(e){return j(this,void 0,void 0,function*(){this.audioOutput=e;let n=[];this.audioTrackPublications.forEach(i=>{var r;od(i.track)&&z4(i.track)&&n.push(i.track.setSinkId((r=e.deviceId)!==null&&r!==void 0?r:"default"))}),yield Promise.all(n)})}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:i})),super.emit(e,...i)}},$n=function(t){return t.Disconnected="disconnected",t.Connecting="connecting",t.Connected="connected",t.Reconnecting="reconnecting",t.SignalReconnecting="signalReconnecting",t}($n||{}),qPe=4*1e3,cv=class t extends dd.EventEmitter{constructor(e){var n,i,r,o;if(super(),n=this,this.state=$n.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=un,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(s,a,l)=>j(this,void 0,void 0,function*(){var c;if(!jDe())throw sd()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");let d=yield this.disconnectLock.lock();if(this.state===$n.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),d(),Promise.resolve();if(this.connectFuture)return d(),this.connectFuture.promise;this.setAndEmitConnectionState($n.Connecting),((c=this.regionUrlProvider)===null||c===void 0?void 0:c.getServerUrl().toString())!==s&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),j4(new URL(s))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new Ky(s,a):this.regionUrlProvider.updateToken(a),this.regionUrlProvider.fetchRegionSettings().then(g=>{var v;(v=this.regionUrlProvider)===null||v===void 0||v.setServerReportedRegions(g)}).catch(g=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:g}))}));let u=(g,v,b)=>j(this,void 0,void 0,function*(){var x,T;this.abortController&&this.abortController.abort();let k=new AbortController;this.abortController=k,d?.();try{yield this.attemptConnection(b??s,a,l,k),this.abortController=void 0,g()}catch(U){if(this.regionUrlProvider&&U instanceof Jn&&U.reason!==Cn.Cancelled&&U.reason!==Cn.NotAllowed){let D=null;try{D=yield this.regionUrlProvider.getNextBestRegionUrl((x=this.abortController)===null||x===void 0?void 0:x.signal)}catch(N){if(N instanceof Jn&&(N.status===401||N.reason===Cn.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),v(N);return}}D&&!(!((T=this.abortController)===null||T===void 0)&&T.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(U.message,". Retrying with another region: ").concat(D),this.logContext),this.recreateEngine(),yield u(g,v,D)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,Vee(U)),v(U))}else{let D=tc.UNKNOWN_REASON;U instanceof Jn&&(D=Vee(U)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,D),v(U)}}}),p=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new dl((g,v)=>{u(g,v,p)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(s,a,l,c,d,u)=>j(this,void 0,void 0,function*(){var p,g,v;let b=yield l.join(s,a,{autoSubscribe:c.autoSubscribe,adaptiveStream:typeof d.adaptiveStream=="object"?!0:d.adaptiveStream,maxRetries:c.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:c.websocketTimeout},u.signal),x=b.serverInfo;if(x||(x={version:b.serverVersion,region:b.serverRegion}),this.serverInfo=x,this.log.debug("connected to Livekit Server ".concat(Object.entries(x).map(T=>{let[k,U]=T;return"".concat(k,": ").concat(U)}).join(", ")),{room:(p=b.room)===null||p===void 0?void 0:p.name,roomSid:(g=b.room)===null||g===void 0?void 0:g.sid,identity:(v=b.participant)===null||v===void 0?void 0:v.identity}),!x.version)throw new N4("unknown server version");return x.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),d.dynacast=!1),b}),this.applyJoinResponse=s=>{let a=s.participant;if(this.localParticipant.sid=a.sid,this.localParticipant.identity=a.identity,this.localParticipant.setEnabledPublishCodecs(s.enabledPublishCodecs),this.options.e2ee&&this.e2eeManager)try{this.e2eeManager.setSifTrailer(s.sifTrailer)}catch(l){this.log.error(l instanceof Error?l.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:l}))}this.handleParticipantUpdates([a,...s.otherParticipants]),s.room&&this.handleRoomUpdate(s.room)},this.attemptConnection=(s,a,l,c)=>j(this,void 0,void 0,function*(){var d,u;this.state===$n.Reconnecting||this.isResuming||!((d=this.engine)===null||d===void 0)&&d.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((u=this.regionUrlProvider)===null||u===void 0)&&u.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},B3),l),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{let p=yield this.connectSignal(s,a,this.engine,this.connOptions,this.options,c);this.applyJoinResponse(p),this.setupLocalParticipantEvents(),this.emit(Me.SignalConnected)}catch(p){yield this.engine.close(),this.recreateEngine();let g=new Jn("could not establish signal connection",Cn.ServerUnreachable);throw p instanceof Error&&(g.message="".concat(g.message,": ").concat(p.message)),p instanceof Jn&&(g.reason=p.reason,g.status=p.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:p})),g}if(c.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new Jn("Connection attempt aborted",Cn.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,c)}catch(p){throw yield this.engine.close(),this.recreateEngine(),p}js()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),js()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState($n.Connected),this.emit(Me.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return j(n,[...a],void 0,function(){var c=this;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var u,p,g,v;let b=yield c.disconnectLock.lock();try{if(c.state===$n.Disconnected){c.log.debug("already disconnected",c.logContext);return}c.log.info("disconnect from room",Object.assign({},c.logContext)),(c.state===$n.Connecting||c.state===$n.Reconnecting||c.isResuming)&&(c.log.warn("abort connection attempt",c.logContext),(u=c.abortController)===null||u===void 0||u.abort(),(g=(p=c.connectFuture)===null||p===void 0?void 0:p.reject)===null||g===void 0||g.call(p,new Jn("Client initiated disconnect",Cn.Cancelled)),c.connectFuture=void 0),!((v=c.engine)===null||v===void 0)&&v.client.isDisconnected||(yield c.engine.client.sendLeave()),c.engine&&(yield c.engine.close()),c.handleDisconnect(d,tc.CLIENT_INITIATED),c.engine=void 0}finally{b()}}()})},this.onPageLeave=()=>j(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>j(this,void 0,void 0,function*(){let s=[],a=Ea();if(a&&a.os==="iOS"){let l="livekit-dummy-audio-el",c=document.getElementById(l);if(!c){c=document.createElement("audio"),c.id=l,c.autoplay=!0,c.hidden=!0;let d=s4();d.enabled=!0;let u=new MediaStream([d]);c.srcObject=u,document.addEventListener("visibilitychange",()=>{c&&(c.srcObject=document.hidden?null:u,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(c),this.once(Me.Disconnected,()=>{c?.remove(),c=null})}s.push(c)}this.remoteParticipants.forEach(l=>{l.audioTrackPublications.forEach(c=>{c.track&&c.track.attachedElements.forEach(d=>{s.push(d)})})});try{yield Promise.all([this.acquireAudioContext(),...s.map(l=>(l.muted=!1,l.play()))]),this.handleAudioPlaybackStarted()}catch(l){throw this.handleAudioPlaybackFailed(l),l}}),this.startVideo=()=>j(this,void 0,void 0,function*(){let s=[];for(let a of this.remoteParticipants.values())a.videoTrackPublications.forEach(l=>{var c;(c=l.track)===null||c===void 0||c.attachedElements.forEach(d=>{s.includes(d)||s.push(d)})});yield Promise.all(s.map(a=>a.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(a=>{a.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(let s of this.remoteParticipants.values())this.handleParticipantDisconnected(s.identity,s);this.setAndEmitConnectionState($n.Reconnecting)&&this.emit(Me.Reconnecting)},this.handleSignalRestarted=s=>j(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(s.serverRegion),Object.assign(Object.assign({},this.logContext),{region:s.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(s);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(a){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:a}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:s.serverRegion}))}catch{return}this.setAndEmitConnectionState($n.Connected),this.emit(Me.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=s=>{s.forEach(a=>{var l;if(a.identity===this.localParticipant.identity){this.localParticipant.updateInfo(a);return}a.identity===""&&(a.identity=(l=this.sidToIdentity.get(a.sid))!==null&&l!==void 0?l:"");let c=this.remoteParticipants.get(a.identity);a.state===Jg.DISCONNECTED?this.handleParticipantDisconnected(a.identity,c):c=this.getOrCreateParticipant(a.identity,a)})},this.handleActiveSpeakersUpdate=s=>{let a=[],l={};s.forEach(c=>{if(l[c.sid]=!0,c.sid===this.localParticipant.sid)this.localParticipant.audioLevel=c.level,this.localParticipant.setIsSpeaking(!0),a.push(this.localParticipant);else{let d=this.getRemoteParticipantBySid(c.sid);d&&(d.audioLevel=c.level,d.setIsSpeaking(!0),a.push(d))}}),l[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(c=>{l[c.sid]||(c.audioLevel=0,c.setIsSpeaking(!1))}),this.activeSpeakers=a,this.emitWhenConnected(Me.ActiveSpeakersChanged,a)},this.handleSpeakersChanged=s=>{let a=new Map;this.activeSpeakers.forEach(c=>{let d=this.remoteParticipants.get(c.identity);d&&d.sid!==c.sid||a.set(c.sid,c)}),s.forEach(c=>{let d=this.getRemoteParticipantBySid(c.sid);c.sid===this.localParticipant.sid&&(d=this.localParticipant),d&&(d.audioLevel=c.level,d.setIsSpeaking(c.active),c.active?a.set(c.sid,d):a.delete(c.sid))});let l=Array.from(a.values());l.sort((c,d)=>d.audioLevel-c.audioLevel),this.activeSpeakers=l,this.emitWhenConnected(Me.ActiveSpeakersChanged,l)},this.handleStreamStateUpdate=s=>{s.streamStates.forEach(a=>{let l=this.getRemoteParticipantBySid(a.participantSid);if(!l)return;let c=l.getTrackPublicationBySid(a.trackSid);if(!c||!c.track)return;let d=_e.streamStateFromProto(a.state);d!==c.track.streamState&&(c.track.streamState=d,l.emit(Le.TrackStreamStateChanged,c,c.track.streamState),this.emitWhenConnected(Me.TrackStreamStateChanged,c,c.track.streamState,l))})},this.handleSubscriptionPermissionUpdate=s=>{let a=this.getRemoteParticipantBySid(s.participantSid);if(!a)return;let l=a.getTrackPublicationBySid(s.trackSid);l&&l.setAllowed(s.allowed)},this.handleSubscriptionError=s=>{let a=Array.from(this.remoteParticipants.values()).find(c=>c.trackPublications.has(s.trackSid));if(!a)return;let l=a.getTrackPublicationBySid(s.trackSid);l&&l.setSubscriptionError(s.err)},this.handleDataPacket=s=>{let a=this.remoteParticipants.get(s.participantIdentity);if(s.value.case==="user")this.handleUserPacket(a,s.value.value,s.kind);else if(s.value.case==="transcription")this.handleTranscription(a,s.value.value);else if(s.value.case==="sipDtmf")this.handleSipDtmf(a,s.value.value);else if(s.value.case==="chatMessage")this.handleChatMessage(a,s.value.value);else if(s.value.case==="metrics")this.handleMetrics(s.value.value,a);else if(s.value.case==="streamHeader"||s.value.case==="streamChunk"||s.value.case==="streamTrailer")this.handleDataStream(s);else if(s.value.case==="rpcRequest"){let l=s.value.value;this.handleIncomingRpcRequest(s.participantIdentity,l.id,l.method,l.payload,l.responseTimeoutMs,l.version)}},this.handleUserPacket=(s,a,l)=>{this.emit(Me.DataReceived,a.payload,s,l,a.topic),s?.emit(Le.DataReceived,a.payload,l)},this.handleSipDtmf=(s,a)=>{this.emit(Me.SipDTMFReceived,a,s),s?.emit(Le.SipDTMFReceived,a)},this.handleTranscription=(s,a)=>{let l=a.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(a.transcribedParticipantIdentity),c=l?.trackPublications.get(a.trackId),d=ZDe(a,this.transcriptionReceivedTimes);c?.emit(ke.TranscriptionReceived,d),l?.emit(Le.TranscriptionReceived,d,c),this.emit(Me.TranscriptionReceived,d,l,c)},this.handleChatMessage=(s,a)=>{let l=JDe(a);this.emit(Me.ChatMessage,l,s)},this.handleMetrics=(s,a)=>{this.emit(Me.MetricsReceived,s,a)},this.handleDataStream=s=>{this.incomingDataStreamManager.handleDataStreamPacket(s)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(Me.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=s=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:s})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(Me.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(Me.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(Me.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>j(this,void 0,void 0,function*(){var s;((s=Ea())===null||s===void 0?void 0:s.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(Me.MediaDevicesChanged)}),this.handleRoomUpdate=s=>{let a=this.roomInfo;this.roomInfo=s,a&&a.metadata!==s.metadata&&this.emitWhenConnected(Me.RoomMetadataChanged,s.metadata),a?.activeRecording!==s.activeRecording&&this.emitWhenConnected(Me.RecordingStatusChanged,s.activeRecording)},this.handleConnectionQualityUpdate=s=>{s.updates.forEach(a=>{if(a.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(a.quality);return}let l=this.getRemoteParticipantBySid(a.participantSid);l&&l.setConnectionQuality(a.quality)})},this.onLocalParticipantMetadataChanged=s=>{this.emit(Me.ParticipantMetadataChanged,s,this.localParticipant)},this.onLocalParticipantNameChanged=s=>{this.emit(Me.ParticipantNameChanged,s,this.localParticipant)},this.onLocalAttributesChanged=s=>{this.emit(Me.ParticipantAttributesChanged,s,this.localParticipant)},this.onLocalTrackMuted=s=>{this.emit(Me.TrackMuted,s,this.localParticipant)},this.onLocalTrackUnmuted=s=>{this.emit(Me.TrackUnmuted,s,this.localParticipant)},this.onTrackProcessorUpdate=s=>{var a;(a=s?.onPublish)===null||a===void 0||a.call(s,this)},this.onLocalTrackPublished=s=>j(this,void 0,void 0,function*(){var a,l,c,d,u,p;(a=s.track)===null||a===void 0||a.on(ke.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=s.track)===null||l===void 0||l.on(ke.Restarted,this.onLocalTrackRestarted),(u=(d=(c=s.track)===null||c===void 0?void 0:c.getProcessor())===null||d===void 0?void 0:d.onPublish)===null||u===void 0||u.call(d,this),this.emit(Me.LocalTrackPublished,s,this.localParticipant),Su(s.track)&&(yield s.track.checkForSilence())&&this.emit(Me.LocalAudioSilenceDetected,s);let g=yield(p=s.track)===null||p===void 0?void 0:p.getDeviceId(!1),v=W4(s.source);v&&g&&g!==this.localParticipant.activeDeviceMap.get(v)&&(this.localParticipant.activeDeviceMap.set(v,g),this.emit(Me.ActiveDeviceChanged,v,g))}),this.onLocalTrackUnpublished=s=>{var a,l;(a=s.track)===null||a===void 0||a.off(ke.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=s.track)===null||l===void 0||l.off(ke.Restarted,this.onLocalTrackRestarted),this.emit(Me.LocalTrackUnpublished,s,this.localParticipant)},this.onLocalTrackRestarted=s=>j(this,void 0,void 0,function*(){let a=yield s.getDeviceId(!1),l=W4(s.source);l&&a&&a!==this.localParticipant.activeDeviceMap.get(l)&&(this.log.debug("local track restarted, setting ".concat(l," ").concat(a," active"),this.logContext),this.localParticipant.activeDeviceMap.set(l,a),this.emit(Me.ActiveDeviceChanged,l,a))}),this.onLocalConnectionQualityChanged=s=>{this.emit(Me.ConnectionQualityChanged,s,this.localParticipant)},this.onMediaDevicesError=(s,a)=>{this.emit(Me.MediaDevicesError,s,a)},this.onLocalParticipantPermissionsChanged=s=>{this.emit(Me.ParticipantPermissionsChanged,s,this.localParticipant)},this.onLocalChatMessageSent=s=>{this.emit(Me.ChatMessage,s,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},wPe),e),this.log=Du((i=this.options.loggerName)!==null&&i!==void 0?i:cd.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},Fne),e?.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},Nne),e?.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},CPe),e?.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new s3,this.outgoingDataStreamManager=new c3(this.engine,this.log),this.disconnectLock=new Zo,this.localParticipant=new cM("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",mf(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",mf(this.options.audioCaptureDefaults.deviceId)),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&this.switchActiveDevice("audiooutput",mf(this.options.audioOutput.deviceId)).catch(s=>this.log.warn("Could not set audio output: ".concat(s.message),this.logContext)),this.options.e2ee&&this.setupE2EE(),js()){let s=new AbortController;(o=navigator.mediaDevices)===null||o===void 0||o.addEventListener("devicechange",this.handleDeviceChange,{signal:s.signal}),t.cleanupRegistry&&t.cleanupRegistry.register(this,()=>{s.abort()})}}registerTextStreamHandler(e,n){return this.incomingDataStreamManager.registerTextStreamHandler(e,n)}unregisterTextStreamHandler(e){return this.incomingDataStreamManager.unregisterTextStreamHandler(e)}registerByteStreamHandler(e,n){return this.incomingDataStreamManager.registerByteStreamHandler(e,n)}unregisterByteStreamHandler(e){return this.incomingDataStreamManager.unregisterByteStreamHandler(e)}registerRpcMethod(e,n){if(this.rpcHandlers.has(e))throw Error("RPC handler already registered for method ".concat(e,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(e,n)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setE2EEEnabled(e){return j(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var e;this.options.e2ee&&("e2eeManager"in this.options.e2ee?this.e2eeManager=this.options.e2ee.e2eeManager:this.e2eeManager=new K4(this.options.e2ee),this.e2eeManager.on(sm.ParticipantEncryptionStatusChanged,(n,i)=>{tPe(i)&&(this.isE2EEEnabled=n),this.emit(Me.ParticipantEncryptionStatusChanged,n,i)}),this.e2eeManager.on(sm.EncryptionError,n=>this.emit(Me.EncryptionError,n)),(e=this.e2eeManager)===null||e===void 0||e.setup(this))}get logContext(){var e;return{room:this.name,roomID:(e=this.roomInfo)===null||e===void 0?void 0:e.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return j(this,void 0,void 0,function*(){return this.state===$n.Disconnected?"":this.roomInfo&&this.roomInfo.sid!==""?this.roomInfo.sid:new Promise((e,n)=>{let i=r=>{r.sid!==""&&(this.engine.off(Be.RoomUpdate,i),e(r.sid))};this.engine.on(Be.RoomUpdate,i),this.once(Me.Disconnected,()=>{this.engine.off(Be.RoomUpdate,i),n("Room disconnected before room server id was available")})})})}get name(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:""}get metadata(){var e;return(e=this.roomInfo)===null||e===void 0?void 0:e.metadata}get numParticipants(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new i3(this.options),this.engine.on(Be.ParticipantUpdate,this.handleParticipantUpdates).on(Be.RoomUpdate,this.handleRoomUpdate).on(Be.SpeakersChanged,this.handleSpeakersChanged).on(Be.StreamStateChanged,this.handleStreamStateUpdate).on(Be.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(Be.SubscriptionError,this.handleSubscriptionError).on(Be.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(Be.MediaTrackAdded,(e,n,i)=>{this.onTrackAdded(e,n,i)}).on(Be.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(Be.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(Be.DataPacketReceived,this.handleDataPacket).on(Be.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState($n.SignalReconnecting)&&this.emit(Me.SignalReconnecting)}).on(Be.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState($n.Connected)&&this.emit(Me.Reconnected)}).on(Be.SignalResumed,()=>{this.bufferedEvents=[],(this.state===$n.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(Be.Restarting,this.handleRestarting).on(Be.SignalRestarted,this.handleSignalRestarted).on(Be.Offline,()=>{this.setAndEmitConnectionState($n.Reconnecting)&&this.emit(Me.Reconnecting)}).on(Be.DCBufferStatusChanged,(e,n)=>{this.emit(Me.DCBufferStatusChanged,e,n)}).on(Be.LocalTrackSubscribed,e=>{let n=this.localParticipant.getTrackPublications().find(i=>{let{trackSid:r}=i;return r===e});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(Le.LocalTrackSubscribed,n),this.emitWhenConnected(Me.LocalTrackSubscribed,n,this.localParticipant)}).on(Be.RoomMoved,e=>{this.log.debug("room moved",e),e.room&&this.handleRoomUpdate(e.room),this.remoteParticipants.forEach((n,i)=>{this.handleParticipantDisconnected(i,n)}),this.emit(Me.Moved,e.room.name),e.participant?this.handleParticipantUpdates([e.participant,...e.otherParticipants]):this.handleParticipantUpdates(e.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return wa.getInstance().getDevices(e,n)}prepareConnection(e,n){return j(this,void 0,void 0,function*(){if(this.state===$n.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(j4(new URL(e))&&n){this.regionUrlProvider=new Ky(e,n);let i=yield this.regionUrlProvider.getNextBestRegionUrl();i&&this.state===$n.Disconnected&&(this.regionUrl=i,yield fetch($4(i),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(i),this.logContext))}else yield fetch($4(e),{method:"HEAD"})}catch(i){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:i}))}}})}getParticipantByIdentity(e){return this.localParticipant.identity===e?this.localParticipant:this.remoteParticipants.get(e)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,n){return j(this,void 0,void 0,function*(){let i=()=>{},r;switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":r=new Zc({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":r=new Zc({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":r=new Zc({scenario:{case:"serverLeave",value:!0}});break;case"migration":r=new Zc({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":i=()=>j(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new Zc({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":i=()=>j(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),r=new Zc({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":r=new Zc({scenario:{case:"switchCandidateProtocol",value:e==="force-tls"?2:1}}),i=()=>j(this,void 0,void 0,function*(){let o=this.engine.client.onLeave;o&&o(new fM({reason:tc.CLIENT_INITIATED,action:ev.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");r=new Zc({scenario:{case:"subscriberBandwidth",value:rm(n)}});break;case"leave-full-reconnect":r=new Zc({scenario:{case:"leaveRequestFullReconnect",value:!0}})}r&&(yield this.engine.client.sendSimulateScenario(r),yield i())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,n){return j(this,arguments,void 0,function(i,r){var o=this;let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function*(){var a,l,c,d,u,p,g;let v=!0,b=!1,x=s?{exact:r}:r;if(i==="audioinput"){b=o.localParticipant.audioTrackPublications.size===0;let T=(a=o.getActiveDevice(i))!==null&&a!==void 0?a:o.options.audioCaptureDefaults.deviceId;o.options.audioCaptureDefaults.deviceId=x;let k=Array.from(o.localParticipant.audioTrackPublications.values()).filter(D=>D.source===_e.Source.Microphone);try{v=(yield Promise.all(k.map(D=>{var N;return(N=D.audioTrack)===null||N===void 0?void 0:N.setDeviceId(x)}))).every(D=>D===!0)}catch(D){throw o.options.audioCaptureDefaults.deviceId=T,D}let U=k.some(D=>{var N,z;return(z=(N=D.track)===null||N===void 0?void 0:N.isMuted)!==null&&z!==void 0?z:!1});v&&U&&(b=!0)}else if(i==="videoinput"){b=o.localParticipant.videoTrackPublications.size===0;let T=(l=o.getActiveDevice(i))!==null&&l!==void 0?l:o.options.videoCaptureDefaults.deviceId;o.options.videoCaptureDefaults.deviceId=x;let k=Array.from(o.localParticipant.videoTrackPublications.values()).filter(D=>D.source===_e.Source.Camera);try{v=(yield Promise.all(k.map(D=>{var N;return(N=D.videoTrack)===null||N===void 0?void 0:N.setDeviceId(x)}))).every(D=>D===!0)}catch(D){throw o.options.videoCaptureDefaults.deviceId=T,D}let U=k.some(D=>{var N,z;return(z=(N=D.track)===null||N===void 0?void 0:N.isMuted)!==null&&z!==void 0?z:!1});v&&U&&(b=!0)}else if(i==="audiooutput"){if(b=!0,!Q4()&&!o.options.webAudioMix||o.options.webAudioMix&&o.audioContext&&!("setSinkId"in o.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");o.options.webAudioMix&&(r=(c=yield wa.getInstance().normalizeDeviceId("audiooutput",r))!==null&&c!==void 0?c:""),(d=(g=o.options).audioOutput)!==null&&d!==void 0||(g.audioOutput={});let T=(u=o.getActiveDevice(i))!==null&&u!==void 0?u:o.options.audioOutput.deviceId;o.options.audioOutput.deviceId=r;try{o.options.webAudioMix&&((p=o.audioContext)===null||p===void 0||p.setSinkId(r)),yield Promise.all(Array.from(o.remoteParticipants.values()).map(k=>k.setAudioOutput({deviceId:r})))}catch(k){throw o.options.audioOutput.deviceId=T,k}}return b&&(o.localParticipant.activeDeviceMap.set(i,r),o.emit(Me.ActiveDeviceChanged,i,r)),v}()})}setupLocalParticipantEvents(){this.localParticipant.on(Le.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(Le.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(Le.AttributesChanged,this.onLocalAttributesChanged).on(Le.TrackMuted,this.onLocalTrackMuted).on(Le.TrackUnmuted,this.onLocalTrackUnmuted).on(Le.LocalTrackPublished,this.onLocalTrackPublished).on(Le.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(Le.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(Le.MediaDevicesError,this.onMediaDevicesError).on(Le.AudioStreamAcquired,this.startAudio).on(Le.ChatMessage,this.onLocalChatMessageSent).on(Le.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;(e=this.engine)===null||e===void 0||e.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,n,i){if(this.state===$n.Connecting||this.state===$n.Reconnecting){let d=()=>{this.onTrackAdded(e,n,i),u()},u=()=>{this.off(Me.Reconnected,d),this.off(Me.Connected,d),this.off(Me.Disconnected,u)};this.once(Me.Reconnected,d),this.once(Me.Connected,d),this.once(Me.Disconnected,u);return}if(this.state===$n.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}if(e.readyState==="ended"){this.log.info("skipping incoming track as it already ended",this.logContext);return}let r=VDe(n.id),o=r[0],s=r[1],a=e.id;if(s&&s.startsWith("TR")&&(a=s),o===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}let l=Array.from(this.remoteParticipants.values()).find(d=>d.sid===o);if(!l){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(o),this.logContext);return}let c;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?c=this.options.adaptiveStream:c={}),l.addSubscribedMediaTrack(e,a,n,i,c)}handleDisconnect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var i;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearHandlersAndControllers(),this.state!==$n.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach(r=>{r.trackPublications.forEach(o=>{r.unpublishTrack(o.trackSid)})}),this.localParticipant.trackPublications.forEach(r=>{var o,s,a;r.track&&this.localParticipant.unpublishTrack(r.track,e),e?((o=r.track)===null||o===void 0||o.detach(),(s=r.track)===null||s===void 0||s.stop()):(a=r.track)===null||a===void 0||a.stopMonitor()}),this.localParticipant.off(Le.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(Le.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(Le.AttributesChanged,this.onLocalAttributesChanged).off(Le.TrackMuted,this.onLocalTrackMuted).off(Le.TrackUnmuted,this.onLocalTrackUnmuted).off(Le.LocalTrackPublished,this.onLocalTrackPublished).off(Le.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(Le.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(Le.MediaDevicesError,this.onMediaDevicesError).off(Le.AudioStreamAcquired,this.startAudio).off(Le.ChatMessage,this.onLocalChatMessageSent).off(Le.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),js()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(i=navigator.mediaDevices)===null||i===void 0||i.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState($n.Disconnected),this.emit(Me.Disconnected,n)}}}handleParticipantDisconnected(e,n){var i;this.remoteParticipants.delete(e),n&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(e),n.trackPublications.forEach(r=>{n.unpublishTrack(r.trackSid,!0)}),this.emit(Me.ParticipantDisconnected,n),n.setDisconnected(),(i=this.localParticipant)===null||i===void 0||i.handleParticipantDisconnected(n.identity))}handleIncomingRpcRequest(e,n,i,r,o,s){return j(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(e,n),s!==1){yield this.engine.publishRpcResponse(e,n,null,Yl.builtIn("UNSUPPORTED_VERSION"));return}let a=this.rpcHandlers.get(i);if(!a){yield this.engine.publishRpcResponse(e,n,null,Yl.builtIn("UNSUPPORTED_METHOD"));return}let l=null,c=null;try{let d=yield a({requestId:n,callerIdentity:e,payload:r,responseTimeout:o});F3(d)>Lne?(l=Yl.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(i))):c=d}catch(d){d instanceof Yl?l=d:(console.warn("Uncaught error returned by RPC handler for ".concat(i,". Returning APPLICATION_ERROR instead."),d),l=Yl.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(e,n,c,l)})}selectDefaultDevices(){return j(this,void 0,void 0,function*(){var e,n,i;let r=wa.getInstance().previousDevices,o=yield wa.getInstance().getDevices(void 0,!1),s=Ea();if(s?.name==="Chrome"&&s.os!=="iOS")for(let l of o){let c=r.find(d=>d.deviceId===l.deviceId);c&&c.label!==""&&c.kind===l.kind&&c.label!==l.label&&this.getActiveDevice(l.kind)==="default"&&this.emit(Me.ActiveDeviceChanged,l.kind,l.deviceId)}let a=["audiooutput","audioinput","videoinput"];for(let l of a){let c=iPe(l),d=this.localParticipant.getTrackPublication(c);if(d&&(!((e=d.track)===null||e===void 0)&&e.isUserProvided))continue;let u=o.filter(g=>g.kind===l),p=this.getActiveDevice(l);if(p===((n=r.filter(g=>g.kind===l)[0])===null||n===void 0?void 0:n.deviceId)&&u.length>0&&((i=u[0])===null||i===void 0?void 0:i.deviceId)!==p){yield this.switchActiveDevice(l,u[0].deviceId);continue}l==="audioinput"&&!Jk()||l==="videoinput"||u.length>0&&!u.find(g=>g.deviceId===this.getActiveDevice(l))&&(l!=="audiooutput"||!Jk())&&(yield this.switchActiveDevice(l,u[0].deviceId))}})}acquireAudioContext(){return j(this,void 0,void 0,function*(){var e,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(e=One())!==null&&e!==void 0?e:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(r=>r.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),$s(200)])}catch(r){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:r}))}let i=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";i!==this.canPlaybackAudio&&(this.audioEnabled=i,this.emit(Me.AudioPlaybackStatusChanged,i))})}createParticipant(e,n){var i;let r;return n?r=Yy.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):r=new Yy(this.engine.client,"",e,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&r.setAudioContext(this.audioContext),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&r.setAudioOutput(this.options.audioOutput).catch(o=>this.log.warn("Could not set audio output: ".concat(o.message),this.logContext)),r}getOrCreateParticipant(e,n){if(this.remoteParticipants.has(e)){let r=this.remoteParticipants.get(e);return n&&r.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),r}let i=this.createParticipant(e,n);return this.remoteParticipants.set(e,i),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(Me.ParticipantConnected,i),i.on(Le.TrackPublished,r=>{this.emitWhenConnected(Me.TrackPublished,r,i)}).on(Le.TrackSubscribed,(r,o)=>{r.kind===_e.Kind.Audio?(r.on(ke.AudioPlaybackStarted,this.handleAudioPlaybackStarted),r.on(ke.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):r.kind===_e.Kind.Video&&(r.on(ke.VideoPlaybackFailed,this.handleVideoPlaybackFailed),r.on(ke.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(Me.TrackSubscribed,r,o,i)}).on(Le.TrackUnpublished,r=>{this.emit(Me.TrackUnpublished,r,i)}).on(Le.TrackUnsubscribed,(r,o)=>{this.emit(Me.TrackUnsubscribed,r,o,i)}).on(Le.TrackMuted,r=>{this.emitWhenConnected(Me.TrackMuted,r,i)}).on(Le.TrackUnmuted,r=>{this.emitWhenConnected(Me.TrackUnmuted,r,i)}).on(Le.ParticipantMetadataChanged,r=>{this.emitWhenConnected(Me.ParticipantMetadataChanged,r,i)}).on(Le.ParticipantNameChanged,r=>{this.emitWhenConnected(Me.ParticipantNameChanged,r,i)}).on(Le.AttributesChanged,r=>{this.emitWhenConnected(Me.ParticipantAttributesChanged,r,i)}).on(Le.ConnectionQualityChanged,r=>{this.emitWhenConnected(Me.ConnectionQualityChanged,r,i)}).on(Le.ParticipantPermissionsChanged,r=>{this.emitWhenConnected(Me.ParticipantPermissionsChanged,r,i)}).on(Le.TrackSubscriptionStatusChanged,(r,o)=>{this.emitWhenConnected(Me.TrackSubscriptionStatusChanged,r,o,i)}).on(Le.TrackSubscriptionFailed,(r,o)=>{this.emit(Me.TrackSubscriptionFailed,r,i,o)}).on(Le.TrackSubscriptionPermissionChanged,(r,o)=>{this.emitWhenConnected(Me.TrackSubscriptionPermissionChanged,r,o,i)}).on(Le.Active,()=>{this.emitWhenConnected(Me.ParticipantActive,i),i.kind===$y.AGENT&&this.localParticipant.setActiveAgent(i)}),n&&i.updateInfo(n),i}sendSyncState(){let e=Array.from(this.remoteParticipants.values()).reduce((i,r)=>(i.push(...r.getTrackPublications()),i),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(e,n)}updateSubscriptions(){for(let e of this.remoteParticipants.values())for(let n of e.videoTrackPublications.values())n.isSubscribed&&ePe(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(e){let n=this.sidToIdentity.get(e);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=Ca.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,tc.STATE_MISMATCH))):e=0},qPe)}clearConnectionReconcile(){this.connectionReconcileInterval&&Ca.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e===this.state?!1:(this.state=e,this.emit(Me.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(e=>{let[n,i]=e;this.emit(n,...i)}),this.bufferedEvents=[]}emitWhenConnected(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(this.state===$n.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([e,i]);else if(this.state===$n.Connected)return this.emit(e,...i);return!1}simulateParticipants(e){return j(this,void 0,void 0,function*(){var n,i;let r=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),o=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new uM({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Gi.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new dm({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(Me.SignalConnected),this.emit(Me.Connected),this.setAndEmitConnectionState($n.Connected),r.video){let s=new qy(_e.Kind.Video,new Xg({source:zr.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Zl.AUDIO,name:"video-dummy"}),new lv(r.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:Uee(160*((n=o.aspectRatios[0])!==null&&n!==void 0?n:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Le.LocalTrackPublished,s)}if(r.audio){let s=new qy(_e.Kind.Audio,new Xg({source:zr.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Zl.AUDIO}),new av(r.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:s4(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(s),this.localParticipant.emit(Le.LocalTrackPublished,s)}for(let s=0;s<o.count-1;s+=1){let a=new dm({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(s),state:Jg.ACTIVE,tracks:[],joinedAt:Gi.parse(Date.now())}),l=this.getOrCreateParticipant(a.identity,a);if(o.video){let c=Uee(160*((i=o.aspectRatios[s%o.aspectRatios.length])!==null&&i!==void 0?i:1),160,!1,!0),d=new Xg({source:zr.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:Zl.AUDIO});l.addSubscribedMediaTrack(c,d.sid,new MediaStream([c]),new RTCRtpReceiver),a.tracks=[...a.tracks,d]}if(o.audio){let c=s4(),d=new Xg({source:zr.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:Zl.AUDIO});l.addSubscribedMediaTrack(c,d.sid,new MediaStream([c]),new RTCRtpReceiver),a.tracks=[...a.tracks,d]}l.updateInfo(a)}})}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];if(e!==Me.ActiveSpeakersChanged&&e!==Me.TranscriptionReceived){let o=Vne(i).filter(s=>s!==void 0);this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:o}))}return super.emit(e,...i)}};cv.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(t=>{t()});function Vne(t){return t.map(e=>{if(e)return Array.isArray(e)?Vne(e):typeof e=="object"?"logContext"in e?e.logContext:void 0:e})}var td=function(t){return t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING",t[t.SKIPPED=2]="SKIPPED",t[t.SUCCESS=3]="SUCCESS",t[t.FAILED=4]="FAILED",t}(td||{}),ld=class extends dd.EventEmitter{constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=td.IDLE,this.logs=[],this.options={},this.url=e,this.token=n,this.name=this.constructor.name,this.room=new cv(i.roomOptions),this.connectOptions=i.connectOptions,this.options=i}run(e){return j(this,void 0,void 0,function*(){if(this.status!==td.IDLE)throw Error("check is running already");this.setStatus(td.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==td.SKIPPED&&this.setStatus(this.isSuccess()?td.SUCCESS:td.FAILED),e&&e(),this.getInfo()})}isSuccess(){return!this.logs.some(e=>e.level==="error")}connect(e){return j(this,void 0,void 0,function*(){return this.room.state===$n.Connected?this.room:(e||(e=this.url),yield this.room.connect(e,this.token,this.connectOptions),this.room)})}disconnect(){return j(this,void 0,void 0,function*(){this.room&&this.room.state!==$n.Disconnected&&(yield this.room.disconnect(),yield new Promise(e=>setTimeout(e,500)))})}skip(){this.setStatus(td.SKIPPED)}switchProtocol(e){return j(this,void 0,void 0,function*(){let n=!1,i=!1;if(this.room.on(Me.Reconnecting,()=>{n=!0}),this.room.once(Me.Reconnected,()=>{i=!0}),this.room.simulateScenario("force-".concat(e)),yield new Promise(o=>setTimeout(o,1e3)),!n)return;let r=Date.now()+1e4;for(;Date.now()<r;){if(i)return;yield $s(100)}throw new Error("Could not reconnect using ".concat(e," protocol after 10 seconds"))})}appendMessage(e){this.logs.push({level:"info",message:e}),this.emit("update",this.getInfo())}appendWarning(e){this.logs.push({level:"warning",message:e}),this.emit("update",this.getInfo())}appendError(e){this.logs.push({level:"error",message:e}),this.emit("update",this.getInfo())}setStatus(e){this.status=e,this.emit("update",this.getInfo())}get engine(){var e;return(e=this.room)===null||e===void 0?void 0:e.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}},m3=class extends ld{get description(){return"Cloud regions"}perform(){return j(this,void 0,void 0,function*(){let e=new Ky(this.url,this.token);if(!e.isCloud()){this.skip();return}let n=[],i=new Set;for(let o=0;o<3;o++){let s=yield e.getNextBestRegionUrl();if(!s)break;if(i.has(s))continue;i.add(s);let a=yield this.checkCloudRegion(s);this.appendMessage("".concat(a.region," RTT: ").concat(a.rtt,"ms, duration: ").concat(a.duration,"ms")),n.push(a)}n.sort((o,s)=>(o.duration-s.duration)*.5+(o.rtt-s.rtt)*.5);let r=n[0];this.bestStats=r,this.appendMessage("best Cloud region: ".concat(r.region))})}getInfo(){let e=super.getInfo();return e.data=this.bestStats,e}checkCloudRegion(e){return j(this,void 0,void 0,function*(){var n,i;yield this.connect(e),this.options.protocol==="tcp"&&(yield this.switchProtocol("tcp"));let r=(n=this.room.serverInfo)===null||n===void 0?void 0:n.region;if(!r)throw new Error("Region not found");let o=yield this.room.localParticipant.streamText({topic:"test"}),s=1e3,l=1e6/s,c="A".repeat(s),d=Date.now();for(let v=0;v<l;v++)yield o.write(c);yield o.close();let u=Date.now(),p=yield(i=this.room.engine.pcManager)===null||i===void 0?void 0:i.publisher.getStats(),g={region:r,rtt:1e4,duration:u-d};return p?.forEach(v=>{v.type==="candidate-pair"&&v.nominated&&(g.rtt=v.currentRoundTripTime*1e3)}),yield this.disconnect(),g})}},m4=1e4,A3=class extends ld{get description(){return"Connection via UDP vs TCP"}perform(){return j(this,void 0,void 0,function*(){let e=yield this.checkConnectionProtocol("udp"),n=yield this.checkConnectionProtocol("tcp");this.bestStats=e,e.qualityLimitationDurations.bandwidth-n.qualityLimitationDurations.bandwidth>.5||(e.packetsLost-n.packetsLost)/e.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=n):this.appendMessage("best connection quality via udp");let i=this.bestStats;this.appendMessage("upstream bitrate: ".concat((i.bitrateTotal/i.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((i.rttTotal/i.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((i.jitterTotal/i.count*1e3).toFixed(2)," ms")),i.packetsLost>0&&this.appendWarning("packets lost: ".concat((i.packetsLost/i.packetsSent*100).toFixed(2),"%")),i.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((i.qualityLimitationDurations.bandwidth/(m4/1e3)*100).toFixed(2),"%")),i.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((i.qualityLimitationDurations.cpu/(m4/1e3)*100).toFixed(2),"%"))})}getInfo(){let e=super.getInfo();return e.data=this.bestStats,e}checkConnectionProtocol(e){return j(this,void 0,void 0,function*(){yield this.connect(),e==="tcp"?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");let n=document.createElement("canvas");n.width=1280,n.height=720;let i=n.getContext("2d");if(!i)throw new Error("Could not get canvas context");let r=0,o=()=>{r=(r+1)%360,i.fillStyle="hsl(".concat(r,", 100%, 50%)"),i.fillRect(0,0,n.width,n.height),requestAnimationFrame(o)};o();let a=n.captureStream(30).getVideoTracks()[0],c=(yield this.room.localParticipant.publishTrack(a,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,d={protocol:e,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},u=setInterval(()=>j(this,void 0,void 0,function*(){let p=yield c.getRTCStatsReport();p?.forEach(g=>{g.type==="outbound-rtp"?(d.packetsSent=g.packetsSent,d.qualityLimitationDurations=g.qualityLimitationDurations,d.bitrateTotal+=g.targetBitrate,d.count++):g.type==="remote-inbound-rtp"&&(d.packetsLost=g.packetsLost,d.rttTotal+=g.roundTripTime,d.jitterTotal+=g.jitter)})}),1e3);return yield new Promise(p=>setTimeout(p,m4)),clearInterval(u),a.stop(),n.remove(),yield this.disconnect(),d})}},g3=class extends ld{get description(){return"Can publish audio"}perform(){return j(this,void 0,void 0,function*(){var e;let n=yield this.connect(),i=yield GPe();if(yield Pne(i,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),n.localParticipant.publishTrack(i),yield new Promise(a=>setTimeout(a,3e3));let o=yield(e=i.sender)===null||e===void 0?void 0:e.getStats();if(!o)throw new Error("Could not get RTCStats");let s=0;if(o.forEach(a=>{a.type==="outbound-rtp"&&(a.kind==="audio"||!a.kind&&a.mediaType==="audio")&&(s=a.packetsSent)}),s===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(s," audio packets"))})}},v3=class extends ld{get description(){return"Can publish video"}perform(){return j(this,void 0,void 0,function*(){var e;let n=yield this.connect(),i=yield zPe();yield this.checkForVideo(i.mediaStreamTrack),n.localParticipant.publishTrack(i),yield new Promise(s=>setTimeout(s,5e3));let r=yield(e=i.sender)===null||e===void 0?void 0:e.getStats();if(!r)throw new Error("Could not get RTCStats");let o=0;if(r.forEach(s=>{s.type==="outbound-rtp"&&(s.kind==="video"||!s.kind&&s.mediaType==="video")&&(o+=s.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," video packets"))})}checkForVideo(e){return j(this,void 0,void 0,function*(){let n=new MediaStream;n.addTrack(e.clone());let i=document.createElement("video");i.srcObject=n,i.muted=!0,yield new Promise(r=>{i.onplay=()=>{setTimeout(()=>{var o,s,a,l;let c=document.createElement("canvas"),d=e.getSettings(),u=(s=(o=d.width)!==null&&o!==void 0?o:i.videoWidth)!==null&&s!==void 0?s:1280,p=(l=(a=d.height)!==null&&a!==void 0?a:i.videoHeight)!==null&&l!==void 0?l:720;c.width=u,c.height=p;let g=c.getContext("2d");g.drawImage(i,0,0);let b=g.getImageData(0,0,c.width,c.height).data,x=!0;for(let T=0;T<b.length;T+=4)if(b[T]!==0||b[T+1]!==0||b[T+2]!==0){x=!1;break}x?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),r()},1e3)},i.play()}),n.getTracks().forEach(r=>r.stop()),i.remove()})}},_3=class extends ld{get description(){return"Resuming connection after interruption"}perform(){return j(this,void 0,void 0,function*(){var e;let n=yield this.connect(),i=!1,r=!1,o,s=new Promise(c=>{setTimeout(c,5e3),o=c}),a=()=>{i=!0};n.on(Me.SignalReconnecting,a).on(Me.Reconnecting,a).on(Me.Reconnected,()=>{r=!0,o(!0)}),(e=n.engine.client.ws)===null||e===void 0||e.close();let l=n.engine.client.onClose;if(l&&l(""),yield s,i){if(!r||n.state!==$n.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}},b3=class extends ld{get description(){return"Can connect via TURN"}perform(){return j(this,void 0,void 0,function*(){var e,n;let i=new Wy,r=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3}),o=!1,s=!1,a=!1;for(let l of r.iceServers)for(let c of l.urls)c.startsWith("turn:")?(s=!0,a=!0):c.startsWith("turns:")&&(s=!0,a=!0,o=!0),c.startsWith("stun:")&&(a=!0);a?s&&!o&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield i.close(),!((n=(e=this.connectOptions)===null||e===void 0?void 0:e.rtcConfig)===null||n===void 0)&&n.iceServers||s?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(l=>setTimeout(l,0)))})}},y3=class extends ld{get description(){return"Establishing WebRTC connection"}perform(){return j(this,void 0,void 0,function*(){let e=!1,n=!1;this.room.on(Me.SignalConnected,()=>{let i=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(r,o)=>{if(r.candidate){let s=new RTCIceCandidate(r),a="".concat(s.protocol," ").concat(s.address,":").concat(s.port," ").concat(s.type);s.address&&(YPe(s.address)?a+=" (private)":s.protocol==="tcp"&&s.tcpType==="passive"?(e=!0,a+=" (passive)"):s.protocol==="udp"&&(n=!0)),this.appendMessage(a)}i&&i(r,o)},this.room.engine.pcManager&&(this.room.engine.pcManager.subscriber.onIceCandidateError=r=>{r instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(r.errorCode," ").concat(r.errorText," ").concat(r.url))})});try{yield this.connect(),un.info("now the room is connected")}catch(i){throw this.appendWarning("ports need to be open on firewall in order to connect."),i}e||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}};function YPe(t){let e=t.split(".");if(e.length===4){if(e[0]==="10")return!0;if(e[0]==="192"&&e[1]==="168")return!0;if(e[0]==="172"){let n=parseInt(e[1],10);if(n>=16&&n<=31)return!0}}return!1}var C3=class extends ld{get description(){return"Connecting to signal connection via WebSocket"}perform(){return j(this,void 0,void 0,function*(){var e,n,i;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let r=new Wy,o=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3});this.appendMessage("Connected to server, version ".concat(o.serverVersion,".")),((e=o.serverInfo)===null||e===void 0?void 0:e.edition)===Pte.Cloud&&(!((n=o.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((i=o.serverInfo)===null||i===void 0?void 0:i.region)),yield r.close()})}},ite=class extends dd.EventEmitter{constructor(e,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=e,this.token=n,this.options=i}getNextCheckId(){let e=this.checkResults.size;return this.checkResults.set(e,{logs:[],status:td.IDLE,name:"",description:""}),e}updateCheck(e,n){this.checkResults.set(e,n),this.emit("checkUpdate",e,n)}isSuccess(){return Array.from(this.checkResults.values()).every(e=>e.status!==td.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(e){return j(this,void 0,void 0,function*(){let n=this.getNextCheckId(),i=new e(this.url,this.token,this.options),r=s=>{this.updateCheck(n,s)};i.on("update",r);let o=yield i.run();return i.off("update",r),o})}checkWebsocket(){return j(this,void 0,void 0,function*(){return this.createAndRunCheck(C3)})}checkWebRTC(){return j(this,void 0,void 0,function*(){return this.createAndRunCheck(y3)})}checkTURN(){return j(this,void 0,void 0,function*(){return this.createAndRunCheck(b3)})}checkReconnect(){return j(this,void 0,void 0,function*(){return this.createAndRunCheck(_3)})}checkPublishAudio(){return j(this,void 0,void 0,function*(){return this.createAndRunCheck(g3)})}checkPublishVideo(){return j(this,void 0,void 0,function*(){return this.createAndRunCheck(v3)})}checkConnectionProtocol(){return j(this,void 0,void 0,function*(){let e=yield this.createAndRunCheck(A3);if(e.data&&"protocol"in e.data){let n=e.data;this.options.protocol=n.protocol}return e})}checkCloudRegion(){return j(this,void 0,void 0,function*(){return this.createAndRunCheck(m3)})}};var Wu=yO(U3());var XPe=function(t){return t.Facebook="Facebook",t.Google="Google",t.Apple="Apple",t}(XPe||{}),Xy=function(t){return t.PreUniStudent="PreUniStudent",t.UniStudent="UniStudent",t.Professional="Professional",t}(Xy||{}),Wr=function(t){return t.RegularUser="RegularUser",t.RoomManager="RoomManager",t.Moderator="Moderator",t.Administrator="Administrator",t}(Wr||{}),ud=function(t){return t.Login="Login",t.Register="Register",t.VerifyEmail="VerifyEmail",t.VerifyPhone="VerifyPhone",t.BasicInfo="BasicInfo",t}(ud||{});var ZPe=function(t){return t.Livekit="Livekit",t}(ZPe||{}),JPe=function(t){return t.Off="Off",t.PodsOnlyAudio="PodsOnlyAudio",t.FullRoomAudio="FullRoomAudio",t}(JPe||{}),V3=function(t){return t.All="All",t.Following="Following",t.Pinning="Pinning",t.Favorites="Favorites",t.PinningMe="Pinning Me",t}(V3||{});var eOe=function(t){return t.RoomEnded="RoomEnded",t.LeftRoom="LeftRoom",t.KickedOut="KickedOut",t.JoinedInAnotherTab="JoinedInAnotherTab",t.Disconnected="Disconnected",t.TimeLimitReached="TimeLimitReached",t}(eOe||{}),io=function(t){return t.H1080="H1080",t.H540="H540",t.H360="H360",t.H216="H216",t}(io||{}),tOe=function(t){return t.LocalVideo="LocalVideo",t.EncouragementToast="EncouragementToast",t.ParticipantListItem="ParticipantListItem",t.MutualPinModal="MutualPinModal",t}(tOe||{}),dv=function(t){return t.MostPins="MostPins",t.IgnorePinCounts="IgnorePinCounts",t}(dv||{}),nOe=function(t){return t.FocusRoom="FocusRoom",t.PrivatePod="PrivatePod",t.PublicPod="PublicPod",t}(nOe||{});var iOe=function(t){return t.ShowNone="ShowNone",t.ShowAll="ShowAll",t.ShowNonJuicy="ShowNonJuicy",t}(iOe||{}),Zy=function(t){return t.Stripe="Stripe",t.Apple="Apple",t.Google="Google",t}(Zy||{}),Af=function(t){return t.Monthly="Monthly",t.Annual="Annual",t}(Af||{}),Pu=function(t){return t.HeaderUpgradeButton="HeaderUpgradeButton",t.HeaderAvatarMenu="HeaderAvatarMenu",t.AdBlockerDetectedBlock="AdBlockerDetectedBlock",t.SessionSummaryPinnedYouInfo="SessionSummaryPinnedYouInfo",t.PaywallFirstShow="PaywallFirstShow",t.PaywallTimer="PaywallTimer",t.InRoomTimeLimitReached="InRoomTimeLimitReached",t.InRoomTimeLimitReachedLite="InRoomTimeLimitReachedLite",t.Superboost="Superboost",t.InRoomTimeLimitWarning="InRoomTimeLimitWarning",t.InRoomTimeLimitWarningLite="InRoomTimeLimitWarningLite",t.MaxPinsReachedToast="MaxPinsReachedToast",t.ShowPodOnTileToast="ShowPodOnTileToast",t.InRoomWhoPinnedYouBlock="InRoomWhoPinnedYouBlock",t.ResolutionChange="ResolutionChange",t.ResolutionChangeLite="ResolutionChangeLite",t.SelectedTasksHistory="SelectedTasksHistory",t.RestoreLostPins="RestoreLostPins",t.PinReasonsChart="PinReasonsChart",t.Channels="Channels",t.MaxPublicGroupCreated="MaxPublicGroupCreated",t.MaxChatsReached="MaxChatsReached",t.MaxFeedItemsReached="MaxFeedItemsReached",t.MaxFavoriteUsersReached="MaxFavoriteUsersReached",t.MaxGroupFeedItemsReached="MaxGroupFeedItemsReached",t.MaxEncouragementsReached="MaxEncouragementsReached",t.PrivacySettings="PrivacySettings",t.ProductPage="ProductPage",t.ProductHeaderButton="ProductHeaderButton",t.FocusRoomTimeLimitReached="FocusRoomTimeLimitReached",t.PinForPin="PinForPin",t.AutoPinFavorites="AutoPinFavorites",t.TwoWayHide="TwoWayHide",t.AutoSortPinnedFavorites="AutoSortPinnedFavorites",t.SortFavoriteParticipants="SortFavoriteParticipants",t.ConnectingSpotify="ConnectingSpotify",t.CreateGroupChat="CreateGroupChat",t.UserActivitySessions="UserActivitySessions",t.FocusPartnersSeeMoreRows="FocusPartnersSeeMoreRows",t.StreakRepair="StreakRepair",t.PricingTestimonials="PricingTestimonialsModal",t}(Pu||{}),rOe=function(t){return t.RemovingAds="RemovingAds",t.InRoomTimeLimit="InRoomTimeLimit",t.Superboost="Superboost",t.MaxPinsReached="MaxPinsReached",t.SeeWhoPinnedYou="SeeWhoPinnedYou",t.ShowPodOnTile="ShowPodOnTile",t.ResolutionChange="ResolutionChange",t.SelectedTasksHistory="SelectedTasksHistory",t.RestoringLostPins="RestoringLostPins",t.PinForPin="PinForPin",t.ReceivingMorePins="ReceivingMorePins",t.RestoringPinsAfterRefresh="RestoringPinsAfterRefresh",t.ReorderingPinnedUsers="ReorderingPinnedUsers",t.SendingMoreDms="SendingMoreDms",t.PostingMoreOnFeed="PostingMoreOnFeed",t}(rOe||{});var mm=function(t){return t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll",t}(mm||{}),ic=function(t){return t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount",t}(ic||{});var H3="-",uv="AMP",Qne="".concat(uv,"_unsent"),gM="$default_instance",Q3="https://api2.amplitude.com/2/httpapi",jne="https://api.eu.amplitude.com/2/httpapi",$ne="https://api2.amplitude.com/batch",zne="https://api.eu.amplitude.com/batch",Gne="utm_campaign",Wne="utm_content",Kne="utm_id",qne="utm_medium",Yne="utm_source",Xne="utm_term",j3="dclid",$3="fbclid",z3="gbraid",G3="gclid",W3="ko_click_id",K3="li_fat_id",q3="msclkid",Y3="rtd_cid",X3="ttclid",Z3="twclid",J3="wbraid";var Am={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var oOe=1e3,vM=function(t){if(Object.keys(t).length>oOe)return!1;for(var e in t){var n=t[e];if(!eV(e,n))return!1}return!0},eV=function(t,e){var n,i;if(typeof t!="string")return!1;if(Array.isArray(e)){var r=!0;try{for(var o=Xt(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(Array.isArray(a))return!1;if(typeof a=="object")r=r&&vM(a);else if(!["number","string"].includes(typeof a))return!1;if(!r)return!1}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}else{if(e==null)return!1;if(typeof e=="object")return vM(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0};var gf=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return xe({},this._properties)},t.prototype.set=function(e,n){return this._safeSet(Ni.SET,e,n),this},t.prototype.setOnce=function(e,n){return this._safeSet(Ni.SET_ONCE,e,n),this},t.prototype.append=function(e,n){return this._safeSet(Ni.APPEND,e,n),this},t.prototype.prepend=function(e,n){return this._safeSet(Ni.PREPEND,e,n),this},t.prototype.postInsert=function(e,n){return this._safeSet(Ni.POSTINSERT,e,n),this},t.prototype.preInsert=function(e,n){return this._safeSet(Ni.PREINSERT,e,n),this},t.prototype.remove=function(e,n){return this._safeSet(Ni.REMOVE,e,n),this},t.prototype.add=function(e,n){return this._safeSet(Ni.ADD,e,n),this},t.prototype.unset=function(e){return this._safeSet(Ni.UNSET,e,H3),this},t.prototype.clearAll=function(){return this._properties={},this._properties[Ni.CLEAR_ALL]=H3,this},t.prototype._safeSet=function(e,n,i){if(this._validate(e,n,i)){var r=this._properties[e];return r===void 0&&(r={},this._properties[e]=r),r[n]=i,this._propertySet.add(n),!0}return!1},t.prototype._validate=function(e,n,i){return this._properties[Ni.CLEAR_ALL]!==void 0||this._propertySet.has(n)?!1:e===Ni.ADD?typeof i=="number":e!==Ni.UNSET&&e!==Ni.REMOVE?eV(n,i):!0},t}();var Ni=function(t){return t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll",t}(Ni||{}),Zne=[Ni.CLEAR_ALL,Ni.UNSET,Ni.SET,Ni.SET_ONCE,Ni.ADD,Ni.APPEND,Ni.PREPEND,Ni.PREINSERT,Ni.POSTINSERT,Ni.REMOVE];var Jne="Event tracked successfully",eie="Unexpected error occurred",tie="Event rejected due to exceeded retry count",nie="Event skipped due to optOut config",iie="Event rejected due to missing API key",rie="Invalid API key",oie="Client not initialized";var mr=function(t){return t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError",t}(mr||{});var Ou=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=mr.Unknown),{event:t,code:e,message:n}};var On=function(){var t="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[t]<"u")return globalThis[t];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var sOe=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,es)},sie=Ln([],Et(Array(256).keys()),!1).map(function(t){return t.toString(16).padStart(2,"0")}),es=function(t){var e,n=On();if(!(!((e=n?.crypto)===null||e===void 0)&&e.getRandomValues))return sOe(t);var i=n.crypto.getRandomValues(new Uint8Array(16));return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Ln([],Et(i.entries()),!1).map(function(r){var o=Et(r,2),s=o[0],a=o[1];return[4,6,8,10].includes(s)?"-".concat(sie[a]):sie[a]}).join("")};var aie=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,n){var i,r;return pe(this,void 0,void 0,function(){return me(this,function(o){switch(o.label){case 0:return this.plugins.some(function(s){return s.name===e.name})?(this.loggerProvider.warn("Plugin with name ".concat(e.name," already exists, skipping registration")),[2]):(e.name===void 0&&(e.name=es(),this.loggerProvider.warn(`Plugin name is undefined. 
      Generating a random UUID for plugin name: `.concat(e.name,`. 
      Set a name for the plugin to prevent it from being added multiple times.`))),e.type=(i=e.type)!==null&&i!==void 0?i:"enrichment",[4,(r=e.setup)===null||r===void 0?void 0:r.call(e,n,this.client)]);case 1:return o.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e,n){var i;return pe(this,void 0,void 0,function(){var r,o;return me(this,function(s){switch(s.label){case 0:return r=this.plugins.findIndex(function(a){return a.name===e}),r===-1?(n.loggerProvider.warn("Plugin with name ".concat(e," does not exist, skipping deregistration")),[2]):(o=this.plugins[r],this.plugins.splice(r,1),[4,(i=o.teardown)===null||i===void 0?void 0:i.call(o)]);case 1:return s.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var n=this.plugins;n.map(function(i){var r;return(r=i.teardown)===null||r===void 0?void 0:r.call(i)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var n=this;return new Promise(function(i){n.queue.push([e,i]),n.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var n=this;this.applying||(this.applying=!0,setTimeout(function(){n.apply(n.queue.shift()).then(function(){n.applying=!1,n.queue.length>0&&n.scheduleApply(0)})},e))},t.prototype.apply=function(e){return pe(this,void 0,void 0,function(){var n,i,r,o,s,a,l,g,v,c,d,u,p,g,v,b,x,T,k,U,D,N;return me(this,function(z){switch(z.label){case 0:if(!e)return[2];n=Et(e,1),i=n[0],r=Et(e,2),o=r[1],this.loggerProvider.log("Timeline.apply: Initial event",i),s=this.plugins.filter(function(Z){return Z.type==="before"}),z.label=1;case 1:z.trys.push([1,6,7,8]),a=Xt(s),l=a.next(),z.label=2;case 2:return l.done?[3,5]:(g=l.value,g.execute?[4,g.execute(xe({},i))]:[3,4]);case 3:if(v=z.sent(),v===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by before plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(i))),o({event:i,code:0,message:""}),[2];i=v,this.loggerProvider.log("Timeline.apply: Event after before plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(i))),z.label=4;case 4:return l=a.next(),[3,2];case 5:return[3,8];case 6:return c=z.sent(),k={error:c},[3,8];case 7:try{l&&!l.done&&(U=a.return)&&U.call(a)}finally{if(k)throw k.error}return[7];case 8:d=this.plugins.filter(function(Z){return Z.type==="enrichment"||Z.type===void 0}),z.label=9;case 9:z.trys.push([9,14,15,16]),u=Xt(d),p=u.next(),z.label=10;case 10:return p.done?[3,13]:(g=p.value,g.execute?[4,g.execute(xe({},i))]:[3,12]);case 11:if(v=z.sent(),v===null)return this.loggerProvider.log("Timeline.apply: Event filtered out by enrichment plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(i))),o({event:i,code:0,message:""}),[2];i=v,this.loggerProvider.log("Timeline.apply: Event after enrichment plugin '".concat(String(g.name),"', event: ").concat(JSON.stringify(i))),z.label=12;case 12:return p=u.next(),[3,10];case 13:return[3,16];case 14:return b=z.sent(),D={error:b},[3,16];case 15:try{p&&!p.done&&(N=u.return)&&N.call(u)}finally{if(D)throw D.error}return[7];case 16:return x=this.plugins.filter(function(Z){return Z.type==="destination"}),this.loggerProvider.log("Timeline.apply: Final event before destinations, event: ".concat(JSON.stringify(i))),T=x.map(function(Z){var ne=xe({},i);return Z.execute(ne).catch(function(ee){return Ou(ne,0,String(ee))})}),Promise.all(T).then(function(Z){var ne=Et(Z,1),ee=ne[0],he=ee||Ou(i,100,"Event not tracked, no destination plugins on the instance");o(he)}),[2]}})})},t.prototype.flush=function(){return pe(this,void 0,void 0,function(){var e,n,i,r=this;return me(this,function(o){switch(o.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return r.apply(s)}))];case 1:return o.sent(),n=this.plugins.filter(function(s){return s.type==="destination"}),i=n.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(i)];case 2:return o.sent(),[2]}})})},t.prototype.onIdentityChanged=function(e){this.plugins.forEach(function(n){var i;(i=n.onIdentityChanged)===null||i===void 0||i.call(n,e)})},t.prototype.onSessionIdChanged=function(e){this.plugins.forEach(function(n){var i;(i=n.onSessionIdChanged)===null||i===void 0||i.call(n,e)})},t.prototype.onOptOutChanged=function(e){this.plugins.forEach(function(n){var i;(i=n.onOptOutChanged)===null||i===void 0||i.call(n,e)})},t}();var lie=function(t,e,n){var i=typeof t=="string"?{event_type:t}:t;return xe(xe(xe({},i),n),e&&{event_properties:e})},Jy=function(t,e){var n=xe(xe({},e),{event_type:ic.IDENTIFY,user_properties:t.getUserProperties()});return n},cie=function(t,e,n,i){var r,o=xe(xe({},i),{event_type:ic.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(r={},r[t]=e,r)});return o},die=function(t,e,n){var i,r=new gf;r.set(t,e);var o=xe(xe({},n),{event_type:ic.IDENTIFY,user_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return o},uie=function(t,e){return xe(xe({},e),{event_type:ic.REVENUE,event_properties:t.getEventProperties()})};var Mo=function(t){return{promise:t||Promise.resolve()}};var tV=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new aie(this),this.name=e}return t.prototype._init=function(e){return pe(this,void 0,void 0,function(){return me(this,function(n){switch(n.label){case 0:return this.config=e,this.timeline.reset(this),this.timeline.loggerProvider=this.config.loggerProvider,[4,this.runQueuedFunctions("q")];case 1:return n.sent(),this.isReady=!0,[2]}})})},t.prototype.runQueuedFunctions=function(e){return pe(this,void 0,void 0,function(){var n,i,r,o,s,a,l,c;return me(this,function(d){switch(d.label){case 0:n=this[e],this[e]=[],d.label=1;case 1:d.trys.push([1,8,9,10]),i=Xt(n),r=i.next(),d.label=2;case 2:return r.done?[3,7]:(o=r.value,s=o(),s&&"promise"in s?[4,s.promise]:[3,4]);case 3:return d.sent(),[3,6];case 4:return[4,s];case 5:d.sent(),d.label=6;case 6:return r=i.next(),[3,2];case 7:return[3,10];case 8:return a=d.sent(),l={error:a},[3,10];case 9:try{r&&!r.done&&(c=i.return)&&c.call(i)}finally{if(l)throw l.error}return[7];case 10:return this[e].length?[4,this.runQueuedFunctions(e)]:[3,12];case 11:d.sent(),d.label=12;case 12:return[2]}})})},t.prototype.track=function(e,n,i){var r=lie(e,n,i);return Mo(this.dispatch(r))},t.prototype.identify=function(e,n){var i=Jy(e,n);return Mo(this.dispatch(i))},t.prototype.groupIdentify=function(e,n,i,r){var o=cie(e,n,i,r);return Mo(this.dispatch(o))},t.prototype.setGroup=function(e,n,i){var r=die(e,n,i);return Mo(this.dispatch(r))},t.prototype.revenue=function(e,n){var i=uie(e,n);return Mo(this.dispatch(i))},t.prototype.add=function(e){return this.isReady?this._addPlugin(e):(this.q.push(this._addPlugin.bind(this,e)),Mo())},t.prototype._addPlugin=function(e){return Mo(this.timeline.register(e,this.config))},t.prototype.remove=function(e){return this.isReady?this._removePlugin(e):(this.q.push(this._removePlugin.bind(this,e)),Mo())},t.prototype._removePlugin=function(e){return Mo(this.timeline.deregister(e,this.config))},t.prototype.dispatchWithCallback=function(e,n){if(!this.isReady)return n(Ou(e,0,oie));this.process(e).then(n)},t.prototype.dispatch=function(e){return pe(this,void 0,void 0,function(){var n=this;return me(this,function(i){return this.isReady?[2,this.process(e)]:[2,new Promise(function(r){n.dispatchQ.push(n.dispatchWithCallback.bind(n,e,r))})]})})},t.prototype.getOperationAppliedUserProperties=function(e){var n={};if(e===void 0)return n;var i={};return Object.keys(e).forEach(function(r){Object.values(mm).includes(r)||(i[r]=e[r])}),Zne.forEach(function(r){if(Object.keys(e).includes(r)){var o=e[r];switch(r){case mm.CLEAR_ALL:Object.keys(n).forEach(function(s){delete n[s]});break;case mm.UNSET:Object.keys(o).forEach(function(s){delete n[s]});break;case mm.SET:Object.assign(n,o);break}}}),Object.assign(n,i),n},t.prototype.process=function(e){return pe(this,void 0,void 0,function(){var n,o,i,r,o;return me(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.config.optOut?[2,Ou(e,0,nie)]:(e.event_type===ic.IDENTIFY&&(n=this.getOperationAppliedUserProperties(e.user_properties),this.timeline.onIdentityChanged({userProperties:n})),[4,this.timeline.push(e)]);case 1:return o=s.sent(),o.code===200?this.config.loggerProvider.log(o.message):o.code===100?this.config.loggerProvider.warn(o.message):this.config.loggerProvider.error(o.message),[2,o];case 2:return i=s.sent(),r=String(i),this.config.loggerProvider.error(r),o=Ou(e,0,r),[2,o];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!e));return}this._setOptOut(e)},t.prototype._setOptOut=function(e){this.config.optOut!==e&&(this.timeline.onOptOutChanged(e),this.config.optOut=!!e)},t.prototype.flush=function(){return Mo(this.timeline.flush())},t.prototype.plugin=function(e){var n=this.timeline.plugins.find(function(i){return i.name===e});if(n===void 0){this.config.loggerProvider.debug("Cannot find plugin with name ".concat(e));return}return n},t.prototype.plugins=function(e){return this.timeline.plugins.filter(function(n){return n instanceof e})},t}();var hie=function(){function t(e,n){this.key="AMP_remote_config_".concat(e.substring(0,10)),this.logger=n}return t.prototype.fetchConfig=function(){var e=null,n={remoteConfig:null,lastFetch:new Date};try{e=localStorage.getItem(this.key)}catch(r){return this.logger.debug("Remote config localstorage failed to access: ",r),Promise.resolve(n)}if(e===null)return this.logger.debug("Remote config localstorage gets null because the key does not exist"),Promise.resolve(n);try{var i=JSON.parse(e);return this.logger.debug("Remote config localstorage parsed successfully: ".concat(JSON.stringify(i))),Promise.resolve({remoteConfig:i.remoteConfig,lastFetch:new Date(i.lastFetch)})}catch(r){return this.logger.debug("Remote config localstorage failed to parse: ",r),localStorage.removeItem(this.key),Promise.resolve(n)}},t.prototype.setConfig=function(e){try{return localStorage.setItem(this.key,JSON.stringify(e)),this.logger.debug("Remote config localstorage set successfully."),Promise.resolve(!0)}catch(n){this.logger.debug("Remote config localstorage failed to set: ",n)}return Promise.resolve(!1)},t}();var aOe="https://sr-client-cfg.amplitude.com/config",lOe="https://sr-client-cfg.eu.amplitude.com/config",cOe=3,dOe=1e3,nV=function(){function t(e,n,i){i===void 0&&(i="US"),this.callbackInfos=[],this.apiKey=e,this.serverUrl=i==="US"?aOe:lOe,this.logger=n,this.storage=new hie(e,n)}return t.prototype.subscribe=function(e,n,i){var r=es(),o={id:r,key:e,deliveryMode:n,callback:i};return this.callbackInfos.push(o),n==="all"?this.subscribeAll(o):this.subscribeWaitForRemote(o,n.timeout),r},t.prototype.unsubscribe=function(e){var n=this.callbackInfos.findIndex(function(i){return i.id===e});return n===-1?(this.logger.debug("Remote config client unsubscribe failed because callback with id ".concat(e," doesn't exist.")),!1):(this.callbackInfos.splice(n,1),this.logger.debug("Remote config client unsubscribe succeeded removing callback with id ".concat(e,".")),!0)},t.prototype.updateConfigs=function(){return pe(this,void 0,void 0,function(){var e,n=this;return me(this,function(i){switch(i.label){case 0:return[4,this.fetch()];case 1:return e=i.sent(),this.storage.setConfig(e),this.callbackInfos.forEach(function(r){n.sendCallback(r,e,"remote")}),[2]}})})},t.prototype.subscribeAll=function(e){return pe(this,void 0,void 0,function(){var n,i,r,o=this;return me(this,function(s){switch(s.label){case 0:return n=this.fetch().then(function(a){o.logger.debug("Remote config client subscription all mode fetched from remote: ".concat(JSON.stringify(a))),o.sendCallback(e,a,"remote"),o.storage.setConfig(a)}),i=this.storage.fetchConfig().then(function(a){return a}),[4,Promise.race([n,i])];case 1:return r=s.sent(),r!==void 0&&(this.logger.debug("Remote config client subscription all mode fetched from cache: ".concat(JSON.stringify(r))),this.sendCallback(e,r,"cache")),[4,n];case 2:return s.sent(),[2]}})})},t.prototype.subscribeWaitForRemote=function(e,n){return pe(this,void 0,void 0,function(){var i,o,r,o;return me(this,function(s){switch(s.label){case 0:i=new Promise(function(a,l){setTimeout(function(){l("Timeout exceeded")},n)}),s.label=1;case 1:return s.trys.push([1,3,,5]),[4,Promise.race([this.fetch(),i])];case 2:return o=s.sent(),this.logger.debug("Remote config client subscription wait for remote mode returns from remote."),this.sendCallback(e,o,"remote"),this.storage.setConfig(o),[3,5];case 3:return r=s.sent(),this.logger.debug("Remote config client subscription wait for remote mode exceeded timeout. Try to fetch from cache."),[4,this.storage.fetchConfig()];case 4:return o=s.sent(),o.remoteConfig!==null?(this.logger.debug("Remote config client subscription wait for remote mode returns a cached copy."),this.sendCallback(e,o,"cache")):(this.logger.debug("Remote config client subscription wait for remote mode failed to fetch cache."),this.sendCallback(e,o,"remote")),[3,5];case 5:return[2]}})})},t.prototype.sendCallback=function(e,n,i){e.lastCallback=new Date;var r;e.key?r=e.key.split(".").reduce(function(o,s){return o===null?o:s in o?o[s]:null},n.remoteConfig):r=n.remoteConfig,e.callback(r,i,n.lastFetch)},t.prototype.fetch=function(e,n){return e===void 0&&(e=cOe),n===void 0&&(n=dOe),pe(this,void 0,void 0,function(){var i,r,o,s,a,l,c=this;return me(this,function(d){switch(d.label){case 0:i=n/e,r={remoteConfig:null,lastFetch:new Date},o=function(u){var p,g,v,b,x,T;return me(this,function(k){switch(k.label){case 0:p=new AbortController,g=setTimeout(function(){return p.abort()},n),k.label=1;case 1:return k.trys.push([1,7,8,9]),[4,fetch(s.getUrlParams(),{method:"GET",headers:{Accept:"*/*"},signal:p.signal})];case 2:return v=k.sent(),v.ok?[3,4]:[4,v.text()];case 3:return b=k.sent(),s.logger.debug("Remote config client fetch with retry time ".concat(e," failed with ").concat(v.status,": ").concat(b)),[3,6];case 4:return[4,v.json()];case 5:return x=k.sent(),[2,{value:{remoteConfig:x,lastFetch:new Date}}];case 6:return[3,9];case 7:return T=k.sent(),T instanceof Error&&T.name==="AbortError"?s.logger.debug("Remote config client fetch with retry time ".concat(e," timed out after ").concat(n,"ms")):s.logger.debug("Remote config client fetch with retry time ".concat(e," is rejected because: "),T),[3,9];case 8:return clearTimeout(g),[7];case 9:return u<e-1?[4,new Promise(function(U){return setTimeout(U,c.getJitterDelay(i))})]:[3,11];case 10:k.sent(),k.label=11;case 11:return[2]}})},s=this,a=0,d.label=1;case 1:return a<e?[5,o(a)]:[3,4];case 2:if(l=d.sent(),typeof l=="object")return[2,l.value];d.label=3;case 3:return a++,[3,1];case 4:return[2,r]}})})},t.prototype.getJitterDelay=function(e){return Math.floor(Math.random()*e)},t.prototype.getUrlParams=function(){var e=encodeURIComponent(this.apiKey),n=new URLSearchParams;return n.append("config_group",t.CONFIG_GROUP),"".concat(this.serverUrl,"/").concat(e,"?").concat(n.toString())},t.CONFIG_GROUP="browser",t}();var Do=function(t){return t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug",t}(Do||{});var _M="Amplitude Logger ",eC=function(){function t(){this.logLevel=Do.None}return t.prototype.disable=function(){this.logLevel=Do.None},t.prototype.enable=function(e){e===void 0&&(e=Do.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Do.Verbose||console.log("".concat(_M,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Do.Warn||console.warn("".concat(_M,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Do.Error||console.error("".concat(_M,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<Do.Debug||console.log("".concat(_M,"[Debug]: ").concat(e.join(" ")))},t}();var iV=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setCurrency=function(e){return this.currency=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setReceipt=function(e){return this.receipt=e,this},t.prototype.setReceiptSig=function(e){return this.receiptSig=e,this},t.prototype.setEventProperties=function(e){return vM(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?xe({},this.properties):{};return e[hd.REVENUE_PRODUCT_ID]=this.productId,e[hd.REVENUE_QUANTITY]=this.quantity,e[hd.REVENUE_PRICE]=this.price,e[hd.REVENUE_TYPE]=this.revenueType,e[hd.REVENUE_CURRENCY]=this.currency,e[hd.REVENUE]=this.revenue,e[hd.RECEIPT]=this.receipt,e[hd.RECEIPT_SIG]=this.receiptSig,e},t}();var hd=function(t){return t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE_CURRENCY="$currency",t.REVENUE="$revenue",t.RECEIPT="$receipt",t.RECEIPT_SIG="$receiptSig",t}(hd||{});var fie=function(t,e){var n=Math.max(e,1);return t.reduce(function(i,r,o){var s=Math.floor(o/n);return i[s]||(i[s]=[]),i[s].push(r),i},[])};var bM=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:gM,logLevel:Do.Warn,loggerProvider:new eC,offline:!1,optOut:!1,serverUrl:Q3,serverZone:"US",useBatch:!1}},rV=function(){function t(e){var n,i,r,o;this._optOut=!1;var s=bM();this.apiKey=e.apiKey,this.flushIntervalMillis=(n=e.flushIntervalMillis)!==null&&n!==void 0?n:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(i=e.logLevel)!==null&&i!==void 0?i:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:s.offline,this.optOut=(r=e.optOut)!==null&&r!==void 0?r:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var a=oV(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=a.serverZone,this.serverUrl=a.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}();var uOe=function(t,e){return t==="EU"?e?zne:jne:e?$ne:Q3},oV=function(t,e,n){if(t===void 0&&(t=""),e===void 0&&(e=bM().serverZone),n===void 0&&(n=bM().useBatch),t)return{serverUrl:t,serverZone:void 0};var i=["US","EU"].includes(e)?e:bM().serverZone;return{serverZone:i,serverUrl:uOe(i,n)}},sV=function(){function t(){this.sdk={metrics:{histogram:{}}}}return t.prototype.recordHistogram=function(e,n){this.sdk.metrics.histogram[e]=n},t}();function hOe(t){return t instanceof Error?t.message:String(t)}function yM(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}var aV=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduleId=null,this.scheduledTimeout=0,this.flushId=null,this.queue=[]}return t.prototype.setup=function(e){var n;return pe(this,void 0,void 0,function(){var i,r=this;return me(this,function(o){switch(o.label){case 0:return this.config=e,this.storageKey="".concat(Qne,"_").concat(this.config.apiKey.substring(0,10)),[4,(n=this.config.storageProvider)===null||n===void 0?void 0:n.get(this.storageKey)];case 1:return i=o.sent(),i&&i.length>0&&Promise.all(i.map(function(s){return r.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var n=this;return e.insert_id||(e.insert_id=es()),new Promise(function(i){var r={event:e,attempts:0,callback:function(o){return i(o)},timeout:0};n.queue.push(r),n.schedule(n.config.flushIntervalMillis),n.saveEvents()})},t.prototype.removeEventsExceedFlushMaxRetries=function(e){var n=this;return e.filter(function(i){return i.attempts+=1,i.attempts<n.config.flushMaxRetries?!0:(n.fulfillRequest([i],500,tie),!1)})},t.prototype.scheduleEvents=function(e){var n=this;e.forEach(function(i){n.schedule(i.timeout===0?n.config.flushIntervalMillis:i.timeout)})},t.prototype.schedule=function(e){var n=this;if(!this.config.offline&&(this.scheduleId===null||this.scheduleId&&e>this.scheduledTimeout)){this.scheduleId&&clearTimeout(this.scheduleId),this.scheduledTimeout=e,this.scheduleId=setTimeout(function(){n.queue=n.queue.map(function(i){return i.timeout=0,i}),n.flush(!0)},e);return}},t.prototype.resetSchedule=function(){this.scheduleId=null,this.scheduledTimeout=0},t.prototype.flush=function(e){return e===void 0&&(e=!1),pe(this,void 0,void 0,function(){var n,i,r,o=this;return me(this,function(s){switch(s.label){case 0:return this.config.offline?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush while offline."),[2]):this.flushId?(this.resetSchedule(),this.config.loggerProvider.debug("Skipping flush because previous flush has not resolved."),[2]):(this.flushId=this.scheduleId,this.resetSchedule(),n=[],i=[],this.queue.forEach(function(a){return a.timeout===0?n.push(a):i.push(a)}),r=fie(n,this.config.flushQueueSize),[4,r.reduce(function(a,l){return pe(o,void 0,void 0,function(){return me(this,function(c){switch(c.label){case 0:return[4,a];case 1:return c.sent(),[4,this.send(l,e)];case 2:return[2,c.sent()]}})})},Promise.resolve())]);case 1:return s.sent(),this.flushId=null,this.scheduleEvents(this.queue),[2]}})})},t.prototype.send=function(e,n){return n===void 0&&(n=!0),pe(this,void 0,void 0,function(){var i,r,o,s,a;return me(this,function(l){switch(l.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,iie)];i={api_key:this.config.apiKey,events:e.map(function(c){var d=c.event,u=d.extra,p=q_(d,["extra"]);return p}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new sV,l.label=1;case 1:return l.trys.push([1,3,,4]),r=oV(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(r,i)];case 2:return o=l.sent(),o===null?(this.fulfillRequest(e,0,eie),[2]):n?(this.handleResponse(o,e),[3,4]):("body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(yM(o))):this.fulfillRequest(e,o.statusCode,o.status),[2]);case 3:return s=l.sent(),a=hOe(s),this.config.loggerProvider.error(a),this.handleResponse({status:mr.Failed,statusCode:0},e),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,n){var i=e.status;switch(i){case mr.Success:{this.handleSuccessResponse(e,n);break}case mr.Invalid:{this.handleInvalidResponse(e,n);break}case mr.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,n);break}case mr.RateLimit:{this.handleRateLimitResponse(e,n);break}default:{this.config.loggerProvider.warn(`{code: 0, error: "Status '`.concat(i,"' provided for ").concat(n.length,' events"}')),this.handleOtherResponse(n);break}}},t.prototype.handleSuccessResponse=function(e,n){this.fulfillRequest(n,e.statusCode,Jne)},t.prototype.handleInvalidResponse=function(e,n){var i=this;if(e.body.missingField||e.body.error.startsWith(rie)){this.fulfillRequest(n,e.statusCode,e.body.error);return}var r=Ln(Ln(Ln(Ln([],Et(Object.values(e.body.eventsWithInvalidFields)),!1),Et(Object.values(e.body.eventsWithMissingFields)),!1),Et(Object.values(e.body.eventsWithInvalidIdLengths)),!1),Et(e.body.silencedEvents),!1).flat(),o=new Set(r),s=n.filter(function(l,c){if(o.has(c)){i.fulfillRequest([l],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(yM(e));var a=this.removeEventsExceedFlushMaxRetries(s);this.scheduleEvents(a)},t.prototype.handlePayloadTooLargeResponse=function(e,n){if(n.length===1){this.fulfillRequest(n,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(yM(e)),this.config.flushQueueSize/=2;var i=this.removeEventsExceedFlushMaxRetries(n);this.scheduleEvents(i)},t.prototype.handleRateLimitResponse=function(e,n){var i=this,r=Object.keys(e.body.exceededDailyQuotaUsers),o=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,a=new Set(r),l=new Set(o),c=new Set(s),d=n.filter(function(p,g){if(p.event.user_id&&a.has(p.event.user_id)||p.event.device_id&&l.has(p.event.device_id)){i.fulfillRequest([p],e.statusCode,e.body.error);return}return c.has(g)&&(p.timeout=i.throttleTimeout),!0});d.length>0&&this.config.loggerProvider.warn(yM(e));var u=this.removeEventsExceedFlushMaxRetries(d);this.scheduleEvents(u)},t.prototype.handleOtherResponse=function(e){var n=this,i=e.map(function(o){return o.timeout=o.attempts*n.retryTimeout,o}),r=this.removeEventsExceedFlushMaxRetries(i);this.scheduleEvents(r)},t.prototype.fulfillRequest=function(e,n,i){this.removeEvents(e),e.forEach(function(r){return r.callback(Ou(r.event,n,i))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=this.queue.map(function(n){return n.event});this.config.storageProvider.set(this.storageKey,e)}},t.prototype.removeEvents=function(e){this.queue=this.queue.filter(function(n){return!e.some(function(i){return i.event.insert_id===n.event.insert_id})}),this.saveEvents()},t}();var lV=class{getApplicationContext(){return{versionName:this.versionName,language:fOe(),platform:"Web",os:void 0,deviceModel:void 0}}},fOe=()=>typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||"",cV=class{constructor(){this.queue=[]}logEvent(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)}setEventReceiver(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(n=>{e(n)}),this.queue=[])}},CM=(t,e)=>{let n=["string","number","boolean","undefined"],i=typeof t;if(i!==typeof e)return!1;for(let a of n)if(a===i)return t===e;if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;let o=Array.isArray(t),s=Array.isArray(e);if(o!==s)return!1;if(o&&s){for(let a=0;a<t.length;a++)if(!CM(t[a],e[a]))return!1}else{let a=Object.keys(t).sort(),l=Object.keys(e).sort();if(!CM(a,l))return!1;let c=!0;return Object.keys(t).forEach(d=>{CM(t[d],e[d])||(c=!1)}),c}return!0},pOe="$set",mOe="$unset",AOe="$clearAll";Object.entries||(Object.entries=function(t){let e=Object.keys(t),n=e.length,i=new Array(n);for(;n--;)i[n]=[e[n],t[e[n]]];return i});var dV=class{constructor(){this.identity={userProperties:{}},this.listeners=new Set}editIdentity(){let e=this,n=Object.assign({},this.identity.userProperties),i=Object.assign(Object.assign({},this.identity),{userProperties:n});return{setUserId:function(r){return i.userId=r,this},setDeviceId:function(r){return i.deviceId=r,this},setUserProperties:function(r){return i.userProperties=r,this},setOptOut(r){return i.optOut=r,this},updateUserProperties:function(r){let o=i.userProperties||{};for(let[s,a]of Object.entries(r))switch(s){case pOe:for(let[l,c]of Object.entries(a))o[l]=c;break;case mOe:for(let l of Object.keys(a))delete o[l];break;case AOe:o={};break}return i.userProperties=o,this},commit:function(){return e.setIdentity(i),this}}}getIdentity(){return Object.assign({},this.identity)}setIdentity(e){let n=Object.assign({},this.identity);this.identity=Object.assign({},e),CM(n,this.identity)||this.listeners.forEach(i=>{i(e)})}addIdentityListener(e){this.listeners.add(e)}removeIdentityListener(e){this.listeners.delete(e)}},tC=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,wM=class t{constructor(){this.identityStore=new dV,this.eventBridge=new cV,this.applicationContextProvider=new lV}static getInstance(e){return tC.analyticsConnectorInstances||(tC.analyticsConnectorInstances={}),tC.analyticsConnectorInstances[e]||(tC.analyticsConnectorInstances[e]=new t),tC.analyticsConnectorInstances[e]}};var vf=function(t){return t===void 0&&(t=gM),wM.getInstance(t)},uV=function(t,e){vf(e).identityStore.editIdentity().setUserId(t).commit()},hV=function(t,e){vf(e).identityStore.editIdentity().setDeviceId(t).commit()};var fV=function(){function t(){this.name="identity",this.type="before",this.identityStore=vf().identityStore}return t.prototype.execute=function(e){return pe(this,void 0,void 0,function(){var n;return me(this,function(i){return n=e.user_properties,n&&this.identityStore.editIdentity().updateUserProperties(n).commit(),[2,e]})})},t.prototype.setup=function(e){return pe(this,void 0,void 0,function(){return me(this,function(n){return e.instanceName&&(this.identityStore=vf(e.instanceName).identityStore),[2]})})},t}();var nC=function(t,e){e===void 0&&(e=Date.now());var n=Date.now(),i=n-e;return i>t};var EM=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[uv,e,t.substring(0,n)].filter(Boolean).join("_")},pV=function(t){return"".concat(uv.toLowerCase(),"_").concat(t.substring(0,6))};var mV=function(){var t,e,n,i;if(typeof navigator>"u")return"";var r=navigator.userLanguage;return(i=(n=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&n!==void 0?n:r)!==null&&i!==void 0?i:""};var _f=function(){var t,e=On();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var n=e.location.search.substring(1).split("&").filter(Boolean),i=n.reduce(function(r,o){var s=o.split("=",2),a=pie(s[0]),l=pie(s[1]);return l&&(r[a]=l),r},{});return i},pie=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}};var gOe=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(`
`).slice(2+t).map(function(n){return n.trim()})},Wi=function(t){return function(){var e=xe({},t.config),n=e.loggerProvider,i=e.logLevel;return{logger:n,logLevel:i}}},vOe=function(t,e){var n,i;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");try{for(var r=Xt(e.split(".")),o=r.next();!o.done;o=r.next()){var s=o.value;if(s in t)t=t[s];else return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return t},Ki=function(t,e){return function(){var n,i,r={};try{for(var o=Xt(e),s=o.next();!s.done;s=o.next()){var a=s.value;r[a]=vOe(t,a)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}},qi=function(t,e,n,i,r){return r===void 0&&(r=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=n(),l=a.logger,c=a.logLevel;if(c&&c<Do.Debug||!c||!l)return t.apply(r,o);var d={type:"invoke public method",name:e,args:o,stacktrace:gOe(1),time:{start:new Date().toISOString()},states:{}};i&&d.states&&(d.states.before=i());var u=t.apply(r,o);return u&&u.promise?u.promise.then(function(){i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),l.debug(JSON.stringify(d,null,2))}):(i&&d.states&&(d.states.after=i()),d.time&&(d.time.end=new Date().toISOString()),l.debug(JSON.stringify(d,null,2))),u}};var AV=function(t,e){return!e||!e.length?!0:e.some(function(n){return typeof n=="string"?t===n:t.match(n)})};var iC=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return pe(this,void 0,void 0,function(){return me(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return pe(this,void 0,void 0,function(){return me(this,function(n){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return pe(this,void 0,void 0,function(){var n;return me(this,function(i){switch(i.label){case 0:return[4,this.get(e)];case 1:return n=i.sent(),[2,n?JSON.stringify(n):void 0]}})})},t.prototype.set=function(e,n){return pe(this,void 0,void 0,function(){return me(this,function(i){return this.memoryStorage.set(e,n),[2]})})},t.prototype.remove=function(e){return pe(this,void 0,void 0,function(){return me(this,function(n){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return pe(this,void 0,void 0,function(){return me(this,function(e){return this.memoryStorage.clear(),[2]})})},t}();var rC=function(){function t(e){this.options=xe({},e)}return t.prototype.isEnabled=function(){return pe(this,void 0,void 0,function(){var e,n,i,r;return me(this,function(o){switch(o.label){case 0:if(!On())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),n="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,e.set(n,t.testValue)];case 2:return o.sent(),[4,e.get(n)];case 3:return i=o.sent(),[2,i===t.testValue];case 4:return r=o.sent(),[2,!1];case 5:return[4,e.remove(n)];case 6:return o.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){var n;return pe(this,void 0,void 0,function(){var i,r;return me(this,function(o){switch(o.label){case 0:return[4,this.getRaw(e)];case 1:if(i=o.sent(),!i)return[2,void 0];try{return r=(n=_Oe(i))!==null&&n!==void 0?n:bOe(i),r===void 0?(console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(e,", value: ").concat(i)),[2,void 0]):[2,JSON.parse(r)]}catch{return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(e,", value: ").concat(i)),[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var n,i;return pe(this,void 0,void 0,function(){var r,o,s;return me(this,function(a){return r=On(),o=(i=(n=r?.document)===null||n===void 0?void 0:n.cookie.split("; "))!==null&&i!==void 0?i:[],s=o.find(function(l){return l.indexOf(e+"=")===0}),s?[2,s.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,n){var i;return pe(this,void 0,void 0,function(){var r,o,s,a,l,c,d;return me(this,function(u){try{r=(i=this.options.expirationDays)!==null&&i!==void 0?i:0,o=n!==null?r:-1,s=void 0,o&&(a=new Date,a.setTime(a.getTime()+o*24*60*60*1e3),s=a),l="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(n)))),s&&(l+="; expires=".concat(s.toUTCString())),l+="; path=/",this.options.domain&&(l+="; domain=".concat(this.options.domain)),this.options.secure&&(l+="; Secure"),this.options.sameSite&&(l+="; SameSite=".concat(this.options.sameSite)),c=On(),c&&(c.document.cookie=l)}catch(p){d=p instanceof Error?p.message:String(p),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(e,". Error: ").concat(d))}return[2]})})},t.prototype.remove=function(e){return pe(this,void 0,void 0,function(){return me(this,function(n){switch(n.label){case 0:return[4,this.set(e,null)];case 1:return n.sent(),[2]}})})},t.prototype.reset=function(){return pe(this,void 0,void 0,function(){return me(this,function(e){return[2]})})},t}();var _Oe=function(t){try{return decodeURIComponent(atob(t))}catch{return}},bOe=function(t){try{return decodeURIComponent(atob(decodeURIComponent(t)))}catch{return}};var gV=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[uv,e,t.substring(0,n)].filter(Boolean).join("_")};var oC=function(){function t(e){this.storage=e}return t.prototype.isEnabled=function(){return pe(this,void 0,void 0,function(){var e,n,i,r,o;return me(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),n=new t(this.storage),i="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,n.set(i,e)];case 2:return s.sent(),[4,n.get(i)];case 3:return r=s.sent(),[2,r===e];case 4:return o=s.sent(),[2,!1];case 5:return[4,n.remove(i)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return pe(this,void 0,void 0,function(){var n,i;return me(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return n=r.sent(),n?[2,JSON.parse(n)]:[2,void 0];case 2:return i=r.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var n;return pe(this,void 0,void 0,function(){return me(this,function(i){return[2,((n=this.storage)===null||n===void 0?void 0:n.getItem(e))||void 0]})})},t.prototype.set=function(e,n){var i;return pe(this,void 0,void 0,function(){return me(this,function(r){try{(i=this.storage)===null||i===void 0||i.setItem(e,JSON.stringify(n))}catch{}return[2]})})},t.prototype.remove=function(e){var n;return pe(this,void 0,void 0,function(){return me(this,function(i){try{(n=this.storage)===null||n===void 0||n.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return pe(this,void 0,void 0,function(){return me(this,function(n){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}();var gm=function(){function t(){}return t.prototype.send=function(e,n){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var n,i,r,o,s,a,l,c,d,u,p,g,v,b,x,T,k,U,D,N,z,Z;if(typeof e!="object")return null;var ne=e.code||0,ee=this.buildStatus(ne);switch(ee){case mr.Success:return{status:ee,statusCode:ne,body:{eventsIngested:(n=e.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(i=e.payload_size_bytes)!==null&&i!==void 0?i:0,serverUploadTime:(r=e.server_upload_time)!==null&&r!==void 0?r:0}};case mr.Invalid:return{status:ee,statusCode:ne,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(a=e.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(l=e.events_with_missing_fields)!==null&&l!==void 0?l:{},eventsWithInvalidIdLengths:(c=e.events_with_invalid_id_lengths)!==null&&c!==void 0?c:{},epsThreshold:(d=e.eps_threshold)!==null&&d!==void 0?d:0,exceededDailyQuotaDevices:(u=e.exceeded_daily_quota_devices)!==null&&u!==void 0?u:{},silencedDevices:(p=e.silenced_devices)!==null&&p!==void 0?p:[],silencedEvents:(g=e.silenced_events)!==null&&g!==void 0?g:[],throttledDevices:(v=e.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(b=e.throttled_events)!==null&&b!==void 0?b:[]}};case mr.PayloadTooLarge:return{status:ee,statusCode:ne,body:{error:(x=e.error)!==null&&x!==void 0?x:""}};case mr.RateLimit:return{status:ee,statusCode:ne,body:{error:(T=e.error)!==null&&T!==void 0?T:"",epsThreshold:(k=e.eps_threshold)!==null&&k!==void 0?k:0,throttledDevices:(U=e.throttled_devices)!==null&&U!==void 0?U:{},throttledUsers:(D=e.throttled_users)!==null&&D!==void 0?D:{},exceededDailyQuotaDevices:(N=e.exceeded_daily_quota_devices)!==null&&N!==void 0?N:{},exceededDailyQuotaUsers:(z=e.exceeded_daily_quota_users)!==null&&z!==void 0?z:{},throttledEvents:(Z=e.throttled_events)!==null&&Z!==void 0?Z:[]}};case mr.Timeout:default:return{status:ee,statusCode:ne}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?mr.Success:e===429?mr.RateLimit:e===413?mr.PayloadTooLarge:e===408?mr.Timeout:e>=400&&e<500?mr.Invalid:e>=500?mr.Failed:mr.Unknown},t}();var vV=function(t){xs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,i){return pe(this,void 0,void 0,function(){var r,o,s;return me(this,function(a){switch(a.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return r={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(i),method:"POST"},[4,fetch(n,r)];case 1:return o=a.sent(),[4,o.text()];case 2:s=a.sent();try{return[2,this.buildResponse(JSON.parse(s))]}catch{return[2,this.buildResponse({code:o.status})]}return[2]}})})},e}(gm);var _V=null;var bV=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],sC="data-amp-track-",yV=["div","span","h1","h2","h3","h4","h5","h6"];var yOe=["a","button",'[role="button"]','[role="link"]','[role="menuitem"]','[role="menuitemcheckbox"]','[role="menuitemradio"]','[role="option"]','[role="tab"]','[role="treeitem"]','[contenteditable="true" i]'],CV=Ln(['input[type="button"]','input[type="submit"]','input[type="reset"]','input[type="image"]','input[type="file"]'],Et(yOe),!1),wV=["*"];var EV=1e3,xV=4;var COe=500,mie=100,Aie=function(){function t(e){this.request=e}return Object.defineProperty(t.prototype,"headers",{get:function(){if(this._headers)return this._headers;var e=this.request.headers;if(Array.isArray(e)){var n=e;this._headers=n.reduce(function(o,s){var a=Et(s,2),l=a[0],c=a[1];return o[l]=c,o},{})}else if(e instanceof Headers){var i=e,r={};i.forEach(function(o,s){r[s]=o}),this._headers=r}else typeof e=="object"&&(this._headers=e);return this._headers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodySize",{get:function(){if(typeof this._bodySize=="number")return this._bodySize;var e=On();if(e?.TextEncoder){var n=this.request.body;return this._bodySize=vie(n,mie),this._bodySize}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this.request.method},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return typeof this.request.body=="string"?this.request.body:null},enumerable:!1,configurable:!0}),t}();var gie=function(){function t(e,n){this.bodyRaw=e,this.requestHeaders=n}return Object.defineProperty(t.prototype,"headers",{get:function(){return this.requestHeaders},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodySize",{get:function(){return vie(this.bodyRaw,mie)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return typeof this.bodyRaw=="string"?this.bodyRaw:null},enumerable:!1,configurable:!0}),t}();function vie(t,e){var n,i,r,o=On(),s=o?.TextEncoder;if(s){var a;if(typeof t=="string")a=t,r=new s().encode(a).length;else if(t instanceof Blob)a=t,r=a.size;else if(t instanceof URLSearchParams)a=t,r=new s().encode(a.toString()).length;else if(ArrayBuffer.isView(t))a=t,r=a.byteLength;else if(t instanceof ArrayBuffer)a=t,r=a.byteLength;else if(t instanceof FormData){var l=t,c=0,d=0;try{for(var u=Xt(l.entries()),p=u.next();!p.done;p=u.next()){var g=Et(p.value,2),v=g[0],b=g[1];if(c+=v.length,typeof b=="string")c+=new s().encode(b).length;else if(b instanceof Blob)c+=b.size;else return;if(++d>=e)return}}catch(x){n={error:x}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}r=c}else if(t instanceof ReadableStream){a=t;return}return r}}var _ie=function(){function t(e){this.response=e}return Object.defineProperty(t.prototype,"headers",{get:function(){var e;if(this._headers)return this._headers;if(this.response.headers instanceof Headers){var n=this.response.headers,i={};return(e=n?.forEach)===null||e===void 0||e.call(n,function(r,o){i[o]=r}),this._headers=i,i}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bodySize",{get:function(){var e,n;if(this._bodySize!==void 0)return this._bodySize;var i=(n=(e=this.response.headers)===null||e===void 0?void 0:e.get)===null||n===void 0?void 0:n.call(e,"content-length"),r=i?parseInt(i,10):void 0;return this._bodySize=r,r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),t.prototype.text=function(){return pe(this,void 0,void 0,function(){var e,n,i,r,o;return me(this,function(s){switch(s.label){case 0:e=this.response.clone(),s.label=1;case 1:return s.trys.push([1,3,,4]),n=e.text(),i=new Promise(function(a){return setTimeout(function(){return a(null)},COe)}),[4,Promise.race([n,i])];case 2:return r=s.sent(),[2,r];case 3:return o=s.sent(),[2,null];case 4:return[2]}})})},t}();var bie=function(){function t(e,n,i,r){this.statusCode=e,this.headersString=n,this.size=i,this.responseText=r}return Object.defineProperty(t.prototype,"bodySize",{get:function(){return this.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),t.prototype.text=function(){return pe(this,void 0,void 0,function(){return me(this,function(e){return[2,this.responseText]})})},Object.defineProperty(t.prototype,"headers",{get:function(){var e,n;if(this.headersString){var i={},r=this.headersString.split(`\r
`);try{for(var o=Xt(r),s=o.next();!s.done;s=o.next()){var a=s.value,l=Et(a.split(": "),2),c=l[0],d=l[1];c&&d&&(i[c]=d)}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}},enumerable:!1,configurable:!0}),t}();var yie=function(){function t(e,n,i,r,o,s,a,l,c,d,u){a===void 0&&(a=0),this.type=e,this.method=n,this.timestamp=i,this.startTime=r,this.url=o,this.requestWrapper=s,this.status=a,this.duration=l,this.responseWrapper=c,this.error=d,this.endTime=u}return t.prototype.toSerializable=function(){var e,n,i,r,o={type:this.type,method:this.method,url:this.url,timestamp:this.timestamp,status:this.status,duration:this.duration,error:this.error,startTime:this.startTime,endTime:this.endTime,requestHeaders:(e=this.requestWrapper)===null||e===void 0?void 0:e.headers,requestBodySize:(n=this.requestWrapper)===null||n===void 0?void 0:n.bodySize,responseHeaders:(i=this.responseWrapper)===null||i===void 0?void 0:i.headers,responseBodySize:(r=this.responseWrapper)===null||r===void 0?void 0:r.bodySize};return Object.fromEntries(Object.entries(o).filter(function(s){var a=Et(s,2),l=a[0],c=a[1];return c!==void 0}))},t}();function wOe(t){return typeof t=="object"&&t!==null&&"url"in t&&"method"in t}var SV=function(){function t(e,n){n===void 0&&(n=es()),this.callback=e,this.id=n}return t}();var EOe=function(){function t(e){this.eventCallbacks=new Map,this.isObserving=!1,this.logger=e;var n=On();t.isSupported()&&(this.globalScope=n)}return t.isSupported=function(){var e=On();return!!e&&!!e.fetch},t.prototype.subscribe=function(e,n){var i,r,o,s,a,l,c,d,u,p;if(this.logger||(this.logger=n),this.eventCallbacks.set(e.id,e),!this.isObserving){var g=(o=(r=(i=this.globalScope)===null||i===void 0?void 0:i.XMLHttpRequest)===null||r===void 0?void 0:r.prototype)===null||o===void 0?void 0:o.open,v=(l=(a=(s=this.globalScope)===null||s===void 0?void 0:s.XMLHttpRequest)===null||a===void 0?void 0:a.prototype)===null||l===void 0?void 0:l.send,b=(u=(d=(c=this.globalScope)===null||c===void 0?void 0:c.XMLHttpRequest)===null||d===void 0?void 0:d.prototype)===null||u===void 0?void 0:u.setRequestHeader;g&&v&&b&&this.observeXhr(g,v,b);var x=(p=this.globalScope)===null||p===void 0?void 0:p.fetch;x&&this.observeFetch(x),this.isObserving=!0}},t.prototype.unsubscribe=function(e){this.eventCallbacks.delete(e.id)},t.prototype.triggerEventCallbacks=function(e){var n=this;this.eventCallbacks.forEach(function(i){var r;try{i.callback(e)}catch(o){(r=n.logger)===null||r===void 0||r.debug("an unexpected error occurred while triggering event callbacks",o)}})},t.prototype.handleNetworkRequestEvent=function(e,n,i,r,o,s,a){var l;if(!(s===void 0||a===void 0)){var c,d="GET";wOe(n)?(c=n.url,d=n.method):c=(l=n?.toString)===null||l===void 0?void 0:l.call(n),d=i?.method||d;var u,p;r&&(u=r.status),o&&(p={name:o.name||"UnknownError",message:o.message||"An unknown error occurred"},u=0);var g=Math.floor(performance.now()-a),v=Math.floor(s+g),b=new yie(e,d,s,s,c,i,u,g,r,p,v);this.triggerEventCallbacks(b)}},t.prototype.getTimestamps=function(){var e,n;return{startTime:(e=Date.now)===null||e===void 0?void 0:e.call(Date),durationStart:(n=performance?.now)===null||n===void 0?void 0:n.call(performance)}},t.prototype.observeFetch=function(e){var n=this;!this.globalScope||!e||(this.globalScope.fetch=function(i,r){return pe(n,void 0,void 0,function(){var o,s,a,l,c,d;return me(this,function(u){switch(u.label){case 0:try{o=this.getTimestamps()}catch(p){(c=this.logger)===null||c===void 0||c.debug("an unexpected error occurred while retrieving timestamps",p)}u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e(i,r)];case 2:return s=u.sent(),[3,4];case 3:return l=u.sent(),a=l,[3,4];case 4:try{this.handleNetworkRequestEvent("fetch",i,r?new Aie(r):void 0,s?new _ie(s):void 0,a,o?.startTime,o?.durationStart)}catch(p){(d=this.logger)===null||d===void 0||d.debug("an unexpected error occurred while handling fetch",p)}if(s)return[2,s];throw a}})})})},t.prototype.observeXhr=function(e,n,i){if(!(!this.globalScope||!e||!n)){var r=this.globalScope.XMLHttpRequest.prototype,o=this;r.open=function(){for(var s,a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var d=this,u=Et(l,2),p=u[0],g=u[1];try{d.$$AmplitudeAnalyticsEvent=xe({method:p,url:(s=g?.toString)===null||s===void 0?void 0:s.call(g),headers:{}},o.getTimestamps())}catch(v){(a=o.logger)===null||a===void 0||a.debug("an unexpected error occurred while calling xhr open",v)}return e.apply(d,l)},r.send=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=this,c=s[0],d=l.$$AmplitudeAnalyticsEvent;return l.addEventListener("loadend",function(){var u;try{var p=l.getAllResponseHeaders(),g=l.getResponseHeader("content-length"),v=new bie(l.status,p,g?parseInt(g,10):void 0,l.responseText),b=l.$$AmplitudeAnalyticsEvent.headers,x=new gie(c,b);d.status=l.status,o.handleNetworkRequestEvent("xhr",{url:d.url,method:d.method},x,v,void 0,d.startTime,d.durationStart)}catch(T){(u=o.logger)===null||u===void 0||u.debug("an unexpected error occurred while handling xhr send",T)}}),n.apply(l,s)},r.setRequestHeader=function(s,a){var l,c=this;try{c.$$AmplitudeAnalyticsEvent.headers[s]=a}catch(d){(l=o.logger)===null||l===void 0||l.debug("an unexpected error occurred while calling xhr setRequestHeader",d)}i.apply(c,[s,a])}}},t}();var xM=new EOe;var TV=function(){function t(){}return t.prototype.parse=function(){return pe(this,void 0,void 0,function(){return me(this,function(e){return[2,xe(xe(xe(xe({},Am),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=_f(),n=e[Gne],i=e[Wne],r=e[Kne],o=e[qne],s=e[Yne],a=e[Xne];return{utm_campaign:n,utm_content:i,utm_id:r,utm_medium:o,utm_source:s,utm_term:a}},t.prototype.getReferrer=function(){var e,n,i={referrer:void 0,referring_domain:void 0};try{i.referrer=document.referrer||void 0,i.referring_domain=(n=(e=i.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return i},t.prototype.getClickIds=function(){var e,n=_f();return e={},e[j3]=n[j3],e[$3]=n[$3],e[z3]=n[z3],e[G3]=n[G3],e[W3]=n[W3],e[K3]=n[K3],e[q3]=n[q3],e[Y3]=n[Y3],e[X3]=n[X3],e[Z3]=n[Z3],e[J3]=n[J3],e},t}();var aC=function(t,e){return typeof t=="boolean"?t:t?.[e]!==!1},IV=function(t){return aC(t,"attribution")},Cie=function(t){return aC(t,"fileDownloads")},wie=function(t){return aC(t,"formInteractions")},kV=function(t){return aC(t,"pageViews")},MV=function(t){return aC(t,"sessions")},DV=function(t){return typeof t=="object"&&(t.networkTracking===!0||typeof t.networkTracking=="object")},PV=function(t){return typeof t=="boolean"?t:typeof t=="object"&&(t.elementInteractions===!0||typeof t.elementInteractions=="object")},Eie=function(t){return typeof t=="object"&&t.webVitals===!0},OV=function(t){return typeof t=="object"&&(t.frustrationInteractions===!0||typeof t.frustrationInteractions=="object")},xie=function(t){if(PV(t.autocapture)&&typeof t.autocapture=="object"&&typeof t.autocapture.elementInteractions=="object")return t.autocapture.elementInteractions},Sie=function(t){if(OV(t.autocapture)&&typeof t.autocapture=="object"&&typeof t.autocapture.frustrationInteractions=="object")return t.autocapture.frustrationInteractions},Tie=function(t){if(DV(t.autocapture)){if(typeof t.autocapture=="object"&&typeof t.autocapture.networkTracking=="object")return t.autocapture.networkTracking;if(t.networkTrackingOptions)return t.networkTrackingOptions}},Iie=function(t){var e=function(){return!1},n=void 0,i,r=t.pageCounter,o=kV(t.defaultTracking);return o&&(e=void 0,i=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(i=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:n,eventType:i,pageCounter:r}},kie=function(t){return IV(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?xe({},t.defaultTracking.attribution):{}};var SM=function(t,e){for(var n=0;n<e.length;n++){var i=e[n],r=i.name,o=i.args,s=i.resolve,a=t&&t[r];if(typeof a=="function"){var l=a.apply(t,o);typeof s=="function"&&s(l?.promise)}}return t},TM=function(t){var e=t;return e&&e._q!==void 0};var IM="2.22.2";var Mie="amplitude-ts";var xOe="Web",SOe="$remote",Die=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="".concat(Mie,"/").concat(IM),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var n,i;return pe(this,void 0,void 0,function(){var r,o,s,a;return me(this,function(l){return r=new Date().getTime(),o=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1,s=(i=e.event_id)!==null&&i!==void 0?i:o+1,this.config.lastEventId=s,e.time||(this.config.lastEventTime=r),a=xe(xe(xe(xe(xe(xe(xe(xe({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:r},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:xOe}),this.config.trackingOptions.language&&{language:mV()}),this.config.trackingOptions.ipAddress&&{ip:SOe}),{insert_id:es(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,a]})})},t}();var kM=1e3,RV=function(t){xs(e,t);function e(n){var i=this,r,o,s;try{s=(r=On())===null||r===void 0?void 0:r.localStorage}catch(a){(o=n?.loggerProvider)===null||o===void 0||o.debug("Failed to access localStorage. error=".concat(JSON.stringify(a))),s=void 0}return i=t.call(this,s)||this,i.loggerProvider=n?.loggerProvider,i}return e.prototype.set=function(n,i){var r;return pe(this,void 0,void 0,function(){var o;return me(this,function(s){switch(s.label){case 0:return Array.isArray(i)&&i.length>kM?(o=i.length-kM,[4,t.prototype.set.call(this,n,i.slice(0,kM))]):[3,2];case 1:return s.sent(),(r=this.loggerProvider)===null||r===void 0||r.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(kM,".")),[3,4];case 2:return[4,t.prototype.set.call(this,n,i)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},e}(oC);var Pie=function(t){xs(e,t);function e(){var n;return t.call(this,(n=On())===null||n===void 0?void 0:n.sessionStorage)||this}return e}(oC);var Oie=function(t){xs(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={done:4},n}return e.prototype.send=function(n,i){return pe(this,void 0,void 0,function(){var r=this;return me(this,function(o){return[2,new Promise(function(s,a){typeof XMLHttpRequest>"u"&&a(new Error("XHRTransport is not supported."));var l=new XMLHttpRequest;l.open("POST",n,!0),l.onreadystatechange=function(){if(l.readyState===r.state.done){var c=l.responseText;try{s(r.buildResponse(JSON.parse(c)))}catch{s(r.buildResponse({code:l.status}))}}},l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Accept","*/*"),l.send(JSON.stringify(i))})]})})},e}(gm);var Rie=function(t){xs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,i){return pe(this,void 0,void 0,function(){var r=this;return me(this,function(o){return[2,new Promise(function(s,a){var l=On();if(!l?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var c=JSON.stringify(i),d=l.navigator.sendBeacon(n,JSON.stringify(i));return s(d?r.buildResponse({code:200,events_ingested:i.events.length,payload_size_bytes:c.length,server_upload_time:Date.now()}):r.buildResponse({code:500}))}catch(u){a(u)}})]})})},e}(gm);var Bie=function(t,e,n){return n===void 0&&(n=!0),pe(void 0,void 0,void 0,function(){var i,r,o,s,a,l,c,d,u;return me(this,function(p){switch(p.label){case 0:return i=pV(t),[4,e.getRaw(i)];case 1:return r=p.sent(),r?n?[4,e.remove(i)]:[3,3]:[2,{optOut:!1}];case 2:p.sent(),p.label=3;case 3:return o=Et(r.split("."),6),s=o[0],a=o[1],l=o[2],c=o[3],d=o[4],u=o[5],[2,{deviceId:s,userId:TOe(a),sessionId:BV(c),lastEventId:BV(u),lastEventTime:BV(d),optOut:!!l}]}})})},BV=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},TOe=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}};var ul="[Amplitude]",tyt="".concat(ul," Page Viewed"),FV="".concat(ul," Form Started"),Fie="".concat(ul," Form Submitted"),Nie="".concat(ul," File Downloaded"),NV="session_start",LV="session_end",Lie="".concat(ul," File Extension"),Uie="".concat(ul," File Name"),Vie="".concat(ul," Link ID"),Hie="".concat(ul," Link Text"),Qie="".concat(ul," Link URL"),MM="".concat(ul," Form ID"),DM="".concat(ul," Form Name"),PM="".concat(ul," Form Destination"),lC="cookie",jie="US";var IOe=function(t){xs(e,t);function e(n,i,r,o,s,a,l,c,d,u,p,g,v,b,x,T,k,U,D,N,z,Z,ne,ee,he,ge,Ee,St,qt,bt,pt,jt,wn,it,Lt){r===void 0&&(r=new iC),o===void 0&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),c===void 0&&(c=1e3),d===void 0&&(d=5),u===void 0&&(u=30),p===void 0&&(p=lC),T===void 0&&(T=new eC),k===void 0&&(k=Do.Warn),D===void 0&&(D=!1),N===void 0&&(N=!1),ne===void 0&&(ne=""),ee===void 0&&(ee=jie),ge===void 0&&(ge=30*60*1e3),Ee===void 0&&(Ee=new RV({loggerProvider:T})),St===void 0&&(St={ipAddress:!0,language:!0,platform:!0}),qt===void 0&&(qt="fetch"),bt===void 0&&(bt=!1),pt===void 0&&(pt=!0);var Pe=t.call(this,{apiKey:n,storageProvider:Ee,transportProvider:UV(qt)})||this;return Pe.apiKey=n,Pe.appVersion=i,Pe.cookieOptions=o,Pe.defaultTracking=s,Pe.autocapture=a,Pe.flushIntervalMillis=c,Pe.flushMaxRetries=d,Pe.flushQueueSize=u,Pe.identityStorage=p,Pe.ingestionMetadata=g,Pe.instanceName=v,Pe.loggerProvider=T,Pe.logLevel=k,Pe.minIdLength=U,Pe.offline=D,Pe.partnerId=z,Pe.plan=Z,Pe.serverUrl=ne,Pe.serverZone=ee,Pe.sessionTimeout=ge,Pe.storageProvider=Ee,Pe.trackingOptions=St,Pe.transport=qt,Pe.useBatch=bt,Pe.fetchRemoteConfig=pt,Pe.networkTrackingOptions=Lt,Pe.version=IM,Pe._optOut=!1,Pe._cookieStorage=r,Pe.deviceId=l,Pe.lastEventId=b,Pe.lastEventTime=x,Pe.optOut=N,Pe.sessionId=he,Pe.pageCounter=wn,Pe.userId=jt,Pe.debugLogsEnabled=it,Pe.loggerProvider.enable(it?Do.Debug:Pe.logLevel),Pe.networkTrackingOptions=Lt,Pe}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(n){this._cookieStorage!==n&&(this._cookieStorage=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(n){this._deviceId!==n&&(this._deviceId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(n){this._userId!==n&&(this._userId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(n){this._sessionId!==n&&(this._sessionId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(n){this._optOut!==n&&(this._optOut=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(n){this._lastEventTime!==n&&(this._lastEventTime=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(n){this._lastEventId!==n&&(this._lastEventId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(n){this._pageCounter!==n&&(this._pageCounter=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugLogsEnabled",{set:function(n){this._debugLogsEnabled!==n&&(this._debugLogsEnabled=n,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(EM(this.apiKey),n)},e}(rV);var $ie=function(t,e,n){return e===void 0&&(e={}),pe(void 0,void 0,void 0,function(){var i,r,o,s,a,l,c,d,u,p,g,v,b,x,T,k,U,D,N,z,Z,ne,ee,he,ge,Ee,St,qt,bt,pt,jt,wn,it,Lt,Pe,Ut,vn,qn,Li,Yr,jm,b_,$m,zm,y_;return me(this,function(Fd){switch(Fd.label){case 0:return i=e.identityStorage||lC,Z={},i===lC?[3,1]:(o="",[3,5]);case 1:return(ee=(ne=e.cookieOptions)===null||ne===void 0?void 0:ne.domain)!==null&&ee!==void 0?(s=ee,[3,4]):[3,2];case 2:return[4,MOe()];case 3:s=Fd.sent(),Fd.label=4;case 4:o=s,Fd.label=5;case 5:return r=xe.apply(void 0,[(Z.domain=o,Z.expiration=365,Z.sameSite="Lax",Z.secure=!1,Z.upgrade=!0,Z),e.cookieOptions]),a=kOe(e.identityStorage,r),[4,Bie(t,a,(ge=(he=e.cookieOptions)===null||he===void 0?void 0:he.upgrade)!==null&&ge!==void 0?ge:!0)];case 6:return l=Fd.sent(),[4,a.get(EM(t))];case 7:return c=Fd.sent(),d=_f(),u=d.ampTimestamp?Number(d.ampTimestamp):void 0,p=u?Date.now()<u:!0,g=(pt=(bt=(qt=(Ee=e.deviceId)!==null&&Ee!==void 0?Ee:p?(St=d.ampDeviceId)!==null&&St!==void 0?St:d.deviceId:void 0)!==null&&qt!==void 0?qt:c?.deviceId)!==null&&bt!==void 0?bt:l.deviceId)!==null&&pt!==void 0?pt:es(),v=(jt=c?.lastEventId)!==null&&jt!==void 0?jt:l.lastEventId,b=(wn=c?.lastEventTime)!==null&&wn!==void 0?wn:l.lastEventTime,x=(Lt=(it=e.optOut)!==null&&it!==void 0?it:c?.optOut)!==null&&Lt!==void 0?Lt:l.optOut,T=(Pe=c?.sessionId)!==null&&Pe!==void 0?Pe:l.sessionId,k=(vn=(Ut=e.userId)!==null&&Ut!==void 0?Ut:c?.userId)!==null&&vn!==void 0?vn:l.userId,n.previousSessionDeviceId=(qn=c?.deviceId)!==null&&qn!==void 0?qn:l.deviceId,n.previousSessionUserId=(Li=c?.userId)!==null&&Li!==void 0?Li:l.userId,U={ipAddress:(jm=(Yr=e.trackingOptions)===null||Yr===void 0?void 0:Yr.ipAddress)!==null&&jm!==void 0?jm:!0,language:($m=(b_=e.trackingOptions)===null||b_===void 0?void 0:b_.language)!==null&&$m!==void 0?$m:!0,platform:(y_=(zm=e.trackingOptions)===null||zm===void 0?void 0:zm.platform)!==null&&y_!==void 0?y_:!0},D=c?.pageCounter,N=c?.debugLogsEnabled,e.autocapture!==void 0&&(e.defaultTracking=e.autocapture),z=new IOe(t,e.appVersion,a,r,e.defaultTracking,e.autocapture,g,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,i,e.ingestionMetadata,e.instanceName,v,b,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,x,e.partnerId,e.plan,e.serverUrl,e.serverZone,T,e.sessionTimeout,e.storageProvider,U,e.transport,e.useBatch,e.fetchRemoteConfig,k,D,N,e.networkTrackingOptions),[4,z.storageProvider.isEnabled()];case 8:return Fd.sent()||(z.loggerProvider.warn("Storage provider ".concat(z.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),z.storageProvider=new iC),[2,z]}})})},kOe=function(t,e){switch(t===void 0&&(t=lC),e===void 0&&(e={}),t){case"localStorage":return new RV;case"sessionStorage":return new Pie;case"none":return new iC;case"cookie":default:return new rC(xe(xe({},e),{expirationDays:e.expiration}))}},UV=function(t){return t==="xhr"?new Oie:t==="beacon"?new Rie:new vV},MOe=function(t){return pe(void 0,void 0,void 0,function(){var e,n,i,r,o,o,s,a,l,c;return me(this,function(d){switch(d.label){case 0:return[4,new rC().isEnabled()];case 1:if(!d.sent()||!t&&(typeof location>"u"||!location.hostname))return[2,""];for(e=t??location.hostname,n=e.split("."),i=[],r="AMP_TLDTEST",o=n.length-2;o>=0;--o)i.push(n.slice(o).join("."));o=0,d.label=2;case 2:return o<i.length?(s=i[o],a={domain:"."+s},l=new rC(a),[4,l.set(r,1)]):[3,7];case 3:return d.sent(),[4,l.get(r)];case 4:return c=d.sent(),c?[4,l.remove(r)]:[3,6];case 5:return d.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})};var cC=function(){var t="ampIntegrationContext";if(typeof globalThis<"u"&&typeof globalThis[t]<"u")return globalThis[t];if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var VV=function(){var t,e=cC();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var n=e.location.search.substring(1).split("&").filter(Boolean),i=n.reduce(function(r,o){var s=o.split("=",2),a=zie(s[0]),l=zie(s[1]);return l&&(r[a]=l),r},{});return i},zie=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}};var Gie="utm_campaign",Wie="utm_content",Kie="utm_id",qie="utm_medium",Yie="utm_source",Xie="utm_term",HV="dclid",QV="fbclid",jV="gbraid",$V="gclid",zV="ko_click_id",GV="li_fat_id",WV="msclkid",KV="rtd_cid",qV="ttclid",YV="twclid",XV="wbraid";var dC={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var ZV=function(){function t(){}return t.prototype.parse=function(){return pe(this,void 0,void 0,function(){return me(this,function(e){return[2,xe(xe(xe(xe({},dC),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=VV(),n=e[Gie],i=e[Wie],r=e[Kie],o=e[qie],s=e[Yie],a=e[Xie];return{utm_campaign:n,utm_content:i,utm_id:r,utm_medium:o,utm_source:s,utm_term:a}},t.prototype.getReferrer=function(){var e,n,i={referrer:void 0,referring_domain:void 0};try{i.referrer=document.referrer||void 0,i.referring_domain=(n=(e=i.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return i},t.prototype.getClickIds=function(){var e,n=VV();return e={},e[HV]=n[HV],e[QV]=n[QV],e[jV]=n[jV],e[$V]=n[$V],e[zV]=n[zV],e[GV]=n[GV],e[WV]=n[WV],e[KV]=n[KV],e[qV]=n[qV],e[YV]=n[YV],e[XV]=n[XV],e},t}();var uC=function(t){return t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll",t}(uC||{});var Zie=function(t){var e={};for(var n in t){var i=t[n];i&&(e[n]=i)}return e};var DOe="[Amplitude] Page Viewed",JV=function(t){t===void 0&&(t={});var e,n=cC(),i=void 0,r=!1,o,s=t.trackOn,a=t.trackHistoryChanges,l=t.eventType,c=l===void 0?DOe:l,d=function(T){var k=T;try{k=decodeURI(T)}catch(U){i?.error("Malformed URI sequence: ",U)}return k},u=function(){return pe(void 0,void 0,void 0,function(){var T,k,U;return me(this,function(D){switch(D.label){case 0:return T=d(typeof location<"u"&&location.href||""),U={event_type:c},k=[{}],[4,POe()];case 1:return[2,(U.event_properties=xe.apply(void 0,[xe.apply(void 0,k.concat([D.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":T,"[Amplitude] Page Path":typeof location<"u"&&d(location.pathname)||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":T.split("?")[0]}]),U)]}})})},p=function(){return typeof s>"u"||typeof s=="function"&&s()},g=typeof location<"u"?location.href:null,v=function(){return pe(void 0,void 0,void 0,function(){var T,k,U,D,N;return me(this,function(z){switch(z.label){case 0:return T=location.href,k=ROe(a,T,g||"")&&p(),g=T,k?(i?.log("Tracking page view event"),e!=null?[3,1]:(U=void 0,[3,3])):[3,4];case 1:return N=(D=e).track,[4,u()];case 2:U=N.apply(D,[z.sent()]),z.label=3;case 3:z.label=4;case 4:return[2]}})})},b=function(){v()},x={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(T,k){return pe(void 0,void 0,void 0,function(){var U,D;return me(this,function(N){switch(N.label){case 0:return e=k,o=T,i=T.loggerProvider,i.log("Installing @amplitude/plugin-page-view-tracking-browser"),r=!0,n&&(n.addEventListener("popstate",b),n.history.pushState=new Proxy(n.history.pushState,{apply:function(z,Z,ne){var ee=Et(ne,3),he=ee[0],ge=ee[1],Ee=ee[2];z.apply(Z,[he,ge,Ee]),r&&v()}})),p()?(i.log("Tracking page view event"),D=(U=e).track,[4,u()]):[3,2];case 1:D.apply(U,[N.sent()]),N.label=2;case 2:return[2]}})})},execute:function(T){return pe(void 0,void 0,void 0,function(){var k;return me(this,function(U){switch(U.label){case 0:return s==="attribution"&&OOe(T)?(i?.log("Enriching campaign event to page view event with campaign parameters"),[4,u()]):[3,2];case 1:k=U.sent(),T.event_type=k.event_type,T.event_properties=xe(xe({},T.event_properties),k.event_properties),U.label=2;case 2:return o&&T.event_type===c&&(o.pageCounter=o.pageCounter?o.pageCounter+1:1,T.event_properties=xe(xe({},T.event_properties),{"[Amplitude] Page Counter":o.pageCounter})),[2,T]}})})},teardown:function(){return pe(void 0,void 0,void 0,function(){return me(this,function(T){return n&&(n.removeEventListener("popstate",b),r=!1),[2]})})}};return x},POe=function(){return pe(void 0,void 0,void 0,function(){var t;return me(this,function(e){switch(e.label){case 0:return t=Zie,[4,new ZV().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},OOe=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,n=e[uC.SET]||{},i=e[uC.UNSET]||{},r=Ln(Ln([],Et(Object.keys(n)),!1),Et(Object.keys(i)),!1);return Object.keys(dC).every(function(o){return r.includes(o)})}return!1},ROe=function(t,e,n){switch(t){case"pathOnly":{if(n=="")return!0;var i=new URL(e),r=new URL(n),o=i.origin+i.pathname,s=r.origin+r.pathname;return o!==s}default:return e!==n}};var ere=function(){var t,e=[],n=function(c,d,u){c.addEventListener(d,u),e.push({element:c,type:d,handler:u})},i=function(){e.forEach(function(c){var d=c.element,u=c.type,p=c.handler;d?.removeEventListener(u,p)}),e=[]},r="@amplitude/plugin-form-interaction-tracking-browser",o="enrichment",s=function(c,d){return pe(void 0,void 0,void 0,function(){var u,p;return me(this,function(g){return u=function(){if(!d){c.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if(!(typeof document>"u")){var v=function(x){var T=!1;n(x,"change",function(){var k,U=Jie(x);T||d.track(FV,(k={},k[MM]=hv(x.id),k[DM]=hv(x.name),k[PM]=U,k)),T=!0}),n(x,"submit",function(){var k,U,D=Jie(x);T||d.track(FV,(k={},k[MM]=hv(x.id),k[DM]=hv(x.name),k[PM]=D,k)),d.track(Fie,(U={},U[MM]=hv(x.id),U[DM]=hv(x.name),U[PM]=D,U)),T=!1})},b=Array.from(document.getElementsByTagName("form"));b.forEach(v),typeof MutationObserver<"u"&&(t=new MutationObserver(function(x){x.forEach(function(T){T.addedNodes.forEach(function(k){k.nodeName==="FORM"&&v(k),"querySelectorAll"in k&&typeof k.querySelectorAll=="function"&&Array.from(k.querySelectorAll("form")).map(v)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?u():(p=On(),p?p.addEventListener("load",u):c.loggerProvider.debug("Form interaction tracking is not installed because global is undefined.")),[2]})})},a=function(c){return pe(void 0,void 0,void 0,function(){return me(this,function(d){return[2,c]})})},l=function(){return pe(void 0,void 0,void 0,function(){return me(this,function(c){return t?.disconnect(),i(),[2]})})};return{name:r,type:o,setup:s,execute:a,teardown:l}},hv=function(t){if(typeof t=="string")return t},Jie=function(t){var e=t.getAttribute("action");try{e=new URL(encodeURI(e??""),window.location.href).href}catch{}return e};var tre=function(){var t,e=[],n=function(c,d,u){c.addEventListener(d,u),e.push({element:c,type:d,handler:u})},i=function(){e.forEach(function(c){var d=c.element,u=c.type,p=c.handler;d?.removeEventListener(u,p)}),e=[]},r="@amplitude/plugin-file-download-tracking-browser",o="enrichment",s=function(c,d){return pe(void 0,void 0,void 0,function(){var u,p;return me(this,function(g){return u=function(){if(!d){c.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if(!(typeof document>"u")){var v=function(T){var k;try{k=new URL(T.href,window.location.href)}catch{return}var U=b.exec(k.href),D=U?.[1];D&&n(T,"click",function(){var N;D&&d.track(Nie,(N={},N[Lie]=D,N[Uie]=k.pathname,N[Vie]=T.id,N[Hie]=T.text,N[Qie]=T.href,N))})},b=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/,x=Array.from(document.getElementsByTagName("a"));x.forEach(v),typeof MutationObserver<"u"&&(t=new MutationObserver(function(T){T.forEach(function(k){k.addedNodes.forEach(function(U){U.nodeName==="A"&&v(U),"querySelectorAll"in U&&typeof U.querySelectorAll=="function"&&Array.from(U.querySelectorAll("a")).map(v)})})}),t.observe(document.body,{subtree:!0,childList:!0}))}},document.readyState==="complete"?u():(p=On(),p?p.addEventListener("load",u):c.loggerProvider.debug("File download tracking is not installed because global is undefined.")),[2]})})},a=function(c){return pe(void 0,void 0,void 0,function(){return me(this,function(d){return[2,c]})})},l=function(){return pe(void 0,void 0,void 0,function(){return me(this,function(c){return t?.disconnect(),i(),[2]})})};return{name:r,type:o,setup:s,execute:a,teardown:l}};var nre=!1,ire=function(t){if(!(nre||t.defaultTracking!==void 0)){var e=`\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.`;t.loggerProvider.warn(e),nre=!0}};var rre=function(){var t="@amplitude/plugin-network-checker-browser",e="before",n=On(),i=[],r=function(l,c){n?.addEventListener&&(n?.addEventListener(l,c),i.push({type:l,handler:c}))},o=function(){i.forEach(function(l){var c=l.type,d=l.handler;n?.removeEventListener(c,d)}),i=[]},s=function(l,c){return pe(void 0,void 0,void 0,function(){return me(this,function(d){return typeof navigator>"u"?(l.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),l.offline=!1,[2]):(l.offline=!navigator.onLine,r("online",function(){l.loggerProvider.debug("Network connectivity changed to online."),l.offline=!1,setTimeout(function(){c.flush()},l.flushIntervalMillis)}),r("offline",function(){l.loggerProvider.debug("Network connectivity changed to offline."),l.offline=!0}),[2])})})},a=function(){return pe(void 0,void 0,void 0,function(){return me(this,function(l){return o(),[2]})})};return{name:t,type:e,setup:s,teardown:a}};function ore(t){var e,n;if(!(typeof t!="object"||t===null)&&!Array.isArray(t)){var i=Object.keys(t);try{for(var r=Xt(i),o=r.next();!o.done;o=r.next()){var s=o.value;try{var a=t[s];typeof a?.enabled=="boolean"&&(a.enabled?(delete a.enabled,Object.keys(a).length===0&&(t[s]=!0)):t[s]=!1),ore(a)}catch{}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}}function sre(t,e){var n,i,r,o;if(t){ore(t);try{e.loggerProvider.debug("Update browser config with remote configuration:",JSON.stringify(t));var s=t;if(s&&"autocapture"in s){if(typeof s.autocapture=="boolean"&&(e.autocapture=s.autocapture),typeof s.autocapture=="object"&&s.autocapture!==null){var a=xe({},s.autocapture);if(e.autocapture===void 0&&(e.autocapture=s.autocapture),typeof s.autocapture.elementInteractions=="object"&&s.autocapture.elementInteractions!==null&&(!((r=s.autocapture.elementInteractions.pageUrlAllowlistRegex)===null||r===void 0)&&r.length)){a.elementInteractions=xe({},s.autocapture.elementInteractions);var l=a.elementInteractions,c=(o=l.pageUrlAllowlist)!==null&&o!==void 0?o:[],d=[];try{for(var u=Xt(s.autocapture.elementInteractions.pageUrlAllowlistRegex),p=u.next();!p.done;p=u.next()){var g=p.value;try{d.push(new RegExp(g))}catch(b){e.loggerProvider.warn("Invalid regex pattern: ".concat(g),b)}}}catch(b){n={error:b}}finally{try{p&&!p.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}var v=c.concat(d);l.pageUrlAllowlist=v,delete l.pageUrlAllowlistRegex}typeof e.autocapture=="boolean"&&(e.autocapture=xe({attribution:e.autocapture,fileDownloads:e.autocapture,formInteractions:e.autocapture,pageViews:e.autocapture,sessions:e.autocapture,elementInteractions:e.autocapture,webVitals:e.autocapture,frustrationInteractions:e.autocapture},a)),typeof e.autocapture=="object"&&(e.autocapture=xe(xe({},e.autocapture),a))}e.defaultTracking=e.autocapture}e.loggerProvider.debug("Browser config after remote config update:",JSON.stringify(e))}catch(b){e.loggerProvider.error("Failed to apply remote configuration because of error: ",b)}}}var hC=function(t){return t.US="US",t.EU="EU",t.STAGING="STAGING",t}(hC||{});var mo=function(t){return t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError",t}(mo||{});var eH=function(){function t(){}return t.prototype.send=function(e,n){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var n,i,r,o,s,a,l,c,d,u,p,g,v,b,x,T,k,U,D,N,z,Z;if(typeof e!="object")return null;var ne=e.code||0,ee=this.buildStatus(ne);switch(ee){case mo.Success:return{status:ee,statusCode:ne,body:{eventsIngested:(n=e.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(i=e.payload_size_bytes)!==null&&i!==void 0?i:0,serverUploadTime:(r=e.server_upload_time)!==null&&r!==void 0?r:0}};case mo.Invalid:return{status:ee,statusCode:ne,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(a=e.events_with_invalid_fields)!==null&&a!==void 0?a:{},eventsWithMissingFields:(l=e.events_with_missing_fields)!==null&&l!==void 0?l:{},eventsWithInvalidIdLengths:(c=e.events_with_invalid_id_lengths)!==null&&c!==void 0?c:{},epsThreshold:(d=e.eps_threshold)!==null&&d!==void 0?d:0,exceededDailyQuotaDevices:(u=e.exceeded_daily_quota_devices)!==null&&u!==void 0?u:{},silencedDevices:(p=e.silenced_devices)!==null&&p!==void 0?p:[],silencedEvents:(g=e.silenced_events)!==null&&g!==void 0?g:[],throttledDevices:(v=e.throttled_devices)!==null&&v!==void 0?v:{},throttledEvents:(b=e.throttled_events)!==null&&b!==void 0?b:[]}};case mo.PayloadTooLarge:return{status:ee,statusCode:ne,body:{error:(x=e.error)!==null&&x!==void 0?x:""}};case mo.RateLimit:return{status:ee,statusCode:ne,body:{error:(T=e.error)!==null&&T!==void 0?T:"",epsThreshold:(k=e.eps_threshold)!==null&&k!==void 0?k:0,throttledDevices:(U=e.throttled_devices)!==null&&U!==void 0?U:{},throttledUsers:(D=e.throttled_users)!==null&&D!==void 0?D:{},exceededDailyQuotaDevices:(N=e.exceeded_daily_quota_devices)!==null&&N!==void 0?N:{},exceededDailyQuotaUsers:(z=e.exceeded_daily_quota_users)!==null&&z!==void 0?z:{},throttledEvents:(Z=e.throttled_events)!==null&&Z!==void 0?Z:[]}};case mo.Timeout:default:return{status:ee,statusCode:ne}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?mo.Success:e===429?mo.RateLimit:e===413?mo.PayloadTooLarge:e===408?mo.Timeout:e>=400&&e<500?mo.Invalid:e>=500?mo.Failed:mo.Unknown},t}();var BOe="Network error occurred, remote config fetch failed",FOe="Remote config successfully fetched",NOe="Remote config fetch rejected due to exceeded retry count",are="Remote config fetch rejected due to timeout after 5 seconds",lre="Unexpected error occurred",LOe="https://sr-client-cfg.amplitude.com/config",UOe="https://sr-client-cfg.stag2.amplitude.com/config",VOe="https://sr-client-cfg.eu.amplitude.com/config",HOe=function(){function t(e){var n=e.localConfig,i=e.configKeys,r=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteNamespaceConfig=function(o,s){return pe(r,void 0,void 0,function(){var a,l,c;return me(this,function(d){switch(d.label){case 0:return a=Date.now(),[4,this.fetchWithTimeout(s)];case 1:return l=d.sent(),l&&(c=l.configs&&l.configs[o],c)?(this.metrics.fetchTimeAPISuccess=Date.now()-a,[2,c]):(this.metrics.fetchTimeAPIFail=Date.now()-a,[2,void 0])}})})},this.getRemoteConfig=function(o,s,a){return pe(r,void 0,void 0,function(){var l;return me(this,function(c){switch(c.label){case 0:return[4,this.getRemoteNamespaceConfig(o,a)];case 1:return l=c.sent(),[2,l?.[s]]}})})},this.fetchWithTimeout=function(o){return pe(r,void 0,void 0,function(){var s,a,l;return me(this,function(c){switch(c.label){case 0:return s=new AbortController,a=setTimeout(function(){return s.abort()},5e3),[4,this.fetchRemoteConfig(s.signal,o)];case 1:return l=c.sent(),clearTimeout(a),[2,l]}})})},this.fetchRemoteConfig=function(o,s){return pe(r,void 0,void 0,function(){var a,l,c,d,u,p,g,v,b,x,T,k,U;return me(this,function(D){switch(D.label){case 0:if(s===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:NOe})];if(o.aborted)return[2,this.completeRequest({err:are})];s!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=s,this.attempts=0),D.label=1;case 1:D.trys.push([1,3,,4]),a=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(l=Xt(this.configKeys),c=l.next();!c.done;c=l.next())d=c.value,a.append("config_keys",d)}catch(N){T={error:N}}finally{try{c&&!c.done&&(k=l.return)&&k.call(l)}finally{if(T)throw T.error}}return s&&a.set("session_id",String(s)),u={headers:{Accept:"*/*"},method:"GET"},p="".concat(this.getServerUrl(),"?").concat(a.toString()),this.attempts+=1,[4,fetch(p,xe(xe({},u),{signal:o}))];case 2:if(g=D.sent(),g===null)return[2,this.completeRequest({err:lre})];switch(v=new eH().buildStatus(g.status),v){case mo.Success:return this.attempts=0,[2,this.parseAndStoreConfig(g)];case mo.Failed:return[2,this.retryFetch(o,s)];default:return[2,this.completeRequest({err:BOe})]}return[3,4];case 3:return b=D.sent(),x=b,o.aborted?[2,this.completeRequest({err:are})]:[2,this.completeRequest({err:(U=x.message)!==null&&U!==void 0?U:lre})];case 4:return[2]}})})},this.retryFetch=function(o,s){return pe(r,void 0,void 0,function(){var a=this;return me(this,function(l){switch(l.label){case 0:return[4,new Promise(function(c){return setTimeout(c,a.attempts*a.retryTimeout)})];case 1:return l.sent(),[2,this.fetchRemoteConfig(o,s)]}})})},this.parseAndStoreConfig=function(o){return pe(r,void 0,void 0,function(){var s;return me(this,function(a){switch(a.label){case 0:return[4,o.json()];case 1:return s=a.sent(),this.completeRequest({success:FOe}),[2,s]}})})},this.localConfig=n,this.configKeys=i}return t.prototype.getServerUrl=function(){return this.localConfig.configServerUrl?this.localConfig.configServerUrl:this.localConfig.serverZone===hC.STAGING?UOe:this.localConfig.serverZone===hC.EU?VOe:LOe},t.prototype.completeRequest=function(e){var n=e.err,i=e.success;if(n)throw new Error(n);i&&this.localConfig.loggerProvider.log(i)},t}();var cre=function(t){var e=t.localConfig,n=t.configKeys;return pe(void 0,void 0,void 0,function(){return me(this,function(i){return[2,new HOe({localConfig:e,configKeys:n})]})})};var dre=cre;var ure="@amplitude/plugin-autocapture-browser",hre="@amplitude/plugin-frustration-browser",fC="[Amplitude] Element Clicked",fre="[Amplitude] Dead Click",pre="[Amplitude] Rage Click",mre="[Amplitude] Element Changed",Are="[Amplitude] Element ID",gre="[Amplitude] Element Class",tH="[Amplitude] Element Tag",nH="[Amplitude] Element Text",vre="[Amplitude] Element Hierarchy",_re="[Amplitude] Element Href",bre="[Amplitude] Element Position Left",yre="[Amplitude] Element Position Top",Cre="[Amplitude] Element Aria Label",wre="[Amplitude] Element Attributes",Ere="[Amplitude] Element Parent Label",iH="[Amplitude] Page URL",xre="[Amplitude] Page Title",Sre="[Amplitude] Viewport Height",Tre="[Amplitude] Viewport Width",pC="https://app.amplitude.com",jOe="https://app.eu.amplitude.com",$Oe="https://apps.stag2.amplitude.com",Ire={US:pC,EU:jOe,STAGING:$Oe},kre="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",Mre="amp-visual-tagging-selector-highlight";var zOe=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],GOe=["type"],WOe=["svg","path","g"],KOe=["password","hidden"],qOe=128,YOe=1024;function XOe(t){var e,n,i,r,o,s;if(t===null)return null;var a=String(t.tagName).toLowerCase(),l={tag:a},c=Array.from((r=(i=t.parentElement)===null||i===void 0?void 0:i.children)!==null&&r!==void 0?r:[]);c.length&&(l.index=c.indexOf(t),l.indexOfType=c.filter(function(D){return D.tagName===t.tagName}).indexOf(t));var d=(s=(o=t.previousElementSibling)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase();d&&(l.prevSib=String(d));var u=t.getAttribute("id");u&&(l.id=String(u));var p=Array.from(t.classList);p.length&&(l.classes=p);var g={},v=Array.from(t.attributes),b=v.filter(function(D){return!zOe.includes(D.name)}),x=!oH(t);if(!KOe.includes(String(t.getAttribute("type")))&&!WOe.includes(a))try{for(var T=Xt(b),k=T.next();!k.done;k=T.next()){var U=k.value;x&&!GOe.includes(U.name)||(g[U.name]=String(U.value).substring(0,qOe))}}catch(D){e={error:D}}finally{try{k&&!k.done&&(n=T.return)&&n.call(T)}finally{if(e)throw e.error}}return Object.keys(g).length&&(l.attrs=g),l}function ZOe(t){var e=[];if(!t)return e;e.push(t);for(var n=t.parentElement;n&&n.tagName!=="HTML";)e.push(n),n=n.parentElement;return e}var Dre=function(t){var e=[];if(!t)return[];var n=ZOe(t);return e=JOe(n.map(function(i){return XOe(i)}),YOe),e};function JOe(t,e){for(var n=0,i=0;i<t.length;i++){var r=t[i];if(r===null)n+=4;else{var o=OM(r);n+=o?Array.from(o).length:4}if(n>e)return t.slice(0,i)}return t}function OM(t,e){e===void 0&&(e=!1);try{if(t==null)return e?"None":null;if(typeof t=="string")return e?(t=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r"),t.includes('"')?"'".concat(t,"'"):t.includes("'")?'"'.concat(t.replace(/'/g,"\\'"),'"'):"'".concat(t,"'")):t;if(typeof t=="boolean")return t?"True":"False";if(Array.isArray(t)){var n=t.map(function(o){return OM(o,!0)});return"[".concat(n.join(", "),"]")}else if(typeof t=="object"){var i=Object.entries(t).filter(function(o){var s=Et(o,1),a=s[0];return a!=null}).map(function(o){var s=Et(o,2),a=s[0],l=s[1];return"".concat(String(OM(a,!0)),": ").concat(String(OM(l,!0)))}),r="{".concat(i.join(", "),"}");return r.includes("\\'")&&(r=r.replace(/'/g,"'").replace(/'/g,"\\'")),r}return t.toString()}catch{return null}}var eRe=["input","select","textarea"],Pre=function(t,e){var n,i=(n=window?.getComputedStyle)===null||n===void 0?void 0:n.call(window,t);return i?.getPropertyValue("cursor")==="pointer"&&e==="click"},_m=function(t,e,n){return n===void 0&&(n=!1),function(i,r){var o,s,a=t.pageUrlAllowlist,l=t.shouldTrackEventResolver,c=(s=(o=r?.tagName)===null||o===void 0?void 0:o.toLowerCase)===null||s===void 0?void 0:s.call(o);if(!c)return!1;if(l)return l(i,r);if(!AV(window.location.href,a))return!1;var d=String(r?.getAttribute("type"))||"";if(typeof d=="string")switch(d.toLowerCase()){case"hidden":return!1;case"password":return!1}var u=Pre(r,i);if(n&&u)return!0;if(e){var p=e.some(function(g){var v;return!!(!((v=r?.matches)===null||v===void 0)&&v.call(r,g))});if(!p)return!1}switch(c){case"input":case"select":case"textarea":return i==="change"||i==="click";default:return u?!0:i==="click"}}},Ore=function(t){if(t==null)return!1;if(typeof t=="string"){var e=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(e.test((t||"").replace(/[- ]/g,"")))return!1;var n=/(^\d{3}-?\d{2}-?\d{4}$)/;if(n.test(t))return!1}return!0},tRe=function(t){return!!t&&t.nodeType===3},oH=function(t){var e,n,i,r=(n=(e=t?.tagName)===null||e===void 0?void 0:e.toLowerCase)===null||n===void 0?void 0:n.call(e),o=t instanceof HTMLElement?((i=t.getAttribute("contenteditable"))===null||i===void 0?void 0:i.toLowerCase())==="true":!1;return!eRe.includes(r)&&!o},sH=function(t){var e="";return oH(t)&&t.childNodes&&t.childNodes.length&&t.childNodes.forEach(function(n){var i="";tRe(n)?n.textContent&&(i=n.textContent):i=sH(n),e+=i.split(/(\s+)/).filter(Ore).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),e},nRe=function(t,e){return t.getAttributeNames().reduce(function(n,i){if(i.startsWith(e)){var r=i.replace(e,""),o=t.getAttribute(i);r&&(n[r]=o||"")}return n},{})},iRe=function(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0},Rre=function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return iRe(i)||(e[n]=i),e},{})},Bre=function(t){var e=t.parentElement;if(!e)return"";var n;try{n=e.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch{n=null}if(n){var i=n.textContent||"";return Ore(i)?i:""}return Bre(e)};var RM=function(t,e){return t?e.some(function(n){var i;return(i=t?.matches)===null||i===void 0?void 0:i.call(t,n)})?t:RM(t?.parentElement,e):null},Fre=function(t){var e,n,i;if(!t)return{};var r=(i=(n=t?.tagName)===null||n===void 0?void 0:n.toLowerCase)===null||i===void 0?void 0:i.call(n),o=(e={},e[tH]=r,e[nH]=sH(t),e[iH]=window.location.href.split("?")[0],e);return Rre(o)},Nre=function(t){return new Promise(function(e,n){var i;try{var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.addEventListener("load",function(){e({status:!0})},{once:!0}),r.addEventListener("error",function(){n({status:!1,message:"Failed to load the script ".concat(t)})}),(i=document.head)===null||i===void 0||i.appendChild(r)}catch(o){n(o)}})};function Lre(){return"".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9))}var fd=function(t){return!(t.event.target===null||!t.closestTrackedAncestor)},vm=function(t,e,n){var i,r,o,s=(o=(r=e?.tagName)===null||r===void 0?void 0:r.toLowerCase)===null||o===void 0?void 0:o.call(r),a=typeof e.getBoundingClientRect=="function"?e.getBoundingClientRect():{left:null,top:null},l=e.getAttribute("aria-label"),c=nRe(e,n),d=Bre(e),u=(i={},i[Are]=e.getAttribute("id")||"",i[gre]=e.getAttribute("class"),i[vre]=Dre(e),i[tH]=s,i[nH]=sH(e),i[bre]=a.left==null?null:Math.round(a.left),i[yre]=a.top==null?null:Math.round(a.top),i[Cre]=l,i[wre]=c,i[Ere]=d,i[iH]=window.location.href.split("?")[0],i[xre]=typeof document<"u"&&document.title||"",i[Sre]=window.innerHeight,i[Tre]=window.innerWidth,i);return s==="a"&&t==="click"&&e instanceof HTMLAnchorElement&&(u[_re]=e.href),Rre(u)},Ru=function(t,e,n,i,r){r===void 0&&(r=!1);var o={event:t,timestamp:Date.now(),type:e};if(rRe(o)&&o.event.target!==null){if(r){var s=Pre(o.event.target,o.type);if(s)return o.closestTrackedAncestor=o.event.target,o.targetElementProperties=vm(o.type,o.closestTrackedAncestor,i),o}var a=RM(o.event.target,n);return a&&(o.closestTrackedAncestor=a,o.targetElementProperties=vm(o.type,a,i)),o}return o};function rRe(t){return t.type==="click"||t.type==="change"}var oRe=function(t,e){try{if(t.sourceType==="DOM_ELEMENT"){var n=document.documentElement;return t.scope&&e&&(n=e.closest(t.scope)),n&&t.selector?n.querySelector(t.selector):n}}catch{return}},aH=function(t,e){if(t.sourceType==="DOM_ELEMENT"){var n=oRe(t,e);return n?t.elementExtractType==="TEXT"?n.textContent:t.elementExtractType==="ATTRIBUTE"&&t.attribute?n.getAttribute(t.attribute):void 0:void 0}},Ure=function(t,e){t.forEach(function(n){if(typeof n!="string"&&n.actionType==="ATTACH_EVENT_PROPERTY"){var i=aH(n.dataSource,e.closestTrackedAncestor);e.targetElementProperties[n.destinationKey]=i}})};var Vre="1.9.0";var Hre=function(){function t(e){var n=e===void 0?{}:e,i=n.origin,r=i===void 0?pC:i,o=this;this.endpoint=pC,this.requestCallbacks={},this.onSelect=function(s){o.notify({action:"element-selected",data:s})},this.onTrack=function(s,a){s==="selector-mode-changed"?o.notify({action:"track-selector-mode-changed",data:a}):s==="selector-moved"&&o.notify({action:"track-selector-moved",data:a})},this.endpoint=r}return t.prototype.notify=function(e){var n,i,r,o;(i=(n=this.logger)===null||n===void 0?void 0:n.debug)===null||i===void 0||i.call(n,"Message sent: ",JSON.stringify(e)),(o=(r=window.opener)===null||r===void 0?void 0:r.postMessage)===null||o===void 0||o.call(r,e,this.endpoint)},t.prototype.sendRequest=function(e,n,i){var r=this;i===void 0&&(i={timeout:15e3});var o=Lre(),s={id:o,action:e,args:n},a=new Promise(function(l,c){r.requestCallbacks[o]={resolve:l,reject:c},r.notify(s),i?.timeout>0&&setTimeout(function(){c(new Error("".concat(e," timed out (id: ").concat(o,")"))),delete r.requestCallbacks[o]},i.timeout)});return a},t.prototype.handleResponse=function(e){var n;if(!this.requestCallbacks[e.id]){(n=this.logger)===null||n===void 0||n.warn("No callback found for request id: ".concat(e.id));return}this.requestCallbacks[e.id].resolve(e.responseData),delete this.requestCallbacks[e.id]},t.prototype.setup=function(e){var n=this,i=e===void 0?{}:e,r=i.logger,o=i.endpoint,s=i.isElementSelectable,a=i.cssSelectorAllowlist,l=i.actionClickAllowlist;this.logger=r,o&&this.endpoint===pC&&(this.endpoint=o);var c=null;window.addEventListener("message",function(d){var u,p,g,v,b;if((p=(u=n.logger)===null||u===void 0?void 0:u.debug)===null||p===void 0||p.call(u,"Message received: ",JSON.stringify(d)),n.endpoint===d.origin){var x=d?.data,T=x?.action;if(T)if("id"in x)(v=(g=n.logger)===null||g===void 0?void 0:g.debug)===null||v===void 0||v.call(g,"Received Response to previous request: ",JSON.stringify(d)),n.handleResponse(x);else if(T==="ping")n.notify({action:"pong"});else if(T==="initialize-visual-tagging-selector"){var k=x?.data;Nre(kre).then(function(){var U;c=(U=window?.amplitudeVisualTaggingSelector)===null||U===void 0?void 0:U.call(window,{getEventTagProps:Fre,isElementSelectable:function(D){return s?s(k?.actionType||"click",D):!0},onTrack:n.onTrack,onSelect:n.onSelect,visualHighlightClass:Mre,messenger:n,cssSelectorAllowlist:a,actionClickAllowlist:l,extractDataFromDataSource:aH,diagnostics:{autocapture:{version:Vre}}}),n.notify({action:"selector-loaded"})}).catch(function(){var U;(U=n.logger)===null||U===void 0||U.warn("Failed to initialize visual tagging selector")})}else T==="close-visual-tagging-selector"&&((b=c?.close)===null||b===void 0||b.call(c))}}),this.notify({action:"page-loaded"})},t}();var sRe=5;function Qre(t){var e=t.amplitude,n=t.allObservables,i=t.options,r=t.shouldTrackEvent,o=t.evaluateTriggers,s=n.clickObservable,a=s.pipe(Ah(),qe(function(u){var p=Et(u,2),g=p[0],v=p[1],b=g.event.target!==v.event.target,x=Math.abs(v.event.screenX-g.event.screenX)<=20&&Math.abs(v.event.screenY-g.event.screenY)<=20;return b&&!x})),l=s.pipe(so(i.debounceTime),se(function(){return"timeout"})),c=hi(a,l),d=s.pipe(gA(0),qe(fd),qe(function(u){return r("click",u.closestTrackedAncestor)}),se(function(u){return o(u)}),WO(c));return d.subscribe(function(u){var p,g,v=u.length>=sRe?fC:fC;try{for(var b=Xt(u),x=b.next();!x.done;x=b.next()){var T=x.value;e?.track(v,T.targetElementProperties)}}catch(k){p={error:k}}finally{try{x&&!x.done&&(g=b.return)&&g.call(b)}finally{if(p)throw p.error}}})}function jre(t){var e=t.amplitude,n=t.allObservables,i=t.getEventProperties,r=t.shouldTrackEvent,o=t.evaluateTriggers,s=n.changeObservable,a=s.pipe(qe(fd),qe(function(l){return r("change",l.closestTrackedAncestor)}),se(function(l){return o(l)}));return a.subscribe(function(l){e?.track(mre,i("change",l.closestTrackedAncestor))})}function $re(t){var e=t.amplitude,n=t.allObservables,i=t.options,r=t.getEventProperties,o=t.shouldTrackEvent,s=t.shouldTrackActionClick,a=n.clickObservable,l=n.mutationObservable,c=n.navigateObservable,d=a.pipe(qe(function(v){return!o("click",v.closestTrackedAncestor)}),se(function(v){var b=RM(v.event.target,i.actionClickAllowlist);return v.closestTrackedAncestor=b,v.closestTrackedAncestor!==null&&(v.targetElementProperties=r(v.type,v.closestTrackedAncestor)),v}),qe(fd),qe(function(v){return s("click",v.closestTrackedAncestor)})),u=[l];c&&u.push(c);var p=hi.apply(void 0,Ln([],Et(u),!1)),g=d.pipe(nn(function(v){return p.pipe(Jt(1),zO({first:500,with:function(){return Ji}}),se(function(){return v}))}));return g.subscribe(function(v){e?.track(fC,r("click",v.closestTrackedAncestor))})}var BM=function(){return new Xe(function(t){var e=new MutationObserver(function(n){t.next(n)});return e.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return e.disconnect()}})},FM=function(t){return t===void 0&&(t="click"),ta(document,t,{capture:!0})};var zre=function(t,e){try{if(e.subprop_key==="[Amplitude] Element Text")return e.subprop_op==="is"&&e.subprop_value.includes(t.targetElementProperties["[Amplitude] Element Text"]);if(e.subprop_key==="[Amplitude] Element Hierarchy")return e.subprop_op==="autotrack css match"&&!!t.closestTrackedAncestor.closest(e.subprop_value.toString())}catch(n){return console.error("Error matching event to filter",n),!1}return!1};var lH={"[Amplitude] Element Clicked":"click","[Amplitude] Element Changed":"change"},cH=function(t){var e,n,i,r,o=Object.values(lH).reduce(function(g,v){return g[v]=new Set,g},{});if(!t)return o;try{for(var s=Xt(t),a=s.next();!a.done;a=s.next()){var l=a.value;try{try{for(var c=(i=void 0,Xt(l.definition)),d=c.next();!d.done;d=c.next()){var u=d.value,p=lH[u.event_type];p&&o[p].add(l.id)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}catch(g){console.warn("Skipping Labeled Event due to malformed definition",l?.id,g)}}}catch(g){e={error:g}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},dH=function(t){var e,n,i,r,o=new Map;try{for(var s=Xt(t),a=s.next();!a.done;a=s.next()){var l=a.value;try{for(var c=(i=void 0,Xt(l.conditions)),d=c.next();!d.done;d=c.next()){var u=d.value;if(u.type==="LABELED_EVENT"){var p=u.match.eventId,g=o.get(p);g||(g=[],o.set(p,g)),g.push(l)}}}catch(v){i={error:v}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},aRe=function(t,e){return e.filter(function(n){return n.definition.some(function(i){return lH[i.event_type]===t.type&&i.filters.every(function(r){return zre(t,r)})})})},lRe=function(t,e){var n,i,r,o,s=new Set;try{for(var a=Xt(t),l=a.next();!l.done;l=a.next()){var c=l.value,d=e.get(c.id);if(d)try{for(var u=(r=void 0,Xt(d)),p=u.next();!p.done;p=u.next()){var g=p.value;s.add(g)}}catch(v){r={error:v}}finally{try{p&&!p.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}}catch(v){n={error:v}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return Array.from(s)},cRe=function(){function t(e,n,i){this.groupedLabeledEvents=e,this.labeledEventToTriggerMap=n,this.options=i}return t.prototype.evaluate=function(e){var n,i,r=this.options.pageActions;if(!r)return e;var o=aRe(e,Array.from(this.groupedLabeledEvents[e.type]).map(function(d){return r.labeledEvents[d]})),s=lRe(o,this.labeledEventToTriggerMap);try{for(var a=Xt(s),l=a.next();!l.done;l=a.next()){var c=l.value;Ure(c.actions,e)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return e},t.prototype.update=function(e,n,i){this.groupedLabeledEvents=e,this.labeledEventToTriggerMap=n,this.options=i},t}();var Gre=function(t,e,n){return new cRe(t,e,n)};var pd=function(t){return t.ClickObservable="clickObservable",t.ChangeObservable="changeObservable",t.NavigateObservable="navigateObservable",t.MutationObservable="mutationObservable",t}(pd||{}),NM=function(t){var e,n,i,r,o,s,a;t===void 0&&(t={});var l=t.dataAttributePrefix,c=l===void 0?sC:l,d=t.visualTaggingOptions,u=d===void 0?{enabled:!0,messenger:new Hre}:d;t.cssSelectorAllowlist=(e=t.cssSelectorAllowlist)!==null&&e!==void 0?e:bV,t.actionClickAllowlist=(n=t.actionClickAllowlist)!==null&&n!==void 0?n:yV,t.debounceTime=(i=t.debounceTime)!==null&&i!==void 0?i:0;var p=ure,g="enrichment",v=[],b=function(){var Z,ne=FM().pipe(se(function(Ee){return Ru(Ee,"click",t.cssSelectorAllowlist,c)}),ss()),ee=ta(document,"change",{capture:!0}).pipe(se(function(Ee){return Ru(Ee,"change",t.cssSelectorAllowlist,c)}),ss()),he;window.navigation&&(he=ta(window.navigation,"navigate").pipe(se(function(Ee){return Ru(Ee,"navigate",t.cssSelectorAllowlist,c)}),ss()));var ge=BM().pipe(se(function(Ee){return Ru(Ee,"mutation",t.cssSelectorAllowlist,c)}),ss());return Z={},Z[pd.ClickObservable]=ne,Z[pd.ChangeObservable]=ee,Z[pd.NavigateObservable]=he,Z[pd.MutationObservable]=ge,Z},x=cH(Object.values((o=(r=t.pageActions)===null||r===void 0?void 0:r.labeledEvents)!==null&&o!==void 0?o:{})),T=dH((a=(s=t.pageActions)===null||s===void 0?void 0:s.triggers)!==null&&a!==void 0?a:[]),k=Gre(x,T,t),U=function(Z){var ne,ee;Z&&(t.pageActions=xe(xe({},t.pageActions),Z),x=cH(Object.values((ne=t.pageActions.labeledEvents)!==null&&ne!==void 0?ne:{})),T=dH((ee=t.pageActions.triggers)!==null&&ee!==void 0?ee:[]),k.update(x,T,t))},D=function(Z,ne){return pe(void 0,void 0,void 0,function(){var ee,he,ge,Ee,St,qt,bt,pt,jt,wn;return me(this,function(it){return typeof document>"u"?[2]:(Z.fetchRemoteConfig&&dre({localConfig:Z,configKeys:["analyticsSDK.pageActions"]}).then(function(Lt){return pe(void 0,void 0,void 0,function(){var Pe,Ut,vn;return me(this,function(qn){switch(qn.label){case 0:return qn.trys.push([0,2,,3]),[4,Lt.getRemoteConfig("analyticsSDK","pageActions")];case 1:return Pe=qn.sent(),U(Pe),[3,3];case 2:return Ut=qn.sent(),(vn=Z?.loggerProvider)===null||vn===void 0||vn.error("Failed to fetch remote config: ".concat(String(Ut))),[3,3];case 3:return[2]}})})}).catch(function(Lt){var Pe;(Pe=Z?.loggerProvider)===null||Pe===void 0||Pe.error("Failed to create remote config fetch: ".concat(String(Lt)))}),ee=_m(t,t.cssSelectorAllowlist),he=_m(t,t.actionClickAllowlist),ge=b(),Ee=Qre({allObservables:ge,options:t,amplitude:ne,shouldTrackEvent:ee,evaluateTriggers:k.evaluate.bind(k)}),v.push(Ee),St=jre({allObservables:ge,getEventProperties:function(){for(var Lt=[],Pe=0;Pe<arguments.length;Pe++)Lt[Pe]=arguments[Pe];return vm.apply(void 0,Ln(Ln([],Et(Lt),!1),[c],!1))},amplitude:ne,shouldTrackEvent:ee,evaluateTriggers:k.evaluate.bind(k)}),v.push(St),qt=$re({allObservables:ge,options:t,getEventProperties:function(){for(var Lt=[],Pe=0;Pe<arguments.length;Pe++)Lt[Pe]=arguments[Pe];return vm.apply(void 0,Ln(Ln([],Et(Lt),!1),[c],!1))},amplitude:ne,shouldTrackEvent:ee,shouldTrackActionClick:he}),v.push(qt),(jt=Z?.loggerProvider)===null||jt===void 0||jt.log("".concat(p," has been successfully added.")),window.opener&&u.enabled&&(bt=t.cssSelectorAllowlist,pt=t.actionClickAllowlist,(wn=u.messenger)===null||wn===void 0||wn.setup(xe(xe({logger:Z?.loggerProvider},Z?.serverZone&&{endpoint:Ire[Z.serverZone]}),{isElementSelectable:_m(t,Ln(Ln([],Et(bt),!1),Et(pt),!1)),cssSelectorAllowlist:bt,actionClickAllowlist:pt}))),[2])})})},N=function(Z){return pe(void 0,void 0,void 0,function(){return me(this,function(ne){return[2,Z]})})},z=function(){return pe(void 0,void 0,void 0,function(){var Z,ne,ee,he,ge;return me(this,function(Ee){try{for(Z=Xt(v),ne=Z.next();!ne.done;ne=Z.next())ee=ne.value,ee.unsubscribe()}catch(St){he={error:St}}finally{try{ne&&!ne.done&&(ge=Z.return)&&ge.call(Z)}finally{if(he)throw he.error}}return[2]})})};return{name:p,type:g,setup:D,execute:N,teardown:z}};var Wre=3e3;function Kre(t){var e=t.amplitude,n=t.allObservables,i=t.getEventProperties,r=t.shouldTrackDeadClick,o=n.clickObservable,s=n.mutationObservable,a=n.navigateObservable,l=o.pipe(qe(fd),qe(function(p){return r("click",p.closestTrackedAncestor)})),c=[s];a&&c.push(a);var d=hi.apply(void 0,Ln([],Et(c),!1)),u=l.pipe(ni(function(p){var g,v=new Xe(function(b){return g=setTimeout(function(){return b.next(p)},Wre),function(){clearTimeout(g)}});return GO(v,d.pipe(Jt(1),se(function(){return null}))).pipe(qe(function(b){return b!==null}))}),xx(Wre));return u.subscribe(function(p){var g={"[Amplitude] X":p.event.clientX,"[Amplitude] Y":p.event.clientY};e.track(fre,xe(xe({},i("click",p.closestTrackedAncestor)),g),{time:p.timestamp})})}var dRe=xV,uRe=EV;function qre(t){var e=t.amplitude,n=t.allObservables,i=t.shouldTrackRageClick,r=n.clickObservable,o=[];return r.pipe(qe(fd),qe(function(s){return i("click",s.closestTrackedAncestor)}),se(function(s){var a=s.timestamp;o.length>0&&o[o.length-1].closestTrackedAncestor!==s.closestTrackedAncestor&&o.splice(0,o.length);for(var l=0;l<o.length&&!(a-o[l].timestamp<uRe);l++);if(o.splice(0,l),o.push(s),o.length<dRe)return null;var c=o[0],d=o[o.length-1],u=xe({"[Amplitude] Begin Time":new Date(c.timestamp).toISOString(),"[Amplitude] End Time":new Date(d.timestamp).toISOString(),"[Amplitude] Duration":d.timestamp-c.timestamp,"[Amplitude] Clicks":o.map(function(p){return{X:p.event.clientX,Y:p.event.clientY,Time:p.timestamp}}),"[Amplitude] Click Count":o.length},c.targetElementProperties);return o.splice(0,o.length),{rageClickEvent:u,time:c.timestamp}}),qe(function(s){return s!==null})).subscribe(function(s){s!==null&&e.track(pre,s.rageClickEvent,{time:s.time})})}var uH=function(t){var e,n,i,r,o;t===void 0&&(t={});var s=hre,a="enrichment",l=[],c=(n=(e=t.rageClicks)===null||e===void 0?void 0:e.cssSelectorAllowlist)!==null&&n!==void 0?n:wV,d=(r=(i=t.deadClicks)===null||i===void 0?void 0:i.cssSelectorAllowlist)!==null&&r!==void 0?r:CV,u=(o=t.dataAttributePrefix)!==null&&o!==void 0?o:sC,p=Ln([],Et(new Set(Ln(Ln([],Et(c),!1),Et(d),!1))),!1),g=function(){var T,k=FM("pointerdown").pipe(se(function(N){return Ru(N,"click",p,u,!0)}),ss()),U;window.navigation&&(U=ta(window.navigation,"navigate").pipe(se(function(N){return Ru(N,"navigate",p,u)}),ss()));var D=BM().pipe(se(function(N){return Ru(N,"mutation",p,u)}),ss());return T={},T[pd.ClickObservable]=k,T[pd.ChangeObservable]=new Xe,T[pd.NavigateObservable]=U,T[pd.MutationObservable]=D,T},v=function(T,k){return pe(void 0,void 0,void 0,function(){var U,D,N,z,Z,ne;return me(this,function(ee){return typeof document>"u"?[2]:(U=_m(t,c),D=_m(t,d),N=g(),z=qre({allObservables:N,amplitude:k,shouldTrackRageClick:U}),l.push(z),Z=Kre({amplitude:k,allObservables:N,getEventProperties:function(he,ge){return vm(he,ge,u)},shouldTrackDeadClick:D}),l.push(Z),(ne=T?.loggerProvider)===null||ne===void 0||ne.log("".concat(s," has been successfully added.")),[2])})})},b=function(T){return pe(void 0,void 0,void 0,function(){return me(this,function(k){return[2,T]})})},x=function(){return pe(void 0,void 0,void 0,function(){var T,k,U,D,N;return me(this,function(z){try{for(T=Xt(l),k=T.next();!k.done;k=T.next())U=k.value,U.unsubscribe()}catch(Z){D={error:Z}}finally{try{k&&!k.done&&(N=T.return)&&N.call(T)}finally{if(D)throw D.error}}return[2]})})};return{name:s,type:a,setup:v,execute:b,teardown:x}};var Yre="@amplitude/plugin-network-capture-browser",hH="[Amplitude] Network Request";var Xre="500-599";function LM(t,e){var n=e.replace(/[-[\]{}()+?.,\\^$|#\s]/g,"\\$&"),i="^"+n.replace(/\*/g,".*")+"$",r=new RegExp(i);return r.test(t)}function Zre(t,e){var n,i,r=e.split(",");try{for(var o=Xt(r),s=o.next();!s.done;s=o.next()){var a=s.value,l=Et(a.split("-").map(Number),2),c=l[0],d=l[1];if(t===c&&d===void 0||t>=c&&t<=d)return!0}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return!1}function fRe(t,e,n){if(!(t.hosts&&!t.hosts.find(function(r){return LM(e,r)}))){if(n||n===0){var i=t.statusCodeRange||Xre;if(!Zre(n,i))return!1}return!0}}function Jre(t){var e;if(t)try{var n=(e=On())===null||e===void 0?void 0:e.location.href,i=new URL(t,n),r=i.searchParams.toString(),o=i.hash.replace("#",""),s=i.href,a=i.host;i.hash="",i.search="";var l=i.href;return{query:r,fragment:o,href:s,hrefWithoutQueryOrHash:l,host:a}}catch{return}}function pRe(t,e){if(t.includes("amplitude.com"))try{var n=e.body;if(typeof n!="string")return!1;var i=JSON.parse(n),r=i.events;if(r.find(function(o){return o.event_type===hH}))return!0}catch{}return!1}function mRe(t,e){var n;e===void 0&&(e={});var i=Jre(t.url);if(!i)return!1;var r=i.host;if(e.ignoreAmplitudeRequests!==!1&&(LM(r,"*.amplitude.com")||LM(r,"amplitude.com"))||!((n=e.ignoreHosts)===null||n===void 0)&&n.find(function(s){return LM(r,s)})||!e.captureRules&&t.status!==void 0&&!Zre(t.status,Xre))return!1;if(e.captureRules){var o;if(Ln([],Et(e.captureRules),!1).reverse().find(function(s){return o=fRe(s,r,t.status),o!==void 0}),!o)return!1}return!(t.requestWrapper&&pRe(r,t.requestWrapper))}function eoe(t){var e=t.allObservables,n=t.networkTrackingOptions,i=t.amplitude,r=e.networkObservable,o=r.pipe(qe(function(s){return mRe(s.event,n)}));return o.subscribe(function(s){var a,l,c,d=s.event,u=Jre(d.url);if(u){var p=(l=d.responseWrapper)===null||l===void 0?void 0:l.bodySize,g=(c=d.requestWrapper)===null||c===void 0?void 0:c.bodySize,v=(a={},a["[Amplitude] URL"]=u.hrefWithoutQueryOrHash,a["[Amplitude] URL Query"]=u.query,a["[Amplitude] URL Fragment"]=u.fragment,a["[Amplitude] Request Method"]=d.method,a["[Amplitude] Status Code"]=d.status,a["[Amplitude] Start Time"]=d.startTime,a["[Amplitude] Completion Time"]=d.endTime,a["[Amplitude] Duration"]=d.duration,a["[Amplitude] Request Body Size"]=g,a["[Amplitude] Response Body Size"]=p,a["[Amplitude] Request Type"]=d.type,a);i?.track(hH,v)}})}var toe=function(t){return t.NetworkObservable="networkObservable",t}(toe||{}),UM=function(t){t===void 0&&(t={});var e=Yre,n="enrichment",i,r=[],o=function(d,u){var p={event:d,timestamp:Date.now(),type:u};return p},s=function(){var d,u=new Xe(function(p){var g=new SV(function(v){var b=o(v,"network");p.next(b)});return xM.subscribe(g,i),function(){xM.unsubscribe(g)}});return d={},d[toe.NetworkObservable]=u,d},a=function(d,u){return pe(void 0,void 0,void 0,function(){var p,g;return me(this,function(v){return typeof document>"u"?[2]:(p=s(),g=eoe({allObservables:p,networkTrackingOptions:t,amplitude:u}),r.push(g),i=d?.loggerProvider,i?.log("".concat(e," has been successfully added.")),[2])})})},l=function(d){return pe(void 0,void 0,void 0,function(){return me(this,function(u){return[2,d]})})},c=function(){return pe(void 0,void 0,void 0,function(){var d,u,p,g,v;return me(this,function(b){try{for(d=Xt(r),u=d.next();!u.done;u=d.next())p=u.value,p.unsubscribe()}catch(x){g={error:x}}finally{try{u&&!u.done&&(v=d.return)&&v.call(d)}finally{if(g)throw g.error}}return[2]})})};return{name:e,type:n,setup:a,execute:l,teardown:c}};var noe="web-vitals-browser",ioe="[Amplitude] Web Vitals";var hoe=-1,pv=t=>{addEventListener("pageshow",e=>{e.persisted&&(hoe=e.timeStamp,t(e))},!0)},md=(t,e,n,i)=>{let r,o;return s=>{e.value>=0&&(s||i)&&(o=e.value-(r??0),(o||r===void 0)&&(r=e.value,e.delta=o,e.rating=((a,l)=>a>l[1]?"poor":a>l[0]?"needs-improvement":"good")(e.value,n),t(e)))}},yH=t=>{requestAnimationFrame(()=>requestAnimationFrame(()=>t()))},CH=()=>{let t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},mC=()=>CH()?.activationStart??0,Ad=(t,e=-1)=>{let n=CH(),i="navigate";return hoe>=0?i="back-forward-cache":n&&(document.prerendering||mC()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:i}},fH=new WeakMap;function wH(t,e){return fH.get(t)||fH.set(t,new e),fH.get(t)}var mH=class{t;i=0;o=[];h(e){if(e.hadRecentInput)return;let n=this.o[0],i=this.o.at(-1);this.i&&n&&i&&e.startTime-i.startTime<1e3&&e.startTime-n.startTime<5e3?(this.i+=e.value,this.o.push(e)):(this.i=e.value,this.o=[e]),this.t?.(e)}},AC=(t,e,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let i=new PerformanceObserver(r=>{Promise.resolve().then(()=>{e(r.getEntries())})});return i.observe(V({type:t,buffered:!0},n)),i}}catch{}},EH=t=>{let e=!1;return()=>{e||(t(),e=!0)}},fv=-1,foe=new Set,roe=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,AH=t=>{if(document.visibilityState==="hidden"){if(t.type==="visibilitychange")for(let e of foe)e();isFinite(fv)||(fv=t.type==="visibilitychange"?t.timeStamp:0,removeEventListener("prerenderingchange",AH,!0))}},HM=()=>{if(fv<0){let t=mC();fv=(document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>t)[0]?.startTime)??roe(),addEventListener("visibilitychange",AH,!0),addEventListener("prerenderingchange",AH,!0),pv(()=>{setTimeout(()=>{fv=roe()})})}return{get firstHiddenTime(){return fv},onHidden(t){foe.add(t)}}},QM=t=>{document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},ooe=[1800,3e3],xH=(t,e={})=>{QM(()=>{let n=HM(),i,r=Ad("FCP"),o=AC("paint",s=>{for(let a of s)a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<n.firstHiddenTime&&(r.value=Math.max(a.startTime-mC(),0),r.entries.push(a),i(!0)))});o&&(i=md(t,r,ooe,e.reportAllChanges),pv(s=>{r=Ad("FCP"),i=md(t,r,ooe,e.reportAllChanges),yH(()=>{r.value=performance.now()-s.timeStamp,i(!0)})}))})},soe=[.1,.25],poe=(t,e={})=>{let n=HM();xH(EH(()=>{let i,r=Ad("CLS",0),o=wH(e,mH),s=l=>{for(let c of l)o.h(c);o.i>r.value&&(r.value=o.i,r.entries=o.o,i())},a=AC("layout-shift",s);a&&(i=md(t,r,soe,e.reportAllChanges),n.onHidden(()=>{s(a.takeRecords()),i(!0)}),pv(()=>{o.i=0,r=Ad("CLS",0),i=md(t,r,soe,e.reportAllChanges),yH(()=>i())}),setTimeout(i))}))},moe=0,pH=1/0,VM=0,ARe=t=>{for(let e of t)e.interactionId&&(pH=Math.min(pH,e.interactionId),VM=Math.max(VM,e.interactionId),moe=VM?(VM-pH)/7+1:0)},gH,aoe=()=>gH?moe:performance.interactionCount??0,gRe=()=>{"interactionCount"in performance||gH||(gH=AC("event",ARe,{type:"event",buffered:!0,durationThreshold:0}))},loe=0,vH=class{u=[];l=new Map;m;p;v(){loe=aoe(),this.u.length=0,this.l.clear()}L(){let e=Math.min(this.u.length-1,Math.floor((aoe()-loe)/50));return this.u[e]}h(e){if(this.m?.(e),!e.interactionId&&e.entryType!=="first-input")return;let n=this.u.at(-1),i=this.l.get(e.interactionId);if(i||this.u.length<10||e.duration>n.P){if(i?e.duration>i.P?(i.entries=[e],i.P=e.duration):e.duration===i.P&&e.startTime===i.entries[0].startTime&&i.entries.push(e):(i={id:e.interactionId,entries:[e],P:e.duration},this.l.set(i.id,i),this.u.push(i)),this.u.sort((r,o)=>o.P-r.P),this.u.length>10){let r=this.u.splice(10);for(let o of r)this.l.delete(o.id)}this.p?.(i)}}},Aoe=t=>{let e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(t=EH(t),addEventListener("visibilitychange",t,{once:!0,capture:!0}),e(()=>{t(),removeEventListener("visibilitychange",t,{capture:!0})}))},coe=[200,500],goe=(t,e={})=>{if(!globalThis.PerformanceEventTiming||!("interactionId"in PerformanceEventTiming.prototype))return;let n=HM();QM(()=>{gRe();let i,r=Ad("INP"),o=wH(e,vH),s=l=>{Aoe(()=>{for(let d of l)o.h(d);let c=o.L();c&&c.P!==r.value&&(r.value=c.P,r.entries=c.entries,i())})},a=AC("event",s,{durationThreshold:e.durationThreshold??40});i=md(t,r,coe,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{s(a.takeRecords()),i(!0)}),pv(()=>{o.v(),r=Ad("INP"),i=md(t,r,coe,e.reportAllChanges)}))})},_H=class{m;h(e){this.m?.(e)}},doe=[2500,4e3],voe=(t,e={})=>{QM(()=>{let n=HM(),i,r=Ad("LCP"),o=wH(e,_H),s=l=>{e.reportAllChanges||(l=l.slice(-1));for(let c of l)o.h(c),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-mC(),0),r.entries=[c],i())},a=AC("largest-contentful-paint",s);if(a){i=md(t,r,doe,e.reportAllChanges);let l=EH(()=>{s(a.takeRecords()),a.disconnect(),i(!0)}),c=d=>{d.isTrusted&&(Aoe(l),removeEventListener(d.type,c,{capture:!0}))};for(let d of["keydown","click","visibilitychange"])addEventListener(d,c,{capture:!0});pv(d=>{r=Ad("LCP"),i=md(t,r,doe,e.reportAllChanges),yH(()=>{r.value=performance.now()-d.timeStamp,i(!0)})})}})},uoe=[800,1800],bH=t=>{document.prerendering?QM(()=>bH(t)):document.readyState!=="complete"?addEventListener("load",()=>bH(t),!0):setTimeout(t)},_oe=(t,e={})=>{let n=Ad("TTFB"),i=md(t,n,uoe,e.reportAllChanges);bH(()=>{let r=CH();r&&(n.value=Math.max(r.responseStart-mC(),0),n.entries=[r],i(!0),pv(()=>{n=Ad("TTFB",0),i=md(t,n,uoe,e.reportAllChanges),i(!0)}))})};function vRe(t){var e,n=((e=t.entries[0])===null||e===void 0?void 0:e.startTime)||0;return performance.timeOrigin+n}function gC(t){return{value:t.value,rating:t.rating,delta:t.delta,navigationType:t.navigationType,id:t.id,timestamp:Math.floor(vRe(t)),navigationStart:Math.floor(performance.timeOrigin)}}var jM=function(){var t=null,e=On(),n=e?.document,i=e?.location,r=function(a,l){return pe(void 0,void 0,void 0,function(){var c,d,u;return me(this,function(p){return c=function(g){var v;if(!g)return"";var b=g;try{b=decodeURI(g)}catch(x){(v=a.loggerProvider)===null||v===void 0||v.error("Malformed URI sequence: ",x)}return b},n===void 0?[2]:(d=c(i?.href),u={"[Amplitude] Page Domain":i?.hostname||"","[Amplitude] Page Location":d,"[Amplitude] Page Path":c(i?.pathname),"[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":d.split("?")[0]},voe(function(g){u["[Amplitude] LCP"]=gC(g)}),xH(function(g){u["[Amplitude] FCP"]=gC(g)}),goe(function(g){u["[Amplitude] INP"]=gC(g)}),poe(function(g){u["[Amplitude] CLS"]=gC(g)}),_oe(function(g){u["[Amplitude] TTFB"]=gC(g)}),t=function(){n.visibilityState==="hidden"&&t&&(l.track(ioe,u),n.removeEventListener("visibilitychange",t),t=null)},n.addEventListener("visibilitychange",t),[2])})})},o=function(a){return pe(void 0,void 0,void 0,function(){return me(this,function(l){return[2,a]})})},s=function(){return pe(void 0,void 0,void 0,function(){return me(this,function(a){return t&&n?.removeEventListener("visibilitychange",t),[2]})})};return{name:noe,type:"enrichment",setup:r,execute:o,teardown:s}};var boe=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},_Re=function(t){return Object.values(t).every(function(e){return!e})},yoe=function(t,e,n,i,r){r===void 0&&(r=!0);var o=t.referrer,s=t.referring_domain,a=q_(t,["referrer","referring_domain"]),l=e||{},c=l.referrer,d=l.referring_domain,u=q_(l,["referrer","referring_domain"]);if(bRe(n.excludeReferrers,t.referring_domain))return i.debug("This is not a new campaign because ".concat(t.referring_domain," is in the exclude referrer list.")),!1;if(!r&&_Re(t)&&e)return i.debug("This is not a new campaign because this is a direct traffic in the same session."),!1;var p=JSON.stringify(a)!==JSON.stringify(u),g=boe(s||"")!==boe(d||""),v=!e||p||g;return v?i.debug("This is a new campaign. An $identify event will be sent."):i.debug("This is not a new campaign because it's the same as the previous one."),v},bRe=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(n){return n instanceof RegExp?n.test(e):n===e})},Coe=function(t,e){var n=xe(xe({},Am),t),i=Object.entries(n).reduce(function(r,o){var s,a=Et(o,2),l=a[0],c=a[1];return r.setOnce("initial_".concat(l),(s=c??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),c?r.set(l,c):r.unset(l)},new gf);return Jy(i)},woe=function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\."),"$"))]):[]};var Eoe=function(){function t(e,n){var i;this.shouldTrackNewCampaign=!1,this.options=xe({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:woe((i=n.cookieOptions)===null||i===void 0?void 0:i.domain)},e),this.storage=n.cookieStorage,this.storageKey=gV(n.apiKey,"MKTG"),this.currentCampaign=Am,this.sessionTimeout=n.sessionTimeout,this.lastEventTime=n.lastEventTime,this.logger=n.loggerProvider,n.loggerProvider.log("Installing web attribution tracking.")}return t.prototype.init=function(){return pe(this,void 0,void 0,function(){var e,n;return me(this,function(i){switch(i.label){case 0:return[4,this.fetchCampaign()];case 1:return n=Et.apply(void 0,[i.sent(),2]),this.currentCampaign=n[0],this.previousCampaign=n[1],e=this.lastEventTime?nC(this.sessionTimeout,this.lastEventTime):!0,yoe(this.currentCampaign,this.previousCampaign,this.options,this.logger,e)?(this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}})})},t.prototype.fetchCampaign=function(){return pe(this,void 0,void 0,function(){return me(this,function(e){switch(e.label){case 0:return[4,Promise.all([new TV().parse(),this.storage.get(this.storageKey)])];case 1:return[2,e.sent()]}})})},t.prototype.generateCampaignEvent=function(e){this.shouldTrackNewCampaign=!1;var n=Coe(this.currentCampaign,this.options);return e&&(n.event_id=e),n},t.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},t}();var xoe=function(t){xs(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,i,r){n===void 0&&(n="");var o,s;return arguments.length>2?(o=i,s=r):typeof i=="string"?(o=i,s=void 0):(o=i?.userId,s=i),Mo(this._init(xe(xe({},s),{userId:o,apiKey:n})))},e.prototype._init=function(n){var i,r,o;return pe(this,void 0,void 0,function(){var s,a,l,c,d,u,p,g=this;return me(this,function(v){switch(v.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,$ie(n.apiKey,n,this)]);case 1:return s=v.sent(),s.fetchRemoteConfig?(this.remoteConfigClient=new nV(s.apiKey,s.loggerProvider,s.serverZone),[4,new Promise(function(b){var x;(x=g.remoteConfigClient)===null||x===void 0||x.subscribe("configs.analyticsSDK.browserSDK","all",function(T,k,U){s.loggerProvider.debug("Remote configuration received:",JSON.stringify({remoteConfig:T,source:k,lastFetch:U},null,2)),T&&sre(T,s),b()})})]):[3,3];case 2:v.sent(),v.label=3;case 3:return[4,t.prototype._init.call(this,s)];case 4:return v.sent(),this.logBrowserOptions(s),IV(this.config.defaultTracking)?(a=kie(this.config),this.webAttribution=new Eoe(a,this.config),[4,this.webAttribution.init()]):[3,6];case 5:v.sent(),v.label=6;case 6:return l=_f(),c=l.ampTimestamp?Number(l.ampTimestamp):void 0,d=c?Date.now()<c:!0,u=d&&!Number.isNaN(Number(l.ampSessionId))?Number(l.ampSessionId):void 0,this.setSessionId((o=(r=(i=n.sessionId)!==null&&i!==void 0?i:u)!==null&&r!==void 0?r:this.config.sessionId)!==null&&o!==void 0?o:Date.now()),p=vf(n.instanceName),p.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===_V?[3,8]:[4,this.add(rre()).promise];case 7:v.sent(),v.label=8;case 8:return[4,this.add(new aV).promise];case 9:return v.sent(),[4,this.add(new Die).promise];case 10:return v.sent(),[4,this.add(new fV).promise];case 11:return v.sent(),ire(this.config),Cie(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(tre()).promise]):[3,13];case 12:v.sent(),v.label=13;case 13:return wie(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(ere()).promise]):[3,15];case 14:v.sent(),v.label=15;case 15:return kV(this.config.defaultTracking)?(this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(JV(Iie(this.config))).promise]):[3,17];case 16:v.sent(),v.label=17;case 17:return PV(this.config.autocapture)?(this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(NM(xie(this.config))).promise]):[3,19];case 18:v.sent(),v.label=19;case 19:return OV(this.config.autocapture)?(this.config.loggerProvider.debug("Adding frustration interactions plugin"),[4,this.add(uH(Sie(this.config))).promise]):[3,21];case 20:v.sent(),v.label=21;case 21:return DV(this.config.autocapture)?(this.config.loggerProvider.debug("Adding network tracking plugin"),[4,this.add(UM(Tie(this.config))).promise]):[3,23];case 22:v.sent(),v.label=23;case 23:return Eie(this.config.autocapture)?(this.config.loggerProvider.debug("Adding web vitals plugin"),[4,this.add(jM()).promise]):[3,25];case 24:v.sent(),v.label=25;case 25:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 26:return v.sent(),p.eventBridge.setEventReceiver(function(b){g.track(b.eventType,b.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.userId},e.prototype.setUserId=function(n){if(!this.config){this.q.push(this.setUserId.bind(this,n));return}this.config.loggerProvider.debug("function setUserId: ",n),(n!==this.config.userId||n===void 0)&&(this.config.userId=n,this.timeline.onIdentityChanged({userId:n}),uV(n,this.config.instanceName))},e.prototype.getDeviceId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.deviceId},e.prototype.setDeviceId=function(n){if(!this.config){this.q.push(this.setDeviceId.bind(this,n));return}this.config.loggerProvider.debug("function setDeviceId: ",n),n!==this.config.deviceId&&(this.config.deviceId=n,this.timeline.onIdentityChanged({deviceId:n}),hV(n,this.config.instanceName))},e.prototype.reset=function(){this.setDeviceId(es()),this.setUserId(void 0)},e.prototype.getIdentity=function(){var n,i;return{deviceId:(n=this.config)===null||n===void 0?void 0:n.deviceId,userId:(i=this.config)===null||i===void 0?void 0:i.userId,userProperties:this.userProperties}},e.prototype.getOptOut=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.optOut},e.prototype.getSessionId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.sessionId},e.prototype.setSessionId=function(n){var i,r=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,n)),Mo(Promise.resolve());if(n===this.config.sessionId)return Mo(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",n);var o=this.getSessionId();o!==n&&this.timeline.onSessionIdChanged(n);var s=this.config.lastEventTime,a=(i=this.config.lastEventId)!==null&&i!==void 0?i:-1;this.config.sessionId=n,this.config.lastEventTime=void 0,this.config.pageCounter=0,MV(this.config.defaultTracking)&&(o&&s&&r.push(this.track(LV,void 0,{device_id:this.previousSessionDeviceId,event_id:++a,session_id:o,time:s+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var l=this.trackCampaignEventIfNeeded(++a,r);return MV(this.config.defaultTracking)&&r.push(this.track(NV,void 0,{event_id:l?++a:a,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,Mo(Promise.all(r))},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(n){if(!this.config){this.q.push(this.setTransport.bind(this,n));return}this.config.transportProvider=UV(n)},e.prototype.identify=function(n,i){if(TM(n)){var r=n._q;n._q=[],n=SM(new gf,r)}return i?.user_id&&this.setUserId(i.user_id),i?.device_id&&this.setDeviceId(i.device_id),t.prototype.identify.call(this,n,i)},e.prototype.groupIdentify=function(n,i,r,o){if(TM(r)){var s=r._q;r._q=[],r=SM(new gf,s)}return t.prototype.groupIdentify.call(this,n,i,r,o)},e.prototype.revenue=function(n,i){if(TM(n)){var r=n._q;n._q=[],n=SM(new iV,r)}return t.prototype.revenue.call(this,n,i)},e.prototype.trackCampaignEventIfNeeded=function(n,i){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var r=this.webAttribution.generateCampaignEvent(n);return i?i.push(this.track(r).promise):this.track(r),this.config.loggerProvider.log("Tracking attribution."),!0},e.prototype.process=function(n){return pe(this,void 0,void 0,function(){var i,r,o;return me(this,function(s){return i=Date.now(),r=nC(this.config.sessionTimeout,this.config.lastEventTime),o=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),n.event_type!==NV&&n.event_type!==LV&&(!n.session_id||n.session_id===this.getSessionId())&&(r||o?(this.setSessionId(i),o&&this.config.loggerProvider.log("Created a new session for new campaign.")):r||this.trackCampaignEventIfNeeded()),n.event_type===ic.IDENTIFY&&n.user_properties&&(this.userProperties=this.getOperationAppliedUserProperties(n.user_properties)),[2,t.prototype.process.call(this,n)]})})},e.prototype.logBrowserOptions=function(n){try{var i=xe(xe({},n),{apiKey:n.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(i))}catch(r){this.config.loggerProvider.error("Error logging browser config",r)}},e}(tV);var yRe=function(){var t=new xoe;return{init:qi(t.init.bind(t),"init",Wi(t),Ki(t,["config"])),add:qi(t.add.bind(t),"add",Wi(t),Ki(t,["config.apiKey","timeline.plugins"])),remove:qi(t.remove.bind(t),"remove",Wi(t),Ki(t,["config.apiKey","timeline.plugins"])),track:qi(t.track.bind(t),"track",Wi(t),Ki(t,["config.apiKey","timeline.queue.length"])),logEvent:qi(t.logEvent.bind(t),"logEvent",Wi(t),Ki(t,["config.apiKey","timeline.queue.length"])),identify:qi(t.identify.bind(t),"identify",Wi(t),Ki(t,["config.apiKey","timeline.queue.length"])),groupIdentify:qi(t.groupIdentify.bind(t),"groupIdentify",Wi(t),Ki(t,["config.apiKey","timeline.queue.length"])),setGroup:qi(t.setGroup.bind(t),"setGroup",Wi(t),Ki(t,["config.apiKey","timeline.queue.length"])),revenue:qi(t.revenue.bind(t),"revenue",Wi(t),Ki(t,["config.apiKey","timeline.queue.length"])),flush:qi(t.flush.bind(t),"flush",Wi(t),Ki(t,["config.apiKey","timeline.queue.length"])),getUserId:qi(t.getUserId.bind(t),"getUserId",Wi(t),Ki(t,["config","config.userId"])),setUserId:qi(t.setUserId.bind(t),"setUserId",Wi(t),Ki(t,["config","config.userId"])),getDeviceId:qi(t.getDeviceId.bind(t),"getDeviceId",Wi(t),Ki(t,["config","config.deviceId"])),setDeviceId:qi(t.setDeviceId.bind(t),"setDeviceId",Wi(t),Ki(t,["config","config.deviceId"])),reset:qi(t.reset.bind(t),"reset",Wi(t),Ki(t,["config","config.userId","config.deviceId"])),getSessionId:qi(t.getSessionId.bind(t),"getSessionId",Wi(t),Ki(t,["config"])),setSessionId:qi(t.setSessionId.bind(t),"setSessionId",Wi(t),Ki(t,["config"])),extendSession:qi(t.extendSession.bind(t),"extendSession",Wi(t),Ki(t,["config"])),setOptOut:qi(t.setOptOut.bind(t),"setOptOut",Wi(t),Ki(t,["config"])),setTransport:qi(t.setTransport.bind(t),"setTransport",Wi(t),Ki(t,["config"])),getIdentity:qi(t.getIdentity.bind(t),"getIdentity",Wi(t),Ki(t,["config"])),getOptOut:qi(t.getOptOut.bind(t),"getOptOut",Wi(t),Ki(t,["config"]))}},Or=yRe();var EEt=Or.add,xEt=Or.extendSession,SEt=Or.flush,TEt=Or.getDeviceId,IEt=Or.getSessionId,kEt=Or.getUserId,MEt=Or.groupIdentify,DEt=Or.identify,Soe=Or.init,PEt=Or.logEvent,OEt=Or.remove,REt=Or.reset,BEt=Or.revenue,FEt=Or.setDeviceId,NEt=Or.setGroup,LEt=Or.setOptOut,UEt=Or.setSessionId,VEt=Or.setTransport,Toe=Or.setUserId,Ioe=Or.track;var Bu=class extends Error{},$M=class extends Bu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},zM=class extends Bu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},GM=class extends Bu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},rc=class extends Bu{},mv=class extends Bu{constructor(e){super(`Invalid unit ${e}`)}},Ar=class extends Bu{},oc=class extends Bu{constructor(){super("Zone is an abstract class")}};var Qe="numeric",sc="short",xa="long",bf={year:Qe,month:Qe,day:Qe},vC={year:Qe,month:sc,day:Qe},SH={year:Qe,month:sc,day:Qe,weekday:sc},_C={year:Qe,month:xa,day:Qe},bC={year:Qe,month:xa,day:Qe,weekday:xa},yC={hour:Qe,minute:Qe},CC={hour:Qe,minute:Qe,second:Qe},wC={hour:Qe,minute:Qe,second:Qe,timeZoneName:sc},EC={hour:Qe,minute:Qe,second:Qe,timeZoneName:xa},xC={hour:Qe,minute:Qe,hourCycle:"h23"},SC={hour:Qe,minute:Qe,second:Qe,hourCycle:"h23"},TC={hour:Qe,minute:Qe,second:Qe,hourCycle:"h23",timeZoneName:sc},IC={hour:Qe,minute:Qe,second:Qe,hourCycle:"h23",timeZoneName:xa},kC={year:Qe,month:Qe,day:Qe,hour:Qe,minute:Qe},MC={year:Qe,month:Qe,day:Qe,hour:Qe,minute:Qe,second:Qe},DC={year:Qe,month:sc,day:Qe,hour:Qe,minute:Qe},PC={year:Qe,month:sc,day:Qe,hour:Qe,minute:Qe,second:Qe},TH={year:Qe,month:sc,day:Qe,weekday:sc,hour:Qe,minute:Qe},OC={year:Qe,month:xa,day:Qe,hour:Qe,minute:Qe,timeZoneName:sc},RC={year:Qe,month:xa,day:Qe,hour:Qe,minute:Qe,second:Qe,timeZoneName:sc},BC={year:Qe,month:xa,day:Qe,weekday:xa,hour:Qe,minute:Qe,timeZoneName:xa},FC={year:Qe,month:xa,day:Qe,weekday:xa,hour:Qe,minute:Qe,second:Qe,timeZoneName:xa};var Sa=class{get type(){throw new oc}get name(){throw new oc}get ianaName(){return this.name}get isUniversal(){throw new oc}offsetName(e,n){throw new oc}formatOffset(e,n){throw new oc}offset(e){throw new oc}equals(e){throw new oc}get isValid(){throw new oc}};var IH=null,bm=class t extends Sa{static get instance(){return IH===null&&(IH=new t),IH}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return KM(e,n,i)}formatOffset(e,n){return yf(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}};var MH=new Map;function wRe(t){let e=MH.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),MH.set(t,e)),e}var ERe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function xRe(t,e){let n=t.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,o,s,a,l,c,d]=i;return[s,r,o,a,l,c,d]}function SRe(t,e){let n=t.formatToParts(e),i=[];for(let r=0;r<n.length;r++){let{type:o,value:s}=n[r],a=ERe[o];o==="era"?i[a]=s:wt(a)||(i[a]=parseInt(s,10))}return i}var kH=new Map,gs=class t extends Sa{static create(e){let n=kH.get(e);return n===void 0&&kH.set(e,n=new t(e)),n}static resetCache(){kH.clear(),MH.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=t.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:i}){return KM(e,n,i,this.name)}formatOffset(e,n){return yf(this.offset(e),n)}offset(e){if(!this.valid)return NaN;let n=new Date(e);if(isNaN(n))return NaN;let i=wRe(this.name),[r,o,s,a,l,c,d]=i.formatToParts?SRe(i,n):xRe(i,n);a==="BC"&&(r=-Math.abs(r)+1);let p=Av({year:r,month:o,day:s,hour:l===24?0:l,minute:c,second:d,millisecond:0}),g=+n,v=g%1e3;return g-=v>=0?v:1e3+v,(p-g)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}};var koe={};function TRe(t,e={}){let n=JSON.stringify([t,e]),i=koe[n];return i||(i=new Intl.ListFormat(t,e),koe[n]=i),i}var DH=new Map;function PH(t,e={}){let n=JSON.stringify([t,e]),i=DH.get(n);return i===void 0&&(i=new Intl.DateTimeFormat(t,e),DH.set(n,i)),i}var OH=new Map;function IRe(t,e={}){let n=JSON.stringify([t,e]),i=OH.get(n);return i===void 0&&(i=new Intl.NumberFormat(t,e),OH.set(n,i)),i}var RH=new Map;function kRe(t,e={}){let s=e,{base:n}=s,i=gc(s,["base"]),r=JSON.stringify([t,i]),o=RH.get(r);return o===void 0&&(o=new Intl.RelativeTimeFormat(t,e),RH.set(r,o)),o}var NC=null;function MRe(){return NC||(NC=new Intl.DateTimeFormat().resolvedOptions().locale,NC)}var BH=new Map;function Moe(t){let e=BH.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),BH.set(t,e)),e}var FH=new Map;function DRe(t){let e=FH.get(t);if(!e){let n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,"minimalDays"in e||(e=V(V({},Doe),e)),FH.set(t,e)}return e}function PRe(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let n=t.indexOf("-u-");if(n===-1)return[t];{let i,r;try{i=PH(t).resolvedOptions(),r=t}catch{let l=t.substring(0,n);i=PH(l).resolvedOptions(),r=l}let{numberingSystem:o,calendar:s}=i;return[r,o,s]}}function ORe(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function RRe(t){let e=[];for(let n=1;n<=12;n++){let i=ot.utc(2009,n,1);e.push(t(i))}return e}function BRe(t){let e=[];for(let n=1;n<=7;n++){let i=ot.utc(2016,11,13+n);e.push(t(i))}return e}function qM(t,e,n,i){let r=t.listingMode();return r==="error"?null:r==="en"?n(e):i(e)}function FRe(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||Moe(t.locale).numberingSystem==="latn"}var NH=class{constructor(e,n,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;let a=i,{padTo:r,floor:o}=a,s=gc(a,["padTo","floor"]);if(!n||Object.keys(s).length>0){let l=V({useGrouping:!1},i);i.padTo>0&&(l.minimumIntegerDigits=i.padTo),this.inf=IRe(e,l)}}format(e){if(this.inf){let n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{let n=this.floor?Math.floor(e):gv(e,3);return nr(n,this.padTo)}}},LH=class{constructor(e,n,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){let s=-1*(e.offset/60),a=s>=0?`Etc/GMT+${s}`:`Etc/GMT${s}`;e.offset!==0&&gs.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);let o=V({},this.opts);o.timeZone=o.timeZone||r,this.dtf=PH(n,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){let e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){let i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return De(V({},n),{value:i})}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}},UH=class{constructor(e,n,i){this.opts=V({style:"long"},i),!n&&YM()&&(this.rtf=kRe(e,i))}format(e,n){return this.rtf?this.rtf.format(e,n):Poe(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}},Doe={firstDay:1,minimalDays:4,weekend:[6,7]},Bn=class t{static fromOpts(e){return t.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,i,r,o=!1){let s=e||Rn.defaultLocale,a=s||(o?"en-US":MRe()),l=n||Rn.defaultNumberingSystem,c=i||Rn.defaultOutputCalendar,d=LC(r)||Rn.defaultWeekSettings;return new t(a,l,c,d,s)}static resetCache(){NC=null,DH.clear(),OH.clear(),RH.clear(),BH.clear(),FH.clear()}static fromObject({locale:e,numberingSystem:n,outputCalendar:i,weekSettings:r}={}){return t.create(e,n,i,r)}constructor(e,n,i,r,o){let[s,a,l]=PRe(e);this.locale=s,this.numberingSystem=n||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=ORe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=FRe(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:t.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,LC(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone(De(V({},e),{defaultToEN:!0}))}redefaultToSystem(e={}){return this.clone(De(V({},e),{defaultToEN:!1}))}months(e,n=!1){return qM(this,e,VH,()=>{let i=this.intl==="ja"||this.intl.startsWith("ja-");n&=!i;let r=n?{month:e,day:"numeric"}:{month:e},o=n?"format":"standalone";if(!this.monthsCache[o][e]){let s=i?a=>this.dtFormatter(a,r).format():a=>this.extract(a,r,"month");this.monthsCache[o][e]=RRe(s)}return this.monthsCache[o][e]})}weekdays(e,n=!1){return qM(this,e,HH,()=>{let i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=BRe(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return qM(this,void 0,()=>QH,()=>{if(!this.meridiemCache){let e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ot.utc(2016,11,13,9),ot.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return qM(this,e,jH,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[ot.utc(-40,1,1),ot.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,n,i){let r=this.dtFormatter(e,n),o=r.formatToParts(),s=o.find(a=>a.type.toLowerCase()===i);return s?s.value:null}numberFormatter(e={}){return new NH(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new LH(e,this.intl,n)}relFormatter(e={}){return new UH(this.intl,this.isEnglish(),e)}listFormatter(e={}){return TRe(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||Moe(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:XM()?DRe(this.locale):Doe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}};var zH=null,Po=class t extends Sa{static get utcInstance(){return zH===null&&(zH=new t(0)),zH}static instance(e){return e===0?t.utcInstance:new t(e)}static parseSpecifier(e){if(e){let n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new t(ym(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${yf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${yf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return yf(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}};var UC=class extends Sa{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function ac(t,e){let n;if(wt(t)||t===null)return e;if(t instanceof Sa)return t;if(Ooe(t)){let i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?bm.instance:i==="utc"||i==="gmt"?Po.utcInstance:Po.parseSpecifier(i)||gs.create(t)}else return lc(t)?Po.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new UC(t)}var WH={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Roe={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},NRe=WH.hanidec.replace(/[\[|\]]/g,"").split("");function Boe(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(t[n].search(WH.hanidec)!==-1)e+=NRe.indexOf(t[n]);else for(let r in Roe){let[o,s]=Roe[r];i>=o&&i<=s&&(e+=i-o)}}return parseInt(e,10)}else return e}var GH=new Map;function Foe(){GH.clear()}function hl({numberingSystem:t},e=""){let n=t||"latn",i=GH.get(n);i===void 0&&(i=new Map,GH.set(n,i));let r=i.get(e);return r===void 0&&(r=new RegExp(`${WH[n]}${e}`),i.set(e,r)),r}var Noe=()=>Date.now(),Loe="system",Uoe=null,Voe=null,Hoe=null,Qoe=60,joe,$oe=null,Rn=class{static get now(){return Noe}static set now(e){Noe=e}static set defaultZone(e){Loe=e}static get defaultZone(){return ac(Loe,bm.instance)}static get defaultLocale(){return Uoe}static set defaultLocale(e){Uoe=e}static get defaultNumberingSystem(){return Voe}static set defaultNumberingSystem(e){Voe=e}static get defaultOutputCalendar(){return Hoe}static set defaultOutputCalendar(e){Hoe=e}static get defaultWeekSettings(){return $oe}static set defaultWeekSettings(e){$oe=LC(e)}static get twoDigitCutoffYear(){return Qoe}static set twoDigitCutoffYear(e){Qoe=e%100}static get throwOnInvalid(){return joe}static set throwOnInvalid(e){joe=e}static resetCaches(){Bn.resetCache(),gs.resetCache(),ot.resetCache(),Foe()}};var Oo=class{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var zoe=[0,31,59,90,120,151,181,212,243,273,304,334],Goe=[0,31,60,91,121,152,182,213,244,274,305,335];function fl(t,e){return new Oo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function ZM(t,e,n){let i=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);let r=i.getUTCDay();return r===0?7:r}function Woe(t,e,n){return n+(wm(t)?Goe:zoe)[e-1]}function Koe(t,e){let n=wm(t)?Goe:zoe,i=n.findIndex(o=>o<e),r=e-n[i];return{month:i+1,day:r}}function JM(t,e){return(t-e+7)%7+1}function VC(t,e=4,n=1){let{year:i,month:r,day:o}=t,s=Woe(i,r,o),a=JM(ZM(i,r,o),n),l=Math.floor((s-a+14-e)/7),c;return l<1?(c=i-1,l=Cm(c,e,n)):l>Cm(i,e,n)?(c=i+1,l=1):c=i,V({weekYear:c,weekNumber:l,weekday:a},QC(t))}function KH(t,e=4,n=1){let{weekYear:i,weekNumber:r,weekday:o}=t,s=JM(ZM(i,1,e),n),a=Cf(i),l=r*7+o-s-7+e,c;l<1?(c=i-1,l+=Cf(c)):l>a?(c=i+1,l-=Cf(i)):c=i;let{month:d,day:u}=Koe(c,l);return V({year:c,month:d,day:u},QC(t))}function e1(t){let{year:e,month:n,day:i}=t,r=Woe(e,n,i);return V({year:e,ordinal:r},QC(t))}function qH(t){let{year:e,ordinal:n}=t,{month:i,day:r}=Koe(e,n);return V({year:e,month:i,day:r},QC(t))}function YH(t,e){if(!wt(t.localWeekday)||!wt(t.localWeekNumber)||!wt(t.localWeekYear)){if(!wt(t.weekday)||!wt(t.weekNumber)||!wt(t.weekYear))throw new rc("Cannot mix locale-based week fields with ISO-based week fields");return wt(t.localWeekday)||(t.weekday=t.localWeekday),wt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),wt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function qoe(t,e=4,n=1){let i=HC(t.weekYear),r=Ta(t.weekNumber,1,Cm(t.weekYear,e,n)),o=Ta(t.weekday,1,7);return i?r?o?!1:fl("weekday",t.weekday):fl("week",t.weekNumber):fl("weekYear",t.weekYear)}function Yoe(t){let e=HC(t.year),n=Ta(t.ordinal,1,Cf(t.year));return e?n?!1:fl("ordinal",t.ordinal):fl("year",t.year)}function XH(t){let e=HC(t.year),n=Ta(t.month,1,12),i=Ta(t.day,1,vv(t.year,t.month));return e?n?i?!1:fl("day",t.day):fl("month",t.month):fl("year",t.year)}function ZH(t){let{hour:e,minute:n,second:i,millisecond:r}=t,o=Ta(e,0,23)||e===24&&n===0&&i===0&&r===0,s=Ta(n,0,59),a=Ta(i,0,59),l=Ta(r,0,999);return o?s?a?l?!1:fl("millisecond",r):fl("second",i):fl("minute",n):fl("hour",e)}function wt(t){return typeof t>"u"}function lc(t){return typeof t=="number"}function HC(t){return typeof t=="number"&&t%1===0}function Ooe(t){return typeof t=="string"}function Zoe(t){return Object.prototype.toString.call(t)==="[object Date]"}function YM(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function XM(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Joe(t){return Array.isArray(t)?t:[t]}function JH(t,e,n){if(t.length!==0)return t.reduce((i,r)=>{let o=[e(r),r];return i&&n(i[0],o[0])===i[0]?i:o},null)[1]}function ese(t,e){return e.reduce((n,i)=>(n[i]=t[i],n),{})}function wf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function LC(t){if(t==null)return null;if(typeof t!="object")throw new Ar("Week settings must be an object");if(!Ta(t.firstDay,1,7)||!Ta(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ta(e,1,7)))throw new Ar("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ta(t,e,n){return HC(t)&&t>=e&&t<=n}function LRe(t,e){return t-e*Math.floor(t/e)}function nr(t,e=2){let n=t<0,i;return n?i="-"+(""+-t).padStart(e,"0"):i=(""+t).padStart(e,"0"),i}function Fu(t){if(!(wt(t)||t===null||t===""))return parseInt(t,10)}function Ef(t){if(!(wt(t)||t===null||t===""))return parseFloat(t)}function jC(t){if(!(wt(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function gv(t,e,n="round"){let i=10**e;switch(n){case"expand":return t>0?Math.ceil(t*i)/i:Math.floor(t*i)/i;case"trunc":return Math.trunc(t*i)/i;case"round":return Math.round(t*i)/i;case"floor":return Math.floor(t*i)/i;case"ceil":return Math.ceil(t*i)/i;default:throw new RangeError(`Value rounding ${n} is out of range`)}}function wm(t){return t%4===0&&(t%100!==0||t%400===0)}function Cf(t){return wm(t)?366:365}function vv(t,e){let n=LRe(e-1,12)+1,i=t+(e-n)/12;return n===2?wm(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Av(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Xoe(t,e,n){return-JM(ZM(t,1,e),n)+e-1}function Cm(t,e=4,n=1){let i=Xoe(t,e,n),r=Xoe(t+1,e,n);return(Cf(t)-i+r)/7}function $C(t){return t>99?t:t>Rn.twoDigitCutoffYear?1900+t:2e3+t}function KM(t,e,n,i=null){let r=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(o.timeZone=i);let s=V({timeZoneName:e},o),a=new Intl.DateTimeFormat(n,s).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function ym(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);let i=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-i:i;return n*60+r}function eQ(t){let e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new Ar(`Invalid unit value ${t}`);return e}function _v(t,e){let n={};for(let i in t)if(wf(t,i)){let r=t[i];if(r==null)continue;n[e(i)]=eQ(r)}return n}function yf(t,e){let n=Math.trunc(Math.abs(t/60)),i=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${nr(n,2)}:${nr(i,2)}`;case"narrow":return`${r}${n}${i>0?`:${i}`:""}`;case"techie":return`${r}${nr(n,2)}${nr(i,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function QC(t){return ese(t,["hour","minute","second","millisecond"])}var URe=["January","February","March","April","May","June","July","August","September","October","November","December"],tQ=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],VRe=["J","F","M","A","M","J","J","A","S","O","N","D"];function VH(t){switch(t){case"narrow":return[...VRe];case"short":return[...tQ];case"long":return[...URe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var nQ=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],iQ=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],HRe=["M","T","W","T","F","S","S"];function HH(t){switch(t){case"narrow":return[...HRe];case"short":return[...iQ];case"long":return[...nQ];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var QH=["AM","PM"],QRe=["Before Christ","Anno Domini"],jRe=["BC","AD"],$Re=["B","A"];function jH(t){switch(t){case"narrow":return[...$Re];case"short":return[...jRe];case"long":return[...QRe];default:return null}}function tse(t){return QH[t.hour<12?0:1]}function nse(t,e){return HH(e)[t.weekday-1]}function ise(t,e){return VH(e)[t.month-1]}function rse(t,e){return jH(e)[t.year<0?0:1]}function Poe(t,e,n="always",i=!1){let r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&o){let u=t==="days";switch(e){case 1:return u?"tomorrow":`next ${r[t][0]}`;case-1:return u?"yesterday":`last ${r[t][0]}`;case 0:return u?"today":`this ${r[t][0]}`;default:}}let s=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[t],d=i?l?c[1]:c[2]||c[1]:l?r[t][0]:t;return s?`${a} ${d} ago`:`in ${a} ${d}`}function ose(t,e){let n="";for(let i of t)i.literal?n+=i.val:n+=e(i.val);return n}var zRe={D:bf,DD:vC,DDD:_C,DDDD:bC,t:yC,tt:CC,ttt:wC,tttt:EC,T:xC,TT:SC,TTT:TC,TTTT:IC,f:kC,ff:DC,fff:OC,ffff:BC,F:MC,FF:PC,FFF:RC,FFFF:FC},Ro=class t{static create(e,n={}){return new t(e,n)}static parseFormat(e){let n=null,i="",r=!1,o=[];for(let s=0;s<e.length;s++){let a=e.charAt(s);a==="'"?((i.length>0||r)&&o.push({literal:r||/^\s+$/.test(i),val:i===""?"'":i}),n=null,i="",r=!r):r||a===n?i+=a:(i.length>0&&o.push({literal:/^\s+$/.test(i),val:i}),i=a,n=a)}return i.length>0&&o.push({literal:r||/^\s+$/.test(i),val:i}),o}static macroTokenToFormatOpts(e){return zRe[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,V(V({},this.opts),n)).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,V(V({},this.opts),n))}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0,i=void 0){if(this.opts.forceSimple)return nr(e,n);let r=V({},this.opts);return n>0&&(r.padTo=n),i&&(r.signDisplay=i),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){let i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(g,v)=>this.loc.extract(e,g,v),s=g=>e.isOffsetFixed&&e.offset===0&&g.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,g.format):"",a=()=>i?tse(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(g,v)=>i?ise(e,g):o(v?{month:g}:{month:g,day:"numeric"},"month"),c=(g,v)=>i?nse(e,g):o(v?{weekday:g}:{weekday:g,month:"long",day:"numeric"},"weekday"),d=g=>{let v=t.macroTokenToFormatOpts(g);return v?this.formatWithSystemDefault(e,v):g},u=g=>i?rse(e,g):o({era:g},"era"),p=g=>{switch(g){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(g)}};return ose(t.parseFormat(n),p)}formatDurationFromString(e,n){let i=this.opts.signMode==="negativeLargestOnly"?-1:1,r=d=>{switch(d[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},o=(d,u)=>p=>{let g=r(p);if(g){let v=u.isNegativeDuration&&g!==u.largestUnit?i:1,b;return this.opts.signMode==="negativeLargestOnly"&&g!==u.largestUnit?b="never":this.opts.signMode==="all"?b="always":b="auto",this.num(d.get(g)*v,p.length,b)}else return p},s=t.parseFormat(n),a=s.reduce((d,{literal:u,val:p})=>u?d:d.concat(p),[]),l=e.shiftTo(...a.map(r).filter(d=>d)),c={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return ose(s,o(l,c))}};var ase=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function yv(...t){let e=t.reduce((n,i)=>n+i.source,"");return RegExp(`^${e}$`)}function Cv(...t){return e=>t.reduce(([n,i,r],o)=>{let[s,a,l]=o(e,r);return[V(V({},n),s),a||i,l]},[{},null,1]).slice(0,2)}function wv(t,...e){if(t==null)return[null,null];for(let[n,i]of e){let r=n.exec(t);if(r)return i(r)}return[null,null]}function lse(...t){return(e,n)=>{let i={},r;for(r=0;r<t.length;r++)i[t[r]]=Fu(e[n+r]);return[i,null,n+r]}}var cse=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,GRe=`(?:${cse.source}?(?:\\[(${ase.source})\\])?)?`,rQ=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,dse=RegExp(`${rQ.source}${GRe}`),oQ=RegExp(`(?:[Tt]${dse.source})?`),WRe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,KRe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,qRe=/(\d{4})-?(\d{3})/,YRe=lse("weekYear","weekNumber","weekDay"),XRe=lse("year","ordinal"),ZRe=/(\d{4})-(\d\d)-(\d\d)/,use=RegExp(`${rQ.source} ?(?:${cse.source}|(${ase.source}))?`),JRe=RegExp(`(?: ${use.source})?`);function bv(t,e,n){let i=t[e];return wt(i)?n:Fu(i)}function eBe(t,e){return[{year:bv(t,e),month:bv(t,e+1,1),day:bv(t,e+2,1)},null,e+3]}function Ev(t,e){return[{hours:bv(t,e,0),minutes:bv(t,e+1,0),seconds:bv(t,e+2,0),milliseconds:jC(t[e+3])},null,e+4]}function zC(t,e){let n=!t[e]&&!t[e+1],i=ym(t[e+1],t[e+2]),r=n?null:Po.instance(i);return[{},r,e+3]}function GC(t,e){let n=t[e]?gs.create(t[e]):null;return[{},n,e+1]}var tBe=RegExp(`^T?${rQ.source}$`),nBe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function iBe(t){let[e,n,i,r,o,s,a,l,c]=t,d=e[0]==="-",u=l&&l[0]==="-",p=(g,v=!1)=>g!==void 0&&(v||g&&d)?-g:g;return[{years:p(Ef(n)),months:p(Ef(i)),weeks:p(Ef(r)),days:p(Ef(o)),hours:p(Ef(s)),minutes:p(Ef(a)),seconds:p(Ef(l),l==="-0"),milliseconds:p(jC(c),u)}]}var rBe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function sQ(t,e,n,i,r,o,s){let a={year:e.length===2?$C(Fu(e)):Fu(e),month:tQ.indexOf(n)+1,day:Fu(i),hour:Fu(r),minute:Fu(o)};return s&&(a.second=Fu(s)),t&&(a.weekday=t.length>3?nQ.indexOf(t)+1:iQ.indexOf(t)+1),a}var oBe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function sBe(t){let[,e,n,i,r,o,s,a,l,c,d,u]=t,p=sQ(e,r,i,n,o,s,a),g;return l?g=rBe[l]:c?g=0:g=ym(d,u),[p,new Po(g)]}function aBe(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var lBe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,cBe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,dBe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function sse(t){let[,e,n,i,r,o,s,a]=t;return[sQ(e,r,i,n,o,s,a),Po.utcInstance]}function uBe(t){let[,e,n,i,r,o,s,a]=t;return[sQ(e,a,n,i,r,o,s),Po.utcInstance]}var hBe=yv(WRe,oQ),fBe=yv(KRe,oQ),pBe=yv(qRe,oQ),mBe=yv(dse),hse=Cv(eBe,Ev,zC,GC),ABe=Cv(YRe,Ev,zC,GC),gBe=Cv(XRe,Ev,zC,GC),vBe=Cv(Ev,zC,GC);function fse(t){return wv(t,[hBe,hse],[fBe,ABe],[pBe,gBe],[mBe,vBe])}function pse(t){return wv(aBe(t),[oBe,sBe])}function mse(t){return wv(t,[lBe,sse],[cBe,sse],[dBe,uBe])}function Ase(t){return wv(t,[nBe,iBe])}var _Be=Cv(Ev);function gse(t){return wv(t,[tBe,_Be])}var bBe=yv(ZRe,JRe),yBe=yv(use),CBe=Cv(Ev,zC,GC);function vse(t){return wv(t,[bBe,hse],[yBe,CBe])}var _se="Invalid Duration",Cse={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},wBe=V({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},Cse),pl=146097/400,xv=146097/4800,EBe=V({years:{quarters:4,months:12,weeks:pl/7,days:pl,hours:pl*24,minutes:pl*24*60,seconds:pl*24*60*60,milliseconds:pl*24*60*60*1e3},quarters:{months:3,weeks:pl/28,days:pl/4,hours:pl*24/4,minutes:pl*24*60/4,seconds:pl*24*60*60/4,milliseconds:pl*24*60*60*1e3/4},months:{weeks:xv/7,days:xv,hours:xv*24,minutes:xv*24*60,seconds:xv*24*60*60,milliseconds:xv*24*60*60*1e3}},Cse),Em=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],xBe=Em.slice(0).reverse();function Nu(t,e,n=!1){let i={values:n?e.values:V(V({},t.values),e.values||{}),loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new gr(i)}function wse(t,e){let n=e.milliseconds??0;for(let i of xBe.slice(1))e[i]&&(n+=e[i]*t[i].milliseconds);return n}function bse(t,e){let n=wse(t,e)<0?-1:1;Em.reduceRight((i,r)=>{if(wt(e[r]))return i;if(i){let o=e[i]*n,s=t[r][i],a=Math.floor(o/s);e[r]+=a*n,e[i]-=a*s*n}return r},null),Em.reduce((i,r)=>{if(wt(e[r]))return i;if(i){let o=e[i]%1;e[i]-=o,e[r]+=o*t[i][r]}return r},null)}function yse(t){let e={};for(let[n,i]of Object.entries(t))i!==0&&(e[n]=i);return e}var gr=class t{constructor(e){let n=e.conversionAccuracy==="longterm"||!1,i=n?EBe:wBe;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||Bn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,n){return t.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new Ar(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new t({values:_v(e,t.normalizeUnit),loc:Bn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(lc(e))return t.fromMillis(e);if(t.isDuration(e))return e;if(typeof e=="object")return t.fromObject(e);throw new Ar(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){let[i]=Ase(e);return i?t.fromObject(i,n):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){let[i]=gse(e);return i?t.fromObject(i,n):t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new Ar("need to specify a reason the Duration is invalid");let i=e instanceof Oo?e:new Oo(e,n);if(Rn.throwOnInvalid)throw new GM(i);return new t({invalid:i})}static normalizeUnit(e){let n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new mv(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){let i=De(V({},n),{floor:n.round!==!1&&n.floor!==!1});return this.isValid?Ro.create(this.loc,i).formatDurationFromString(this,e):_se}toHuman(e={}){if(!this.isValid)return _se;let n=e.showZeros!==!1,i=Em.map(r=>{let o=this.values[r];return wt(o)||o===0&&!n?null:this.loc.numberFormatter(De(V({style:"unit",unitDisplay:"long"},e),{unit:r.slice(0,-1)})).format(o)}).filter(r=>r);return this.loc.listFormatter(V({type:"conjunction",style:e.listStyle||"narrow"},e)).format(i)}toObject(){return this.isValid?V({},this.values):{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=gv(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let n=this.toMillis();return n<0||n>=864e5?null:(e=De(V({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e),{includeOffset:!1}),ot.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?wse(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let n=t.fromDurationLike(e),i={};for(let r of Em)(wf(n.values,r)||wf(this.values,r))&&(i[r]=n.get(r)+this.get(r));return Nu(this,{values:i},!0)}minus(e){if(!this.isValid)return this;let n=t.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;let n={};for(let i of Object.keys(this.values))n[i]=eQ(e(this.values[i],i));return Nu(this,{values:n},!0)}get(e){return this[t.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let n=V(V({},this.values),_v(e,t.normalizeUnit));return Nu(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:i,matrix:r}={}){let s={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:i};return Nu(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return bse(this.matrix,e),Nu(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=yse(this.normalize().shiftToAll().toObject());return Nu(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(s=>t.normalizeUnit(s));let n={},i={},r=this.toObject(),o;for(let s of Em)if(e.indexOf(s)>=0){o=s;let a=0;for(let c in i)a+=this.matrix[c][s]*i[c],i[c]=0;lc(r[s])&&(a+=r[s]);let l=Math.trunc(a);n[s]=l,i[s]=(a*1e3-l*1e3)/1e3}else lc(r[s])&&(i[s]=r[s]);for(let s in i)i[s]!==0&&(n[o]+=s===o?i[s]:i[s]/this.matrix[o][s]);return bse(this.matrix,n),Nu(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Nu(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;let e=yse(this.values);return Nu(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(let i of Em)if(!n(this.values[i],e.values[i]))return!1;return!0}};var Sv="Invalid Interval";function SBe(t,e){return!t||!t.isValid?xf.invalid("missing or invalid start"):!e||!e.isValid?xf.invalid("missing or invalid end"):e<t?xf.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var xf=class t{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new Ar("need to specify a reason the Interval is invalid");let i=e instanceof Oo?e:new Oo(e,n);if(Rn.throwOnInvalid)throw new zM(i);return new t({invalid:i})}static fromDateTimes(e,n){let i=Tv(e),r=Tv(n),o=SBe(i,r);return o??new t({start:i,end:r})}static after(e,n){let i=gr.fromDurationLike(n),r=Tv(e);return t.fromDateTimes(r,r.plus(i))}static before(e,n){let i=gr.fromDurationLike(n),r=Tv(e);return t.fromDateTimes(r.minus(i),r)}static fromISO(e,n){let[i,r]=(e||"").split("/",2);if(i&&r){let o,s;try{o=ot.fromISO(i,n),s=o.isValid}catch{s=!1}let a,l;try{a=ot.fromISO(r,n),l=a.isValid}catch{l=!1}if(s&&l)return t.fromDateTimes(o,a);if(s){let c=gr.fromISO(r,n);if(c.isValid)return t.after(o,c)}else if(l){let c=gr.fromISO(i,n);if(c.isValid)return t.before(a,c)}}return t.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;let i=this.start.startOf(e,n),r;return n?.useLocaleWeeks?r=this.end.reconfigure({locale:i.locale}):r=this.end,r=r.startOf(e,n),Math.floor(r.diff(i,e).get(e))+(r.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?t.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];let n=e.map(Tv).filter(s=>this.contains(s)).sort((s,a)=>s.toMillis()-a.toMillis()),i=[],{s:r}=this,o=0;for(;r<this.e;){let s=n[o]||this.e,a=+s>+this.e?this.e:s;i.push(t.fromDateTimes(r,a)),r=a,o+=1}return i}splitBy(e){let n=gr.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:i}=this,r=1,o,s=[];for(;i<this.e;){let a=this.start.plus(n.mapUnits(l=>l*r));o=+a>+this.e?this.e:a,s.push(t.fromDateTimes(i,o)),i=o,r+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let n=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return n>=i?null:t.fromDateTimes(n,i)}union(e){if(!this.isValid)return this;let n=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return t.fromDateTimes(n,i)}static merge(e){let[n,i]=e.sort((r,o)=>r.s-o.s).reduce(([r,o],s)=>o?o.overlaps(s)||o.abutsStart(s)?[r,o.union(s)]:[r.concat([o]),s]:[r,s],[[],null]);return i&&n.push(i),n}static xor(e){let n=null,i=0,r=[],o=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),s=Array.prototype.concat(...o),a=s.sort((l,c)=>l.time-c.time);for(let l of a)i+=l.type==="s"?1:-1,i===1?n=l.time:(n&&+n!=+l.time&&r.push(t.fromDateTimes(n,l.time)),n=null);return t.merge(r)}difference(...e){return t.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Sv}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=bf,n={}){return this.isValid?Ro.create(this.s.loc.clone(n),e).formatInterval(this):Sv}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Sv}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Sv}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Sv}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Sv}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):gr.invalid(this.invalidReason)}mapEndpoints(e){return t.fromDateTimes(e(this.s),e(this.e))}};var Sf=class{static hasDST(e=Rn.defaultZone){let n=ot.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return gs.isValidZone(e)}static normalizeZone(e){return ac(e,Rn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Bn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Bn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Bn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||Bn.create(n,i,o)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||Bn.create(n,i,o)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Bn.create(n,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:i=null,locObj:r=null}={}){return(r||Bn.create(n,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Bn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Bn.create(n,null,"gregory").eras(e)}static features(){return{relative:YM(),localeWeek:XM()}}};function Ese(t,e){let n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=n(e)-n(t);return Math.floor(gr.fromMillis(i).as("days"))}function TBe(t,e,n){let i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{let d=Ese(l,c);return(d-d%7)/7}],["days",Ese]],r={},o=t,s,a;for(let[l,c]of i)n.indexOf(l)>=0&&(s=l,r[l]=c(t,e),a=o.plus(r),a>e?(r[l]--,t=o.plus(r),t>e&&(a=t,r[l]--,t=o.plus(r))):t=a);return[t,r,a,s]}function xse(t,e,n,i){let[r,o,s,a]=TBe(t,e,n),l=e-r,c=n.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);c.length===0&&(s<e&&(s=r.plus({[a]:1})),s!==r&&(o[a]=(o[a]||0)+l/(s-r)));let d=gr.fromObject(o,i);return c.length>0?gr.fromMillis(l,i).shiftTo(...c).plus(d):d}var IBe="missing Intl.DateTimeFormat.formatToParts support";function Fn(t,e=n=>n){return{regex:t,deser:([n])=>e(Boe(n))}}var kBe="\xA0",Ise=`[ ${kBe}]`,kse=new RegExp(Ise,"g");function MBe(t){return t.replace(/\./g,"\\.?").replace(kse,Ise)}function Sse(t){return t.replace(/\./g,"").replace(kse," ").toLowerCase()}function cc(t,e){return t===null?null:{regex:RegExp(t.map(MBe).join("|")),deser:([n])=>t.findIndex(i=>Sse(n)===Sse(i))+e}}function Tse(t,e){return{regex:t,deser:([,n,i])=>ym(n,i),groups:e}}function t1(t){return{regex:t,deser:([e])=>e}}function DBe(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function PBe(t,e){let n=hl(e),i=hl(e,"{2}"),r=hl(e,"{3}"),o=hl(e,"{4}"),s=hl(e,"{6}"),a=hl(e,"{1,2}"),l=hl(e,"{1,3}"),c=hl(e,"{1,6}"),d=hl(e,"{1,9}"),u=hl(e,"{2,4}"),p=hl(e,"{4,6}"),g=x=>({regex:RegExp(DBe(x.val)),deser:([T])=>T,literal:!0}),b=(x=>{if(t.literal)return g(x);switch(x.val){case"G":return cc(e.eras("short"),0);case"GG":return cc(e.eras("long"),0);case"y":return Fn(c);case"yy":return Fn(u,$C);case"yyyy":return Fn(o);case"yyyyy":return Fn(p);case"yyyyyy":return Fn(s);case"M":return Fn(a);case"MM":return Fn(i);case"MMM":return cc(e.months("short",!0),1);case"MMMM":return cc(e.months("long",!0),1);case"L":return Fn(a);case"LL":return Fn(i);case"LLL":return cc(e.months("short",!1),1);case"LLLL":return cc(e.months("long",!1),1);case"d":return Fn(a);case"dd":return Fn(i);case"o":return Fn(l);case"ooo":return Fn(r);case"HH":return Fn(i);case"H":return Fn(a);case"hh":return Fn(i);case"h":return Fn(a);case"mm":return Fn(i);case"m":return Fn(a);case"q":return Fn(a);case"qq":return Fn(i);case"s":return Fn(a);case"ss":return Fn(i);case"S":return Fn(l);case"SSS":return Fn(r);case"u":return t1(d);case"uu":return t1(a);case"uuu":return Fn(n);case"a":return cc(e.meridiems(),0);case"kkkk":return Fn(o);case"kk":return Fn(u,$C);case"W":return Fn(a);case"WW":return Fn(i);case"E":case"c":return Fn(n);case"EEE":return cc(e.weekdays("short",!1),1);case"EEEE":return cc(e.weekdays("long",!1),1);case"ccc":return cc(e.weekdays("short",!0),1);case"cccc":return cc(e.weekdays("long",!0),1);case"Z":case"ZZ":return Tse(new RegExp(`([+-]${a.source})(?::(${i.source}))?`),2);case"ZZZ":return Tse(new RegExp(`([+-]${a.source})(${i.source})?`),2);case"z":return t1(/[a-z_+-/]{1,256}?/i);case" ":return t1(/[^\S\n\r]/);default:return g(x)}})(t)||{invalidReason:IBe};return b.token=t,b}var OBe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function RBe(t,e,n){let{type:i,value:r}=t;if(i==="literal"){let l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}let o=e[i],s=i;i==="hour"&&(e.hour12!=null?s=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?s="hour12":s="hour24":s=n.hour12?"hour12":"hour24");let a=OBe[s];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function BBe(t){return[`^${t.map(n=>n.regex).reduce((n,i)=>`${n}(${i.source})`,"")}$`,t]}function FBe(t,e,n){let i=t.match(e);if(i){let r={},o=1;for(let s in n)if(wf(n,s)){let a=n[s],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(o,o+l))),o+=l}return[i,r]}else return[i,{}]}function NBe(t){let e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},n=null,i;return wt(t.z)||(n=gs.create(t.z)),wt(t.Z)||(n||(n=new Po(t.Z)),i=t.Z),wt(t.q)||(t.M=(t.q-1)*3+1),wt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),wt(t.u)||(t.S=jC(t.u)),[Object.keys(t).reduce((o,s)=>{let a=e(s);return a&&(o[a]=t[s]),o},{}),n,i]}var aQ=null;function LBe(){return aQ||(aQ=ot.fromMillis(1555555555555)),aQ}function UBe(t,e){if(t.literal)return t;let n=Ro.macroTokenToFormatOpts(t.val),i=dQ(n,e);return i==null||i.includes(void 0)?t:i}function lQ(t,e){return Array.prototype.concat(...t.map(n=>UBe(n,e)))}var WC=class{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=lQ(Ro.parseFormat(n),e),this.units=this.tokens.map(i=>PBe(i,e)),this.disqualifyingUnit=this.units.find(i=>i.invalidReason),!this.disqualifyingUnit){let[i,r]=BBe(this.units);this.regex=RegExp(i,"i"),this.handlers=r}}explainFromTokens(e){if(this.isValid){let[n,i]=FBe(e,this.regex,this.handlers),[r,o,s]=i?NBe(i):[null,null,void 0];if(wf(i,"a")&&wf(i,"H"))throw new rc("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:i,result:r,zone:o,specificOffset:s}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}};function cQ(t,e,n){return new WC(t,n).explainFromTokens(e)}function Mse(t,e,n){let{result:i,zone:r,specificOffset:o,invalidReason:s}=cQ(t,e,n);return[i,r,o,s]}function dQ(t,e){if(!t)return null;let i=Ro.create(e,t).dtFormatter(LBe()),r=i.formatToParts(),o=i.resolvedOptions();return r.map(s=>RBe(s,t,o))}var uQ="Invalid DateTime",Dse=864e13;function KC(t){return new Oo("unsupported zone",`the zone "${t.name}" is not supported`)}function hQ(t){return t.weekData===null&&(t.weekData=VC(t.c)),t.weekData}function fQ(t){return t.localWeekData===null&&(t.localWeekData=VC(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function xm(t,e){let n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ot(De(V(V({},n),e),{old:n}))}function Lse(t,e,n){let i=t-e*60*1e3,r=n.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;let o=n.offset(i);return r===o?[i,r]:[t-Math.min(r,o)*60*1e3,Math.max(r,o)]}function n1(t,e){t+=e*60*1e3;let n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function r1(t,e,n){return Lse(Av(t),e,n)}function Pse(t,e){let n=t.o,i=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o=De(V({},t.c),{year:i,month:r,day:Math.min(t.c.day,vv(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7}),s=gr.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Av(o),[l,c]=Lse(a,n,t.zone);return s!==0&&(l+=s,c=t.zone.offset(l)),{ts:l,o:c}}function Iv(t,e,n,i,r,o){let{setZone:s,zone:a}=n;if(t&&Object.keys(t).length!==0||e){let l=e||a,c=ot.fromObject(t,De(V({},n),{zone:l,specificOffset:o}));return s?c:c.setZone(a)}else return ot.invalid(new Oo("unparsable",`the input "${r}" can't be parsed as ${i}`))}function i1(t,e,n=!0){return t.isValid?Ro.create(Bn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function pQ(t,e,n){let i=t.c.year>9999||t.c.year<0,r="";if(i&&t.c.year>=0&&(r+="+"),r+=nr(t.c.year,i?6:4),n==="year")return r;if(e){if(r+="-",r+=nr(t.c.month),n==="month")return r;r+="-"}else if(r+=nr(t.c.month),n==="month")return r;return r+=nr(t.c.day),r}function Ose(t,e,n,i,r,o,s){let a=!n||t.c.millisecond!==0||t.c.second!==0,l="";switch(s){case"day":case"month":case"year":break;default:if(l+=nr(t.c.hour),s==="hour")break;if(e){if(l+=":",l+=nr(t.c.minute),s==="minute")break;a&&(l+=":",l+=nr(t.c.second))}else{if(l+=nr(t.c.minute),s==="minute")break;a&&(l+=nr(t.c.second))}if(s==="second")break;a&&(!i||t.c.millisecond!==0)&&(l+=".",l+=nr(t.c.millisecond,3))}return r&&(t.isOffsetFixed&&t.offset===0&&!o?l+="Z":t.o<0?(l+="-",l+=nr(Math.trunc(-t.o/60)),l+=":",l+=nr(Math.trunc(-t.o%60))):(l+="+",l+=nr(Math.trunc(t.o/60)),l+=":",l+=nr(Math.trunc(t.o%60)))),o&&(l+="["+t.zone.ianaName+"]"),l}var Use={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},VBe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},HBe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},o1=["year","month","day","hour","minute","second","millisecond"],QBe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],jBe=["year","ordinal","hour","minute","second","millisecond"];function s1(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new mv(t);return e}function Rse(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return s1(t)}}function $Be(t){if(qC===void 0&&(qC=Rn.now()),t.type!=="iana")return t.offset(qC);let e=t.name,n=mQ.get(e);return n===void 0&&(n=t.offset(qC),mQ.set(e,n)),n}function Bse(t,e){let n=ac(e.zone,Rn.defaultZone);if(!n.isValid)return ot.invalid(KC(n));let i=Bn.fromObject(e),r,o;if(wt(t.year))r=Rn.now();else{for(let l of o1)wt(t[l])&&(t[l]=Use[l]);let s=XH(t)||ZH(t);if(s)return ot.invalid(s);let a=$Be(n);[r,o]=r1(t,a,n)}return new ot({ts:r,zone:n,loc:i,o})}function Fse(t,e,n){let i=wt(n.round)?!0:n.round,r=wt(n.rounding)?"trunc":n.rounding,o=(a,l)=>(a=gv(a,i||n.calendary?0:2,n.calendary?"round":r),e.loc.clone(n).relFormatter(n).format(a,l)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return o(s(n.unit),n.unit);for(let a of n.units){let l=s(a);if(Math.abs(l)>=1)return o(l,a)}return o(t>e?-0:0,n.units[n.units.length-1])}function Nse(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}var qC,mQ=new Map,ot=class t{constructor(e){let n=e.zone||Rn.defaultZone,i=e.invalid||(Number.isNaN(e.ts)?new Oo("invalid input"):null)||(n.isValid?null:KC(n));this.ts=wt(e.ts)?Rn.now():e.ts;let r=null,o=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,o]=[e.old.c,e.old.o];else{let a=lc(e.o)&&!e.old?e.o:n.offset(this.ts);r=n1(this.ts,a),i=Number.isNaN(r.year)?new Oo("invalid input"):null,r=i?null:r,o=i?null:a}this._zone=n,this.loc=e.loc||Bn.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new t({})}static local(){let[e,n]=Nse(arguments),[i,r,o,s,a,l,c]=n;return Bse({year:i,month:r,day:o,hour:s,minute:a,second:l,millisecond:c},e)}static utc(){let[e,n]=Nse(arguments),[i,r,o,s,a,l,c]=n;return e.zone=Po.utcInstance,Bse({year:i,month:r,day:o,hour:s,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,n={}){let i=Zoe(e)?e.valueOf():NaN;if(Number.isNaN(i))return t.invalid("invalid input");let r=ac(n.zone,Rn.defaultZone);return r.isValid?new t({ts:i,zone:r,loc:Bn.fromObject(n)}):t.invalid(KC(r))}static fromMillis(e,n={}){if(lc(e))return e<-Dse||e>Dse?t.invalid("Timestamp out of range"):new t({ts:e,zone:ac(n.zone,Rn.defaultZone),loc:Bn.fromObject(n)});throw new Ar(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(lc(e))return new t({ts:e*1e3,zone:ac(n.zone,Rn.defaultZone),loc:Bn.fromObject(n)});throw new Ar("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};let i=ac(n.zone,Rn.defaultZone);if(!i.isValid)return t.invalid(KC(i));let r=Bn.fromObject(n),o=_v(e,Rse),{minDaysInFirstWeek:s,startOfWeek:a}=YH(o,r),l=Rn.now(),c=wt(n.specificOffset)?i.offset(l):n.specificOffset,d=!wt(o.ordinal),u=!wt(o.year),p=!wt(o.month)||!wt(o.day),g=u||p,v=o.weekYear||o.weekNumber;if((g||d)&&v)throw new rc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new rc("Can't mix ordinal dates with month/day");let b=v||o.weekday&&!g,x,T,k=n1(l,c);b?(x=QBe,T=VBe,k=VC(k,s,a)):d?(x=jBe,T=HBe,k=e1(k)):(x=o1,T=Use);let U=!1;for(let he of x){let ge=o[he];wt(ge)?U?o[he]=T[he]:o[he]=k[he]:U=!0}let D=b?qoe(o,s,a):d?Yoe(o):XH(o),N=D||ZH(o);if(N)return t.invalid(N);let z=b?KH(o,s,a):d?qH(o):o,[Z,ne]=r1(z,c,i),ee=new t({ts:Z,zone:i,o:ne,loc:r});return o.weekday&&g&&e.weekday!==ee.weekday?t.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${ee.toISO()}`):ee.isValid?ee:t.invalid(ee.invalid)}static fromISO(e,n={}){let[i,r]=fse(e);return Iv(i,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){let[i,r]=pse(e);return Iv(i,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){let[i,r]=mse(e);return Iv(i,r,n,"HTTP",n)}static fromFormat(e,n,i={}){if(wt(e)||wt(n))throw new Ar("fromFormat requires an input string and a format");let{locale:r=null,numberingSystem:o=null}=i,s=Bn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,l,c,d]=Mse(s,e,n);return d?t.invalid(d):Iv(a,l,i,`format ${n}`,e,c)}static fromString(e,n,i={}){return t.fromFormat(e,n,i)}static fromSQL(e,n={}){let[i,r]=vse(e);return Iv(i,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new Ar("need to specify a reason the DateTime is invalid");let i=e instanceof Oo?e:new Oo(e,n);if(Rn.throwOnInvalid)throw new $M(i);return new t({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){let i=dQ(e,Bn.fromObject(n));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return lQ(Ro.parseFormat(e),Bn.fromObject(n)).map(r=>r.val).join("")}static resetCache(){qC=void 0,mQ.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?hQ(this).weekYear:NaN}get weekNumber(){return this.isValid?hQ(this).weekNumber:NaN}get weekday(){return this.isValid?hQ(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?fQ(this).weekday:NaN}get localWeekNumber(){return this.isValid?fQ(this).weekNumber:NaN}get localWeekYear(){return this.isValid?fQ(this).weekYear:NaN}get ordinal(){return this.isValid?e1(this.c).ordinal:NaN}get monthShort(){return this.isValid?Sf.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Sf.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Sf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Sf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];let e=864e5,n=6e4,i=Av(this.c),r=this.zone.offset(i-e),o=this.zone.offset(i+e),s=this.zone.offset(i-r*n),a=this.zone.offset(i-o*n);if(s===a)return[this];let l=i-s*n,c=i-a*n,d=n1(l,s),u=n1(c,a);return d.hour===u.hour&&d.minute===u.minute&&d.second===u.second&&d.millisecond===u.millisecond?[xm(this,{ts:l}),xm(this,{ts:c})]:[this]}get isInLeapYear(){return wm(this.year)}get daysInMonth(){return vv(this.year,this.month)}get daysInYear(){return this.isValid?Cf(this.year):NaN}get weeksInWeekYear(){return this.isValid?Cm(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Cm(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){let{locale:n,numberingSystem:i,calendar:r}=Ro.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:i,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(Po.instance(e),n)}toLocal(){return this.setZone(Rn.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:i=!1}={}){if(e=ac(e,Rn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||i){let o=e.offset(this.ts),s=this.toObject();[r]=r1(s,o,e)}return xm(this,{ts:r,zone:e})}else return t.invalid(KC(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:i}={}){let r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:i});return xm(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let n=_v(e,Rse),{minDaysInFirstWeek:i,startOfWeek:r}=YH(n,this.loc),o=!wt(n.weekYear)||!wt(n.weekNumber)||!wt(n.weekday),s=!wt(n.ordinal),a=!wt(n.year),l=!wt(n.month)||!wt(n.day),c=a||l,d=n.weekYear||n.weekNumber;if((c||s)&&d)throw new rc("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new rc("Can't mix ordinal dates with month/day");let u;o?u=KH(V(V({},VC(this.c,i,r)),n),i,r):wt(n.ordinal)?(u=V(V({},this.toObject()),n),wt(n.day)&&(u.day=Math.min(vv(u.year,u.month),u.day))):u=qH(V(V({},e1(this.c)),n));let[p,g]=r1(u,this.o,this.zone);return xm(this,{ts:p,o:g})}plus(e){if(!this.isValid)return this;let n=gr.fromDurationLike(e);return xm(this,Pse(this,n))}minus(e){if(!this.isValid)return this;let n=gr.fromDurationLike(e).negate();return xm(this,Pse(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;let i={},r=gr.normalizeUnit(e);switch(r){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break;case"milliseconds":break}if(r==="weeks")if(n){let o=this.loc.getStartOfWeek(),{weekday:s}=this;s<o&&(i.weekNumber=this.weekNumber-1),i.weekday=o}else i.weekday=1;if(r==="quarters"){let o=Math.ceil(this.month/3);i.month=(o-1)*3+1}return this.set(i)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Ro.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):uQ}toLocaleString(e=bf,n={}){return this.isValid?Ro.create(this.loc.clone(n),e).formatDateTime(this):uQ}toLocaleParts(e={}){return this.isValid?Ro.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:o=!1,precision:s="milliseconds"}={}){if(!this.isValid)return null;s=s1(s);let a=e==="extended",l=pQ(this,a,s);return o1.indexOf(s)>=3&&(l+="T"),l+=Ose(this,a,n,i,r,o,s),l}toISODate({format:e="extended",precision:n="day"}={}){return this.isValid?pQ(this,e==="extended",s1(n)):null}toISOWeekDate(){return i1(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:o=!1,format:s="extended",precision:a="milliseconds"}={}){return this.isValid?(a=s1(a),(r&&o1.indexOf(a)>=3?"T":"")+Ose(this,s==="extended",n,e,i,o,a)):null}toRFC2822(){return i1(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return i1(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?pQ(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(i&&(r+=" "),n?r+="z":e&&(r+="ZZ")),i1(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():uQ}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let n=V({},this.c);return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",i={}){if(!this.isValid||!e.isValid)return gr.invalid("created by diffing an invalid DateTime");let r=V({locale:this.locale,numberingSystem:this.numberingSystem},i),o=Joe(n).map(gr.normalizeUnit),s=e.valueOf()>this.valueOf(),a=s?this:e,l=s?e:this,c=xse(a,l,o,r);return s?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(t.now(),e,n)}until(e){return this.isValid?xf.fromDateTimes(this,e):this}hasSame(e,n,i){if(!this.isValid)return!1;let r=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(n,i)<=r&&r<=o.endOf(n,i)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let n=e.base||t.fromObject({},{zone:this.zone}),i=e.padding?this<n?-e.padding:e.padding:0,r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),Fse(n,this.plus(i),De(V({},e),{numeric:"always",units:r,unit:o}))}toRelativeCalendar(e={}){return this.isValid?Fse(e.base||t.fromObject({},{zone:this.zone}),this,De(V({},e),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...e){if(!e.every(t.isDateTime))throw new Ar("min requires all arguments be DateTimes");return JH(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(t.isDateTime))throw new Ar("max requires all arguments be DateTimes");return JH(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,i={}){let{locale:r=null,numberingSystem:o=null}=i,s=Bn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});return cQ(s,e,n)}static fromStringExplain(e,n,i={}){return t.fromFormatExplain(e,n,i)}static buildFormatParser(e,n={}){let{locale:i=null,numberingSystem:r=null}=n,o=Bn.fromOpts({locale:i,numberingSystem:r,defaultToEN:!0});return new WC(o,e)}static fromFormatParser(e,n,i={}){if(wt(e)||wt(n))throw new Ar("fromFormatParser requires an input string and a format parser");let{locale:r=null,numberingSystem:o=null}=i,s=Bn.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});if(!s.equals(n.locale))throw new Ar(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${n.locale}`);let{result:a,zone:l,specificOffset:c,invalidReason:d}=n.explainFromTokens(e);return d?t.invalid(d):Iv(a,l,i,`format ${n.format}`,e,c)}static get DATE_SHORT(){return bf}static get DATE_MED(){return vC}static get DATE_MED_WITH_WEEKDAY(){return SH}static get DATE_FULL(){return _C}static get DATE_HUGE(){return bC}static get TIME_SIMPLE(){return yC}static get TIME_WITH_SECONDS(){return CC}static get TIME_WITH_SHORT_OFFSET(){return wC}static get TIME_WITH_LONG_OFFSET(){return EC}static get TIME_24_SIMPLE(){return xC}static get TIME_24_WITH_SECONDS(){return SC}static get TIME_24_WITH_SHORT_OFFSET(){return TC}static get TIME_24_WITH_LONG_OFFSET(){return IC}static get DATETIME_SHORT(){return kC}static get DATETIME_SHORT_WITH_SECONDS(){return MC}static get DATETIME_MED(){return DC}static get DATETIME_MED_WITH_SECONDS(){return PC}static get DATETIME_MED_WITH_WEEKDAY(){return TH}static get DATETIME_FULL(){return OC}static get DATETIME_FULL_WITH_SECONDS(){return RC}static get DATETIME_HUGE(){return BC}static get DATETIME_HUGE_WITH_SECONDS(){return FC}};function Tv(t){if(ot.isDateTime(t))return t;if(t&&t.valueOf&&lc(t.valueOf()))return ot.fromJSDate(t);if(t&&typeof t=="object")return ot.fromObject(t);throw new Ar(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Vae=yO(U3());function zBe(t,e){if(t&1&&($(0,"div",4),kt(1,"translate")),t&2){let n=M();P("innerHTML",oi(1,1,"confirmMessages."+n.description,n.descriptionParams),Eo)}}function GBe(t,e){if(t&1&&$(0,"div",8),t&2){let n=e.$implicit;P("translate","errors."+n.errorCode)("translateParams",n.params)}}function WBe(t,e){if(t&1&&Bt(0,GBe,1,2,"div",8,Mn),t&2){let n=M();Ft(n.errors)}}function KBe(t,e){if(t&1){let n=fe();C(0,"mat-checkbox",9),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.checkboxValue,r)||(o.checkboxValue=r),X(r)}),F(1),w()}if(t&2){let n=M();Ze("ngModel",n.checkboxValue),y(),Ne(n.checkboxLabel)}}function qBe(t,e){if(t&1){let n=fe();C(0,"ss-button",10),G("click",function(){Y(n);let r=M();return X(r.additionalButtonCallback())}),F(1),w()}if(t&2){let n=M();y(),ht(" ",n.additionalButtonLabel," ")}}function YBe(t,e){if(t&1&&(C(0,"ss-button",7),F(1),w()),t&2){let n=M();y(),ht(" ",n.cancelButtonLabel," ")}}function XBe(t,e){if(t&1){let n=fe();C(0,"ss-button",11),G("buttonClick",function(){Y(n);let r=M();return X(r.onConfirm())}),F(1),w()}if(t&2){let n=M();y(),ht(" ",n.confirmButtonLabel," ")}}var Lu=(()=>{let e=class e{constructor(i,r){this.data=i,this.dialogRef=r,this.errors=[],this.cancelButtonLabel="Close",this.hideCancelButton=!1,this.additionalButtonCallback=()=>{};for(let o in i)if(Object.prototype.hasOwnProperty.call(i,o)){let s=i[o];this[o]=s}this.cancelButtonLabel=i.cancelButtonLabel||"Close",this.hideCancelButton=i.hideCancelButton||!1,this.errors=i.errors||[],this.checkboxValue=this.checkboxLabel?!1:void 0}handleKeyboardEvent(i){i.key==="Escape"&&this.onCancel()}onConfirm(){if(this.checkboxLabel!==void 0){this.dialogRef.close({dialogResult:!0,checkboxValue:this.checkboxValue});return}this.dialogRef.close(!0)}onCancel(){if(this.checkboxLabel!==void 0){this.dialogRef.close({dialogResult:!1,checkboxValue:this.checkboxValue});return}this.dialogRef.close(!1),this.errors=[]}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-confirm-modal"]],hostBindings:function(r,o){r&1&&G("keydown",function(a){return o.handleKeyboardEvent(a)})},standalone:!1,decls:13,vars:9,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[1,"description-line",3,"innerHTML"],[3,"ngModel"],["mat-dialog-close","","color","tertiary",1,"additional-button"],["mat-dialog-close","","color","tertiary",1,"close-button"],[1,"description-line",3,"translate","translateParams"],[3,"ngModelChange","ngModel"],["mat-dialog-close","","color","tertiary",1,"additional-button",3,"click"],[3,"buttonClick"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2),w(),C(3,"button",2),$(4,"ss-icon",3),w()(),C(5,"mat-dialog-content"),H(6,zBe,2,4,"div",4),H(7,WBe,2,0),H(8,KBe,2,2,"mat-checkbox",5),w(),C(9,"mat-dialog-actions"),H(10,qBe,2,1,"ss-button",6),H(11,YBe,2,1,"ss-button",7),H(12,XBe,2,1,"ss-button"),w()),r&2&&(y(2),Ne(o.modalTitle),y(2),P("size",20)("iconVariant",20),y(2),Q(o.errors.length?-1:6),y(),Q(o.errors.length?7:-1),y(),Q(o.checkboxLabel?8:-1),y(2),Q(o.additionalButtonLabel?10:-1),y(),Q(o.hideCancelButton?-1:11),y(),Q(o.confirmButtonLabel?12:-1))},styles:["mat-dialog-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]{margin-right:12px}mat-dialog-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:last-of-type{margin-right:0}mat-radio-group[_ngcontent-%COMP%], .checkbox-wrapper[_ngcontent-%COMP%]{width:100%}mat-radio-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .checkbox-wrapper[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-bottom:8px}mat-radio-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:last-of-type, .checkbox-wrapper[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.action-buttons-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.action-buttons-wrapper[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%], .action-buttons-wrapper[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]{margin-right:12px}.action-buttons-wrapper[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:last-of-type, .action-buttons-wrapper[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]:last-of-type{margin-right:0}[_nghost-%COMP%]  h2{margin-bottom:16px;line-height:24px}@media only screen and (max-width: 767px){[_nghost-%COMP%]   ss-button[_ngcontent-%COMP%]{min-width:100px}}.description-line[_ngcontent-%COMP%]  p{margin-bottom:12px}.description-line[_ngcontent-%COMP%]  p :last-of-type{margin-bottom:0}@media only screen and (max-width: 767px){.close-button[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 767px){.additional-button[_ngcontent-%COMP%]{min-width:194px!important}}mat-checkbox[_ngcontent-%COMP%]{margin-top:10px}"]});let t=e;return t})();var Vse=(()=>{let e=class e{constructor(i,r){this.data=i,this.dialogRef=r;for(let o in i)if(Object.prototype.hasOwnProperty.call(i,o)){let s=i[o];this[o]=s}}handleKeyboardEvent(i){i.key==="Escape"&&this.onCancel()}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-feature-unavailable-modal"]],hostBindings:function(r,o){r&1&&G("keydown",function(a){return o.handleKeyboardEvent(a)})},standalone:!1,decls:13,vars:4,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"click","size","iconVariant"],[1,"illustration"],[3,"innerHTML"],["mat-dialog-close","","color","tertiary"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"Feature unavailable"),w(),C(3,"button",2)(4,"ss-icon",3),G("click",function(){return o.onCancel()}),w()()(),C(5,"mat-dialog-content"),$(6,"div",4)(7,"em",5),C(8,"div"),F(9),w()(),C(10,"mat-dialog-actions")(11,"ss-button",6),F(12,"Close"),w()()),r&2&&(y(4),P("size",20)("iconVariant",20),y(3),P("innerHTML",o.modalTitle,Eo),y(2),Ne(o.description))},styles:["[_nghost-%COMP%]{position:relative;border-radius:25px}.close-icon[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-16px}mat-dialog-content[_ngcontent-%COMP%]{text-align:center}.illustration[_ngcontent-%COMP%]{width:348px;height:154px;margin:0 auto 30px;background:url(/assets/images/doodles-running.svg) center no-repeat}em[_ngcontent-%COMP%]  span{color:var(--accent-blurple)}.dark-theme[_nghost-%COMP%]   .illustration[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .illustration[_ngcontent-%COMP%]{background:url(/assets/images/doodles-running-dark.svg) center no-repeat}"]});let t=e;return t})();var Hse=(()=>{let e=class e{constructor(i,r){this.settingsService=i,this.dialogRef=r}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-new-version-released-modal"]],standalone:!1,decls:19,vars:6,consts:[[1,"mat-header"],["mat-dialog-title","",1,"longer"],["mat-dialog-title","",1,"shorter"],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"click","size","iconVariant"],["height","120","draggable","false","src","/assets/images/logo.svg",3,"alt"],["mat-dialog-close","","color","tertiary"],[3,"buttonClick"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2),w(),C(3,"h2",2),F(4,"New Update!"),w(),C(5,"button",3)(6,"ss-icon",4),G("click",function(){return o.onCancel()}),w()()(),C(7,"mat-dialog-content"),$(8,"img",5),C(9,"p")(10,"strong"),F(11),w()(),C(12,"p"),F(13,"To see the newest features and to make sure the website works smoothly, please click 'Refresh' \u{1F60C}."),w()(),C(14,"mat-dialog-actions")(15,"ss-button",6),F(16,"Close"),w(),C(17,"ss-button",7),G("buttonClick",function(){return o.onConfirm()}),F(18,"Refresh"),w()()),r&2&&(y(2),ht("",o.settingsService.siteName," Web App just got better!"),y(4),P("size",20)("iconVariant",20),y(2),P("alt",ZF(o.settingsService.siteName)),y(3),ht("We just released a new version of the ",o.settingsService.siteName," Web App."))},styles:["[_nghost-%COMP%]{position:relative;border-radius:24px}h2.longer[_ngcontent-%COMP%]{display:block}@media only screen and (max-width: 479px){h2.longer[_ngcontent-%COMP%]{display:none}}h2.shorter[_ngcontent-%COMP%]{display:none}@media only screen and (max-width: 479px){h2.shorter[_ngcontent-%COMP%]{display:block}}.close-icon[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-16px}mat-dialog-content[_ngcontent-%COMP%]{text-align:center}mat-dialog-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:12px}mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px}"]});let t=e;return t})();var Wt="primary",lw=Symbol("RouteTitle"),bQ=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Im(t){return new bQ(t)}function qse(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ZBe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gd(t[n],e[n]))return!1;return!0}function gd(t,e){let n=t?yQ(t):void 0,i=e?yQ(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Yse(t[r],e[r]))return!1;return!0}function yQ(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Yse(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function Xse(t){return t.length>0?t[t.length-1]:null}function Uu(t){return os(t)?t:nu(t)?ui(Promise.resolve(t)):Re(t)}var JBe={exact:Jse,subset:eae},Zse={exact:eFe,subset:tFe,ignored:()=>!0};function Qse(t,e,n){return JBe[n.paths](t.root,e.root,n.matrixParams)&&Zse[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function eFe(t,e){return gd(t,e)}function Jse(t,e,n){if(!Sm(t.segments,e.segments)||!c1(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Jse(t.children[i],e.children[i],n))return!1;return!0}function tFe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Yse(t[n],e[n]))}function eae(t,e,n){return tae(t,e,e.segments,n)}function tae(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Sm(r,n)||e.hasChildren()||!c1(r,n,i))}else if(t.segments.length===n.length){if(!Sm(t.segments,n)||!c1(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!eae(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Sm(t.segments,r)||!c1(t.segments,r,i)||!t.children[Wt]?!1:tae(t.children[Wt],e,o,i)}}function c1(t,e,n){return e.every((i,r)=>Zse[n](t[r].parameters,i.parameters))}var _d=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Nn([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Im(this.queryParams),this._queryParamMap}toString(){return rFe.serialize(this)}},Nn=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return d1(this)}},Tf=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Im(this.parameters),this._parameterMap}toString(){return iae(this)}};function nFe(t,e){return Sm(t,e)&&t.every((n,i)=>gd(n.parameters,e[i].parameters))}function Sm(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function iFe(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Wt&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Wt&&(n=n.concat(e(r,i)))}),n}var km=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>new If,providedIn:"root"})}return t})(),If=class{parse(e){let n=new wQ(e);return new _d(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${YC(e.root,!0)}`,i=aFe(e.queryParams),r=typeof e.fragment=="string"?`#${oFe(e.fragment)}`:"";return`${n}${i}${r}`}},rFe=new If;function d1(t){return t.segments.map(e=>iae(e)).join("/")}function YC(t,e){if(!t.hasChildren())return d1(t);if(e){let n=t.children[Wt]?YC(t.children[Wt],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Wt&&i.push(`${r}:${YC(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=iFe(t,(i,r)=>r===Wt?[YC(t.children[Wt],!1)]:[`${r}:${YC(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Wt]!=null?`${d1(t)}/${n[0]}`:`${d1(t)}/(${n.join("//")})`}}function nae(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a1(t){return nae(t).replace(/%3B/gi,";")}function oFe(t){return encodeURI(t)}function CQ(t){return nae(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function u1(t){return decodeURIComponent(t)}function jse(t){return u1(t.replace(/\+/g,"%20"))}function iae(t){return`${CQ(t.path)}${sFe(t.parameters)}`}function sFe(t){return Object.entries(t).map(([e,n])=>`;${CQ(e)}=${CQ(n)}`).join("")}function aFe(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${a1(n)}=${a1(r)}`).join("&"):`${a1(n)}=${a1(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var lFe=/^[^\/()?;#]+/;function AQ(t){let e=t.match(lFe);return e?e[0]:""}var cFe=/^[^\/()?;=#]+/;function dFe(t){let e=t.match(cFe);return e?e[0]:""}var uFe=/^[^=?&#]+/;function hFe(t){let e=t.match(uFe);return e?e[0]:""}var fFe=/^[^&#]+/;function pFe(t){let e=t.match(fFe);return e?e[0]:""}var wQ=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Wt]=new Nn(e,n)),i}parseSegment(){let e=AQ(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new be(4009,!1);return this.capture(e),new Tf(u1(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=dFe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=AQ(this.remaining);r&&(i=r,this.capture(i))}e[u1(n)]=u1(i)}parseQueryParam(e){let n=hFe(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=pFe(this.remaining);s&&(i=s,this.capture(i))}let r=jse(n),o=jse(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=AQ(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new be(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Wt);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Wt]:new Nn([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new be(4011,!1)}};function rae(t){return t.segments.length>0?new Nn([],{[Wt]:t}):t}function oae(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=oae(r);if(i===Wt&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Nn(t.segments,e);return mFe(n)}function mFe(t){if(t.numberOfChildren===1&&t.children[Wt]){let e=t.children[Wt];return new Nn(t.segments.concat(e.segments),e.children)}return t}function kf(t){return t instanceof _d}function sae(t,e,n=null,i=null){let r=aae(t);return lae(r,e,n,i)}function aae(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new Nn(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=rae(i);return e??r}function lae(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return gQ(r,r,r,n,i);let o=AFe(e);if(o.toRoot())return gQ(r,r,new Nn([],{}),n,i);let s=gFe(o,r,t),a=s.processChildren?ZC(s.segmentGroup,s.index,o.commands):dae(s.segmentGroup,s.index,o.commands);return gQ(r,s.segmentGroup,a,n,i)}function h1(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ew(t){return typeof t=="object"&&t!=null&&t.outlets}function gQ(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let s;t===e?s=n:s=cae(t,e,n);let a=rae(oae(s));return new _d(a,o,r)}function cae(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=cae(o,e,n)}),new Nn(t.segments,i)}var f1=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&h1(i[0]))throw new be(4003,!1);let r=i.find(ew);if(r&&r!==Xse(i))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function AFe(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new f1(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new f1(n,e,i)}var Dv=class{segmentGroup;processChildren;index;constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function gFe(t,e,n){if(t.isAbsolute)return new Dv(e,!0,0);if(!n)return new Dv(e,!1,NaN);if(n.parent===null)return new Dv(n,!0,0);let i=h1(t.commands[0])?0:1,r=n.segments.length-1+i;return vFe(n,r,t.numberOfDoubleDots)}function vFe(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new be(4005,!1);r=i.segments.length}return new Dv(i,!1,r-o)}function _Fe(t){return ew(t[0])?t[0].outlets:{[Wt]:t}}function dae(t,e,n){if(t??=new Nn([],{}),t.segments.length===0&&t.hasChildren())return ZC(t,e,n);let i=bFe(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Nn(t.segments.slice(0,i.pathIndex),{});return o.children[Wt]=new Nn(t.segments.slice(i.pathIndex),t.children),ZC(o,0,r)}else return i.match&&r.length===0?new Nn(t.segments,{}):i.match&&!t.hasChildren()?EQ(t,e,n):i.match?ZC(t,0,r):EQ(t,e,n)}function ZC(t,e,n){if(n.length===0)return new Nn(t.segments,{});{let i=_Fe(n),r={};if(Object.keys(i).some(o=>o!==Wt)&&t.children[Wt]&&t.numberOfChildren===1&&t.children[Wt].segments.length===0){let o=ZC(t.children[Wt],e,n);return new Nn(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=dae(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Nn(t.segments,r)}}function bFe(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(ew(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!zse(l,c,s))return o;i+=2}else{if(!zse(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function EQ(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(ew(o)){let l=yFe(o.outlets);return new Nn(i,l)}if(r===0&&h1(n[0])){let l=t.segments[e];i.push(new Tf(l.path,$se(n[0]))),r++;continue}let s=ew(o)?o.outlets[Wt]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&h1(a)?(i.push(new Tf(s,$se(a))),r+=2):(i.push(new Tf(s,{})),r++)}return new Nn(i,{})}function yFe(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=EQ(new Nn([],{}),0,i))}),e}function $se(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function zse(t,e,n){return t==n.path&&gd(e,n.parameters)}var Pv="imperative",ro=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ro||{}),ka=class{id;url;constructor(e,n){this.id=e,this.url=n}},Mf=class extends ka{type=ro.NavigationStart;navigationTrigger;restoredState;constructor(e,n,i="imperative",r=null){super(e,n),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_s=class extends ka{urlAfterRedirects;type=ro.NavigationEnd;constructor(e,n,i){super(e,n),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vs=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(vs||{}),Rv=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Rv||{}),vd=class extends ka{reason;code;type=ro.NavigationCancel;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bd=class extends ka{reason;code;type=ro.NavigationSkipped;constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r}},Bv=class extends ka{error;target;type=ro.NavigationError;constructor(e,n,i,r){super(e,n),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tw=class extends ka{urlAfterRedirects;state;type=ro.RoutesRecognized;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},p1=class extends ka{urlAfterRedirects;state;type=ro.GuardsCheckStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},m1=class extends ka{urlAfterRedirects;state;shouldActivate;type=ro.GuardsCheckEnd;constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},A1=class extends ka{urlAfterRedirects;state;type=ro.ResolveStart;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},g1=class extends ka{urlAfterRedirects;state;type=ro.ResolveEnd;constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},v1=class{route;type=ro.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_1=class{route;type=ro.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},b1=class{snapshot;type=ro.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},y1=class{snapshot;type=ro.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},C1=class{snapshot;type=ro.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},w1=class{snapshot;type=ro.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fv=class{routerEvent;position;anchor;type=ro.Scroll;constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},nw=class{},Nv=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function CFe(t){return!(t instanceof nw)&&!(t instanceof Nv)}function wFe(t,e){return t.providers&&!t._injector&&(t._injector=WA(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dc(t){return t.outlet||Wt}function EFe(t,e){let n=t.filter(i=>dc(i)===e);return n.push(...t.filter(i=>dc(i)!==e)),n}function Vv(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var E1=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Vv(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Mm(this.rootInjector)}},Mm=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new E1(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(i){return new(i||t)(K(Xn))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x1=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xQ(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=xQ(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=SQ(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return SQ(e,this._root).map(n=>n.value)}};function xQ(t,e){if(t===e.value)return e;for(let n of e.children){let i=xQ(t,n);if(i)return i}return null}function SQ(t,e){if(t===e.value)return[e];for(let n of e.children){let i=SQ(t,n);if(i.length)return i.unshift(e),i}return[]}var Ia=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Mv(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var iw=class extends x1{snapshot;constructor(e,n){super(e),this.snapshot=n,RQ(this,e)}toString(){return this.snapshot.toString()}};function uae(t){let e=xFe(t),n=new fn([new Tf("",{})]),i=new fn({}),r=new fn({}),o=new fn({}),s=new fn(""),a=new vr(n,i,o,s,r,Wt,t,e.root);return a.snapshot=e.root,new iw(new Ia(a,[]),e)}function xFe(t){let e={},n={},i={},r="",o=new Tm([],e,i,r,n,Wt,t,null,{});return new rw("",new Ia(o,[]))}var vr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(c=>c[lw]))??Re(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Im(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Im(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function S1(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:V(V({},e.params),t.params),data:V(V({},e.data),t.data),resolve:V(V(V(V({},t.data),e.data),r?.data),t._resolvedData)}:i={params:V({},t.params),data:V({},t.data),resolve:V(V({},t.data),t._resolvedData??{})},r&&fae(r)&&(i.resolve[lw]=r.title),i}var Tm=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lw]}constructor(e,n,i,r,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Im(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Im(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rw=class extends x1{url;constructor(e,n){super(n),this.url=e,RQ(this,n)}toString(){return hae(this._root)}};function RQ(t,e){e.value._routerState=t,e.children.forEach(n=>RQ(t,n))}function hae(t){let e=t.children.length>0?` { ${t.children.map(hae).join(", ")} } `:"";return`${t.value}${e}`}function vQ(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gd(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gd(e.params,n.params)||t.paramsSubject.next(n.params),ZBe(e.url,n.url)||t.urlSubject.next(n.url),gd(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function TQ(t,e){let n=gd(t.params,e.params)&&nFe(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||TQ(t.parent,e.parent))}function fae(t){return typeof t.title=="string"||t.title===null}var pae=new ie(""),BQ=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Wt;activateEvents=new Ae;deactivateEvents=new Ae;attachEvents=new Ae;detachEvents=new Ae;routerOutletData=d9(void 0);parentContexts=E(Mm);location=E(mi);changeDetector=E(zt);inputBinder=E(cw,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new be(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new IQ(n,a,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[gt]})}return t})(),IQ=class{route;childContexts;parent;outletData;constructor(e,n,i,r){this.route=e,this.childContexts=n,this.parent=i,this.outletData=r}get(e,n){return e===vr?this.route:e===Mm?this.childContexts:e===pae?this.outletData:this.parent.get(e,n)}},cw=new ie(""),FQ=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=dp([i.queryParams,i.params,i.data]).pipe(nn(([o,s,a],l)=>(a=V(V(V({},o),s),a),l===0?Re(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=b9(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),NQ=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&$(0,"router-outlet")},dependencies:[BQ],encapsulation:2})}return t})();function LQ(t){let e=t.children&&t.children.map(LQ),n=e?De(V({},t),{children:e}):V({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Wt&&(n.component=NQ),n}function SFe(t,e,n){let i=ow(t,e._root,n?n._root:void 0);return new iw(i,e)}function ow(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=TFe(t,e,n);return new Ia(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ow(t,a)),s}}let i=IFe(e.value),r=e.children.map(o=>ow(t,o));return new Ia(i,r)}}function TFe(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return ow(t,i,r);return ow(t,i)})}function IFe(t){return new vr(new fn(t.url),new fn(t.params),new fn(t.queryParams),new fn(t.fragment),new fn(t.data),t.outlet,t.component,t)}var Lv=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},mae="ngNavigationCancelingError";function T1(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=kf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Aae(!1,vs.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Aae(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[mae]=!0,n.cancellationCode=e,n}function kFe(t){return gae(t)&&kf(t.url)}function gae(t){return!!t&&t[mae]}var MFe=(t,e,n,i)=>se(r=>(new kQ(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),kQ=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),vQ(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Mv(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Mv(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Mv(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Mv(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new w1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new y1(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(vQ(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),vQ(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},I1=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ov=class{component;route;constructor(e,n){this.component=e,this.route=n}};function DFe(t,e,n){let i=t._root,r=e?e._root:null;return XC(i,r,n,[i.value])}function PFe(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Hv(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!hR(t)?t:e.get(t):i}function XC(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mv(e);return t.children.forEach(s=>{OFe(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>JC(a,n.getContext(s),r)),r}function OFe(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=RFe(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new I1(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?XC(t,e,a?a.children:null,i,r):XC(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ov(a.outlet.component,s))}else s&&JC(e,a,r),r.canActivateChecks.push(new I1(i)),o.component?XC(t,null,a?a.children:null,i,r):XC(t,null,n,i,r);return r}function RFe(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Sm(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Sm(t.url,e.url)||!gd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!TQ(t,e)||!gd(t.queryParams,e.queryParams);case"paramsChange":default:return!TQ(t,e)}}function JC(t,e,n){let i=Mv(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?JC(s,e.children.getContext(o),n):JC(s,null,n):JC(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ov(e.outlet.component,r)):n.canDeactivateChecks.push(new Ov(null,r)):n.canDeactivateChecks.push(new Ov(null,r))}function dw(t){return typeof t=="function"}function BFe(t){return typeof t=="boolean"}function FFe(t){return t&&dw(t.canLoad)}function NFe(t){return t&&dw(t.canActivate)}function LFe(t){return t&&dw(t.canActivateChild)}function UFe(t){return t&&dw(t.canDeactivate)}function VFe(t){return t&&dw(t.canMatch)}function vae(t){return t instanceof yl||t?.name==="EmptyError"}var l1=Symbol("INITIAL_VALUE");function Uv(){return nn(t=>dp(t.map(e=>e.pipe(Jt(1),yi(l1)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===l1)return l1;if(n===!1||HFe(n))return n}return!0}),qe(e=>e!==l1),Jt(1)))}function HFe(t){return kf(t)||t instanceof Lv}function QFe(t,e){return ni(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Re(De(V({},n),{guardsResult:!0})):jFe(s,i,r,t).pipe(ni(a=>a&&BFe(a)?$Fe(i,o,t,e):Re(a)),se(a=>De(V({},n),{guardsResult:a})))})}function jFe(t,e,n,i){return ui(t).pipe(ni(r=>qFe(r.component,r.route,n,e,i)),zd(r=>r!==!0,!0))}function $Fe(t,e,n,i){return ui(e).pipe(Na(r=>ea(GFe(r.route.parent,i),zFe(r.route,i),KFe(t,r.path,n),WFe(t,r.route,n))),zd(r=>r!==!0,!0))}function zFe(t,e){return t!==null&&e&&e(new C1(t)),Re(!0)}function GFe(t,e){return t!==null&&e&&e(new b1(t)),Re(!0)}function WFe(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return Re(!0);let r=i.map(o=>Uo(()=>{let s=Vv(e)??n,a=Hv(o,s),l=NFe(a)?a.canActivate(e,t):ao(s,()=>a(e,t));return Uu(l).pipe(zd())}));return Re(r).pipe(Uv())}function KFe(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>PFe(s)).filter(s=>s!==null).map(s=>Uo(()=>{let a=s.guards.map(l=>{let c=Vv(s.node)??n,d=Hv(l,c),u=LFe(d)?d.canActivateChild(i,t):ao(c,()=>d(i,t));return Uu(u).pipe(zd())});return Re(a).pipe(Uv())}));return Re(o).pipe(Uv())}function qFe(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Re(!0);let s=o.map(a=>{let l=Vv(e)??r,c=Hv(a,l),d=UFe(c)?c.canDeactivate(t,e,n,i):ao(l,()=>c(t,e,n,i));return Uu(d).pipe(zd())});return Re(s).pipe(Uv())}function YFe(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return Re(!0);let o=r.map(s=>{let a=Hv(s,t),l=FFe(a)?a.canLoad(e,n):ao(t,()=>a(e,n));return Uu(l)});return Re(o).pipe(Uv(),_ae(i))}function _ae(t){return FO(lt(e=>{if(typeof e!="boolean")throw T1(t,e)}),se(e=>e===!0))}function XFe(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return Re(!0);let o=r.map(s=>{let a=Hv(s,t),l=VFe(a)?a.canMatch(e,n):ao(t,()=>a(e,n));return Uu(l)});return Re(o).pipe(Uv(),_ae(i))}var sw=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},aw=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function kv(t){return mA(new sw(t))}function ZFe(t){return mA(new be(4e3,!1))}function JFe(t){return mA(Aae(!1,vs.GuardRejected))}var MQ=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return Re(i);if(r.numberOfChildren>1||!r.children[Wt])return ZFe(`${e.redirectTo}`);r=r.children[Wt]}}applyRedirectCommands(e,n,i,r,o){return e2e(n,r,o).pipe(se(s=>{if(s instanceof _d)throw new aw(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new aw(a);return a}))}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new _d(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Nn(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new be(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}};function e2e(t,e,n){if(typeof t=="string")return Re(t);let i=t,{queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:d,title:u}=e;return Uu(ao(n,()=>i({params:c,data:d,queryParams:r,fragment:o,routeConfig:s,url:a,outlet:l,title:u})))}var DQ={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function t2e(t,e,n,i,r){let o=bae(t,e,n);return o.matched?(i=wFe(e,i),XFe(i,e,n,r).pipe(se(s=>s===!0?o:V({},DQ)))):Re(o)}function bae(t,e,n){if(e.path==="**")return n2e(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?V({},DQ):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||qse)(n,t,e);if(!r)return V({},DQ);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?V(V({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function n2e(t){return{matched:!0,parameters:t.length>0?Xse(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Gse(t,e,n,i){return n.length>0&&o2e(t,n,i)?{segmentGroup:new Nn(e,r2e(i,new Nn(n,t.children))),slicedSegments:[]}:n.length===0&&s2e(t,n,i)?{segmentGroup:new Nn(t.segments,i2e(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Nn(t.segments,t.children),slicedSegments:n}}function i2e(t,e,n,i){let r={};for(let o of n)if(M1(t,e,o)&&!i[dc(o)]){let s=new Nn([],{});r[dc(o)]=s}return V(V({},i),r)}function r2e(t,e){let n={};n[Wt]=e;for(let i of t)if(i.path===""&&dc(i)!==Wt){let r=new Nn([],{});n[dc(i)]=r}return n}function o2e(t,e,n){return n.some(i=>M1(t,e,i)&&dc(i)!==Wt)}function s2e(t,e,n){return n.some(i=>M1(t,e,i))}function M1(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function a2e(t,e,n){return e.length===0&&!t.children[n]}var PQ=class{};function l2e(t,e,n,i,r,o,s="emptyOnly"){return new OQ(t,e,n,i,r,s,o).recognize()}var c2e=31,OQ=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new MQ(this.urlSerializer,this.urlTree)}noMatchError(e){return new be(4002,`'${e.segmentGroup}'`)}recognize(){let e=Gse(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:i})=>{let r=new Ia(i,n),o=new rw("",r),s=sae(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Tm([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Wt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Wt,n).pipe(se(i=>({children:i,rootSnapshot:n})),yc(i=>{if(i instanceof aw)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof sw?this.noMatchError(i):i}))}processSegmentGroup(e,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i,o):this.processSegment(e,n,i,i.segments,r,!0,o).pipe(se(s=>s instanceof Ia?[s]:[]))}processChildren(e,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ui(o).pipe(Na(s=>{let a=i.children[s],l=EFe(n,s);return this.processSegmentGroup(e,l,a,s,r)}),YO((s,a)=>(s.push(...a),s)),ph(null),qO(),ni(s=>{if(s===null)return kv(i);let a=yae(s);return d2e(a),Re(a)}))}processSegment(e,n,i,r,o,s,a){return ui(n).pipe(Na(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,i,r,o,s,a).pipe(yc(c=>{if(c instanceof sw)return Re(null);throw c}))),zd(l=>!!l),yc(l=>{if(vae(l))return a2e(i,r,o)?Re(new PQ):kv(i);throw l}))}processSegmentAgainstRoute(e,n,i,r,o,s,a,l){return dc(i)!==s&&(s===Wt||!M1(r,o,i))?kv(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s,l):kv(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=bae(n,r,o);if(!l)return kv(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>c2e&&(this.allowRedirects=!1));let g=new Tm(o,c,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Wse(r),dc(r),r.component??r._loadedComponent??null,r,Kse(r)),v=S1(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(v.params),g.data=Object.freeze(v.data),this.applyRedirects.applyRedirectCommands(d,r.redirectTo,u,g,e).pipe(nn(x=>this.applyRedirects.lineralizeSegments(r,x)),ni(x=>this.processSegment(e,i,n,x.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,i,r,o,s){let a=t2e(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(nn(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(nn(({routes:c})=>{let d=i._loadedInjector??e,{parameters:u,consumedSegments:p,remainingSegments:g}=l,v=new Tm(p,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Wse(i),dc(i),i.component??i._loadedComponent??null,i,Kse(i)),b=S1(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:x,slicedSegments:T}=Gse(n,p,g,c);if(T.length===0&&x.hasChildren())return this.processChildren(d,c,x,v).pipe(se(U=>new Ia(v,U)));if(c.length===0&&T.length===0)return Re(new Ia(v,[]));let k=dc(i)===o;return this.processSegment(d,c,x,T,k?Wt:o,!0,v).pipe(se(U=>new Ia(v,U instanceof Ia?[U]:[])))}))):kv(n)))}getChildConfig(e,n,i){return n.children?Re({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Re({routes:n._loadedRoutes,injector:n._loadedInjector}):YFe(e,n,i,this.urlSerializer).pipe(ni(r=>r?this.configLoader.loadChildren(e,n).pipe(lt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):JFe(n))):Re({routes:[],injector:e})}};function d2e(t){t.sort((e,n)=>e.value.outlet===Wt?-1:n.value.outlet===Wt?1:e.value.outlet.localeCompare(n.value.outlet))}function u2e(t){let e=t.value.routeConfig;return e&&e.path===""}function yae(t){let e=[],n=new Set;for(let i of t){if(!u2e(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=yae(i.children);e.push(new Ia(i.value,r))}return e.filter(i=>!n.has(i))}function Wse(t){return t.data||{}}function Kse(t){return t.resolve||{}}function h2e(t,e,n,i,r,o){return ni(s=>l2e(t,e,n,i,s.extractedUrl,r,o).pipe(se(({state:a,tree:l})=>De(V({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function f2e(t,e){return ni(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Re(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Cae(l))s.add(c);let a=0;return ui(s).pipe(Na(l=>o.has(l)?p2e(l,i,t,e):(l.data=S1(l,l.parent,t).resolve,Re(void 0))),lt(()=>a++),vA(1),ni(l=>a===s.size?Re(n):Ji))})}function Cae(t){let e=t.children.map(n=>Cae(n)).flat();return[t,...e]}function p2e(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!fae(r)&&(o[lw]=r.title),Uo(()=>(t.data=S1(t,t.parent,n).resolve,m2e(o,t,e,i).pipe(se(s=>(t._resolvedData=s,t.data=V(V({},t.data),s),null)))))}function m2e(t,e,n,i){let r=yQ(t);if(r.length===0)return Re({});let o={};return ui(r).pipe(ni(s=>A2e(t[s],e,n,i).pipe(zd(),lt(a=>{if(a instanceof Lv)throw T1(new If,a);o[s]=a}))),vA(1),se(()=>o),yc(s=>vae(s)?Ji:mA(s)))}function A2e(t,e,n,i){let r=Vv(e)??i,o=Hv(t,r),s=o.resolve?o.resolve(e,n):ao(r,()=>o(e,n));return Uu(s)}function _Q(t){return nn(e=>{let n=t(e);return n?ui(n).pipe(se(()=>e)):Re(e)})}var UQ=(()=>{class t{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Wt);return i}getResolvedTitleForRoute(n){return n.data[lw]}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>E(wae),providedIn:"root"})}return t})(),wae=(()=>{class t extends UQ{title;constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||t)(K(EW))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Df=new ie("",{providedIn:"root",factory:()=>({})}),Qv=new ie(""),D1=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(n2);loadComponent(n,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Re(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Uu(ao(n,()=>i.loadComponent())).pipe(se(xae),nn(Sae),lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),mh(()=>{this.componentLoaders.delete(i)})),o=new uh(r,()=>new O).pipe(uA());return this.componentLoaders.set(i,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Re({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Eae(i,this.compiler,n,this.onLoadEndListener).pipe(mh(()=>{this.childrenLoaders.delete(i)})),s=new uh(o,()=>new O).pipe(uA());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Eae(t,e,n,i){return Uu(ao(n,()=>t.loadChildren())).pipe(se(xae),nn(Sae),ni(r=>r instanceof FS||Array.isArray(r)?Re(r):ui(e.compileModuleAsync(r))),se(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Qv,[],{optional:!0,self:!0}).flat()),{routes:s.map(LQ),injector:o}}))}function g2e(t){return t&&typeof t=="object"&&"default"in t}function xae(t){return g2e(t)?t.default:t}function Sae(t){return Re(t)}var P1=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>E(v2e),providedIn:"root"})}return t})(),v2e=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VQ=new ie(""),HQ=new ie("");function Tae(t,e,n){let i=t.get(HQ),r=t.get(ut);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),_2e(t)));a.ready.catch(c=>{});let{onViewTransitionCreated:l}=i;return l&&ao(t,()=>l({transition:a,from:e,to:n})),s}function _2e(t){return new Promise(e=>{Di({read:()=>setTimeout(e)},{injector:t})})}var QQ=new ie(""),O1=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new O;transitionAbortWithErrorSubject=new O;configLoader=E(D1);environmentInjector=E(Xn);destroyRef=E(Qo);urlSerializer=E(km);rootContexts=E(Mm);location=E(Oc);inputBindingEnabled=E(cw,{optional:!0})!==null;titleStrategy=E(UQ);options=E(Df,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(P1);createViewTransition=E(VQ,{optional:!0});navigationErrorHandler=E(QQ,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Re(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=r=>this.events.next(new v1(r)),i=r=>this.events.next(new _1(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(De(V({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))}setupNavigations(n){return this.transitions=new fn(null),this.transitions.pipe(qe(i=>i!==null),nn(i=>{let r=!1;return Re(i).pipe(nn(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",vs.SupersededByNewNavigation),Ji;this.currentTransition=i,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?De(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let l="";return this.events.next(new bd(o.id,this.urlSerializer.serialize(o.rawUrl),l,Rv.IgnoredSameUrlNavigation)),o.resolve(!1),Ji}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Re(o).pipe(nn(l=>(this.events.next(new Mf(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Ji:Promise.resolve(l))),h2e(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(l=>{i.targetSnapshot=l.targetSnapshot,i.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=De(V({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new tw(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:d,restoredState:u,extras:p}=o,g=new Mf(l,this.urlSerializer.serialize(c),d,u);this.events.next(g);let v=uae(this.rootComponentType).snapshot;return this.currentTransition=i=De(V({},o),{targetSnapshot:v,urlAfterRedirects:c,extras:De(V({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,Re(i)}else{let l="";return this.events.next(new bd(o.id,this.urlSerializer.serialize(o.extractedUrl),l,Rv.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ji}}),lt(o=>{let s=new p1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),se(o=>(this.currentTransition=i=De(V({},o),{guards:DFe(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),QFe(this.environmentInjector,o=>this.events.next(o)),lt(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw T1(this.urlSerializer,o.guardsResult);let s=new m1(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),qe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vs.GuardRejected),!1)),_Q(o=>{if(o.guards.canActivateChecks.length!==0)return Re(o).pipe(lt(s=>{let a=new A1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),nn(s=>{let a=!1;return Re(s).pipe(f2e(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",vs.NoDataFromResolver)}}))}),lt(s=>{let a=new g1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),_Q(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let c=Vv(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(c,a.routeConfig).pipe(lt(d=>{a.component=d}),se(()=>{})))}for(let c of a.children)l.push(...s(c));return l};return dp(s(o.targetSnapshot.root)).pipe(ph(null),Jt(1))}),_Q(()=>this.afterPreactivation()),nn(()=>{let{currentSnapshot:o,targetSnapshot:s}=i,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?ui(a).pipe(se(()=>i)):Re(i)}),se(o=>{let s=SFe(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=De(V({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,i}),lt(()=>{this.events.next(new nw)}),MFe(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Jt(1),en(new Xe(o=>{let s=i.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(qe(()=>!r&&!i.targetRouterState),lt(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",vs.Aborted)}))),lt({next:o=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _s(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),en(this.transitionAbortWithErrorSubject.pipe(lt(o=>{throw o}))),mh(()=>{r||this.cancelNavigationTransition(i,"",vs.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),yc(o=>{if(this.destroyed)return i.resolve(!1),Ji;if(r=!0,gae(o))this.events.next(new vd(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),kFe(o)?this.events.next(new Nv(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let s=new Bv(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let a=ao(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Lv){let{message:l,cancellationCode:c}=T1(this.urlSerializer,a);this.events.next(new vd(i.id,this.urlSerializer.serialize(i.extractedUrl),l,c)),this.events.next(new Nv(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(a)}}return Ji}))}))}cancelNavigationTransition(n,i,r){let o=new vd(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b2e(t){return t!==Pv}var Iae=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>E(y2e),providedIn:"root"})}return t})(),k1=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},y2e=(()=>{class t extends k1{static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kae=(()=>{class t{urlSerializer=E(km);options=E(Df,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(Oc);urlHandlingStrategy=E(P1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _d;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:i,targetBrowserUrl:r}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,i):i,s=r??o;return s instanceof _d?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:i,initialUrl:r}){i&&n?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=n):this.rawUrlTree=r}routerState=uae(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:()=>E(C2e),providedIn:"root"})}return t})(),C2e=(()=>{class t extends kae{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{n(i.url,i.state,"popstate")})})}handleRouterEvent(n,i){n instanceof Mf?this.updateStateMemento():n instanceof bd?this.commitTransition(i):n instanceof tw?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof nw?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):n instanceof vd&&n.code!==vs.SupersededByNewNavigation&&n.code!==vs.Redirect?this.restoreHistory(i):n instanceof Bv?this.restoreHistory(i,!0):n instanceof _s&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,l=V(V({},s),this.generateNgRouterState(r,a));this.location.replaceState(n,"",l)}else{let a=V(V({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(r){return(n||(n=ri(t)))(r||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function R1(t,e){t.events.pipe(qe(n=>n instanceof _s||n instanceof vd||n instanceof Bv||n instanceof bd),se(n=>n instanceof _s||n instanceof bd?0:(n instanceof vd?n.code===vs.Redirect||n.code===vs.SupersededByNewNavigation:!1)?2:1),qe(n=>n!==2),Jt(1)).subscribe(()=>{e()})}var w2e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E2e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},tn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(US);stateManager=E(kae);options=E(Df,{optional:!0})||{};pendingTasks=E(Tc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(O1);urlSerializer=E(km);location=E(Oc);urlHandlingStrategy=E(P1);injector=E(Xn);_events=new O;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(Iae);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(Qv,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(cw,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new At;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof vd&&i.code!==vs.Redirect&&i.code!==vs.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _s)this.navigated=!0;else if(i instanceof Nv){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=V({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||b2e(r.source)},s);this.scheduleNavigation(a,Pv,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}CFe(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i,r)=>{this.navigateToSyncWithBrowser(n,r,i)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=V({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o).catch(l=>{this.disposed||this.injector.get(ds)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(LQ),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=r?r.snapshot:this.routerState.snapshot.root;u=aae(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return lae(u,n,d,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=kf(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Pv,null,i)}navigate(n,i={skipLocationChange:!1}){return x2e(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=V({},w2e):i===!1?r=V({},E2e):r=i,kf(n))return Qse(this.currentUrlTree,n,r);let o=this.parseUrl(n);return Qse(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,p)=>{a=u,l=p});let d=this.pendingTasks.add();return R1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function x2e(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new be(4008,!1)}var B1=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=gn(null);get href(){return So(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new O;applicationErrorHandler=E(ds);options=E(Df,{optional:!0});constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(E(new Pc("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,i=r=>r==="merge"||r==="preserve";n||=i(this.queryParamsHandling),n||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(r=>{r instanceof _s&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(kf(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:kf(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||t)(L(tn),L(vr),Ib("tabindex"),L(_n),L(Se),L(Rl))};static \u0275dir=ye({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&G("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&ct("href",r.reactiveHref(),fF)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",He],skipLocationChange:[2,"skipLocationChange","skipLocationChange",He],replaceUrl:[2,"replaceUrl","replaceUrl",He],routerLink:"routerLink"},features:[gt]})}return t})(),S2e=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ae;constructor(n,i,r,o,s){this.router=n,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof _s&&this.update()})}ngAfterContentInit(){Re(this.links.changes,Re(null)).pipe(bc()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ui(n).pipe(bc()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){let i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let i=T2e(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?n.isActive(o,i):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(i){return new(i||t)(L(tn),L(Se),L(_n),L(zt),L(B1,8))};static \u0275dir=ye({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Ur(o,B1,5),i&2){let s;Ce(s=we())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[gt]})}return t})();function T2e(t){return!!t.paths}var uw=class{};var Mae=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,i,r,o){this.router=n,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(qe(n=>n instanceof _s),Na(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=WA(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ui(r).pipe(bc())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=Re(null);let o=r.pipe(ni(s=>s===null?Re(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(n,i);return ui([o,s]).pipe(bc())}else return o})}static \u0275fac=function(i){return new(i||t)(K(tn),K(Xn),K(uw),K(D1))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Dae=new ie(""),I2e=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Pv;restoredId=0;store={};constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Mf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _s?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof bd&&n.code===Rv.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fv&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>ue(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new Fv(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Fb()};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function k2e(t){return t.routerState.root}function hw(t,e){return{\u0275kind:t,\u0275providers:e}}function M2e(){let t=E(Ge);return e=>{let n=t.get(co);if(e!==n.components[0])return;let i=t.get(tn),r=t.get(Pae);t.get($Q)===1&&i.initialNavigation(),t.get(Bae,null,{optional:!0})?.setUpPreloading(),t.get(Dae,null,{optional:!0})?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Pae=new ie("",{factory:()=>new O}),$Q=new ie("",{providedIn:"root",factory:()=>1});function Oae(){let t=[{provide:$Q,useValue:0},QS(()=>{let e=E(Ge);return e.get(g2,Promise.resolve()).then(()=>new Promise(i=>{let r=e.get(tn),o=e.get(Pae);R1(r,()=>{i(!0)}),e.get(O1).afterPreactivation=()=>(i(!0),o.closed?Re(void 0):o),r.initialNavigation()}))})];return hw(2,t)}function Rae(){let t=[QS(()=>{E(tn).setUpLocationChangeListener()}),{provide:$Q,useValue:2}];return hw(3,t)}var Bae=new ie("");function Fae(t){return hw(0,[{provide:Bae,useExisting:Mae},{provide:uw,useExisting:t}])}function Nae(){return hw(8,[FQ,{provide:cw,useExisting:FQ}])}function Lae(t){Dc("NgRouterViewTransitions");let e=[{provide:VQ,useValue:Tae},{provide:HQ,useValue:V({skipNextTransition:!!t?.skipInitialTransition},t)}];return hw(9,e)}var Uae=[Oc,{provide:km,useClass:If},tn,Mm,{provide:vr,useFactory:k2e,deps:[tn]},D1,[]],D2e=(()=>{class t{constructor(){}static forRoot(n,i){return{ngModule:t,providers:[Uae,[],{provide:Qv,multi:!0,useValue:n},[],i?.errorHandler?{provide:QQ,useValue:i.errorHandler}:[],{provide:Df,useValue:i||{}},i?.useHash?O2e():R2e(),P2e(),i?.preloadingStrategy?Fae(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?B2e(i):[],i?.bindToComponentInputs?Nae().\u0275providers:[],i?.enableViewTransitions?Lae().\u0275providers:[],F2e()]}}static forChild(n){return{ngModule:t,providers:[{provide:Qv,multi:!0,useValue:n}]}}static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({})}return t})();function P2e(){return{provide:Dae,useFactory:()=>{let t=E(tW),e=E(Ie),n=E(Df),i=E(O1),r=E(km);return n.scrollOffset&&t.setOffset(n.scrollOffset),new I2e(r,i,t,e,n)}}}function O2e(){return{provide:Rl,useClass:S2}}function R2e(){return{provide:Rl,useClass:nT}}function B2e(t){return[t.initialNavigation==="disabled"?Rae().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Oae().\u0275providers:[]]}var jQ=new ie("");function F2e(){return[{provide:jQ,useFactory:M2e},{provide:jS,multi:!0,useExisting:jQ}]}var Ht=(()=>{let e=class e{constructor(i,r,o,s){this.dialog=i,this.http=r,this.router=o,this.settingsService=s,this.typingUsers=new rs(1),this.messageListUpdated=new O,this.messageUpdated=new O,this.conversationUserUpdated=new O,this.draftsUpdated=new O,this.conversationLoaded=new O,this.conversationMessagesReloaded=new O,this.conversationId=new rs,this.onReplyToMessage=new O,this.scrollToTop=new O,this.editMessageClicked=new O,this.isMobile=new fn(document.body.clientWidth<=1024),this.isPhone=new fn(document.body.clientWidth<768),this.isSmallAdBreakpoint=new fn(document.body.clientWidth<540),this.conversationsModuleLoaded=new fn(!1),this.hundredMsInitialized=new rs,this.focusFeedInput=new O,this.onFollowUser=new O,this.openDmTrayChat=new O,this.requestChatNavigation=new O,this.collapseEncouragements=new O,this.startPricingModalTimer=new O,this.groupInvitesQueuePushed=new O,this.userIdsToPin=[],this._conversationDrafts=[],this._typingUsers=[],this.newVersionReleasedModalRef=null,this.API_ENDPOINT=`${Ue.apiUrl}/utilities`;let a=localStorage.getItem(XN);a&&(this._conversationDrafts=JSON.parse(a))}setTimerValues(i){let r=ot.utc(),o=r.startOf("day").set({hour:i.meetingHours,minute:i.meetingMinutes});(r.hour>i.meetingHours||r.hour===i.meetingHours&&r.minute>=i.meetingMinutes)&&(o=o.plus({days:1})),(o.weekday===6||o.weekday===7)&&(o=o.set({weekday:1}).plus({weeks:1})),!i.meetingWeekdays.find(c=>c===1)&&o.weekday===1&&(o=o.set({weekday:2})),!i.meetingWeekdays.find(c=>c===2)&&o.weekday===2&&(o=o.set({weekday:3})),!i.meetingWeekdays.find(c=>c===3)&&o.weekday===3&&(o=o.set({weekday:4})),!i.meetingWeekdays.find(c=>c===4)&&o.weekday===4&&(o=o.set({weekday:5})),i.startDate&&i.startDate.diff(o,"minutes").minutes>0&&(o=i.startDate),i.meetingWeekdays.length===1&&o.weekday!==i.meetingWeekdays[0]&&(o=r.set({weekday:i.meetingWeekdays[0],hour:i.meetingHours,minute:i.meetingMinutes}).plus({weeks:1}));let s=Math.ceil(o.diff(r,"minutes").minutes),a=Math.floor(s/60),l=Math.floor(s%60);i.hours=`${a<=9?"0":""}${a}`,i.minutes=`${l<=9?"0":""}${l}`}getDraft(i){return this._conversationDrafts.find(r=>r.conversationId===i)}updateDraft(i,r){let o=this._conversationDrafts.find(s=>s.conversationId===i);o?r?o.draftText=r:this._conversationDrafts.splice(this._conversationDrafts.indexOf(o),1):r&&this._conversationDrafts.push({conversationId:i,draftText:r}),localStorage.setItem(XN,JSON.stringify(this._conversationDrafts)),this.draftsUpdated.next()}groupBy(i,r){let o=i.reduce((a,l)=>((a[l[r]]=a[l[r]]||[]).push(l),a),{});return Object.keys(o).map(a=>({key:a,group:o[a]}))}createFormData(i){let r=new FormData,o=(s,a=null)=>{if(a=a||"",s instanceof File)r.append(a,s);else if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l],a+"["+l+"]");else if(s instanceof Date)r.append(a,s.toUTCString());else if(typeof s=="object"&&s)for(let l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a===""?o(s[l],l):o(s[l],a+"."+l));else s!==null&&typeof s<"u"&&r.append(a,s)};return o(i),r}parseJwt(i){let o=i.split(".")[1].replaceAll("-","+").replaceAll("_","/"),s=this.b64DecodeUnicode(o);return JSON.parse(s)}b64DecodeUnicode(i){return decodeURIComponent(Array.prototype.map.call(atob(i),r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""))}dataURItoBlob(i){let r=i.split(",")[0].indexOf("base64")>=0?atob(i.split(",")[1]):decodeURI(i.split(",")[1]),o=i.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(r.length);for(let a=0;a<r.length;a++)s[a]=r.charCodeAt(a);return new Blob([s],{type:o})}getDateBeforeNYears(i){let r=new Date;return r.setFullYear(r.getFullYear()-i),r}getDateAfterNYears(i){let r=new Date;return r.setFullYear(r.getFullYear()+i),r}clearUsersCache(){return this.http.post(`${this.API_ENDPOINT}/clear-users-cache`,null).pipe(se(i=>i.keysDeletedCount))}clearUserProfilesCache(){return this.http.post(`${this.API_ENDPOINT}/clear-user-profiles-cache`,null).pipe(se(i=>i.keysDeletedCount))}clearUserSubscriptionsCache(){return this.http.post(`${this.API_ENDPOINT}/clear-user-subscriptions-cache`,null).pipe(se(i=>i.keysDeletedCount))}clearUserFollowsCache(){return this.http.post(`${this.API_ENDPOINT}/clear-user-follows-cache`,null)}syncSubscriptions(){return this.http.post(`${this.API_ENDPOINT}/sync-subscriptions`,null).pipe(se(i=>i.subscriptionsUpdated))}forceSendMetadata(){return this.http.post(`${this.API_ENDPOINT}/force-send-metadata`,null)}errorsForField(i,r,o,s=null){let a=[];for(let l of o)if(r.indexOf(l.errorCode)>-1)a.push(l);else if(l.errorCode==="RequestInvalid"&&l.params.property===i)for(let c of l.params.errors)a.push({errorCode:c,params:{}});if(s){let l=s.controls[i];a.length?(l?.setErrors({incorrect:!0}),l?.markAsDirty()):(l?.setErrors(null),l?.updateValueAndValidity())}return a}scrollTo(i,r,o){let s=i.scrollTop,a=r-s,l=20,c=0,d=()=>{c+=l;let u=this.easeInOutQuad(c,s,a,o);i.scrollTop=u,c<o&&setTimeout(d,l)};d()}openNewVersionReleasedModal(){this.newVersionReleasedModalRef===null&&(this.newVersionReleasedModalRef=this.dialog.open(Hse,{panelClass:["fullscreen-dialog"],width:"620px",disableClose:!0}),this.newVersionReleasedModalRef.afterClosed().subscribe(i=>{i&&window.location.reload(),this.newVersionReleasedModalRef=null}))}openFeatureUnavailableModal(i){this.dialog.open(Vse,{panelClass:["feature-unavailable-modal","fullscreen-dialog","hide-actions-on-responsive"],width:"414px",data:{modalTitle:`Our <span>${i}</span> Feature is in development!`,description:"We'll let you know as soon as we roll it out!"}})}openConfirmDeletionModal(i){this.dialog.open(Lu,{panelClass:"fullscreen-dialog",data:{modalTitle:"Are you sure?",description:"DeleteChatForUser",confirmButtonLabel:"Delete"}}).afterClosed().subscribe(o=>{o&&i()})}openMinAgeRequirementNotMetModal(i){let r=new Date(i),o=ot.fromJSDate(r).startOf("day"),s=ot.now().minus({years:16}).startOf("day"),a=Math.floor(o.diff(s,"years").years),l=Math.floor(o.diff(s,"months").months),c=Math.ceil(o.diff(s,"days").days),d=a>=1?`${a} year${a===1?"":"s"}`:l>=1?`${l} month${l===1?"":"s"}`:`${c} day${c===1?"":"s"}`;return this.dialog.open(Lu,{panelClass:"fullscreen-dialog",data:{modalTitle:`Try again in ${d}`,description:"MinAgeRequirementNotMet",descriptionParams:{email:this.settingsService.isB2BApp()||this.settingsService.isCoWork()?"webapp.reporting@cowork.live":"webapp.reporting@studystream.live"},confirmButtonLabel:"Okay",hideCancelButton:!0}})}sort(i,r,o=!1){return i.sort((s,a)=>Array.isArray(s[r])||Array.isArray(a[r])?this.sortByArrayLength(s[r],a[r],o):this.defaultSort(s[r],a[r],o))}defaultSort(i,r,o=!1){return i==null&&r?1:i&&r==null?-1:i>r?o?-1:1:r>i?o?1:-1:0}randomizeArray(i){return i.map(r=>({value:r,sort:Math.random()})).sort((r,o)=>r.sort-o.sort).map(({value:r})=>r)}onTypingNotificationReceived(i){let r=this._typingUsers.find(o=>o.userId===i.userId);r?r.timeoutRef&&(clearTimeout(r.timeoutRef),r.timeoutRef=window.setTimeout(()=>{this.isTypingCleanupCallback(i)},i.duration)):(i.timeoutRef=window.setTimeout(()=>{this.isTypingCleanupCallback(i)},i.duration),this._typingUsers.push(i),this.typingUsers.next(this._typingUsers))}isTypingCleanupCallback(i){this._typingUsers=this._typingUsers.filter(r=>r.userId!==i.userId),this.typingUsers.next(this._typingUsers)}downloadFile(i){window.open(i)}downloadDesktopApp(){return this.http.get(`${this.API_ENDPOINT}/download-desktop`).pipe(lt(i=>this.downloadFile(i.url)))}isImage(i){let r=[".jpg",".jpeg",".png",".gif",".bmp"];return i=i.trim().toLowerCase(),r.find(o=>i.endsWith(o))!==void 0}isImageFileType(i){return["image/gif","image/jpeg","image/png"].includes(i.type)}isAudioFileType(i){return["audio/webm","audio/ogg","audio/mpeg","audio/wav","audio/aac","audio/mp4"].some(o=>i.type.includes(o))}getTimezones(){return this.http.get(`${this.API_ENDPOINT}/timezones`)}mapMessage(i,r){i.reactions=r.reactions,i.tokens=r.tokens,i.isDeleted=r.isDeleted,i.text=r.text,i.isEdited=r.isEdited,i.attachments=r.attachments,i.threadLastMessageDate=r.threadLastMessageDate,i.threadMessagesCount=r.threadMessagesCount,i.threadStartMessageId=r.threadStartMessageId,i.threadUsers=r.threadUsers}isIOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}isElectron(){return navigator.userAgent.toLowerCase().indexOf("electron")>-1}isChromeOnIOS(){return navigator.userAgent.indexOf("CriOS")>-1}isEmulator(){return navigator.maxTouchPoints===1}handlePlatformSpecificClass(){this.isIOS()?document.body.classList.add("ios"):document.body.classList.remove("ios"),this.isChromeOnIOS()?document.body.classList.add("chrome-ios"):document.body.classList.remove("chrome-ios"),this.isEmulator()?document.body.classList.add("emulator"):document.body.classList.remove("emulator"),this.isElectron()?document.body.classList.add("electron"):document.body.classList.remove("electron"),this.detectBrowserName()==="safari"?document.body.classList.add("safari"):document.body.classList.remove("safari"),this.settingsService.isCoWork()?document.body.classList.add("cowork"):document.body.classList.remove("cowork")}togglePageSections(i,r=null){return new IntersectionObserver(o=>{if(o[0].isIntersecting)i.visible=!0,r&&r();else{if(i.visible)return;i.visible=!1}},{threshold:[0]})}getArrayWithNElements(i){return Array(i)}mapReactionToggled(i,r,o,s){let a=i===null,l=r.find(c=>c.reactionCharCode===o);if(a){if(!l)return;let c=l.users.findIndex(d=>d.id===s);c>-1&&(l.users.splice(c,1),l.reactionsCount--,l.reactionsCount===0&&r.splice(r.indexOf(l),1))}else{let c={id:i.userId,displayName:i.displayName};if(l)l.users.some(u=>u.id===i.userId)||(l.users.unshift(c),l.reactionsCount++);else{let d={reactionCharCode:i.reactionCharCode,reactionsCount:1,users:[c]};r.push(d),r.sort((0,Vae.firstBy)(u=>u.reactionsCount,{direction:"desc"}))}}}scrollToFeedItem(i){let r=document.querySelector(`${this.isMobile?"html":".rooms-and-actions .actions"}`),o=document.querySelector(".feed-reply-input"),s=document.getElementById(i);if(!N2e(o)&&s){let a=s.offsetTop-r.clientHeight+s.clientHeight;r.scrollTop=a}}isOnFocusRoomPage(){return this.router.url.includes("/focus/")||this.router.url.includes("/focus-room/")||this.isOnFocusRoomLitePage()}isOnFocusRoomLitePage(){return this.router.url.includes("/focus-lite/")}isOnPlansAndPricingPage(){return this.router.url.includes("/plans-and-pricing")}convert24HourTo12Hour(i){return(i===0?"12":JSON.stringify(i<=12?i:i-12)).concat(i<12?" AM":" PM")}getUserTypeEmoji(i){switch(i){case jl.PreUniStudent:return"\u{1F4DA}";case jl.UniStudent:return"\u{1F393}";case jl.Professional:return"\u{1F4BC}";default:return""}}getUserTypeLabel(i){switch(i){case jl.PreUniStudent:return"Pre-University Student";case jl.UniStudent:return"University Student";case jl.Professional:return"Professional";default:return""}}sortByArrayLength(i,r,o=!1){return i?.length>r?.length?o?-1:1:r?.length>i?.length?o?1:-1:0}easeInOutQuad(i,r,o,s){return i/=s/2,i<1?o/2*i*i+r:(i--,-o/2*(i*(i-2)-1)+r)}detectBrowserName(){let i=navigator.userAgent.toLowerCase();return i.includes("edge")?"edge":i.includes("opr")&&window.opr?"opera":i.includes("chrome")&&window.chrome?"chrome":i.includes("trident")?"ie":i.includes("firefox")?"firefox":i.includes("safari")?"safari":"other"}};e.\u0275fac=function(r){return new(r||e)(K(ai),K(Mt),K(tn),K(Sn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nIt=(()=>{let e=class e extends dN{format(i,r){if(r==="input"){let o=i.getMonth()+1,s=i.getFullYear();return`${o<10?"0":""}${o}/${s}`}return i.toDateString()}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=ri(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),iIt={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"input",monthYearLabel:{year:"numeric",month:"numeric"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function rIt(t){return Math.floor(Math.random()*t)+1}function oIt(t,e){return String(t).padStart(e,"0")}function Hae(t,e){e&&t.unobserve(e),t.disconnect()}function N2e(t){let e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function Qae(t){switch(t){case io.H1080:return Jo.h1080.resolution;case io.H540:return Jo.h540.resolution;case io.H360:return Jo.h360.resolution;case io.H216:return Jo.h216.resolution;default:return Jo.h216.resolution}}function jae(t,e){switch(t.height){case 1080:return io.H1080;case 540:return io.H540;case 360:return io.H360;case 216:return io.H216;default:return e?io.H1080:io.H216}}function $ae(t){return t.id?L2e(t.dateCreated):0}function L2e(t){return ot.now().diff(ot.fromISO(t),["days"]).days}function sIt(t){let e=t/60,n=Math.floor(e/60),i=Math.floor(e%60);return n===0&&i===0&&t>0?"<1m":n===0?`${i}m`:`${n}h ${i}m`}function yd(){let t=new Date().getTime();return typeof performance<"u"&&typeof performance.now=="function"&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let n=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e==="x"?n:n&3|8).toString(16)})}var F1=(()=>{let e=class e{constructor(i){if(this.http=i,this.themeChange=new rs(1),this.API_ENDPOINT=`${Ue.apiUrl}/accounts/me/theme`,!this.authenticated()){let r=localStorage.getItem(Sg),o=r===Bs.Light||r===Bs.Dark?r:Bs.Light;this.setTheme(o)}}setTheme(i,r=!1){r||(this.themeChange.next(i),window.parent.postMessage({action:"themeChanged",params:i}));let o=`${i.toLowerCase()}-theme`,s=`${Bs.Dark.toLowerCase()}-theme`,a=`${Bs.Light.toLowerCase()}-theme`;if(i===Bs.Light&&!document.body.classList.contains(o)?(document.body.classList.remove(s),document.body.classList.add(o)):i===Bs.Dark&&!document.body.classList.contains(o)&&(document.body.classList.remove(a),document.body.classList.add(o)),r)return;let l=localStorage.getItem(Sg);i!==l&&(localStorage.setItem(Sg,i),this.authenticated()&&this.updateUserTheme(i).subscribe())}authenticated(){return localStorage.getItem(Za)!=null}updateUserTheme(i){return this.http.put(this.API_ENDPOINT,{userTheme:i})}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qt=(()=>{let e=class e{constructor(i,r,o,s,a){this.settingsService=i,this.http=r,this.router=o,this.utilityService=s,this.themeService=a,this.logoutEvent=new O,this.currentUser={activeExperiments:[]},this.currentUserChange=new O,this.activeProfileStep=0,this.dateLastRefreshedTimeInfo=null,this.API_ENDPOINT=`${Ue.apiUrl}/accounts`,this.themeService.themeChange.pipe(qe(l=>this.currentUser.theme!==l)).subscribe(l=>{this.currentUser.theme=l,this.currentUserChange.next()})}login(i){return this.http.post(`${this.API_ENDPOINT}/login`,i)}googleLogin(i){return i.anonymousUserId=this.getAnonymousUserIdAndEnsureCreated(),this.http.post(`${this.API_ENDPOINT}/login/google`,i).pipe(lt(r=>{r.justRegistered&&this.storeRegisterConst()}))}appleLogin(i){return i.anonymousUserId=this.getAnonymousUserIdAndEnsureCreated(),this.http.post(`${this.API_ENDPOINT}/login/apple`,i).pipe(lt(r=>{r.justRegistered&&this.storeRegisterConst()}))}facebookLogin(i){return i.anonymousUserId=this.getAnonymousUserIdAndEnsureCreated(),this.http.post(`${this.API_ENDPOINT}/login/facebook`,i).pipe(lt(r=>{r.justRegistered&&this.storeRegisterConst()}))}register(i){return i.password||delete i.password,i.anonymousUserId=localStorage.getItem(CI),this.http.post(`${this.API_ENDPOINT}/register`,i).pipe(lt(r=>this.storeRegisterConst()))}inviteUsers(i){return this.http.put(`${this.API_ENDPOINT}/bulk-invite`,i)}verifyEmail(i){return this.http.put(`${this.API_ENDPOINT}/verify-email?code=${i}`,null)}verifyEmails(i){return this.http.put(`${this.API_ENDPOINT}/verify-emails`,i)}resendConfirmationEmail(){return this.http.put(`${this.API_ENDPOINT}/verify-email/resend`,null)}changeEmailAddress(i){return this.http.put(`${this.API_ENDPOINT}/verify-email/change`,{newEmail:i}).pipe(lt(r=>this.setCurrentUserInfo(r)))}verifyPhone(i){return this.http.put(`${this.API_ENDPOINT}/phone/verify?code=${i}`,null)}resendConfirmationSms(){return this.http.put(`${this.API_ENDPOINT}/phone/resend`,null)}changePhoneNumber(i){return this.http.put(`${this.API_ENDPOINT}/phone`,{newPhoneNumber:i}).pipe(lt(r=>{this.currentUser.datePhoneVerificationCodeExpires=r.newCodeExpiryDate,this.currentUserChange.next()}))}forgotPassword(i){return this.http.put(`${this.API_ENDPOINT}/password/forgot`,i)}resetPassword(i){return this.http.put(`${this.API_ENDPOINT}/password/reset`,i)}changePassword(i){return this.http.put(`${this.API_ENDPOINT}/password/change`,i)}completeBasicInfo(i){return this.http.put(`${this.API_ENDPOINT}/profile/basic-info`,i).pipe(lt(r=>this.setCurrentUserInfo(r)))}completeAdditionalInfo(i){return this.http.put(`${this.API_ENDPOINT}/profile/additional-info`,i).pipe(lt(r=>this.setCurrentUserInfo(r)))}completeProfileSetupStep1(i){let r=JSON.parse(JSON.stringify(i));if(r.birthday){let o=ot.fromISO(r.birthday).toFormat("dd/MM/yyyy"),s=ot.fromFormat(o,"dd/MM/yyyy").toISODate();r.birthday=s}return this.http.put(`${this.API_ENDPOINT}/profile/step-1`,r).pipe(lt(o=>this.setCurrentUserInfo(o)))}completeProfileSetupStep2(i){return this.http.put(`${this.API_ENDPOINT}/profile/step-2`,i).pipe(lt(r=>this.setCurrentUserInfo(r)))}completeProfileSetupStep3(i){return this.http.put(`${this.API_ENDPOINT}/profile/step-3`,i).pipe(lt(r=>this.setCurrentUserInfo(r)))}completeProfileSetupStep4(i){let r=this.utilityService.createFormData(i);return this.http.put(`${this.API_ENDPOINT}/profile/step-4`,r).pipe(lt(o=>this.setCurrentUserInfo(o)))}getMyInfo(){return this.getMyInfoCall||(this.getMyInfoCall=this.http.get(`${this.API_ENDPOINT}/me`).pipe(ss(),lt(i=>this.setCurrentUserInfo(i)))),this.getMyInfoCall}getMySystemSettings(){return this.http.get(`${this.API_ENDPOINT}/me/system-settings`)}getUserHash(){return this.http.get(`${this.API_ENDPOINT}/me/hash`)}getUserTimeInfo(){return this.http.get(`${this.API_ENDPOINT}/me/time-info`).pipe(lt(i=>this.refreshUserTimeInfo(i)))}updateUserToLocationCountry(i){return this.http.put(`${this.API_ENDPOINT}/me/country`,{countryId:i}).pipe(lt(r=>{r&&(this.currentUser.countryId=r.id,this.currentUser.countryName=r.name,this.currentUser.countryTwoLetterCode=r.twoLetterCountryCode,this.currentUserChange.next())}))}updateUserTimezone(i){return this.http.put(`${this.API_ENDPOINT}/me/timezone`,{newTimezoneId:i}).pipe(lt(()=>{this.currentUser.timezoneId=i,this.currentUserChange.next()}))}updateProfile(i){let r={firstName:i.firstName,lastName:i.lastName,displayName:i.displayName,countryId:i.countryId,birthday:i.birthday,areaOfStudyId:i.areaOfStudyId,timezoneId:i.timezoneId,pronouns:i.pronouns,gender:i.gender,relationshipStatus:i.relationshipStatus,whatAmILookingFor:i.whatAmILookingFor},o=JSON.parse(JSON.stringify(r));if(o.birthday){let s=ot.fromISO(o.birthday).toFormat("dd/MM/yyyy"),a=ot.fromFormat(s,"dd/MM/yyyy").toISODate();o.birthday=a}return this.http.put(`${this.API_ENDPOINT}/me`,o).pipe(lt(s=>this.setCurrentUserInfo(s)))}updateAdditionalProfile(i,r){let o={bio:i.bio,countryId:i.countryId,areaOfStudyId:i.areaOfStudyId,userInterests:r};return this.http.put(`${this.API_ENDPOINT}/me/additional-profile`,o).pipe(lt(s=>this.setCurrentUserInfo(s)))}updateBio(i){let r={bio:i};return this.http.put(`${this.API_ENDPOINT}/me/bio`,r).pipe(lt(()=>{this.currentUser.bio=i,this.currentUserChange.next()}))}getMyInterests(){return this.http.get(`${this.API_ENDPOINT}/me/interests`)}updateInterests(i){let r={userInterests:i};return this.http.put(`${this.API_ENDPOINT}/me/interests`,r).pipe(lt(()=>{this.currentUser.hasUserInterests=i.length>0,this.currentUserChange.next()}))}getMySocialHandles(){return this.http.get(`${this.API_ENDPOINT}/me/social-handles`)}updateSocialHandles(i){let r={socialHandles:i};return this.http.put(`${this.API_ENDPOINT}/me/social-handles`,r)}updateAccountSettings(i,r){let o={type:i.type,notificationsMuted:i.notificationsMuted,emailSummaryEnabled:r.emailSummaryEnabled,feedItemReactionCreatedNotificationDisabled:r.feedItemReactionCreatedNotificationDisabled,chatMessageReceivedNotificationDisabled:r.chatMessageReceivedNotificationDisabled,feedItemCommentCreatedNotificationDisabled:r.feedItemCommentCreatedNotificationDisabled,userVideoSessionStartedNotificationDisabled:r.userVideoSessionStartedNotificationDisabled,premiumTickHidden:r.premiumTickHidden,userFollowedNotificationDisabled:r.userFollowedNotificationDisabled,losingYourStreakSoonNotificationDisabled:r.losingYourStreakSoonNotificationDisabled};return this.http.put(`${this.API_ENDPOINT}/me/account-settings`,o).pipe(lt(()=>{this.currentUser.type=i.type,this.currentUser.notificationsMuted=i.notificationsMuted,this.currentUserChange.next()}))}upsertRoomSettings(i,r){let o=structuredClone(i);return r&&(o.videoResolution=null),this.http.put(`${this.API_ENDPOINT}/me/room-settings`,o)}updateAvatar(i=!1,r=null){let o={avatarFile:r,shouldClearAvatar:i},s=this.utilityService.createFormData(o);return this.http.put(`${this.API_ENDPOINT}/me/avatar`,s).pipe(lt(a=>this.setCurrentUserInfo(a)))}updateProfileCover(i=!1,r=null){let o={profileCoverFile:r,shouldClearProfileCover:i},s=this.utilityService.createFormData(o);return this.http.put(`${this.API_ENDPOINT}/me/profile-cover`,s).pipe(lt(a=>this.setCurrentUserInfo(a)))}disableNotifications(i){return this.http.put(`${this.API_ENDPOINT}/me/notifications/disable`,{durationSeconds:i})}enableNotifications(){return this.http.put(`${this.API_ENDPOINT}/me/notifications/enable`,null)}disableNotificationsTray(i){return this.http.put(`${this.API_ENDPOINT}/me/notifications-tray/disable`,{durationSeconds:i})}enableNotificationsTray(){return this.http.put(`${this.API_ENDPOINT}/me/notifications-tray/enable`,null)}disableCountryChangePrompt(){return this.http.put(`${this.API_ENDPOINT}/me/country-change-prompt/disable`,null)}disableTimezoneChangePrompt(){return this.http.put(`${this.API_ENDPOINT}/me/timezone-change-prompt/disable`,null)}setIntroJsSeenState(i){return this.http.put(`${this.API_ENDPOINT}/me/introjs/seen-state/${i}`,null).pipe(lt(()=>{switch(i){case N1.Dashboard:this.currentUser.seenDashboardIntroJs=!0;break;case N1.FocusRoom:this.currentUser.seenRoomIntroJs=!0;break;case N1.VideoPillButton:this.currentUser.seenVideoPillIntroJs=!0;break}this.currentUserChange.next()}))}onSSLogin(i,r){localStorage.setItem(Za,i.token),localStorage.removeItem(xg),this.router.url.includes("focus-room")&&(r=`${r}${r.includes("?")?"&":"?"}loggedIn=true`),i.justReactivated&&(r=`${r}${r.includes("?")?"&":"?"}reactivated=true`),location.href=r||"/"}deactivateAccount(i){return this.http.put(`${this.API_ENDPOINT}/me/deactivate`,{feedbackText:i})}deleteAccount(i){return this.http.put(`${this.API_ENDPOINT}/me/delete`,{feedbackText:i})}logout(){return this.http.put(`${this.API_ENDPOINT}/me/logout`,null)}pingForLastActive(){return this.http.put(`${this.API_ENDPOINT}/me/ping`,null)}hideNewUserMarker(){return this.http.put(`${this.API_ENDPOINT}/me/new-user-marker`,null)}cancelAllStripeItemsWithoutRefunds(){return this.http.put(`${this.API_ENDPOINT}/me/stripe/cancel`,null)}checkDisplayNameUniqueness(i){return this.http.post(`${this.API_ENDPOINT}/me/display-name/check-unique`,{newDisplayName:i})}onLogout(i=null){if(this.logoutEvent.next(),this.clearLocalStorage(),i===KN.UserRequestedDeletion&&localStorage.setItem(q0,"1"),this.settingsService.isB2BApp()){location.href="";return}let r=i?encodeURIComponent(`?deactivationReason=${i}`):"";location.href=Ue.otherSiteRootUrl?`${Ue.otherSiteRootUrl}/token-receive.html?redirectUrl=${location.origin}${r}`:`/${i}`}authenticated(){return localStorage.getItem(Za)!=null}isCurrentUserPhoneVerified(){return this.isUserPhoneVerified(this.currentUser)}isUserPhoneVerified(i){return!this.settingsService.settings.phoneNumberVerificationEnabled||i.phoneNumberConfirmed||i.dateCreated<this.settingsService.settings.phoneNumberVerificationStartDate}isFullyVerifiedUser(){return this.authenticated()&&this.currentUser.emailConfirmed&&this.isCurrentUserPhoneVerified()&&this.currentUser.completedBasicInfo}isInRole(i){return this.authenticated()?!!this.currentUser?.roles&&this.currentUser.roles.includes(i):!1}setCurrentUserInfo(i){this.themeService.setTheme(i.theme),Object.assign(this.currentUser,i),this.currentUserChange.next(),this.dateLastRefreshedTimeInfo=ot.now(),this.activeProfileStep===0&&(this.activeProfileStep=this.currentUser.lastCompletedUserProfileStep+1)}refreshUserTimeInfo(i){this.dateLastRefreshedTimeInfo=ot.now(),this.currentUser.timeInfo=i,this.currentUserChange.next()}getAnonymousUserIdAndEnsureCreated(){let i=localStorage.getItem(CI);return i===null&&(i=yd(),localStorage.setItem(CI,i)),i}get isD0(){return $ae(this.currentUser)<1}storeRegisterConst(){localStorage.setItem(K0,new Date().toISOString()),localStorage.setItem(q0,"90")}clearLocalStorage(){let i=this.getLocalStorageFixedItems();localStorage.clear();for(let{key:r,value:o}of i)localStorage.setItem(r,o)}getLocalStorageFixedItems(){let i=[Sg,Jq,K0],r=[];for(let o of i){let s=localStorage.getItem(o);s&&r.push({key:o,value:s})}return r}};e.\u0275fac=function(r){return new(r||e)(K(Sn),K(Mt),K(tn),K(Ht),K(F1))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U2e=function(t){return t.NewFocusRoomEntryFlow="NewFocusRoomEntryFlow",t}(U2e||{}),N1=function(t){return t.Dashboard="Dashboard",t.FocusRoom="FocusRoom",t.VideoPillButton="VideoPillButton",t}(N1||{});var jv=(()=>{let e=class e{constructor(i){this.http=i,this.activeTiers=[],this.freeTier={},this.tiersChanged=new O,this.API_ENDPOINT=`${Ue.apiUrl}/subscription-tiers`}getAll(){return this.http.get(this.API_ENDPOINT)}getActiveTiers(){return this.http.get(`${this.API_ENDPOINT}/active`).pipe(lt(i=>{let r=i.find(o=>o.name===yI);r&&(this.freeTier=r),this.activeTiers=i}))}getLegacyTier(i){return this.http.get(`${this.API_ENDPOINT}/legacy/${i}`).pipe(lt(r=>this.activeLegacyTier=r))}getTier(i){return this.http.get(`${this.API_ENDPOINT}/${i}`)}createTier(i){return this.http.post(this.API_ENDPOINT,i)}updateTier(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}`,r)}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ao=(()=>{let e=class e{get adsDisabled(){return!this.settingsService.settings.showAds||this.hasActiveSubscription&&this.activeSubscriptionTier.hideAds||this.accountService.isInRole(Wr.Administrator)||this.accountService.isInRole(Wr.Moderator)||this.accountService.isD0}get hasPremiumFeatures(){return this.hasActiveSubscription&&this.activeSubscriptionTier.includePremiumFeatures||this.accountService.isInRole(Wr.Administrator)||this.accountService.isInRole(Wr.Moderator)||this.settingsService.isB2BApp()}get hasActiveSubscription(){if(!this.accountService.authenticated())return!1;if(this.settingsService.isB2BApp())return!0;let i=this.accountService.currentUser.subscription;return this.accountService.isFullyVerifiedUser()&&!!i&&i.currentPeriodEnd!==null&&ot.fromISO(i.currentPeriodEnd).plus({hours:i.cancelAtPeriodEnd?0:Yq}).toUTC()>=ot.utc()&&(i.source!==Zy.Stripe||Zq.includes(i.status))}get hasActiveSubscriptionOrIsAdminOrMod(){return this.hasActiveSubscription||this.accountService.isInRole(Wr.Administrator)||this.accountService.isInRole(Wr.Moderator)||this.settingsService.isB2BApp()}get allowTrial(){let i=this.accountService.currentUser.subscription;return this.accountService.isFullyVerifiedUser()&&(i===null||i.trialPeriodEnd===null)}get isOnTrial(){let i=this.accountService.currentUser.subscription;return this.accountService.isFullyVerifiedUser()&&i!==null&&i.source===Zy.Stripe&&i.status==="trialing"}get issueWithStripePaymentExists(){let i=this.accountService.currentUser.subscription;return!!i&&i.source===Zy.Stripe&&!!i.status&&!Xq.includes(i.status)&&!this.hasActiveSubscription}get dailyFocusRoomSecondsLeft(){let i=this.getFocusRoomTimeLimitInMinutes();if(i===0)return 0;let r=i*60,o=this.accountService.currentUser.timeInfo.totalFocusRoomSecondsToday-this.accountService.currentUser.timeInfo.purchasedSecondsSpentToday,s=+(r-o).toFixed(1);return Math.max(s,0)}get activeSubscriptionTier(){let i=this.accountService.currentUser.subscription;if(!i||!this.hasActiveSubscription)return this.subscriptionTierService.freeTier;let r=this.subscriptionTierService.activeTiers.find(s=>s.id===i.subscriptionTierId);if(r)return r;let o=this.subscriptionTierService.activeLegacyTier;return o&&i.subscriptionTierId===o.id?o:this.subscriptionTierService.freeTier}get isD0AndFree(){let i=this.hasActiveSubscription||this.accountService.isInRole(Wr.Administrator)||this.accountService.isInRole(Wr.Moderator);return this.accountService.isD0&&!i}constructor(i,r,o,s){this.http=i,this.accountService=r,this.settingsService=o,this.subscriptionTierService=s,this.API_ENDPOINT=`${Ue.apiUrl}/subscriptions`,this.subscriptionUsersUpdated=new O,this.printValues=!1,window.subscriptionService=this}getFocusRoomTimeLimitInMinutes(){return this.accountService.isFullyVerifiedUser()?this.accountService.isInRole(Wr.Administrator)||this.accountService.isInRole(Wr.Moderator)?0:this.accountService.currentUser.dateCreated>this.settingsService.settings.newUsersTimeLimitFromDate?this.activeSubscriptionTier.focusRoomTimeLimitInMinutesForNewUsers:this.activeSubscriptionTier.focusRoomTimeLimitInMinutes:this.settingsService.settings.anonymousUserFocusRoomTimeLimitInMinutes}createCheckoutSession(i,r,o,s){return this.http.post(`${this.API_ENDPOINT}/create-checkout-session`,{subscriptionTierId:i,requestTrial:r,billingCycle:o,triggeredUpgradeFromSource:s})}createPortalSession(){return this.http.post(`${this.API_ENDPOINT}/create-portal-session`,null)}reactivateSubscription(){return this.http.post(`${this.API_ENDPOINT}/stripe/reactivate`,null)}cancelSubscription(){return this.http.post(`${this.API_ENDPOINT}/stripe/cancel`,null)}previewSubscriptionUpgrade(i,r,o){return this.http.post(`${this.API_ENDPOINT}/upgrade/preview`,{desiredSubscriptionTierId:i,requestTrial:r,billingCycle:o})}executeSubscriptionUpgrade(i,r,o){return this.http.post(`${this.API_ENDPOINT}/upgrade/execute`,{desiredSubscriptionTierId:i,requestTrial:r,billingCycle:o})}storeUpgradeReason(i){return this.http.post(`${this.API_ENDPOINT}/upgrade/reason`,{upgradeReasonFeature:i})}getSubscriptionUsers(){return this.http.get(`${this.API_ENDPOINT}/users`)}createSubscriptionUser(i){return this.http.post(`${this.API_ENDPOINT}/users`,{userId:i})}getSubscriptionInvitation(i){return this.http.get(`${this.API_ENDPOINT}/users/${i}/invitation`)}confirmSubscriptionInvitation(i){return this.http.put(`${this.API_ENDPOINT}/users/${i}/invitation`,null)}removeSubscriptionUser(i){return this.http.delete(`${this.API_ENDPOINT}/users/${i}`)}leaveParentSubscription(i){let r=new Oe;return r=r.append("doNotAddMeAgain",i),this.http.delete(`${this.API_ENDPOINT}/users/leave`,{params:r})}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Qt),K(Sn),K(jv))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Kr=(()=>{let e=class e{constructor(i,r){this.accountService=i,this.subscriptionService=r}fireEvent(i,r,o){if(typeof gtag!="function")return;let s=(o??"").replaceAll(" ","-").toLowerCase();gtag("event",`${i}__${r}__${s}`)}initAmplitude(i){let r=this.getAmplitudeApiKey();r&&Soe(r,{defaultTracking:!1}).promise.then(()=>{let o=this.accountService.currentUser.id;Toe(o),i()})}markActivity(i,r=void 0){if(!this.getAmplitudeApiKey())return;r||(r={});let o=this.subscriptionService.activeSubscriptionTier;r.activeTierId=o.id,r.activeTierName=o.name,Ioe(i.toString(),r)}getAmplitudeApiKey(){let i=Ue.amplitudeApiKey;return!i||!this.accountService.authenticated()?null:i}};e.\u0275fac=function(r){return new(r||e)(K(Qt),K(Ao))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),L1=function(t){return t.Button="button",t.Toggle="toggle",t.Link="link",t.Tab="tab",t.Accordion="accordion",t.Dropdown="dropdown",t.Checkbox="checkbox",t.Form="form",t.Modal="modal",t}(L1||{}),U1=function(t){return t.Click="click",t.Submit="submit",t.Open="open",t}(U1||{}),mt=function(t){return t.CreateAnAccountButtonClick="CreateAnAccountButtonClick",t.LoginButtonClick="LoginButtonClick",t.SidebarStreak="SidebarStreak",t.SoloRoom="SoloRoom",t.RoomJoinClick="RoomJoinClicked",t.UpgradeRequest="UpgradeRequest",t.UpgradeFeedback="UpgradeFeedback",t.PurchaseMoreHoursRequest="PurchaseMoreHoursRequest",t.FocusRoomCountryFilterChange="FocusRoomCountryFilterChange",t.FocusRoomAreaOfStudyFilterChange="FocusRoomAreaOfStudyFilterChange",t.FocusRoomSortByMostPins="FocusRoomSortByMostPins",t.FocusRoomSortByIgnorePinCounts="FocusRoomSortByIgnorePinCounts",t.FocusRoomUserTypeFilterChange="FocusRoomUserTypeFilterChange",t.ClearedFilters="ClearedFilters",t.EncouragementToastClicked="EncouragementToastClicked",t.DashboardSeeAllPins="DashboardSeeAllPins",t.LivekitUserHidden="LivekitUserHidden",t.LivekitUserUnhidden="LivekitUserUnhidden",t.LivekitEncouragementVideoLoaded="LivekitEncouragementVideoLoaded",t.LivekitEncouragementPageChanged="LivekitEncouragementPageChanged",t.LivekitPiPStart="LivekitPiPStart",t.LivekitPiPStop="LivekitPiPStop",t.LivekitPiPInfoShown="LivekitPiPInfoShown",t.LivekitLocalVideoHighlightLoaded="LivekitLocalVideoHighlightLoaded",t.LivekitLocalVideoHighlightPageChanged="LivekitLocalVideoHighlightPageChanged",t.LivekitJoinedWithOnlineStatusIndicatorAndShownParticipant="LivekitJoinedWithOnlineStatusIndicatorAndShownParticipant",t.LivekitParticipantListItemHighlightVideoLoaded="LivekitParticipantListItemHighlightVideoLoaded",t.LivekitParticipantListItemHighlightPageChanged="LivekitParticipantListItemHighlightPageChanged",t.LivekitParticipantMutualPinHighlight="LivekitParticipantMutualPinHighlight",t.LivekitVirtualBackground="LivekitVirtualBackground",t.LivekitFinishSession="LivekitFinishSession",t.LivekitEmptySidOnRoomConnected="LivekitEmptySidOnRoomConnected",t.LivekitFocusPlusEntered="LivekitFocusPlusEntered",t.LivekitFocusPlusExited="LivekitFocusPlusExited",t.LivekitFocusBuddyPostOpenedMainButton="LivekitFocusBuddyPostOpenedMainButton",t.LivekitFocusBuddyPostOpenedStatusButton="LivekitFocusBuddyPostOpenedStatusButton",t.LivekitFocusBuddyPostOpenedHeaderMenu="LivekitFocusBuddyPostOpenedHeaderMenu",t.LivekitFocusBuddyEditOwnPost="LivekitFocusBuddyEditOwnPost",t.LivekitFocusBuddyInviteToStudyTogether="LivekitFocusBuddyInviteToStudyTogether",t.LivekitFocusRoomOnboardingSkip="LivekitFocusRoomOnboardingSkip",t.LivekitFocusRoomOnboardingStart="LivekitFocusRoomOnboardingStart",t.LivekitFocusRoomOnboardingAutoselect="LivekitFocusRoomOnboardingAutoselect",t.LivekitAdUserLinkClick="LivekitAdUserLinkClick",t.LivekitReconnecting="LivekitReconnectingSdk2",t.LivekitReconnected="LivekitReconnectedSdk2",t.LivekitSimpleReconnecting="LivekitSimpleReconnecting",t.LivekitSimpleReconnected="LivekitSimpleReconnected",t.LivekitSimplestReconnecting="LivekitSimplestReconnecting",t.LivekitSimplestReconnected="LivekitSimplestReconnected",t.LivekitUsingPip="LivekitUsingPip",t.LivekitCouldNotStartCamera="LivekitCouldNotStartCamera",t.LivekitCouldNotStartMicrophone="LivekitCouldNotStartMicrophone",t.NewsFeedNewsItem="NewsFeedNewsItem",t.NewsFeedAppRelease="NewsFeedAppRelease",t.NewsFeedNewFollowerUpdate="NewsFeedNewFollowerUpdate",t.NewsFeedPomodoroSessionCompletion="NewsFeedPomodoroSessionCompletion",t.NewsFeedUserStatusUpdate="NewsFeedUserStatusUpdate",t.NewsFeedTaskCompleted="NewsFeedTaskCompleted",t.NewsFeedCommentsExpanded="NewsFeedCommentsExpanded",t.NewsFeedReplyIntent="NewsFeedReplyIntent",t.NotificationFeedModalReplyIntent="NotificationFeedModal",t.NewsFeedMoreOptionsMenuExpanded="NewsFeedMoreOptionsMenuExpanded",t.NewsFeedReactionsModalViewed="NewsFeedReactionsModalViewed",t.NewsFeedUnfollowModalViewed="NewsFeedUnfollowModalViewed",t.NewsFeedDeleteFeedItemModalViewed="NewsFeedDeleteFeedItemModalViewed",t.NewsFeedReportModalViewed="NewsFeedReportModalViewed",t.NewsFeedBlockModalViewed="NewsFeedBlockModalViewed",t.NewsFeedGalleryModalViewed="NewsFeedGalleryModalViewed",t.TestimonialFeedGalleryModalViewed="TestimonialFeedGalleryModalViewed",t.NewsFeedMiniBioOpened="NewsFeedMiniBioOpened",t.TestimonialMiniBioOpened="TestimonialMiniBioOpened",t.NewsFeedMiniBioGoToProfile="NewsFeedMiniBioGoToProfile",t.NewsFeedMiniBioMessage="NewsFeedMiniBioMessage",t.NewsFeedFeedLedToFollow="NewsFeedFeedLedToFollow",t.NewsFeedSuggestedUsersModalViewed="NewsFeedSuggestedUsersModalViewed",t.NewsFeedSuggestedUserFollowed="NewsFeedSuggestedUserFollowed",t.NewsFeedSuggestedUsersMiniBioOpened="NewsFeedSuggestedUsersMiniBioOpened",t.FeedCommentMiniBioOpened="FeedCommentMiniBioOpened",t.FocusBuddyPostMiniBioOpened="FocusBuddyPostMiniBioOpened",t.LeaderboardsMiniBioOpened="LeaderboardsMiniBioOpened",t.SimpleSearchMiniBioOpened="SimpleSearchMiniBioOpened",t.EncouragedByItemMiniBioOpened="EncouragedByItemMiniBioOpened",t.BlockedListMiniBioOpened="BlockedListMiniBioOpened",t.PinnedYouUserItemMiniBioOpened="PinnedYouUserItemMiniBioOpened",t.RoomBoxMiniBioOpened="RoomBoxMiniBioOpened",t.NewsFeedSuggestedUsersMiniBioGoToProfile="NewsFeedSuggestedUsersMiniBioGoToProfile",t.NewsFeedSuggestedUsersMiniBioMessage="NewsFeedSuggestedUsersMiniBioMessage",t.LivekitTilesPerPageNumberChanged="LivekitTilesPerPageNumberChanged",t.LivekitTilesPerPageNumberAndWindowDimensions="LivekitTilesPerPageNumberAndWindowDimensions",t.LivekitPaymentTestToastClick="LivekitPaymentTestToastClick",t.LivekitPaymentTestRevealPinModalSubmit="LivekitPaymentTestRevealPinModalSubmit",t.LivekitPaymentTestPaymentModalSubmit="LivekitPaymentTestPaymentModalSubmit",t.LivekitSelfViewVideoOn="LivekitSelfViewVideoOn",t.LivekitSelfViewVideoOff="LivekitSelfViewVideoOff",t.LivekitResolutionChanged="LivekitResolutionChanged",t.LivekitGiftACoffeeModalOpened="LivekitGiftACoffeeModalOpened",t.LivekitGiftACoffeeButtonClick="LivekitGiftACoffeeButtonClick",t.LivekitGreetingModeButtonClick="LivekitGreetingModeInitialButtonClick",t.LivekitGreetingModeEnabled="LivekitGreetingModeEnabled",t.LivekitGreetingModeDisabled="LivekitGreetingModeDisabled",t.LivekitGreetingModeDisabledDueToCameraOff="LivekitGreetingModeDisabledDueToCameraOff",t.LivekitGreetingModeEncouragementRequested="LivekitGreetingModeAutoEncouragementRequested",t.LivekitGreetingModeAutoEncouragementReceived="LivekitGreetingModeAutoEncouragementReceived",t.LivekitPinViewTurnedOn="LivekitPinViewTurnedOn",t.LivekitGridViewTurnedOn="LivekitGridViewTurnedOn",t.LivekitWhoPinnedYou="LivekitWhoPinnedYou",t.LivekitWhoPinnedYouSeeAll="LivekitWhoPinnedYouSeeAll",t.LivekitPrivatePodSingleInvitationClicked="LivekitPrivatePodSingleInvitationClicked",t.LivekitPrivatePodSingleInvitationSent="LivekitPrivatePodSingleInvitationSent",t.LivekitPrivatePodSingleInvitationAccepted="LivekitPrivatePodSingleInvitationAccepted",t.LivekitPrivatePodSingleInvitationDecline="LivekitPrivatePodSingleInvitationDecline",t.LivekitPrivatePodSingleInvitationMuted="LivekitPrivatePodSingleInvitationMuted",t.LivekitShareScreenConfirmationAccepted="LivekitShareScreenConfirmationAccepted",t.LivekitShareScreenModalOpened="LivekitShareScreenModalOpened",t.LivekitSessionSummaryScreenshotClicked="LivekitSessionSummaryScreenshotClicked",t.LivekitSessionSummaryTypeToggled="LivekitSessionSummaryTypeToggled",t.LivekitPinUserSent="LivekitPinUserSent",t.LivekitBulkPinUsersSent="LivekitBulkPinUsersSent",t.LivekitEncouragementReceived="LivekitEncouragementReceived",t.LivekitEncourageUserSent="LivekitEncourageUserSent",t.LivekitEncourageAllBack="LivekitEncourageAllBack",t.LivekitEnlargeVideoTile="LivekitEnlargeVideoTile",t.UserFirstReturningRollingDate="UserFirstReturningRollingDate",t.UserFirstReturningCalendarDate="UserFirstReturningCalendarDate",t.UserFirstReturningRollingWeek="UserFirstReturningRollingWeek",t.UserFirstReturningCalendarWeek="UserFirstReturningCalendarWeek",t.UserFirstReturningRollingMonth="UserFirstReturningRollingMonth",t.UserFirstReturningCalendarMonth="UserFirstReturningCalendarMonth",t.PinningFromDashboardUponJoin="PinningFromDashboardUponJoin",t.SetReminderButtonClicked="SetReminderButtonClicked",t.MediumPaywallModalOnboardingShowed="MediumPaywallModalOnboardingShowed",t.MediumPaywallModalOnboardingSkipClicked="MediumPaywallModalOnboardingSkipClicked",t.MediumPaywallModalOnIntervalShowed="MediumPaywallModalOnIntervalShowed",t.MediumPaywallModalOnIntervalSkipClicked="MediumPaywallModalOnIntervalSkipClicked",t.SubscribeToPlanCtaClick="SubscribeToPlanCtaClick",t.TrialPlanCtaClick="TrialPlanCtaClick",t.LivekitMutualPinSessionDontShowThisAgainToggled="LivekitMutualPinSessionDontShowThisAgainToggled",t.LivekitSelfPinCountHiddenToggled="LivekitSelfPinCountHiddenToggled",t.LivekitPinCountHiddenToggled="LivekitPinCountHiddenToggled",t.JoinVideoTilePodAttempted="JoinVideoTilePodAttempted",t.LivekitPrivatePodInvitationDecline="LivekitPrivatePodInvitationDecline",t.LivekitMutualPinSessionPodSuggestionShown="LivekitMutualPinSessionPodSuggestionShown",t.LivekitPrivateInvitationJoinClick="LivekitPrivateInvitationJoinClick",t.LivekitPrivateInvitationMessageClick="LivekitPrivateInvitationMessageClick",t.LivekitAudioPodModalOpen="LivekitAudioPodModalOpen",t.LivekitPrivatePodInviteUsersButtonClick="LivekitPrivatePodInviteUsersButtonClick",t.GroupsMembersList="GroupsMembersList",t.SuperhumanSurveyShowed="SuperhumanSurveyShowed",t.SuperhumanSurveySubmitted="SuperhumanSurveySubmitted",t.FocusRoomAuthIntroVideoOpened="FocusRoomAuthIntroVideoOpened",t.FocusRoomAuthIntroVideoClosed="FocusRoomAuthIntroVideoClosed",t.PurchaseProductCtaClick="PurchaseProductCtaClick",t.AutoPinFavoritesOnJoinEnabled="AutoPinFavoritesOnJoinEnableEnabled",t.UserFavoritesModalOpened="UserFavoritesModalOpened",t.AddUserFavorite="AddUserFavorite",t.RemoveUserFavorite="RemoveUserFavorite",t.ReorderUserFavorite="ReorderUserFavorite",t.HiddenUserItemMiniBioOpened="HiddenUserItemMiniBioOpened",t.PinLimitReached="PinLimitReached",t.NewUsersFilter="NewUsersFilter",t.StoreFromMobileOnlyPageClicked="StoreFromMobileOnlyPageClicked",t.ActiveParticipantsListFilter="ActiveParticipantsListFilter",t.FocusRoomGenderFilterChange="FocusRoomGenderFilterChange",t.ReportsFilter="ReportsFilter",t.EmptyPinSlotsFilter="EmptyPinSlotsFilter",t.AutoPinFilter="AutoPinFilter",t.UserActivitySessionFocusRoomTabClick="UserActivitySessionFocusRoomTabClick",t.UserActivitySessionVideoTabClick="UserActivitySessionVideoTabClick",t.NewUserFindFocusBuddiesButtonClick="NewUserFindFocusBuddiesButtonClick",t.NewUserPinOnD0="NewUserPinOnD0",t.NormalFilterButtonClick="NormalFilterButtonClick",t.NormalUserFilterApplied="NormalUserFilterApplied",t.NewUserFilterApplied="NewUsersNewUserFilterAppliedFilterApplied",t.NewUserFIlterModalClosed="NewUserFIlterModalClosed",t.NormalUserFIlterModalClosed="NormalUserFIlterModalClosed",t.NewUserFocusBuddyProgressToastShown="NewUserFocusBuddyProgressToastShown",t.NewUserClickedGotItFromProgressToast="NewUserClickedGotItFromProgressToast",t.NewUserCameraPromptShown="NewUserCameraPromptShown",t.NewUserCameraPromptClosed="NewUserCameraPromptClosed",t.NewUserCameraPromptCTAClicked="NewUserCameraPromptCTAClicked",t.GrowthBookeExperimentViewed="GrowthBookeExperimentViewed",t}(mt||{});function mw(t){return t+.5|0}var Pf=(t,e,n)=>Math.max(Math.min(t,n),e);function fw(t){return Pf(mw(t*2.55),0,255)}function Of(t){return Pf(mw(t*255),0,255)}function Hu(t){return Pf(mw(t/2.55)/100,0,1)}function Gae(t){return Pf(mw(t*100),0,100)}var ml={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},WQ=[..."0123456789ABCDEF"],V2e=t=>WQ[t&15],H2e=t=>WQ[(t&240)>>4]+WQ[t&15],V1=t=>(t&240)>>4===(t&15),Q2e=t=>V1(t.r)&&V1(t.g)&&V1(t.b)&&V1(t.a);function j2e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ml[t[1]]*17,g:255&ml[t[2]]*17,b:255&ml[t[3]]*17,a:e===5?ml[t[4]]*17:255}:(e===7||e===9)&&(n={r:ml[t[1]]<<4|ml[t[2]],g:ml[t[3]]<<4|ml[t[4]],b:ml[t[5]]<<4|ml[t[6]],a:e===9?ml[t[7]]<<4|ml[t[8]]:255})),n}var $2e=(t,e)=>t<255?e(t):"";function z2e(t){var e=Q2e(t)?V2e:H2e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$2e(t.a,e):void 0}var G2e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yae(t,e,n){let i=e*Math.min(n,1-n),r=(o,s=(o+t/30)%12)=>n-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function W2e(t,e,n){let i=(r,o=(r+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function K2e(t,e,n){let i=Yae(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function q2e(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function KQ(t){let n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),s=Math.min(n,i,r),a=(o+s)/2,l,c,d;return o!==s&&(d=o-s,c=a>.5?d/(2-o-s):d/(o+s),l=q2e(n,i,r,d,o),l=l*60+.5),[l|0,c||0,a]}function qQ(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Of)}function YQ(t,e,n){return qQ(Yae,t,e,n)}function Y2e(t,e,n){return qQ(K2e,t,e,n)}function X2e(t,e,n){return qQ(W2e,t,e,n)}function Xae(t){return(t%360+360)%360}function Z2e(t){let e=G2e.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?fw(+e[5]):Of(+e[5]));let r=Xae(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=Y2e(r,o,s):e[1]==="hsv"?i=X2e(r,o,s):i=YQ(r,o,s),{r:i[0],g:i[1],b:i[2],a:n}}function J2e(t,e){var n=KQ(t);n[0]=Xae(n[0]+e),n=YQ(n),t.r=n[0],t.g=n[1],t.b=n[2]}function eNe(t){if(!t)return;let e=KQ(t),n=e[0],i=Gae(e[1]),r=Gae(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Hu(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}var Wae={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Kae={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tNe(){let t={},e=Object.keys(Kae),n=Object.keys(Wae),i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,Wae[o]);o=parseInt(Kae[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}var H1;function nNe(t){H1||(H1=tNe(),H1.transparent=[0,0,0,0]);let e=H1[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var iNe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rNe(t){let e=iNe.exec(t),n=255,i,r,o;if(e){if(e[7]!==i){let s=+e[7];n=e[8]?fw(s):Pf(s*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?fw(i):Pf(i,0,255)),r=255&(e[4]?fw(r):Pf(r,0,255)),o=255&(e[6]?fw(o):Pf(o,0,255)),{r:i,g:r,b:o,a:n}}}function oNe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Hu(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var GQ=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,$v=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function sNe(t,e,n){let i=$v(Hu(t.r)),r=$v(Hu(t.g)),o=$v(Hu(t.b));return{r:Of(GQ(i+n*($v(Hu(e.r))-i))),g:Of(GQ(r+n*($v(Hu(e.g))-r))),b:Of(GQ(o+n*($v(Hu(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Q1(t,e,n){if(t){let i=KQ(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=YQ(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Zae(t,e){return t&&Object.assign(e||{},t)}function qae(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Of(t[3]))):(e=Zae(t,{r:0,g:0,b:0,a:1}),e.a=Of(e.a)),e}function aNe(t){return t.charAt(0)==="r"?rNe(t):Z2e(t)}var pw=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=qae(e):n==="string"&&(i=j2e(e)||nNe(e)||aNe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Zae(this._rgb);return e&&(e.a=Hu(e.a)),e}set rgb(e){this._rgb=qae(e)}rgbString(){return this._valid?oNe(this._rgb):void 0}hexString(){return this._valid?z2e(this._rgb):void 0}hslString(){return this._valid?eNe(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,r=e.rgb,o,s=n===o?.5:n,a=2*s-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*r.r+.5,i.g=255&c*i.g+o*r.g+.5,i.b=255&c*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=sNe(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Of(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=mw(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Q1(this._rgb,2,e),this}darken(e){return Q1(this._rgb,2,-e),this}saturate(e){return Q1(this._rgb,1,e),this}desaturate(e){return Q1(this._rgb,1,-e),this}rotate(e){return J2e(this._rgb,e),this}};function Ed(){}var cle=(()=>{let t=0;return()=>t++})();function Wn(t){return t==null}function Yi(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function hn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ir(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function zs(t,e){return ir(t)?t:e}function In(t,e){return typeof t>"u"?e:t}var dle=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ej=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rr(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Kn(t,e,n,i){let r,o,s;if(Yi(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(hn(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])}function vw(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function W1(t){if(Yi(t))return t.map(W1);if(hn(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,r=0;for(;r<i;++r)e[n[r]]=W1(t[n[r]]);return e}return t}function ule(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function lNe(t,e,n,i){if(!ule(t))return;let r=e[t],o=n[t];hn(r)&&hn(o)?Gv(r,o,i):e[t]=W1(o)}function Gv(t,e,n){let i=Yi(e)?e:[e],r=i.length;if(!hn(t))return t;n=n||{};let o=n.merger||lNe,s;for(let a=0;a<r;++a){if(s=i[a],!hn(s))continue;let l=Object.keys(s);for(let c=0,d=l.length;c<d;++c)o(l[c],t,s,n)}return t}function Kv(t,e){return Gv(t,e,{merger:cNe})}function cNe(t,e,n){if(!ule(t))return;let i=e[t],r=n[t];hn(i)&&hn(r)?Kv(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=W1(r))}var Jae={"":t=>t,x:t=>t.x,y:t=>t.y};function dNe(t){let e=t.split("."),n=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function uNe(t){let e=dNe(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function qv(t,e){return(Jae[e]||(Jae[e]=uNe(e)))(t)}function X1(t){return t.charAt(0).toUpperCase()+t.slice(1)}var _w=t=>typeof t<"u",Qu=t=>typeof t=="function",tj=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function hle(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Gn=Math.PI,Ti=2*Gn,hNe=Ti+Gn,K1=Number.POSITIVE_INFINITY,fNe=Gn/180,yr=Gn/2,Dm=Gn/4,ele=Gn*2/3,ju=Math.log10,Om=Math.sign;function Yv(t,e,n){return Math.abs(t-e)<n}function nj(t){let e=Math.round(t);t=Yv(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(ju(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function fle(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,o)=>r-o).pop(),e}function pNe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Xv(t){return!pNe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function ple(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function ij(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function uc(t){return t*(Gn/180)}function Z1(t){return t*(180/Gn)}function rj(t){if(!ir(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function oj(t,e){let n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Gn&&(o+=Ti),{angle:o,distance:r}}function q1(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function mNe(t,e){return(t-e+hNe)%Ti-Gn}function Bo(t){return(t%Ti+Ti)%Ti}function Zv(t,e,n,i){let r=Bo(t),o=Bo(e),s=Bo(n),a=Bo(o-r),l=Bo(s-r),c=Bo(r-o),d=Bo(r-s);return r===o||r===s||i&&o===s||a>l&&c<d}function ts(t,e,n){return Math.max(e,Math.min(n,t))}function mle(t){return ts(t,-32768,32767)}function J1(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function eD(t,e,n){n=n||(s=>t[s]<e);let i=t.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}var Bf=(t,e,n,i)=>eD(t,n,i?r=>{let o=t[r][e];return o<n||o===n&&t[r+1][e]===n}:r=>t[r][e]<n),Ale=(t,e,n)=>eD(t,n,i=>t[i][e]>=n);function gle(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}var vle=["push","pop","shift","splice","unshift"];function _le(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),vle.forEach(n=>{let i="_onData"+X1(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function sj(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(vle.forEach(o=>{delete t[o]}),delete t._chartjs)}function ble(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var aj=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function lj(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,aj.call(window,()=>{i=!1,t.apply(e,n)}))}}function yle(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var Cle=t=>t==="start"?"left":t==="end"?"right":"center",cj=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2;function wle(t,e,n){let i=e.length,r=0,o=i;if(t._sorted){let{iScale:s,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=s.axis,{min:u,max:p,minDefined:g,maxDefined:v}=s.getUserBounds();if(g){if(r=Math.min(Bf(l,d,u).lo,n?i:Bf(e,d,s.getPixelForValue(u)).lo),c){let b=l.slice(0,r+1).reverse().findIndex(x=>!Wn(x[a.axis]));r-=Math.max(0,b)}r=ts(r,0,i-1)}if(v){let b=Math.max(Bf(l,s.axis,p,!0).hi+1,n?0:Bf(e,d,s.getPixelForValue(p),!0).hi+1);if(c){let x=l.slice(b-1).findIndex(T=>!Wn(T[a.axis]));b+=Math.max(0,x)}o=ts(b,r,i)-r}else o=i-r}return{start:r,count:o}}function Ele(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;let o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}var j1=t=>t===0||t===1,tle=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ti/n)),nle=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ti/n)+1,zv={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*yr)+1,easeOutSine:t=>Math.sin(t*yr),easeInOutSine:t=>-.5*(Math.cos(Gn*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>j1(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>j1(t)?t:tle(t,.075,.3),easeOutElastic:t=>j1(t)?t:nle(t,.075,.3),easeInOutElastic(t){return j1(t)?t:t<.5?.5*tle(t*2,.1125,.45):.5+.5*nle(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-zv.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?zv.easeInBounce(t*2)*.5:zv.easeOutBounce(t*2-1)*.5+.5};function dj(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function uj(t){return dj(t)?t:new pw(t)}function XQ(t){return dj(t)?t:new pw(t).saturate(.5).darken(.1).hexString()}var ANe=["x","y","borderWidth","radius","tension"],gNe=["color","borderColor","backgroundColor"];function vNe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:gNe},numbers:{type:"number",properties:ANe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function _Ne(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var ile=new Map;function bNe(t,e){e=e||{};let n=t+JSON.stringify(e),i=ile.get(n);return i||(i=new Intl.NumberFormat(t,e),ile.set(n,i)),i}function bw(t,e,n){return bNe(e,n).format(t)}var xle={values(t){return Yi(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,r,o=t;if(n.length>1){let c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=yNe(t,n)}let s=ju(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),bw(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(ju(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?xle.numeric.call(this,t,e,n):""}};function yNe(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var yw={formatters:xle};function CNe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Ff=Object.create(null),tD=Object.create(null);function Aw(t,e){if(!e)return t;let n=e.split(".");for(let i=0,r=n.length;i<r;++i){let o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function ZQ(t,e,n){return typeof e=="string"?Gv(Aw(t,e),n):Gv(Aw(t,""),e)}var JQ=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>XQ(r.backgroundColor),this.hoverBorderColor=(i,r)=>XQ(r.borderColor),this.hoverColor=(i,r)=>XQ(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return ZQ(this,e,n)}get(e){return Aw(this,e)}describe(e,n){return ZQ(tD,e,n)}override(e,n){return ZQ(Ff,e,n)}route(e,n,i,r){let o=Aw(this,e),s=Aw(this,i),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){let l=this[a],c=s[r];return hn(l)?Object.assign({},c,l):In(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}},Cr=new JQ({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[vNe,_Ne,CNe]);function wNe(t){return!t||Wn(t.size)||Wn(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function gw(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function Sle(t,e,n,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let s=0,a=n.length,l,c,d,u,p;for(l=0;l<a;l++)if(u=n[l],u!=null&&!Yi(u))s=gw(t,r,o,s,u);else if(Yi(u))for(c=0,d=u.length;c<d;c++)p=u[c],p!=null&&!Yi(p)&&(s=gw(t,r,o,s,p));t.restore();let g=o.length/2;if(g>n.length){for(l=0;l<g;l++)delete r[o[l]];o.splice(0,g)}return s}function Nf(t,e,n){let i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function hj(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function nD(t,e,n,i){Tle(t,e,n,i,null)}function Tle(t,e,n,i,r){let o,s,a,l,c,d,u,p,g=e.pointStyle,v=e.rotation,b=e.radius,x=(v||0)*fNe;if(g&&typeof g=="object"&&(o=g.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(x),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(b)||b<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,i,r/2,b,0,0,Ti):t.arc(n,i,b,0,Ti),t.closePath();break;case"triangle":d=r?r/2:b,t.moveTo(n+Math.sin(x)*d,i-Math.cos(x)*b),x+=ele,t.lineTo(n+Math.sin(x)*d,i-Math.cos(x)*b),x+=ele,t.lineTo(n+Math.sin(x)*d,i-Math.cos(x)*b),t.closePath();break;case"rectRounded":c=b*.516,l=b-c,s=Math.cos(x+Dm)*l,u=Math.cos(x+Dm)*(r?r/2-c:l),a=Math.sin(x+Dm)*l,p=Math.sin(x+Dm)*(r?r/2-c:l),t.arc(n-u,i-a,c,x-Gn,x-yr),t.arc(n+p,i-s,c,x-yr,x),t.arc(n+u,i+a,c,x,x+yr),t.arc(n-p,i+s,c,x+yr,x+Gn),t.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*b,d=r?r/2:l,t.rect(n-d,i-l,2*d,2*l);break}x+=Dm;case"rectRot":u=Math.cos(x)*(r?r/2:b),s=Math.cos(x)*b,a=Math.sin(x)*b,p=Math.sin(x)*(r?r/2:b),t.moveTo(n-u,i-a),t.lineTo(n+p,i-s),t.lineTo(n+u,i+a),t.lineTo(n-p,i+s),t.closePath();break;case"crossRot":x+=Dm;case"cross":u=Math.cos(x)*(r?r/2:b),s=Math.cos(x)*b,a=Math.sin(x)*b,p=Math.sin(x)*(r?r/2:b),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+p,i-s),t.lineTo(n-p,i+s);break;case"star":u=Math.cos(x)*(r?r/2:b),s=Math.cos(x)*b,a=Math.sin(x)*b,p=Math.sin(x)*(r?r/2:b),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+p,i-s),t.lineTo(n-p,i+s),x+=Dm,u=Math.cos(x)*(r?r/2:b),s=Math.cos(x)*b,a=Math.sin(x)*b,p=Math.sin(x)*(r?r/2:b),t.moveTo(n-u,i-a),t.lineTo(n+u,i+a),t.moveTo(n+p,i-s),t.lineTo(n-p,i+s);break;case"line":s=r?r/2:Math.cos(x)*b,a=Math.sin(x)*b,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(x)*(r?r/2:b),i+Math.sin(x)*b);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wd(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function iD(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function rD(t){t.restore()}function Ile(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function kle(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function ENe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Wn(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function xNe(t,e,n,i,r){if(r.strikethrough||r.underline){let o=t.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,d=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,d),t.lineTo(a,d),t.stroke()}}function SNe(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Cw(t,e,n,i,r,o={}){let s=Yi(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(t.save(),t.font=r.string,ENe(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&SNe(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Wn(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,i,o.maxWidth)),t.fillText(c,n,i,o.maxWidth),xNe(t,n,i,c,o),i+=Number(r.lineHeight);t.restore()}function oD(t,e){let{x:n,y:i,w:r,h:o,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,1.5*Gn,Gn,!0),t.lineTo(n,i+o-s.bottomLeft),t.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,Gn,yr,!0),t.lineTo(n+r-s.bottomRight,i+o),t.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,yr,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-yr,!0),t.lineTo(n+s.topLeft,i)}var TNe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,INe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function kNe(t,e){let n=(""+t).match(TNe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var MNe=t=>+t||0;function sD(t,e){let n={},i=hn(e),r=i?Object.keys(e):e,o=hn(t)?i?s=>In(t[s],t[e[s]]):s=>t[s]:()=>t;for(let s of r)n[s]=MNe(o(s));return n}function Mle(t){return sD(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Jv(t){return sD(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ma(t){let e=Mle(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Gs(t,e){t=t||{},e=e||Cr.font;let n=In(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=In(t.style,e.style);i&&!(""+i).match(INe)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:In(t.family,e.family),lineHeight:kNe(In(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:In(t.weight,e.weight),string:""};return r.string=wNe(r),r}function ww(t,e,n,i){let r=!0,o,s,a;for(o=0,s=t.length;o<s;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Yi(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function Dle(t,e,n){let{min:i,max:r}=t,o=ej(e,(r-i)/2),s=(a,l)=>n&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}function $u(t,e){return Object.assign(Object.create(t),e)}function aD(t,e=[""],n,i,r=()=>t[0]){let o=n||t;typeof i>"u"&&(i=Rle("_fallback",t));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>aD([a,...t],e,o,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Ple(a,l,()=>LNe(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return ole(a).includes(l)},ownKeys(a){return ole(a)},set(a,l,c){let d=a._storage||(a._storage=r());return a[l]=d[l]=c,delete a._keys,!0}})}function Rm(t,e,n,i){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fj(t,i),setContext:o=>Rm(t,o,n,i),override:o=>Rm(t.override(o),e,n,i)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return Ple(o,s,()=>PNe(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function fj(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Qu(n)?n:()=>n,isIndexable:Qu(i)?i:()=>i}}var DNe=(t,e)=>t?t+X1(e):e,pj=(t,e)=>hn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ple(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];let i=n();return t[e]=i,i}function PNe(t,e,n){let{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t,a=i[e];return Qu(a)&&s.isScriptable(e)&&(a=ONe(e,a,t,n)),Yi(a)&&a.length&&(a=RNe(e,a,t,s.isIndexable)),pj(e,a)&&(a=Rm(a,r,o&&o[e],s)),a}function ONe(t,e,n,i){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||i);return a.delete(t),pj(t,l)&&(l=mj(r._scopes,r,t,l)),l}function RNe(t,e,n,i){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(hn(e[0])){let l=e,c=r._scopes.filter(d=>d!==l);e=[];for(let d of l){let u=mj(c,r,t,d);e.push(Rm(u,o,s&&s[t],a))}}return e}function Ole(t,e,n){return Qu(t)?t(e,n):t}var BNe=(t,e)=>t===!0?e:typeof t=="string"?qv(e,t):void 0;function FNe(t,e,n,i,r){for(let o of e){let s=BNe(n,o);if(s){t.add(s);let a=Ole(s._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(s===!1&&typeof i<"u"&&n!==i)return null}return!1}function mj(t,e,n,i){let r=e._rootScopes,o=Ole(e._fallback,n,i),s=[...t,...r],a=new Set;a.add(i);let l=rle(a,s,n,o||n,i);return l===null||typeof o<"u"&&o!==n&&(l=rle(a,s,o,l,i),l===null)?!1:aD(Array.from(a),[""],r,o,()=>NNe(e,n,i))}function rle(t,e,n,i,r){for(;n;)n=FNe(t,e,n,i,r);return n}function NNe(t,e,n){let i=t._getTarget();e in i||(i[e]={});let r=i[e];return Yi(r)&&hn(n)?n:r||{}}function LNe(t,e,n,i){let r;for(let o of e)if(r=Rle(DNe(o,t),n),typeof r<"u")return pj(t,r)?mj(n,i,t,r):r}function Rle(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function ole(t){let e=t._keys;return e||(e=t._keys=UNe(t._scopes)),e}function UNe(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}var VNe=Number.EPSILON||1e-14,Wv=(t,e)=>e<t.length&&!t[e].skip&&t[e],Ble=t=>t==="x"?"y":"x";function HNe(t,e,n,i){let r=t.skip?e:t,o=e,s=n.skip?e:n,a=q1(o,r),l=q1(s,o),c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;let u=i*c,p=i*d;return{previous:{x:o.x-u*(s.x-r.x),y:o.y-u*(s.y-r.y)},next:{x:o.x+p*(s.x-r.x),y:o.y+p*(s.y-r.y)}}}function QNe(t,e,n){let i=t.length,r,o,s,a,l,c=Wv(t,0);for(let d=0;d<i-1;++d)if(l=c,c=Wv(t,d+1),!(!l||!c)){if(Yv(e[d],0,VNe)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],o=n[d+1]/e[d],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),n[d]=r*s*e[d],n[d+1]=o*s*e[d])}}function jNe(t,e,n="x"){let i=Ble(n),r=t.length,o,s,a,l=Wv(t,0);for(let c=0;c<r;++c){if(s=a,a=l,l=Wv(t,c+1),!a)continue;let d=a[n],u=a[i];s&&(o=(d-s[n])/3,a[`cp1${n}`]=d-o,a[`cp1${i}`]=u-o*e[c]),l&&(o=(l[n]-d)/3,a[`cp2${n}`]=d+o,a[`cp2${i}`]=u+o*e[c])}}function $Ne(t,e="x"){let n=Ble(e),i=t.length,r=Array(i).fill(0),o=Array(i),s,a,l,c=Wv(t,0);for(s=0;s<i;++s)if(a=l,l=c,c=Wv(t,s+1),!!l){if(c){let d=c[e]-l[e];r[s]=d!==0?(c[n]-l[n])/d:0}o[s]=a?c?Om(r[s-1])!==Om(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}QNe(t,r,o),jNe(t,o,e)}function $1(t,e,n){return Math.max(Math.min(t,n),e)}function zNe(t,e){let n,i,r,o,s,a=wd(t[0],e);for(n=0,i=t.length;n<i;++n)s=o,o=a,a=n<i-1&&wd(t[n+1],e),o&&(r=t[n],s&&(r.cp1x=$1(r.cp1x,e.left,e.right),r.cp1y=$1(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=$1(r.cp2x,e.left,e.right),r.cp2y=$1(r.cp2y,e.top,e.bottom)))}function Fle(t,e,n,i,r){let o,s,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")$Ne(t,r);else{let c=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=HNe(c,a,t[Math.min(o+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&zNe(t,n)}function lD(){return typeof window<"u"&&typeof document<"u"}function cD(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Y1(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var dD=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function GNe(t,e){return dD(t).getPropertyValue(e)}var WNe=["top","right","bottom","left"];function Pm(t,e,n){let i={};n=n?"-"+n:"";for(let r=0;r<4;r++){let o=WNe[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var KNe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function qNe(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i,s=!1,a,l;if(KNe(r,o,t.target))a=r,l=o;else{let c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function Lf(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,r=dD(n),o=r.boxSizing==="border-box",s=Pm(r,"padding"),a=Pm(r,"border","width"),{x:l,y:c,box:d}=qNe(t,n),u=s.left+(d&&a.left),p=s.top+(d&&a.top),{width:g,height:v}=e;return o&&(g-=s.width+a.width,v-=s.height+a.height),{x:Math.round((l-u)/g*n.width/i),y:Math.round((c-p)/v*n.height/i)}}function YNe(t,e,n){let i,r;if(e===void 0||n===void 0){let o=t&&cD(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{let s=o.getBoundingClientRect(),a=dD(o),l=Pm(a,"border","width"),c=Pm(a,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,i=Y1(a.maxWidth,o,"clientWidth"),r=Y1(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||K1,maxHeight:r||K1}}var z1=t=>Math.round(t*10)/10;function Nle(t,e,n,i){let r=dD(t),o=Pm(r,"margin"),s=Y1(r.maxWidth,t,"clientWidth")||K1,a=Y1(r.maxHeight,t,"clientHeight")||K1,l=YNe(t,e,n),{width:c,height:d}=l;if(r.boxSizing==="content-box"){let p=Pm(r,"border","width"),g=Pm(r,"padding");c-=g.width+p.width,d-=g.height+p.height}return c=Math.max(0,c-o.width),d=Math.max(0,i?c/i:d-o.height),c=z1(Math.min(c,s,l.maxWidth)),d=z1(Math.min(d,a,l.maxHeight)),c&&!d&&(d=z1(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&d>l.height&&(d=l.height,c=z1(Math.floor(d*i))),{width:c,height:d}}function Aj(t,e,n){let i=e||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o?(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var Lle=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};lD()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function gj(t,e){let n=GNe(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Rf(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function Ule(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function Vle(t,e,n,i){let r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Rf(t,r,n),a=Rf(r,o,n),l=Rf(o,e,n),c=Rf(s,a,n),d=Rf(a,l,n);return Rf(c,d,n)}var XNe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},ZNe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function uD(t,e,n){return t?XNe(e,n):ZNe()}function Hle(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Qle(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function jle(t){return t==="angle"?{between:Zv,compare:mNe,normalize:Bo}:{between:J1,compare:(e,n)=>e-n,normalize:e=>e}}function sle({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function JNe(t,e,n){let{property:i,start:r,end:o}=n,{between:s,normalize:a}=jle(i),l=e.length,{start:c,end:d,loop:u}=t,p,g;if(u){for(c+=l,d+=l,p=0,g=l;p<g&&s(a(e[c%l][i]),r,o);++p)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:t.style}}function vj(t,e,n){if(!n)return[t];let{property:i,start:r,end:o}=n,s=e.length,{compare:a,between:l,normalize:c}=jle(i),{start:d,end:u,loop:p,style:g}=JNe(t,e,n),v=[],b=!1,x=null,T,k,U,D=()=>l(r,U,T)&&a(r,U)!==0,N=()=>a(o,T)===0||l(o,U,T),z=()=>b||D(),Z=()=>!b||N();for(let ne=d,ee=d;ne<=u;++ne)k=e[ne%s],!k.skip&&(T=c(k[i]),T!==U&&(b=l(T,r,o),x===null&&z()&&(x=a(T,r)===0?ne:ee),x!==null&&Z()&&(v.push(sle({start:x,end:ne,loop:p,count:s,style:g})),x=null),ee=ne,U=T));return x!==null&&v.push(sle({start:x,end:u,loop:p,count:s,style:g})),v}function _j(t,e){let n=[],i=t.segments;for(let r=0;r<i.length;r++){let o=vj(i[r],t.points,e);o.length&&n.push(...o)}return n}function eLe(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function tLe(t,e,n,i){let r=t.length,o=[],s=e,a=t[e],l;for(l=e+1;l<=n;++l){let c=t[l%r];c.skip||c.stop?a.skip||(i=!1,o.push({start:e%r,end:(l-1)%r,loop:i}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&o.push({start:e%r,end:s%r,loop:i}),o}function $le(t,e){let n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];let o=!!t._loop,{start:s,end:a}=eLe(n,r,o,i);if(i===!0)return ale(t,[{start:s,end:a,loop:o}],n,e);let l=a<s?a+r:a,c=!!t._fullLoop&&s===0&&a===r-1;return ale(t,tLe(n,s,l,c),n,e)}function ale(t,e,n,i){return!i||!i.setContext||!n?e:nLe(t,e,n,i)}function nLe(t,e,n,i){let r=t._chart.getContext(),o=lle(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[],d=o,u=e[0].start,p=u;function g(v,b,x,T){let k=a?-1:1;if(v!==b){for(v+=l;n[v%l].skip;)v-=k;for(;n[b%l].skip;)b+=k;v%l!==b%l&&(c.push({start:v%l,end:b%l,loop:x,style:T}),d=T,u=b%l)}}for(let v of e){u=a?u:v.start;let b=n[u%l],x;for(p=u+1;p<=v.end;p++){let T=n[p%l];x=lle(i.setContext($u(r,{type:"segment",p0:b,p1:T,p0DataIndex:(p-1)%l,p1DataIndex:p%l,datasetIndex:s}))),iLe(x,d)&&g(u,p-1,v.loop,d),b=T,d=x}u<p-1&&g(u,p-1,v.loop,d)}return c}function lle(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function iLe(t,e){if(!e)return!1;let n=[],i=function(r,o){return dj(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}function G1(t,e,n){return t.options.clip?t[n]:e[n]}function rLe(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:G1(n,e,"left"),right:G1(n,e,"right"),top:G1(i,e,"top"),bottom:G1(i,e,"bottom")}:e}function bj(t,e){let n=e._clip;if(n.disabled)return!1;let i=rLe(e,t.chartArea);return{left:n.left===!1?0:i.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:i.right+(n.right===!0?0:n.right),top:n.top===!1?0:i.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:i.bottom+(n.bottom===!0?0:n.bottom)}}var kj=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){let o=n.listeners[r],s=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(i-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=aj.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let o=i.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},zu=new kj,zle="transparent",oLe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=uj(t||zle),r=i.valid&&uj(e||zle);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},Mj=class{constructor(e,n,i,r){let o=n[i];r=ww([e.to,r,o,e.from]);let s=ww([e.from,o,r]);this._active=!0,this._fn=e.fn||oLe[e.type||typeof s],this._easing=zv[e.easing]||zv.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ww([e.to,n,r,e.from]),this._from=ww([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=o;return}l=n/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}},bD=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!hn(e))return;let n=Object.keys(Cr.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let o=e[r];if(!hn(o))return;let s={};for(let a of n)s[a]=o[a];(Yi(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(e,n){let i=n.options,r=aLe(e,i);if(!r)return[];let o=this._createAnimations(r,i);return i.$shared&&sLe(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){let i=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(n),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}let d=n[c],u=o[c],p=i.get(c);if(u)if(p&&u.active()){u.update(p,d,a);continue}else u.cancel();if(!p||!p.duration){e[c]=d;continue}o[c]=u=new Mj(p,e,c,d),r.push(u)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return zu.add(this._chart,i),!0}};function sLe(t,e){let n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let o=t[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function aLe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Gle(t,e){let n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function lLe(t,e,n){if(n===!1)return!1;let i=Gle(t,n),r=Gle(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function cLe(t){let e,n,i,r;return hn(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function jce(t,e){let n=[],i=t._getSortedDatasetMetas(e),r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Wle(t,e,n,i={}){let r=t.keys,o=i.mode==="single",s,a,l,c;if(e===null)return;let d=!1;for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(d=!0,i.all)continue;break}c=t.values[l],ir(c)&&(o||e===0||Om(e)===Om(c))&&(e+=c)}return!d&&!i.all?0:e}function dLe(t,e){let{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",s=Object.keys(t),a=new Array(s.length),l,c,d;for(l=0,c=s.length;l<c;++l)d=s[l],a[l]={[r]:d,[o]:t[d]};return a}function yj(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function uLe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function hLe(t){let{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function fLe(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Kle(t,e,n,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let o=t[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function qle(t,e){let{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,d=uLe(o,s,i),u=e.length,p;for(let g=0;g<u;++g){let v=e[g],{[l]:b,[c]:x}=v,T=v._stacks||(v._stacks={});p=T[c]=fLe(r,d,b),p[a]=x,p._top=Kle(p,s,!0,i.type),p._bottom=Kle(p,s,!1,i.type);let k=p._visualValues||(p._visualValues={});k[a]=x}}function Cj(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function pLe(t,e){return $u(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function mLe(t,e,n){return $u(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ew(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let r of e){let o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}var wj=t=>t==="reset"||t==="none",Yle=(t,e)=>e?t:Object.assign({},t),ALe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:jce(n,!0),values:null},Qj=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=yj(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Ew(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(p,g,v,b)=>p==="x"?g:p==="r"?b:v,s=i.xAxisID=In(r.xAxisID,Cj(n,"x")),a=i.yAxisID=In(r.yAxisID,Cj(n,"y")),l=i.rAxisID=In(r.rAxisID,Cj(n,"r")),c=i.indexAxis,d=i.iAxisID=o(c,s,a,l),u=i.vAxisID=o(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&sj(this._data,this),n._stacked&&Ew(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(hn(i)){let o=this._cachedMeta;this._data=dLe(i,o)}else if(r!==i){if(r){sj(r,this);let o=this._cachedMeta;Ew(o),o._parsed=[]}i&&Object.isExtensible(i)&&_le(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=i._stacked;i._stacked=yj(i.vScale,i),i.stack!==r.stack&&(o=!0,Ew(i),i.stack=r.stack),this._resyncElements(n),(o||s!==i._stacked)&&(qle(this,i._parsed),i._stacked=yj(i.vScale,i))}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,c=n===0&&i===o.length?!0:r._sorted,d=n>0&&r._parsed[n-1],u,p,g;if(this._parsing===!1)r._parsed=o,r._sorted=!0,g=o;else{Yi(o[n])?g=this.parseArrayData(r,o,n,i):hn(o[n])?g=this.parseObjectData(r,o,n,i):g=this.parsePrimitiveData(r,o,n,i);let v=()=>p[l]===null||d&&p[l]<d[l];for(u=0;u<i;++u)r._parsed[u+n]=p=g[u],c&&(v()&&(c=!1),d=p);r._sorted=c}a&&qle(this,g)}parsePrimitiveData(n,i,r,o){let{iScale:s,vScale:a}=n,l=s.axis,c=a.axis,d=s.getLabels(),u=s===a,p=new Array(o),g,v,b;for(g=0,v=o;g<v;++g)b=g+r,p[g]={[l]:u||s.parse(d[b],b),[c]:a.parse(i[b],b)};return p}parseArrayData(n,i,r,o){let{xScale:s,yScale:a}=n,l=new Array(o),c,d,u,p;for(c=0,d=o;c<d;++c)u=c+r,p=i[u],l[c]={x:s.parse(p[0],u),y:a.parse(p[1],u)};return l}parseObjectData(n,i,r,o){let{xScale:s,yScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(o),u,p,g,v;for(u=0,p=o;u<p;++u)g=u+r,v=i[g],d[u]={x:s.parse(qv(v,l),g),y:a.parse(qv(v,c),g)};return d}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){let o=this.chart,s=this._cachedMeta,a=i[n.axis],l={keys:jce(o,!0),values:i._stacks[n.axis]._visualValues};return Wle(l,a,s.index,{mode:r})}updateRangeFromParsed(n,i,r,o){let s=r[i.axis],a=s===null?NaN:s,l=o&&r._stacks[i.axis];o&&l&&(o.values=l,a=Wle(o,s,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&n===r.iScale,a=o.length,l=this._getOtherScale(n),c=ALe(i,r,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:p}=hLe(l),g,v;function b(){v=o[g];let x=v[l.axis];return!ir(v[n.axis])||u>x||p<x}for(g=0;g<a&&!(!b()&&(this.updateRangeFromParsed(d,n,v,c),s));++g);if(s){for(g=a-1;g>=0;--g)if(!b()){this.updateRangeFromParsed(d,n,v,c);break}}return d}getAllParsedValues(n){let i=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][n.axis],ir(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(n);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=cLe(In(this.options.clip,lLe(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,r=this._cachedMeta,o=r.data||[],s=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,d=this.options.drawActiveElementsOnTop,u;for(r.dataset&&r.dataset.draw(n,s,l,c),u=l;u<l+c;++u){let p=o[u];p.hidden||(p.active&&d?a.push(p):p.draw(n,s))}for(u=0;u<a.length;++u)a[u].draw(n,s)}getStyle(n,i){let r=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){let o=this.getDataset(),s;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];s=a.$context||(a.$context=mLe(this.getContext(),n,a)),s.parsed=this.getParsed(n),s.raw=o.data[n],s.index=s.dataIndex=n}else s=this.$context||(this.$context=pLe(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){let o=i==="active",s=this._cachedDataOpts,a=n+"-"+i,l=s[a],c=this.enableOptionSharing&&_w(r);if(l)return Yle(l,c);let d=this.chart.config,u=d.datasetElementScopeKeys(this._type,n),p=o?[`${n}Hover`,"hover",n,""]:[n,""],g=d.getOptionScopes(this.getDataset(),u),v=Object.keys(Cr.elements[n]),b=()=>this.getContext(r,o,i),x=d.resolveNamedOptions(g,v,b,p);return x.$shared&&(x.$shared=c,s[a]=Object.freeze(Yle(x,c))),x}_resolveAnimations(n,i,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let u=this.chart.config,p=u.datasetAnimationScopeKeys(this._type,i),g=u.getOptionScopes(this.getDataset(),p);c=u.createResolver(g,this.getContext(n,r,i))}let d=new bD(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(d)),d}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||wj(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let r=this.resolveDataElementOptions(n,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(n,i,r,o){wj(o)?Object.assign(n,r):this._resolveAnimations(i,o).update(n,r)}updateSharedOptions(n,i,r){n&&!wj(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,o){n.active=o;let s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(n,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,r=this._cachedMeta.data;for(let[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];let o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,n):s<o&&this._removeElements(s,o-s)}_insertElements(n,i,r=!0){let o=this._cachedMeta,s=o.data,a=n+i,l,c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(s),l=n;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(n,i),r&&this.updateElements(s,n,i,"reset")}updateElements(n,i,r,o){}_removeElements(n,i){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(n,i);r._stacked&&Ew(r,o)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,r,o]=n;this[i](r,o)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function gLe(t,e,n){let i=1,r=1,o=0,s=0;if(e<Ti){let a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),p=Math.sin(l),g=(U,D,N)=>Zv(U,a,l,!0)?1:Math.max(D,D*n,N,N*n),v=(U,D,N)=>Zv(U,a,l,!0)?-1:Math.min(D,D*n,N,N*n),b=g(0,c,u),x=g(yr,d,p),T=v(Gn,c,u),k=v(Gn+yr,d,p);i=(b-T)/2,r=(x-k)/2,o=-(b+T)/2,s=-(x+k)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}var vLe=(()=>{class t extends Qj{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=n.legend.options;return i.labels.map((s,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=c=>+r[c];if(hn(r[n])){let{key:c="value"}=this._parsing;s=d=>+qv(r[d],c)}let a,l;for(a=n,l=n+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return uc(this.options.rotation-90)}_getCircumference(){return uc(this.options.circumference)}_getRotationExtents(){let n=Ti,i=-Ti;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();n=Math.min(n,s),i=Math.max(i,s+a)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(dle(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:p}=this._getRotationExtents(),{ratioX:g,ratioY:v,offsetX:b,offsetY:x}=gLe(p,u,c),T=(r.width-a)/g,k=(r.height-a)/v,U=Math.max(Math.min(T,k)/2,0),D=ej(this.options.radius,U),N=Math.max(D*c,0),z=(D-N)/this._getVisibleDatasetWeightTotal();this.offsetX=b*D,this.offsetY=x*D,o.total=this.calculateTotal(),this.outerRadius=D-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*d,0),this.updateElements(s,0,s.length,n)}_circumference(n,i){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||o._parsed[n]===null||o.data[n].hidden?0:this.calculateCircumference(o._parsed[n]*s/Ti)}updateElements(n,i,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,d=a.options.animation,u=(l.left+l.right)/2,p=(l.top+l.bottom)/2,g=s&&d.animateScale,v=g?0:this.innerRadius,b=g?0:this.outerRadius,{sharedOptions:x,includeOptions:T}=this._getSharedOptions(i,o),k=this._getRotation(),U;for(U=0;U<i;++U)k+=this._circumference(U,s);for(U=i;U<i+r;++U){let D=this._circumference(U,s),N=n[U],z={x:u+this.offsetX,y:p+this.offsetY,startAngle:k,endAngle:k+D,circumference:D,outerRadius:b,innerRadius:v};T&&(z.options=x||this.resolveDataElementOptions(U,N.active?"active":o)),k+=D,this.updateElement(N,U,z,o)}}calculateTotal(){let n=this._cachedMeta,i=n.data,r=0,o;for(o=0;o<i.length;o++){let s=n._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?Ti*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=bw(i._parsed[n],r.options.locale);return{label:o[n]||"",value:s}}getMaxBorderWidth(n){let i=0,r=this.chart,o,s,a,l,c;if(!n){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),n=a.data,l=a.controller;break}}if(!n)return 0;for(o=0,s=n.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,o=n.length;r<o;++r){let s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(In(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),$ce=(()=>{class t extends Qj{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:c}=wle(i,o,a);this._drawStart=l,this._drawCount=c,Ele(i)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let d=this.resolveDatasetElementOptions(n);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},n),this.updateElements(o,l,c,n)}updateElements(n,i,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:p}=this._getSharedOptions(i,o),g=a.axis,v=l.axis,{spanGaps:b,segment:x}=this.options,T=Xv(b)?b:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||s||o==="none",U=i+r,D=n.length,N=i>0&&this.getParsed(i-1);for(let z=0;z<D;++z){let Z=n[z],ne=k?Z:{};if(z<i||z>=U){ne.skip=!0;continue}let ee=this.getParsed(z),he=Wn(ee[v]),ge=ne[g]=a.getPixelForValue(ee[g],z),Ee=ne[v]=s||he?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,ee,c):ee[v],z);ne.skip=isNaN(ge)||isNaN(Ee)||he,ne.stop=z>0&&Math.abs(ee[g]-N[g])>T,x&&(ne.parsed=ee,ne.raw=d.data[z]),p&&(ne.options=u||this.resolveDataElementOptions(z,Z.active?"active":o)),k||this.updateElement(Z,z,ne,o),N=ee}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,o=n.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})();var BIt=(()=>{class t extends vLe{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})();function Bm(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Dj=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Bm()}parse(){return Bm()}format(){return Bm()}add(){return Bm()}diff(){return Bm()}startOf(){return Bm()}endOf(){return Bm()}},_Le={_date:Dj};function bLe(t,e,n,i){let{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let c=a._reversePixels?Ale:Bf;if(i){if(r._sharedOptions){let d=o[0],u=typeof d.getRange=="function"&&d.getRange(e);if(u){let p=c(o,e,n-u),g=c(o,e,n+u);return{lo:p.lo,hi:g.hi}}}}else{let d=c(o,e,n);if(l){let{vScale:u}=r._cachedMeta,{_parsed:p}=t,g=p.slice(0,d.lo+1).reverse().findIndex(b=>!Wn(b[u.axis]));d.lo-=Math.max(0,g);let v=p.slice(d.hi).findIndex(b=>!Wn(b[u.axis]));d.hi+=Math.max(0,v)}return d}}return{lo:0,hi:o.length-1}}function Ow(t,e,n,i,r){let o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){let{index:c,data:d}=o[a],{lo:u,hi:p}=bLe(o[a],e,s,r);for(let g=u;g<=p;++g){let v=d[g];v.skip||i(v,c,g)}}}function yLe(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){let o=e?Math.abs(i.x-r.x):0,s=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function Ej(t,e,n,i,r){let o=[];return!r&&!t.isPointInArea(e)||Ow(t,n,e,function(a,l,c){!r&&!wd(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function CLe(t,e,n,i){let r=[];function o(s,a,l){let{startAngle:c,endAngle:d}=s.getProps(["startAngle","endAngle"],i),{angle:u}=oj(s,{x:e.x,y:e.y});Zv(u,c,d)&&r.push({element:s,datasetIndex:a,index:l})}return Ow(t,n,e,o),r}function wLe(t,e,n,i,r,o){let s=[],a=yLe(n),l=Number.POSITIVE_INFINITY;function c(d,u,p){let g=d.inRange(e.x,e.y,r);if(i&&!g)return;let v=d.getCenterPoint(r);if(!(!!o||t.isPointInArea(v))&&!g)return;let x=a(e,v);x<l?(s=[{element:d,datasetIndex:u,index:p}],l=x):x===l&&s.push({element:d,datasetIndex:u,index:p})}return Ow(t,n,e,c),s}function xj(t,e,n,i,r,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?CLe(t,e,n,r):wLe(t,e,n,i,r,o)}function Xle(t,e,n,i,r){let o=[],s=n==="x"?"inXRange":"inYRange",a=!1;return Ow(t,n,e,(l,c,d)=>{l[s]&&l[s](e[n],r)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:o}var ELe={evaluateInteractionItems:Ow,modes:{index(t,e,n,i){let r=Lf(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?Ej(t,r,o,i,s):xj(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{let d=a[0].index,u=c.data[d];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,n,i){let r=Lf(e,t),o=n.axis||"xy",s=n.includeInvisible||!1,a=n.intersect?Ej(t,r,o,i,s):xj(t,r,o,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,n,i){let r=Lf(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return Ej(t,r,o,i,s)},nearest(t,e,n,i){let r=Lf(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return xj(t,r,o,n.intersect,i,s)},x(t,e,n,i){let r=Lf(e,t);return Xle(t,r,"x",n.intersect,i)},y(t,e,n,i){let r=Lf(e,t);return Xle(t,r,"y",n.intersect,i)}}},zce=["left","top","right","bottom"];function xw(t,e){return t.filter(n=>n.pos===e)}function Zle(t,e){return t.filter(n=>zce.indexOf(n.pos)===-1&&n.box.axis===e)}function Sw(t,e){return t.sort((n,i)=>{let r=e?i:n,o=e?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function xLe(t){let e=[],n,i,r,o,s,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function SLe(t){let e={};for(let n of t){let{stack:i,pos:r,stackWeight:o}=n;if(!i||!zce.includes(r))continue;let s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function TLe(t,e){let n=SLe(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];let{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=d?d*r:l&&e.availableHeight)}return n}function ILe(t){let e=xLe(t),n=Sw(e.filter(c=>c.box.fullSize),!0),i=Sw(xw(e,"left"),!0),r=Sw(xw(e,"right")),o=Sw(xw(e,"top"),!0),s=Sw(xw(e,"bottom")),a=Zle(e,"x"),l=Zle(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:xw(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function Jle(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Gce(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function kLe(t,e,n,i){let{pos:r,box:o}=n,s=t.maxPadding;if(!hn(r)){n.size&&(t[r]-=n.size);let u=i[n.stack]||{size:0,count:1};u.size=Math.max(u.size,n.horizontal?o.height:o.width),n.size=u.size/u.count,t[r]+=n.size}o.getPadding&&Gce(s,o.getPadding());let a=Math.max(0,e.outerWidth-Jle(s,t,"left","right")),l=Math.max(0,e.outerHeight-Jle(s,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function MLe(t){let e=t.maxPadding;function n(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function DLe(t,e){let n=e.maxPadding;function i(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],n[s])}),o}return i(t?["left","right"]:["top","bottom"])}function kw(t,e,n,i){let r=[],o,s,a,l,c,d;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,DLe(a.horizontal,e));let{same:u,other:p}=kLe(e,n,a,i);c|=u&&r.length,d=d||p,l.fullSize||r.push(a)}return c&&kw(r,e,n,i)||d}function hD(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function ece(t,e,n,i){let r=n.padding,{x:o,y:s}=e;for(let a of t){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){let u=e.w*d,p=c.size||l.height;_w(c.start)&&(s=c.start),l.fullSize?hD(l,r.left,s,n.outerWidth-r.right-r.left,p):hD(l,e.left+c.placed,s,u,p),c.start=s,c.placed+=u,s=l.bottom}else{let u=e.h*d,p=c.size||l.width;_w(c.start)&&(o=c.start),l.fullSize?hD(l,o,r.top,p,n.outerHeight-r.bottom-r.top):hD(l,o,e.top+c.placed,p,u),c.start=o,c.placed+=u,o=l.right}}e.x=o,e.y=s}var fD={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let r=Ma(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=ILe(t.boxes),l=a.vertical,c=a.horizontal;Kn(t.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});let d=l.reduce((b,x)=>x.box.options&&x.box.options.display===!1?b:b+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/d,hBoxMaxHeight:s/2}),p=Object.assign({},r);Gce(p,Ma(i));let g=Object.assign({maxPadding:p,w:o,h:s,x:r.left,y:r.top},r),v=TLe(l.concat(c),u);kw(a.fullSize,g,u,v),kw(l,g,u,v),kw(c,g,u,v)&&kw(l,g,u,v),MLe(g),ece(a.leftAndTop,g,u,v),g.x+=g.w,g.y+=g.h,ece(a.rightAndBottom,g,u,v),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Kn(a.chartArea,b=>{let x=b.box;Object.assign(x,t.chartArea),x.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}},yD=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}},Pj=class extends yD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},vD="$chartjs",PLe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tce=t=>t===null||t==="";function OLe(t,e){let n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[vD]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tce(r)){let o=gj(t,"width");o!==void 0&&(t.width=o)}if(tce(i))if(t.style.height==="")t.height=t.width/(e||2);else{let o=gj(t,"height");o!==void 0&&(t.height=o)}return t}var Wce=Lle?{passive:!0}:!1;function RLe(t,e,n){t&&t.addEventListener(e,n,Wce)}function BLe(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Wce)}function FLe(t,e){let n=PLe[t.type]||t.type,{x:i,y:r}=Lf(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function CD(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function NLe(t,e,n){let i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||CD(a.addedNodes,i),s=s&&!CD(a.removedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function LLe(t,e,n){let i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||CD(a.removedNodes,i),s=s&&!CD(a.addedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var Dw=new Map,nce=0;function Kce(){let t=window.devicePixelRatio;t!==nce&&(nce=t,Dw.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ULe(t,e){Dw.size||window.addEventListener("resize",Kce),Dw.set(t,e)}function VLe(t){Dw.delete(t),Dw.size||window.removeEventListener("resize",Kce)}function HLe(t,e,n){let i=t.canvas,r=i&&cD(i);if(!r)return;let o=lj((a,l)=>{let c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return s.observe(r),ULe(t,o),s}function Sj(t,e,n){n&&n.disconnect(),e==="resize"&&VLe(t)}function QLe(t,e,n){let i=t.canvas,r=lj(o=>{t.ctx!==null&&n(FLe(o,t))},t);return RLe(i,e,r),r}var Oj=class extends yD{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(OLe(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[vD])return!1;let i=n[vD].initial;["height","width"].forEach(o=>{let s=i[o];Wn(s)?n.removeAttribute(o):n.setAttribute(o,s)});let r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[vD],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),s={attach:NLe,detach:LLe,resize:HLe}[n]||QLe;r[n]=s(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Sj,detach:Sj,resize:Sj}[n]||BLe)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return Nle(e,n,i,r)}isAttached(e){let n=e&&cD(e);return!!(n&&n.isConnected)}};function jLe(t){return!lD()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Pj:Oj}var Uf=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Xv(this.x)&&Xv(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function $Le(t,e){let n=t.options.ticks,i=zLe(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?WLe(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return KLe(e,c,o,s/r),c;let d=GLe(o,e,r);if(s>0){let u,p,g=s>1?Math.round((l-a)/(s-1)):null;for(pD(e,c,d,Wn(g)?0:a-g,a),u=0,p=s-1;u<p;u++)pD(e,c,d,o[u],o[u+1]);return pD(e,c,d,l,Wn(g)?e.length:l+g),c}return pD(e,c,d),c}function zLe(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function GLe(t,e,n){let i=qLe(t),r=e.length/n;if(!i)return Math.max(r,1);let o=fle(i);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function WLe(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function KLe(t,e,n,i){let r=0,o=n[0],s;for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=n[r*i])}function pD(t,e,n,i,r){let o=In(i,0),s=Math.min(In(r,t.length),t.length),a=0,l,c,d;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),d=o;d<0;)a++,d=Math.round(o+a*n);for(c=Math.max(o,0);c<s;c++)c===d&&(e.push(t[c]),a++,d=Math.round(o+a*n))}function qLe(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var YLe=t=>t==="left"?"right":t==="right"?"left":t,ice=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,rce=(t,e)=>Math.min(e||t,t);function oce(t,e){let n=[],i=t.length/e,r=t.length,o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function XLe(t,e,n){let i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,s=t._endPixel,a=1e-6,l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-o,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<o-a||l>s+a)))return l}function ZLe(t,e){Kn(t,n=>{let i=n.gc,r=i.length/2,o;if(r>e){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function Tw(t){return t.drawTicks?t.tickLength:0}function sce(t,e){if(!t.display)return 0;let n=Gs(t.font,e),i=Ma(t.padding);return(Yi(t.text)?t.text.length:1)*n.lineHeight+i.height}function JLe(t,e){return $u(t,{scale:e,type:"scale"})}function eUe(t,e,n){return $u(t,{tick:n,index:e,type:"tick"})}function tUe(t,e,n){let i=Cle(t);return(n&&e!=="right"||!n&&e==="right")&&(i=YLe(i)),i}function nUe(t,e,n,i){let{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:d}=l,u=0,p,g,v,b=s-r,x=a-o;if(t.isHorizontal()){if(g=cj(i,o,a),hn(n)){let T=Object.keys(n)[0],k=n[T];v=d[T].getPixelForValue(k)+b-e}else n==="center"?v=(c.bottom+c.top)/2+b-e:v=ice(t,n,e);p=a-o}else{if(hn(n)){let T=Object.keys(n)[0],k=n[T];g=d[T].getPixelForValue(k)-x+e}else n==="center"?g=(c.left+c.right)/2-x+e:g=ice(t,n,e);v=cj(i,s,r),u=n==="left"?-yr:yr}return{titleX:g,titleY:v,maxWidth:p,rotation:u}}var Nm=class t extends Uf{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=zs(e,Number.POSITIVE_INFINITY),n=zs(n,Number.NEGATIVE_INFINITY),i=zs(i,Number.POSITIVE_INFINITY),r=zs(r,Number.NEGATIVE_INFINITY),{min:zs(e,i),max:zs(n,r),minDefined:ir(e),maxDefined:ir(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:n,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,s.min)),o||(i=Math.max(i,s.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:zs(n,zs(i,n)),max:zs(i,zs(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rr(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Dle(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?oce(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=$Le(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rr(this.options.afterUpdate,[this])}beforeSetDimensions(){rr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),rr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=rr(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){rr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=rce(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation,s=r,a,l,c;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let d=this._getLabelSizes(),u=d.widest.width,p=d.highest.height,g=ts(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),u+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-Tw(e.grid)-n.padding-sce(e.title,this.chart.options.font),c=Math.sqrt(u*u+p*p),s=Z1(Math.min(Math.asin(ts((d.highest.height+6)/a,-1,1)),Math.asin(ts(l/c,-1,1))-Math.asin(ts(p/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){rr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rr(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=sce(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Tw(o)+l):(e.height=this.maxHeight,e.width=Tw(o)+l),i.display&&this.ticks.length){let{first:c,last:d,widest:u,highest:p}=this._getLabelSizes(),g=i.padding*2,v=uc(this.labelRotation),b=Math.cos(v),x=Math.sin(v);if(a){let T=i.mirror?0:x*u.width+b*p.height;e.height=Math.min(this.maxHeight,e.height+T+g)}else{let T=i.mirror?0:b*u.width+x*p.height;e.width=Math.min(this.maxWidth,e.width+T+g)}this._calculatePadding(c,d,x,b)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),p=0,g=0;l?c?(p=r*e.width,g=i*n.height):(p=i*e.height,g=r*n.width):o==="start"?g=n.width:o==="end"?p=e.width:o!=="inner"&&(p=e.width/2,g=n.width/2),this.paddingLeft=Math.max((p-d+s)*this.width/(this.width-d),0),this.paddingRight=Math.max((g-u+s)*this.width/(this.width-u),0)}else{let d=n.height/2,u=e.height/2;o==="start"?(d=0,u=e.height):o==="end"&&(d=n.height,u=0),this.paddingTop=d+s,this.paddingBottom=u+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rr(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)Wn(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=oce(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(n/rce(n,i)),c=0,d=0,u,p,g,v,b,x,T,k,U,D,N;for(u=0;u<n;u+=l){if(v=e[u].label,b=this._resolveTickFontOptions(u),r.font=x=b.string,T=o[x]=o[x]||{data:{},gc:[]},k=b.lineHeight,U=D=0,!Wn(v)&&!Yi(v))U=gw(r,T.data,T.gc,U,v),D=k;else if(Yi(v))for(p=0,g=v.length;p<g;++p)N=v[p],!Wn(N)&&!Yi(N)&&(U=gw(r,T.data,T.gc,U,N),D+=k);s.push(U),a.push(D),c=Math.max(U,c),d=Math.max(D,d)}ZLe(o,n);let z=s.indexOf(c),Z=a.indexOf(d),ne=ee=>({width:s[ee]||0,height:a[ee]||0});return{first:ne(0),last:ne(n-1),widest:ne(z),highest:ne(Z),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return mle(this._alignToPixels?Nf(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=eUe(this.getContext(),e,i))}return this.$context||(this.$context=JLe(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=uc(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,c=this.isHorizontal(),u=this.ticks.length+(l?1:0),p=Tw(o),g=[],v=a.setContext(this.getContext()),b=v.display?v.width:0,x=b/2,T=function(pt){return Nf(i,pt,b)},k,U,D,N,z,Z,ne,ee,he,ge,Ee,St;if(s==="top")k=T(this.bottom),Z=this.bottom-p,ee=k-x,ge=T(e.top)+x,St=e.bottom;else if(s==="bottom")k=T(this.top),ge=e.top,St=T(e.bottom)-x,Z=k+x,ee=this.top+p;else if(s==="left")k=T(this.right),z=this.right-p,ne=k-x,he=T(e.left)+x,Ee=e.right;else if(s==="right")k=T(this.left),he=e.left,Ee=T(e.right)-x,z=k+x,ne=this.left+p;else if(n==="x"){if(s==="center")k=T((e.top+e.bottom)/2+.5);else if(hn(s)){let pt=Object.keys(s)[0],jt=s[pt];k=T(this.chart.scales[pt].getPixelForValue(jt))}ge=e.top,St=e.bottom,Z=k+x,ee=Z+p}else if(n==="y"){if(s==="center")k=T((e.left+e.right)/2);else if(hn(s)){let pt=Object.keys(s)[0],jt=s[pt];k=T(this.chart.scales[pt].getPixelForValue(jt))}z=k-x,ne=z-p,he=e.left,Ee=e.right}let qt=In(r.ticks.maxTicksLimit,u),bt=Math.max(1,Math.ceil(u/qt));for(U=0;U<u;U+=bt){let pt=this.getContext(U),jt=o.setContext(pt),wn=a.setContext(pt),it=jt.lineWidth,Lt=jt.color,Pe=wn.dash||[],Ut=wn.dashOffset,vn=jt.tickWidth,qn=jt.tickColor,Li=jt.tickBorderDash||[],Yr=jt.tickBorderDashOffset;D=XLe(this,U,l),D!==void 0&&(N=Nf(i,D,it),c?z=ne=he=Ee=N:Z=ee=ge=St=N,g.push({tx1:z,ty1:Z,tx2:ne,ty2:ee,x1:he,y1:ge,x2:Ee,y2:St,width:it,color:Lt,borderDash:Pe,borderDashOffset:Ut,tickWidth:vn,tickColor:qn,tickBorderDash:Li,tickBorderDashOffset:Yr}))}return this._ticksLength=u,this._borderValue=k,g}_computeLabelItems(e){let n=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=o,p=Tw(i.grid),g=p+d,v=u?-d:g,b=-uc(this.labelRotation),x=[],T,k,U,D,N,z,Z,ne,ee,he,ge,Ee,St="middle";if(r==="top")z=this.bottom-v,Z=this._getXAxisLabelAlignment();else if(r==="bottom")z=this.top+v,Z=this._getXAxisLabelAlignment();else if(r==="left"){let bt=this._getYAxisLabelAlignment(p);Z=bt.textAlign,N=bt.x}else if(r==="right"){let bt=this._getYAxisLabelAlignment(p);Z=bt.textAlign,N=bt.x}else if(n==="x"){if(r==="center")z=(e.top+e.bottom)/2+g;else if(hn(r)){let bt=Object.keys(r)[0],pt=r[bt];z=this.chart.scales[bt].getPixelForValue(pt)+g}Z=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")N=(e.left+e.right)/2-g;else if(hn(r)){let bt=Object.keys(r)[0],pt=r[bt];N=this.chart.scales[bt].getPixelForValue(pt)}Z=this._getYAxisLabelAlignment(p).textAlign}n==="y"&&(l==="start"?St="top":l==="end"&&(St="bottom"));let qt=this._getLabelSizes();for(T=0,k=a.length;T<k;++T){U=a[T],D=U.label;let bt=o.setContext(this.getContext(T));ne=this.getPixelForTick(T)+o.labelOffset,ee=this._resolveTickFontOptions(T),he=ee.lineHeight,ge=Yi(D)?D.length:1;let pt=ge/2,jt=bt.color,wn=bt.textStrokeColor,it=bt.textStrokeWidth,Lt=Z;s?(N=ne,Z==="inner"&&(T===k-1?Lt=this.options.reverse?"left":"right":T===0?Lt=this.options.reverse?"right":"left":Lt="center"),r==="top"?c==="near"||b!==0?Ee=-ge*he+he/2:c==="center"?Ee=-qt.highest.height/2-pt*he+he:Ee=-qt.highest.height+he/2:c==="near"||b!==0?Ee=he/2:c==="center"?Ee=qt.highest.height/2-pt*he:Ee=qt.highest.height-ge*he,u&&(Ee*=-1),b!==0&&!bt.showLabelBackdrop&&(N+=he/2*Math.sin(b))):(z=ne,Ee=(1-ge)*he/2);let Pe;if(bt.showLabelBackdrop){let Ut=Ma(bt.backdropPadding),vn=qt.heights[T],qn=qt.widths[T],Li=Ee-Ut.top,Yr=0-Ut.left;switch(St){case"middle":Li-=vn/2;break;case"bottom":Li-=vn;break}switch(Z){case"center":Yr-=qn/2;break;case"right":Yr-=qn;break;case"inner":T===k-1?Yr-=qn:T>0&&(Yr-=qn/2);break}Pe={left:Yr,top:Li,width:qn+Ut.width,height:vn+Ut.height,color:bt.backdropColor}}x.push({label:D,font:ee,textOffset:Ee,options:{rotation:b,color:jt,strokeColor:wn,strokeWidth:it,textAlign:Lt,textBaseline:St,translation:[N,z],backdrop:Pe}})}return x}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-uc(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width,c,d;return n==="left"?r?(d=this.right+o,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?r?(d=this.left+o,i==="near"?c="right":i==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,i==="near"?c="left":i==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:r,width:o,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,o,s),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(o=>o.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(o=0,s=r.length;o<s;++o){let l=r[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,d,u,p;this.isHorizontal()?(c=Nf(e,this.left,s)-s/2,d=Nf(e,this.right,a)+a/2,u=p=l):(u=Nf(e,this.top,s)-s/2,p=Nf(e,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,u),n.lineTo(d,p),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&iD(i,r);let o=this.getLabelItems(e);for(let s of o){let a=s.options,l=s.font,c=s.label,d=s.textOffset;Cw(i,c,0,d,l,a)}r&&rD(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;let o=Gs(i.font),s=Ma(i.padding),a=i.align,l=o.lineHeight/2;n==="bottom"||n==="center"||hn(n)?(l+=s.bottom,Yi(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:d,maxWidth:u,rotation:p}=nUe(this,l,n,a);Cw(e,i.text,0,0,o,{color:i.color,maxWidth:u,rotation:p,textAlign:tUe(a,n,r),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=In(e.grid&&e.grid.z,-1),r=In(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],o,s;for(o=0,s=n.length;o<s;++o){let a=n[o];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return Gs(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},t_=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;oUe(n)&&(i=this.register(n));let r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,iUe(e,s,i),this.override&&Cr.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Cr[r]&&(delete Cr[r][i],this.override&&delete Ff[i])}};function iUe(t,e,n){let i=Gv(Object.create(null),[n?Cr.get(n):{},Cr.get(e),t.defaults]);Cr.set(e,i),t.defaultRoutes&&rUe(e,t.defaultRoutes),t.descriptors&&Cr.describe(e,t.descriptors)}function rUe(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Cr.route(o,r,l,a)})}function oUe(t){return"id"in t&&"defaults"in t}var Rj=class{constructor(){this.controllers=new t_(Qj,"datasets",!0),this.elements=new t_(Uf,"elements"),this.plugins=new t_(Object,"plugins"),this.scales=new t_(Nm,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{let o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):Kn(r,s=>{let a=i||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,n,i){let r=X1(e);rr(i["before"+r],[],i),n[e](i),rr(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},Sd=new Rj,Bj=class{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,i,r){r=r||{};for(let o of e){let s=o.plugin,a=s[i],l=[n,r,o.options];if(rr(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){Wn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,r=In(i.options&&i.options.plugins,{}),o=sUe(i);return r===!1&&!n?[]:lUe(e,o,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}};function sUe(t){let e={},n=[],i=Object.keys(Sd.plugins.items);for(let o=0;o<i.length;o++)n.push(Sd.getPlugin(i[o]));let r=t.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function aUe(t,e){return!e&&t===!1?null:t===!0?{}:t}function lUe(t,{plugins:e,localIds:n},i,r){let o=[],s=t.getContext();for(let a of e){let l=a.id,c=aUe(i[l],r);c!==null&&o.push({plugin:a,options:cUe(t.config,{plugin:a,local:n[l]},c,s)})}return o}function cUe(t,{plugin:e,local:n},i,r){let o=t.pluginScopeKeys(e),s=t.getOptionScopes(i,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fj(t,e){let n=Cr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function dUe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function uUe(t,e){return t===e?"_index_":"_value_"}function ace(t){if(t==="x"||t==="y"||t==="r")return t}function hUe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Nj(t,...e){if(ace(t))return t;for(let n of e){let i=n.axis||hUe(n.position)||t.length>1&&ace(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function lce(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function fUe(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return lce(t,"x",n[0])||lce(t,"y",n[0])}return{}}function pUe(t,e){let n=Ff[t.type]||{scales:{}},i=e.scales||{},r=Fj(t.type,e),o=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!hn(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=Nj(s,a,fUe(s,t),Cr.scales[a.type]),c=uUe(l,r),d=n.scales||{};o[s]=Kv(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(s=>{let a=s.type||t.type,l=s.indexAxis||Fj(a,e),d=(Ff[a]||{}).scales||{};Object.keys(d).forEach(u=>{let p=dUe(u,l),g=s[p+"AxisID"]||p;o[g]=o[g]||Object.create(null),Kv(o[g],[{axis:p},i[g],d[u]])})}),Object.keys(o).forEach(s=>{let a=o[s];Kv(a,[Cr.scales[a.type],Cr.scale])}),o}function qce(t){let e=t.options||(t.options={});e.plugins=In(e.plugins,{}),e.scales=pUe(t,e)}function Yce(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function mUe(t){return t=t||{},t.data=Yce(t.data),qce(t),t}var cce=new Map,Xce=new Set;function mD(t,e){let n=cce.get(t);return n||(n=e(),cce.set(t,n),Xce.add(n)),n}var Iw=(t,e,n)=>{let i=qv(e,n);i!==void 0&&t.add(i)},Lj=class{constructor(e){this._config=mUe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Yce(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),qce(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return mD(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return mD(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return mD(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return mD(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){let{options:r,type:o}=this,s=this._cachedScopes(e,i),a=s.get(n);if(a)return a;let l=new Set;n.forEach(d=>{e&&(l.add(e),d.forEach(u=>Iw(l,e,u))),d.forEach(u=>Iw(l,r,u)),d.forEach(u=>Iw(l,Ff[o]||{},u)),d.forEach(u=>Iw(l,Cr,u)),d.forEach(u=>Iw(l,tD,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Xce.has(n)&&s.set(n,c),c}chartOptionScopes(){let{options:e,type:n}=this;return[e,Ff[n]||{},Cr.datasets[n]||{},{type:n},Cr,tD]}resolveNamedOptions(e,n,i,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=dce(this._resolverCache,e,r),l=s;if(gUe(s,n)){o.$shared=!1,i=Qu(i)?i():i;let c=this.createResolver(e,i,a);l=Rm(s,i,c)}for(let c of n)o[c]=l[c];return o}createResolver(e,n,i=[""],r){let{resolver:o}=dce(this._resolverCache,e,i);return hn(n)?Rm(o,n,void 0,r):o}};function dce(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let r=n.join(),o=i.get(r);return o||(o={resolver:aD(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}var AUe=t=>hn(t)&&Object.getOwnPropertyNames(t).some(e=>Qu(t[e]));function gUe(t,e){let{isScriptable:n,isIndexable:i}=fj(t);for(let r of e){let o=n(r),s=i(r),a=(s||o)&&t[r];if(o&&(Qu(a)||AUe(a))||s&&Yi(a))return!0}return!1}var vUe="4.5.0",_Ue=["top","bottom","left","right","chartArea"];function uce(t,e){return t==="top"||t==="bottom"||_Ue.indexOf(t)===-1&&e==="x"}function hce(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function fce(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rr(n&&n.onComplete,[t],e)}function bUe(t){let e=t.chart,n=e.options.animation;rr(n&&n.onProgress,[t],e)}function Zce(t){return lD()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var _D={},pce=t=>{let e=Zce(t);return Object.values(_D).filter(n=>n.canvas===e).pop()};function yUe(t,e,n){let i=Object.keys(t);for(let r of i){let o=+r;if(o>=e){let s=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=s)}}}function CUe(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}var i_=(()=>{class t{static defaults=Cr;static instances=_D;static overrides=Ff;static registry=Sd;static version=vUe;static getChart=pce;static register(...n){Sd.add(...n),mce()}static unregister(...n){Sd.remove(...n),mce()}constructor(n,i){let r=this.config=new Lj(i),o=Zce(n),s=pce(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||jLe(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=cle(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Bj,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yle(p=>this.update(p),a.resizeDelay||0),this._dataChanges=[],_D[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}zu.listen(this,"complete",fce),zu.listen(this,"progress",bUe),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return Wn(n)?i&&s?s:o?r/o:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return Sd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Aj(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return hj(this.canvas,this.ctx),this}stop(){return zu.stop(this),this}resize(n,i){zu.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,n,i,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Aj(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),rr(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};Kn(i,(r,o)=>{r.id=o})}buildOrUpdateScales(){let n=this.options,i=n.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],c=Nj(a,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Kn(s,a=>{let l=a.options,c=l.id,d=Nj(c,l),u=In(l.type,a.dtype);(l.position===void 0||uce(l.position,d)!==uce(a.dposition))&&(l.position=a.dposition),o[c]=!0;let p=null;if(c in r&&r[c].type===u)p=r[c];else{let g=Sd.getScale(u);p=new g({id:c,type:u,ctx:this.ctx,chart:this}),r[p.id]=p}p.init(l,n)}),Kn(o,(a,l)=>{a||delete r[l]}),Kn(r,a=>{fD.configure(this,a,a.options),fD.addBox(this,a)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,r=n.length;if(n.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);n.splice(i,r-i)}this._sortedMetasets=n.slice(0).sort(hce("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((r,o)=>{i.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){let s=i[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||Fj(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=Sd.getController(l),{datasetElementType:d,dataElementType:u}=Cr.datasets[l];Object.assign(c,{dataElementType:Sd.getElement(u),datasetElementType:d&&Sd.getElement(d)}),a.controller=new c(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){Kn(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let d=0,u=this.data.datasets.length;d<u;d++){let{controller:p}=this.getDatasetMeta(d),g=!o&&s.indexOf(p)===-1;p.buildOrUpdateElements(g),a=Math.max(+p.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||Kn(s,d=>{d.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(hce("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Kn(this.scales,n=>{fD.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!tj(i,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of i){let a=r==="_removeElements"?-s:s;yUe(n,o,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=s=>new Set(n.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!tj(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fD.update(this,this.width,this.height,n);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],Kn(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Qu(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let r=this.getDatasetMeta(n),o={meta:r,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zu.has(this)?this.attached&&!zu.running(this)&&zu.start(this):(this.draw(),fce({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,r=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,r={meta:n,index:n.index,cancelable:!0},o=bj(this,n);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&iD(i,o),n.controller.draw(),o&&rD(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(n){return wd(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,r,o){let s=ELe.modes[i];return typeof s=="function"?s(this,n,r,o):[]}getDatasetMeta(n){let i=this.data.datasets[n],r=this._metasets,o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=$u(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(n,i){let r=this.getDatasetMeta(n);r.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,r){let o=r?"show":"hide",s=this.getDatasetMeta(n),a=s.controller._resolveAnimations(void 0,o);_w(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===n?o:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),zu.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),hj(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete _D[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),n[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Kn(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,r=(c,d)=>{i.addEventListener(this,c,d),n[c]=d},o=(c,d)=>{n[c]&&(i.removeEventListener(this,c,d),delete n[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){Kn(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},Kn(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,r){let o=r?"set":"remove",s,a,l,c;for(i==="dataset"&&(s=this.getDatasetMeta(n[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=n.length;l<c;++l){a=n[l];let d=a&&this.getDatasetMeta(a.datasetIndex).controller;d&&d[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],r=n.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!vw(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(n,i,r){return this._plugins.notify(this,n,i,r)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,r){let o=this.options.hover,s=(c,d)=>c.filter(u=>!d.some(p=>u.datasetIndex===p.datasetIndex&&u.index===p.index)),a=s(i,n),l=r?n:s(n,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(n,i){let r={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},o=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(n,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(n,i,r){let{_active:o=[],options:s}=this,a=i,l=this._getActiveElements(n,o,r,a),c=hle(n),d=CUe(n,this._lastEvent,r,c);r&&(this._lastEvent=null,rr(s.onHover,[n,l,this],this),c&&rr(s.onClick,[n,l,this],this));let u=!vw(l,o);return(u||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=d,u}_getActiveElements(n,i,r,o){if(n.type==="mouseout")return[];if(!r)return i;let s=this.options.hover;return this.getElementsAtEventForMode(n,s.mode,s,o)}}return t})();function mce(){return Kn(i_.instances,t=>t._plugins.invalidate())}function wUe(t,e,n){let{startAngle:i,x:r,y:o,outerRadius:s,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/s,Bo(i-n));if(t.beginPath(),t.arc(r,o,s-c/2,i+u/2,n-u/2),a>0){let p=Math.min(c/a,Bo(i-n));t.arc(r,o,a+c/2,n-p/2,i+p/2,!0)}else{let p=Math.min(c/2,s*Bo(i-n));if(d==="round")t.arc(r,o,p,n-Gn/2,i+Gn/2,!0);else if(d==="bevel"){let g=2*p*p,v=-g*Math.cos(n+Gn/2)+r,b=-g*Math.sin(n+Gn/2)+o,x=g*Math.cos(i+Gn/2)+r,T=g*Math.sin(i+Gn/2)+o;t.lineTo(v,b),t.lineTo(x,T)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function EUe(t,e,n){let{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e,c=r/a;t.beginPath(),t.arc(o,s,a,i-c,n+c),l>r?(c=r/l,t.arc(o,s,l,n+c,i-c,!0)):t.arc(o,s,r,n+yr,i-yr),t.closePath(),t.clip()}function xUe(t){return sD(t,["outerStart","outerEnd","innerStart","innerEnd"])}function SUe(t,e,n,i){let r=xUe(t.options.borderRadius),o=(n-e)/2,s=Math.min(o,i*e/2),a=l=>{let c=(n-Math.min(o,l))*i/2;return ts(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:ts(r.innerStart,0,s),innerEnd:ts(r.innerEnd,0,s)}}function e_(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function wD(t,e,n,i,r,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,u=Math.max(e.outerRadius+i+n-c,0),p=d>0?d+i+n+c:0,g=0,v=r-l;if(i){let bt=d>0?d-i:0,pt=u>0?u-i:0,jt=(bt+pt)/2,wn=jt!==0?v*jt/(jt+i):v;g=(v-wn)/2}let b=Math.max(.001,v*u-n/Gn)/u,x=(v-b)/2,T=l+x+g,k=r-x-g,{outerStart:U,outerEnd:D,innerStart:N,innerEnd:z}=SUe(e,p,u,k-T),Z=u-U,ne=u-D,ee=T+U/Z,he=k-D/ne,ge=p+N,Ee=p+z,St=T+N/ge,qt=k-z/Ee;if(t.beginPath(),o){let bt=(ee+he)/2;if(t.arc(s,a,u,ee,bt),t.arc(s,a,u,bt,he),D>0){let it=e_(ne,he,s,a);t.arc(it.x,it.y,D,he,k+yr)}let pt=e_(Ee,k,s,a);if(t.lineTo(pt.x,pt.y),z>0){let it=e_(Ee,qt,s,a);t.arc(it.x,it.y,z,k+yr,qt+Math.PI)}let jt=(k-z/p+(T+N/p))/2;if(t.arc(s,a,p,k-z/p,jt,!0),t.arc(s,a,p,jt,T+N/p,!0),N>0){let it=e_(ge,St,s,a);t.arc(it.x,it.y,N,St+Math.PI,T-yr)}let wn=e_(Z,T,s,a);if(t.lineTo(wn.x,wn.y),U>0){let it=e_(Z,ee,s,a);t.arc(it.x,it.y,U,T-yr,ee)}}else{t.moveTo(s,a);let bt=Math.cos(ee)*u+s,pt=Math.sin(ee)*u+a;t.lineTo(bt,pt);let jt=Math.cos(he)*u+s,wn=Math.sin(he)*u+a;t.lineTo(jt,wn)}t.closePath()}function TUe(t,e,n,i,r){let{fullCircles:o,startAngle:s,circumference:a}=e,l=e.endAngle;if(o){wD(t,e,n,i,l,r);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=s+(a%Ti||Ti))}return wD(t,e,n,i,l,r),t.fill(),l}function IUe(t,e,n,i,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:p,borderRadius:g}=l,v=l.borderAlign==="inner";if(!c)return;t.setLineDash(u||[]),t.lineDashOffset=p,v?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let b=e.endAngle;if(o){wD(t,e,n,i,b,r);for(let x=0;x<o;++x)t.stroke();isNaN(a)||(b=s+(a%Ti||Ti))}v&&EUe(t,e,b),l.selfJoin&&b-s>=Gn&&g===0&&d!=="miter"&&wUe(t,e,b),o||(wD(t,e,n,i,b,r),t.stroke())}var Ace=class extends Uf{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.getProps(["x","y"],i),{angle:o,distance:s}=oj(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,g=In(u,l-a),v=Zv(o,a,l)&&a!==l,b=g>=Ti||v,x=J1(s,c+p,d+p);return b&&x}getCenterPoint(e){let{x:n,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,d=(r+o)/2,u=(s+a+c+l)/2;return{x:n+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,s=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ti?Math.floor(i/Ti):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Gn,i||0)),c=r*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,TUe(e,this,c,o,s),IUe(e,this,c,o,s),e.restore()}};function Jce(t,e,n=e){t.lineCap=In(n.borderCapStyle,e.borderCapStyle),t.setLineDash(In(n.borderDash,e.borderDash)),t.lineDashOffset=In(n.borderDashOffset,e.borderDashOffset),t.lineJoin=In(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=In(n.borderWidth,e.borderWidth),t.strokeStyle=In(n.borderColor,e.borderColor)}function kUe(t,e,n){t.lineTo(n.x,n.y)}function MUe(t){return t.stepped?Ile:t.tension||t.cubicInterpolationMode==="monotone"?kle:kUe}function ede(t,e,n={}){let i=t.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=e,l=Math.max(r,s),c=Math.min(o,a),d=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!d?i+c-l:c-l}}function DUe(t,e,n,i){let{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:c}=ede(r,n,i),d=MUe(o),{move:u=!0,reverse:p}=i||{},g,v,b;for(g=0;g<=c;++g)v=r[(a+(p?c-g:g))%s],!v.skip&&(u?(t.moveTo(v.x,v.y),u=!1):d(t,b,v,p,o.stepped),b=v);return l&&(v=r[(a+(p?c:0))%s],d(t,b,v,p,o.stepped)),!!l}function PUe(t,e,n,i){let r=e.points,{count:o,start:s,ilen:a}=ede(r,n,i),{move:l=!0,reverse:c}=i||{},d=0,u=0,p,g,v,b,x,T,k=D=>(s+(c?a-D:D))%o,U=()=>{b!==x&&(t.lineTo(d,x),t.lineTo(d,b),t.lineTo(d,T))};for(l&&(g=r[k(0)],t.moveTo(g.x,g.y)),p=0;p<=a;++p){if(g=r[k(p)],g.skip)continue;let D=g.x,N=g.y,z=D|0;z===v?(N<b?b=N:N>x&&(x=N),d=(u*d+D)/++u):(U(),t.lineTo(D,N),v=z,u=0,b=x=N),T=N}U()}function Uj(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?PUe:DUe}function OUe(t){return t.stepped?Ule:t.tension||t.cubicInterpolationMode==="monotone"?Vle:Rf}function RUe(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),Jce(t,e.options),t.stroke(r)}function BUe(t,e,n,i){let{segments:r,options:o}=e,s=Uj(e);for(let a of r)Jce(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var FUe=typeof Path2D=="function";function NUe(t,e,n,i){FUe&&!e.options.segment?RUe(t,e,n,i):BUe(t,e,n,i)}var Rw=(()=>{class t extends Uf{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;Fle(this._points,r,n,o,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$le(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,r=n.length;return r&&i[n[r-1].end]}interpolate(n,i){let r=this.options,o=n[i],s=this.points,a=_j(this,{property:i,start:o,end:o});if(!a.length)return;let l=[],c=OUe(r),d,u;for(d=0,u=a.length;d<u;++d){let{start:p,end:g}=a[d],v=s[p],b=s[g];if(v===b){l.push(v);continue}let x=Math.abs((o-v[i])/(b[i]-v[i])),T=c(v,b,x,r.stepped);T[i]=n[i],l.push(T)}return l.length===1?l[0]:l}pathSegment(n,i,r){return Uj(this)(n,this,i,r)}path(n,i,r){let o=this.segments,s=Uj(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of o)a&=s(n,this,l,{start:i,end:i+r-1});return!!a}draw(n,i,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(n.save(),NUe(n,this,r,o),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function gce(t,e,n,i){let r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}var tde=(()=>{class t extends Uf{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(n-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return gce(this,n,"x",i)}inYRange(n,i){return gce(this,n,"y",i)}getCenterPoint(n){let{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){let r=this.options;this.skip||r.radius<.1||!wd(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,nD(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function LUe(t,e,n){let i=t.segments,r=t.points,o=e.points,s=[];for(let a of i){let{start:l,end:c}=a;c=SD(l,c,r);let d=Vj(n,r[l],r[c],a.loop);if(!e.segments){s.push({source:a,target:d,start:r[l],end:r[c]});continue}let u=_j(e,d);for(let p of u){let g=Vj(n,o[p.start],o[p.end],p.loop),v=vj(a,r,g);for(let b of v)s.push({source:b,target:p,start:{[n]:vce(d,g,"start",Math.max)},end:{[n]:vce(d,g,"end",Math.min)}})}}return s}function Vj(t,e,n,i){if(i)return;let r=e[t],o=n[t];return t==="angle"&&(r=Bo(r),o=Bo(o)),{property:t,start:r,end:o}}function UUe(t,e){let{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=SD(s,a,r);let l=r[s],c=r[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function SD(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function vce(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function nde(t,e){let n=[],i=!1;return Yi(t)?(i=!0,n=t):n=UUe(t,e),n.length?new Rw({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function _ce(t){return t&&t.fill!==!1}function VUe(t,e,n){let r=t[e].fill,o=[e],s;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!ir(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function HUe(t,e,n){let i=zUe(t);if(hn(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ir(r)&&Math.floor(r)===r?QUe(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function QUe(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function jUe(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:hn(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function $Ue(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:hn(t)?i=t.value:i=e.getBaseValue(),i}function zUe(t){let e=t.options,n=e.fill,i=In(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function GUe(t){let{scale:e,index:n,line:i}=t,r=[],o=i.segments,s=i.points,a=WUe(e,n);a.push(nde({x:null,y:e.bottom},i));for(let l=0;l<o.length;l++){let c=o[l];for(let d=c.start;d<=c.end;d++)KUe(r,s[d],a)}return new Rw({points:r,options:{}})}function WUe(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let o=i[r];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function KUe(t,e,n){let i=[];for(let r=0;r<n.length;r++){let o=n[r],{first:s,last:a,point:l}=qUe(o,e,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function qUe(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let r=i[n],o=t.segments,s=t.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let d=o[c],u=s[d.start][n],p=s[d.end][n];if(J1(r,u,p)){a=r===u,l=r===p;break}}return{first:a,last:l,point:i}}var ED=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:r,y:o,radius:s}=this;return n=n||{start:0,end:Ti},e.arc(r,o,s,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:r}=this,o=e.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}};function YUe(t){let{chart:e,fill:n,line:i}=t;if(ir(n))return XUe(e,n);if(n==="stack")return GUe(t);if(n==="shape")return!0;let r=ZUe(t);return r instanceof ED?r:nde(r,i)}function XUe(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function ZUe(t){return(t.scale||{}).getPointPositionForValue?e4e(t):JUe(t)}function JUe(t){let{scale:e={},fill:n}=t,i=jUe(n,e);if(ir(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function e4e(t){let{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,s=$Ue(n,e,o),a=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,o);return new ED({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}function Tj(t,e,n){let i=YUe(e),{chart:r,index:o,line:s,scale:a,axis:l}=e,c=s.options,d=c.fill,u=c.backgroundColor,{above:p=u,below:g=u}=d||{},v=r.getDatasetMeta(o),b=bj(r,v);i&&s.points.length&&(iD(t,n),t4e(t,{line:s,target:i,above:p,below:g,area:n,scale:a,axis:l,clip:b}),rD(t))}function t4e(t,e){let{line:n,target:i,above:r,below:o,area:s,scale:a,clip:l}=e,c=n._loop?"angle":e.axis;t.save();let d=o;o!==r&&(c==="x"?(bce(t,i,s.top),Ij(t,{line:n,target:i,color:r,scale:a,property:c,clip:l}),t.restore(),t.save(),bce(t,i,s.bottom)):c==="y"&&(yce(t,i,s.left),Ij(t,{line:n,target:i,color:o,scale:a,property:c,clip:l}),t.restore(),t.save(),yce(t,i,s.right),d=r)),Ij(t,{line:n,target:i,color:d,scale:a,property:c,clip:l}),t.restore()}function bce(t,e,n){let{segments:i,points:r}=e,o=!0,s=!1;t.beginPath();for(let a of i){let{start:l,end:c}=a,d=r[l],u=r[SD(l,c,r)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function yce(t,e,n){let{segments:i,points:r}=e,o=!0,s=!1;t.beginPath();for(let a of i){let{start:l,end:c}=a,d=r[l],u=r[SD(l,c,r)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(n,d.y),t.lineTo(d.x,d.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(n,u.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function Ij(t,e){let{line:n,target:i,property:r,color:o,scale:s,clip:a}=e,l=LUe(n,i,r);for(let{source:c,target:d,start:u,end:p}of l){let{style:{backgroundColor:g=o}={}}=c,v=i!==!0;t.save(),t.fillStyle=g,n4e(t,s,a,v&&Vj(r,u,p)),t.beginPath();let b=!!n.pathSegment(t,c),x;if(v){b?t.closePath():Cce(t,i,p,r);let T=!!i.pathSegment(t,d,{move:b,reverse:!0});x=b&&T,x||Cce(t,i,u,r)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function n4e(t,e,n,i){let r=e.chart.chartArea,{property:o,start:s,end:a}=i||{};if(o==="x"||o==="y"){let l,c,d,u;o==="x"?(l=s,c=r.top,d=a,u=r.bottom):(l=r.left,c=s,d=r.right,u=a),t.beginPath(),n&&(l=Math.max(l,n.left),d=Math.min(d,n.right),c=Math.max(c,n.top),u=Math.min(u,n.bottom)),t.rect(l,c,d-l,u-c),t.clip()}}function Cce(t,e,n,i){let r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var ide={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<i;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof Rw&&(l={visible:t.isDatasetVisible(s),index:s,fill:HUe(a,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=VUe(r,s,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&Tj(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let o=i[r].$filler;_ce(o)&&Tj(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!_ce(i)||n.drawTime!=="beforeDatasetDraw"||Tj(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};var Mw={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){let l=t[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),d=q1(e,c);d<r&&(r=d,a=l)}}if(a){let l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function xd(t,e){return e&&(Yi(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Gu(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function i4e(t,e){let{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function wce(t,e){let n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=Gs(e.bodyFont),c=Gs(e.titleFont),d=Gs(e.footerFont),u=o.length,p=r.length,g=i.length,v=Ma(e.padding),b=v.height,x=0,T=i.reduce((D,N)=>D+N.before.length+N.lines.length+N.after.length,0);if(T+=t.beforeBody.length+t.afterBody.length,u&&(b+=u*c.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),T){let D=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;b+=g*D+(T-g)*l.lineHeight+(T-1)*e.bodySpacing}p&&(b+=e.footerMarginTop+p*d.lineHeight+(p-1)*e.footerSpacing);let k=0,U=function(D){x=Math.max(x,n.measureText(D).width+k)};return n.save(),n.font=c.string,Kn(t.title,U),n.font=l.string,Kn(t.beforeBody.concat(t.afterBody),U),k=e.displayColors?s+2+e.boxPadding:0,Kn(i,D=>{Kn(D.before,U),Kn(D.lines,U),Kn(D.after,U)}),k=0,n.font=d.string,Kn(t.footer,U),n.restore(),x+=v.width,{width:x,height:b}}function r4e(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function o4e(t,e,n,i){let{x:r,width:o}=i,s=n.caretSize+n.caretPadding;if(t==="left"&&r+o+s>e.width||t==="right"&&r-o-s<0)return!0}function s4e(t,e,n,i){let{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t,c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),o4e(c,t,e,n)&&(c="center"),c}function Ece(t,e,n){let i=n.yAlign||e.yAlign||r4e(t,n);return{xAlign:n.xAlign||e.xAlign||s4e(t,e,n,i),yAlign:i}}function a4e(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function l4e(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function xce(t,e,n,i){let{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:d,topRight:u,bottomLeft:p,bottomRight:g}=Jv(s),v=a4e(e,a),b=l4e(e,l,c);return l==="center"?a==="left"?v+=c:a==="right"&&(v-=c):a==="left"?v-=Math.max(d,p)+r:a==="right"&&(v+=Math.max(u,g)+r),{x:ts(v,0,i.width-e.width),y:ts(b,0,i.height-e.height)}}function AD(t,e,n){let i=Ma(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Sce(t){return xd([],Gu(t))}function c4e(t,e,n){return $u(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Tce(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var rde={beforeTitle:Ed,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ed,beforeBody:Ed,beforeLabel:Ed,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return Wn(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Ed,afterBody:Ed,beforeFooter:Ed,footer:Ed,afterFooter:Ed};function Ws(t,e,n,i){let r=t[e].call(n,i);return typeof r>"u"?rde[e].call(n,i):r}var Ice=(()=>{class t extends Uf{static positioners=Mw;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new bD(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=c4e(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:r}=i,o=Ws(r,"beforeTitle",this,n),s=Ws(r,"title",this,n),a=Ws(r,"afterTitle",this,n),l=[];return l=xd(l,Gu(o)),l=xd(l,Gu(s)),l=xd(l,Gu(a)),l}getBeforeBody(n,i){return Sce(Ws(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:r}=i,o=[];return Kn(n,s=>{let a={before:[],lines:[],after:[]},l=Tce(r,s);xd(a.before,Gu(Ws(l,"beforeLabel",this,s))),xd(a.lines,Ws(l,"label",this,s)),xd(a.after,Gu(Ws(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(n,i){return Sce(Ws(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:r}=i,o=Ws(r,"beforeFooter",this,n),s=Ws(r,"footer",this,n),a=Ws(r,"afterFooter",this,n),l=[];return l=xd(l,Gu(o)),l=xd(l,Gu(s)),l=xd(l,Gu(a)),l}_createItems(n){let i=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],c,d;for(c=0,d=i.length;c<d;++c)l.push(i4e(this.chart,i[c]));return n.filter&&(l=l.filter((u,p,g)=>n.filter(u,p,g,r))),n.itemSort&&(l=l.sort((u,p)=>n.itemSort(u,p,r))),Kn(l,u=>{let p=Tce(n.callbacks,u);o.push(Ws(p,"labelColor",this,u)),s.push(Ws(p,"labelPointStyle",this,u)),a.push(Ws(p,"labelTextColor",this,u))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(n,i){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Mw[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=wce(this,r),d=Object.assign({},l,c),u=Ece(this.chart,r,d),p=xce(r,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:p.x,y:p.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,r,o){let s=this.getCaretPosition(n,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(n,i,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:p}=Jv(l),{x:g,y:v}=n,{width:b,height:x}=i,T,k,U,D,N,z;return s==="center"?(N=v+x/2,o==="left"?(T=g,k=T-a,D=N+a,z=N-a):(T=g+b,k=T+a,D=N-a,z=N+a),U=T):(o==="left"?k=g+Math.max(c,u)+a:o==="right"?k=g+b-Math.max(d,p)-a:k=this.caretX,s==="top"?(D=v,N=D-a,T=k-a,U=k+a):(D=v+x,N=D+a,T=k+a,U=k-a),z=D),{x1:T,x2:k,x3:U,y1:D,y2:N,y3:z}}drawTitle(n,i,r){let o=this.title,s=o.length,a,l,c;if(s){let d=uD(r.rtl,this.x,this.width);for(n.x=AD(this,r.titleAlign,r),i.textAlign=d.textAlign(r.titleAlign),i.textBaseline="middle",a=Gs(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],d.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+l,c+1===s&&(n.y+=r.titleMarginBottom-l)}}_drawColorBox(n,i,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:d}=s,u=Gs(s.bodyFont),p=AD(this,"left",s),g=o.x(p),v=c<u.lineHeight?(u.lineHeight-c)/2:0,b=i.y+v;if(s.usePointStyle){let x={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},T=o.leftForLtr(g,d)+d/2,k=b+c/2;n.strokeStyle=s.multiKeyBackground,n.fillStyle=s.multiKeyBackground,nD(n,x,T,k),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,nD(n,x,T,k)}else{n.lineWidth=hn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let x=o.leftForLtr(g,d),T=o.leftForLtr(o.xPlus(g,1),d-2),k=Jv(a.borderRadius);Object.values(k).some(U=>U!==0)?(n.beginPath(),n.fillStyle=s.multiKeyBackground,oD(n,{x,y:b,w:d,h:c,radius:k}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),oD(n,{x:T,y:b+1,w:d-2,h:c-2,radius:k}),n.fill()):(n.fillStyle=s.multiKeyBackground,n.fillRect(x,b,d,c),n.strokeRect(x,b,d,c),n.fillStyle=a.backgroundColor,n.fillRect(T,b+1,d-2,c-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=r,p=Gs(r.bodyFont),g=p.lineHeight,v=0,b=uD(r.rtl,this.x,this.width),x=function(ee){i.fillText(ee,b.x(n.x+v),n.y+g/2),n.y+=g+s},T=b.textAlign(a),k,U,D,N,z,Z,ne;for(i.textAlign=a,i.textBaseline="middle",i.font=p.string,n.x=AD(this,T,r),i.fillStyle=r.bodyColor,Kn(this.beforeBody,x),v=l&&T!=="right"?a==="center"?d/2+u:d+2+u:0,N=0,Z=o.length;N<Z;++N){for(k=o[N],U=this.labelTextColors[N],i.fillStyle=U,Kn(k.before,x),D=k.lines,l&&D.length&&(this._drawColorBox(i,n,N,b,r),g=Math.max(p.lineHeight,c)),z=0,ne=D.length;z<ne;++z)x(D[z]),g=p.lineHeight;Kn(k.after,x)}v=0,g=p.lineHeight,Kn(this.afterBody,x),n.y-=s}drawFooter(n,i,r){let o=this.footer,s=o.length,a,l;if(s){let c=uD(r.rtl,this.x,this.width);for(n.x=AD(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=Gs(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],c.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=n,{width:d,height:u}=r,{topLeft:p,topRight:g,bottomLeft:v,bottomRight:b}=Jv(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+p,c),a==="top"&&this.drawCaret(n,i,r,o),i.lineTo(l+d-g,c),i.quadraticCurveTo(l+d,c,l+d,c+g),a==="center"&&s==="right"&&this.drawCaret(n,i,r,o),i.lineTo(l+d,c+u-b),i.quadraticCurveTo(l+d,c+u,l+d-b,c+u),a==="bottom"&&this.drawCaret(n,i,r,o),i.lineTo(l+v,c+u),i.quadraticCurveTo(l,c+u,l,c+u-v),a==="center"&&s==="left"&&this.drawCaret(n,i,r,o),i.lineTo(l,c+p),i.quadraticCurveTo(l,c,l+p,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=Mw[n.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=wce(this,n),c=Object.assign({},a,this._size),d=Ece(i,n,c),u=xce(n,c,d,i);(o._to!==u.x||s._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Ma(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(n.save(),n.globalAlpha=r,this.drawBackground(s,n,o,i),Hle(n,i.textDirection),s.y+=a.top,this.drawTitle(s,n,i),this.drawBody(s,n,i),this.drawFooter(s,n,i),Qle(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let r=this._active,o=n.map(({datasetIndex:l,index:c})=>{let d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!vw(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(n,s,i,r),l=this._positionChanged(a,n),c=i||!vw(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),c}_getActiveElements(n,i,r,o){let s=this.options;if(n.type==="mouseout")return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(n,i){let{caretX:r,caretY:o,options:s}=this,a=Mw[s.position].call(this,n,i);return a!==!1&&(r!==a.x||o!==a.y)}}return t})(),ode={id:"tooltip",_element:Ice,positioners:Mw,afterInit(t,e,n){n&&(t.tooltip=new Ice({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",De(V({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:rde},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};var d4e=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function u4e(t,e,n,i){let r=t.indexOf(e);if(r===-1)return d4e(t,e,n,i);let o=t.lastIndexOf(e);return r!==o?n:r}var h4e=(t,e)=>t===null?null:ts(Math.round(t),0,e);function kce(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var sde=(()=>{class t extends Nm{static id="category";static defaults={ticks:{callback:kce}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(Wn(n))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===n?i:u4e(r,n,In(i,n),this._addedLabels),h4e(i,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let n=this.min,i=this.max,r=this.options.offset,o=[],s=this.getLabels();s=n===0&&i===s.length-1?s:s.slice(n,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=i;a++)o.push({value:a});return o}getLabelForValue(n){return kce.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function f4e(t,e){let n=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:p}=t,g=o||1,v=d-1,{min:b,max:x}=e,T=!Wn(s),k=!Wn(a),U=!Wn(c),D=(x-b)/(u+1),N=nj((x-b)/v/g)*g,z,Z,ne,ee;if(N<1e-14&&!T&&!k)return[{value:b},{value:x}];ee=Math.ceil(x/N)-Math.floor(b/N),ee>v&&(N=nj(ee*N/v/g)*g),Wn(l)||(z=Math.pow(10,l),N=Math.ceil(N*z)/z),r==="ticks"?(Z=Math.floor(b/N)*N,ne=Math.ceil(x/N)*N):(Z=b,ne=x),T&&k&&o&&ple((a-s)/o,N/1e3)?(ee=Math.round(Math.min((a-s)/N,d)),N=(a-s)/ee,Z=s,ne=a):U?(Z=T?s:Z,ne=k?a:ne,ee=c-1,N=(ne-Z)/ee):(ee=(ne-Z)/N,Yv(ee,Math.round(ee),N/1e3)?ee=Math.round(ee):ee=Math.ceil(ee));let he=Math.max(rj(N),rj(Z));z=Math.pow(10,Wn(l)?he:l),Z=Math.round(Z*z)/z,ne=Math.round(ne*z)/z;let ge=0;for(T&&(p&&Z!==s?(n.push({value:s}),Z<s&&ge++,Yv(Math.round((Z+ge*N)*z)/z,s,Mce(s,D,t))&&ge++):Z<s&&ge++);ge<ee;++ge){let Ee=Math.round((Z+ge*N)*z)/z;if(k&&Ee>a)break;n.push({value:Ee})}return k&&p&&ne!==a?n.length&&Yv(n[n.length-1].value,a,Mce(a,D,t))?n[n.length-1].value=a:n.push({value:a}):(!k||ne===a)&&n.push({value:ne}),n}function Mce(t,e,{horizontal:n,minRotation:i}){let r=uc(i),o=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}var n_=class extends Nm{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Wn(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=n?r:l,a=l=>o=i?o:l;if(e){let l=Om(r),c=Om(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(r-l)}this.min=r,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,s=f4e(r,o);return e.bounds==="ticks"&&ij(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return bw(e,this.chart.options.locale,this.options.ticks.format)}},xD=class extends n_{static id="linear";static defaults={ticks:{callback:yw.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=ir(e)?e:0,this.max=ir(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=uc(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},Pw=t=>Math.floor(ju(t)),Fm=(t,e)=>Math.pow(10,Pw(t)+e);function Dce(t){return t/Math.pow(10,Pw(t))===1}function Pce(t,e,n){let i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function p4e(t,e){let n=e-t,i=Pw(n);for(;Pce(t,e,i)>10;)i++;for(;Pce(t,e,i)<10;)i--;return Math.min(i,Pw(t))}function m4e(t,{min:e,max:n}){e=zs(t.min,e);let i=[],r=Pw(e),o=p4e(e,n),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((e-l)*s)/s,d=Math.floor((e-l)/a/10)*a*10,u=Math.floor((c-d)/Math.pow(10,o)),p=zs(t.min,Math.round((l+d+u*Math.pow(10,o))*s)/s);for(;p<n;)i.push({value:p,major:Dce(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,s=o>=0?1:s),p=Math.round((l+d+u*Math.pow(10,o))*s)/s;let g=zs(t.max,p);return i.push({value:g,major:Dce(g),significand:u}),i}var Oce=class extends Nm{static id="logarithmic";static defaults={ticks:{callback:yw.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=n_.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return ir(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=ir(e)?Math.max(0,e):null,this.max=ir(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ir(this._userMin)&&(this.min=e===Fm(this.min,0)?Fm(this.min,-1):Fm(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,r=this.max,o=a=>i=e?i:a,s=a=>r=n?r:a;i===r&&(i<=0?(o(1),s(10)):(o(Fm(i,-1)),s(Fm(r,1)))),i<=0&&o(Fm(r,-1)),r<=0&&s(Fm(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=m4e(n,this);return e.bounds==="ticks"&&ij(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":bw(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=ju(e),this._valueRange=ju(this.max)-ju(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ju(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function Hj(t){let e=t.ticks;if(e.display&&t.display){let n=Ma(e.backdropPadding);return In(e.font&&e.font.size,Cr.font.size)+n.height}return 0}function A4e(t,e,n){return n=Yi(n)?n:[n],{w:Sle(t,e.string,n),h:n.length*e.lineHeight}}function Rce(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function g4e(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?Gn/o:0;for(let l=0;l<o;l++){let c=s.setContext(t.getPointLabelContext(l));r[l]=c.padding;let d=t.getPointPosition(l,t.drawingArea+r[l],a),u=Gs(c.font),p=A4e(t.ctx,u,t._pointLabels[l]);i[l]=p;let g=Bo(t.getIndexAngle(l)+a),v=Math.round(Z1(g)),b=Rce(v,d.x,p.w,0,180),x=Rce(v,d.y,p.h,90,270);v4e(n,e,g,b,x)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=y4e(t,i,r)}function v4e(t,e,n,i,r){let o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n)),a=0,l=0;i.start<e.l?(a=(e.l-i.start)/o,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function _4e(t,e,n){let i=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=n,l=t.getPointPosition(e,i+r+s,o),c=Math.round(Z1(Bo(l.angle+yr))),d=E4e(l.y,a.h,c),u=C4e(c),p=w4e(l.x,a.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:p,top:d,right:p+a.w,bottom:d+a.h}}function b4e(t,e){if(!e)return!0;let{left:n,top:i,right:r,bottom:o}=t;return!(wd({x:n,y:i},e)||wd({x:n,y:o},e)||wd({x:r,y:i},e)||wd({x:r,y:o},e))}function y4e(t,e,n){let i=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:Hj(o)/2,additionalAngle:s?Gn/r:0},c;for(let d=0;d<r;d++){l.padding=n[d],l.size=e[d];let u=_4e(t,d,l);i.push(u),a==="auto"&&(u.visible=b4e(u,c),u.visible&&(c=u))}return i}function C4e(t){return t===0||t===180?"center":t<180?"left":"right"}function w4e(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function E4e(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function x4e(t,e,n){let{left:i,top:r,right:o,bottom:s}=n,{backdropColor:a}=e;if(!Wn(a)){let l=Jv(e.borderRadius),c=Ma(e.backdropPadding);t.fillStyle=a;let d=i-c.left,u=r-c.top,p=o-i+c.width,g=s-r+c.height;Object.values(l).some(v=>v!==0)?(t.beginPath(),oD(t,{x:d,y:u,w:p,h:g,radius:l}),t.fill()):t.fillRect(d,u,p,g)}}function S4e(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){let o=t._pointLabelItems[r];if(!o.visible)continue;let s=i.setContext(t.getPointLabelContext(r));x4e(n,s,o);let a=Gs(s.font),{x:l,y:c,textAlign:d}=o;Cw(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:s.color,textAlign:d,textBaseline:"middle"})}}function ade(t,e,n,i){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Ti);else{let o=t.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=t.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function T4e(t,e,n,i,r){let o=t.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!i||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),ade(t,n,s,i),o.closePath(),o.stroke(),o.restore())}function I4e(t,e,n){return $u(t,{label:n,index:e,type:"pointLabel"})}var Bce=class extends n_{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Ma(Hj(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=ir(e)&&!isNaN(e)?e:0,this.max=ir(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hj(this.options))}generateTickLabels(e){n_.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let r=rr(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?g4e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){let n=Ti/(this._pointLabels.length||1),i=this.options.startAngle||0;return Bo(e*n+uc(i))}getDistanceFromCenterForValue(e){if(Wn(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Wn(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return I4e(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let r=this.getIndexAngle(e)-yr+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),ade(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:r,border:o}=n,s=this._pointLabels.length,a,l,c;if(n.pointLabels.display&&S4e(this,s),r.display&&this.ticks.forEach((d,u)=>{if(u!==0||u===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);let p=this.getContext(u),g=r.setContext(p),v=o.setContext(p);T4e(this,g,l,s,v)}}),i.display){for(e.save(),a=s-1;a>=0;a--){let d=i.setContext(this.getPointLabelContext(a)),{color:u,lineWidth:p}=d;!p||!u||(e.lineWidth=p,e.strokeStyle=u,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let r=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;let c=i.setContext(this.getContext(l)),d=Gs(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=d.string,s=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let u=Ma(c.backdropPadding);e.fillRect(-s/2-u.left,-o-d.size/2-u.top,s+u.width,d.size+u.height)}Cw(e,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},TD={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ks=Object.keys(TD);function Fce(t,e){return t-e}function Nce(t,e){if(Wn(e))return null;let n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts,s=e;return typeof i=="function"&&(s=i(s)),ir(s)||(s=typeof i=="string"?n.parse(s,i):n.parse(s)),s===null?null:(r&&(s=r==="week"&&(Xv(o)||o===!0)?n.startOf(s,"isoWeek",o):n.startOf(s,r)),+s)}function Lce(t,e,n,i){let r=Ks.length;for(let o=Ks.indexOf(t);o<r-1;++o){let s=TD[Ks[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(a*s.size))<=i)return Ks[o]}return Ks[r-1]}function k4e(t,e,n,i,r){for(let o=Ks.length-1;o>=Ks.indexOf(n);o--){let s=Ks[o];if(TD[s].common&&t._adapter.diff(r,i,s)>=e-1)return s}return Ks[n?Ks.indexOf(n):0]}function M4e(t){for(let e=Ks.indexOf(t)+1,n=Ks.length;e<n;++e)if(TD[Ks[e]].common)return Ks[e]}function Uce(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:r}=eD(n,e),o=n[i]>=e?n[i]:n[r];t[o]=!0}}function D4e(t,e,n,i){let r=t._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Vce(t,e,n){let i=[],r={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return o===0||!n?i:D4e(t,i,r,n)}var Hce=(()=>{class t extends Nm{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let r=n.time||(n.time={}),o=this._adapter=new _Le._date(n.adapters.date);o.init(i),Kv(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:Nce(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,r=n.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(o=Math.min(o,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!a||!l)&&(c(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=ir(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=ir(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){let n=this.options,i=n.time,r=n.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=gle(o,s,a);return this._unit=i.unit||(r.autoSkip?Lce(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):k4e(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:M4e(this._unit),this.initOffsets(o),n.reverse&&l.reverse(),Vce(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,r=0,o,s;this.options.offset&&n.length&&(o=this.getDecimalForValue(n[0]),n.length===1?i=1-o:i=(this.getDecimalForValue(n[1])-o)/2,s=this.getDecimalForValue(n[n.length-1]),n.length===1?r=s:r=(s-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;i=ts(i,0,a),r=ts(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let n=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||Lce(s.minUnit,i,r,this._getLabelCapacity(i)),l=In(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,d=Xv(c)||c===!0,u={},p=i,g,v;if(d&&(p=+n.startOf(p,"isoWeek",c)),p=+n.startOf(p,d?"day":a),n.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let b=o.ticks.source==="data"&&this.getDataTimestamps();for(g=p,v=0;g<r;g=+n.add(g,l,a),v++)Uce(u,g,b);return(g===r||o.bounds==="ticks"||v===1)&&Uce(u,g,b),Object.keys(u).sort(Fce).map(x=>+x)}getLabelForValue(n){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(n,r.tooltipFormat):i.format(n,r.displayFormats.datetime)}format(n,i){let o=this.options.time.displayFormats,s=this._unit,a=i||o[s];return this._adapter.format(n,a)}_tickFormatFunction(n,i,r,o){let s=this.options,a=s.ticks.callback;if(a)return rr(a,[n,i,r],this);let l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],p=d&&l[d],g=r[i],v=d&&p&&g&&g.major;return this._adapter.format(n,o||(v?p:u))}generateTickLabels(n){let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i],o.label=this._tickFormatFunction(o.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){let i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,r=this.ctx.measureText(n).width,o=uc(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(n){let i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(n,0,Vce(this,[n],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let n=this._cache.data||[],i,r;if(n.length)return n;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)n=n.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,r;if(n.length)return n;let o=this.getLabels();for(i=0,r=o.length;i<r;++i)n.push(Nce(this,o[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return ble(n.sort(Fce))}}return t})();function gD(t,e,n){let i=0,r=t.length-1,o,s,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Bf(t,"pos",e)),{pos:o,time:a}=t[i],{pos:s,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Bf(t,"time",e)),{time:o,pos:a}=t[i],{time:s,pos:l}=t[r]);let c=s-o;return c?a+(l-a)*(e-o)/c:a}var Qce=class extends Hce{static id="timeseries";static defaults=Hce.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=gD(n,this.min),this._tableRange=gD(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,r=[],o=[],s,a,l,c,d;for(s=0,a=e.length;s<a;++s)c=e[s],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)d=r[s+1],l=r[s-1],c=r[s],Math.round((d+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(gD(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return gD(this._table,i*this._tableRange+this._minPos,!0)}};var P4e=["*"];function O4e(t,e){if(t&1&&$(0,"ss-icon",1),t&2){let n=M();P("iconName",n.iconName)("size",n.iconSize)("iconVariant",n.iconVariant)("color",n.iconColor)}}var ID=(()=>{let e=class e{constructor(){this.type="button",this.color=null,this.isLoading=!1,this.iconSize=20,this.disabled=!1,this.highlighted=!1,this.iconOnly=!1,this.buttonClick=new Ae,this.iconColor="accent-blue-20"}ngOnInit(){this.setIconColor(),this.iconVariant=this.iconVariant||this.iconSize}ngOnChanges(i){i.color&&!i.color.firstChange&&this.setIconColor()}onButtonClick(i){this.buttonClick.emit(i)}setIconColor(){switch(this.color){case go.MiniIcon:case go.Secondary:case go.Tertiary:this.iconColor="accent-blue-20";break;case go.Primary:case go.Negative:this.iconColor="contrast";break;case go.Positive:case go.Moody:this.iconColor="contrast";break;default:this.iconColor="default";break}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-button-small"]],inputs:{type:"type",color:"color",isLoading:"isLoading",iconName:"iconName",iconSize:"iconSize",iconVariant:"iconVariant",disabled:"disabled",highlighted:"highlighted",iconOnly:"iconOnly"},outputs:{buttonClick:"buttonClick"},standalone:!1,features:[gt],ngContentSelectors:P4e,decls:3,vars:13,consts:[[3,"click","type","ssLadda","disabled"],["iconName","check",3,"iconName","size","iconVariant","color"]],template:function(r,o){r&1&&(Dn(),C(0,"button",0),G("click",function(a){return o.onButtonClick(a)}),H(1,O4e,1,4,"ss-icon",1),Vt(2),w()),r&2&&(xn(Ts("label ",o.color)),le("icon-button",o.iconName)("icon-only",o.iconOnly)("highlighted",o.highlighted),P("type",o.type)("ssLadda",o.isLoading)("disabled",o.disabled),y(),Q(o.iconName?1:-1))},dependencies:[TI,bn],styles:["[_nghost-%COMP%]{display:block}.disabled[_nghost-%COMP%]   button[_ngcontent-%COMP%]{border:none;box-shadow:none;background:var(--grayscale-g1)}.disabled[_nghost-%COMP%]   button[_ngcontent-%COMP%]:hover{box-shadow:none;background:var(--grayscale-g1);cursor:not-allowed}.active[_nghost-%COMP%]   button[_ngcontent-%COMP%]{border:1px solid var(--alt);background:var(--alt)}[_nghost-%COMP%]  .ladda-spinner>div>div{background:var(--default)!important}[_nghost-%COMP%]  .ladda-spinner>div>div>div{background:var(--default-80)!important}[_nghost-%COMP%]  .ladda-button[data-style=zoom-in], [_nghost-%COMP%]  .ladda-button[data-style=zoom-in] .ladda-spinner, [_nghost-%COMP%]  .ladda-button[data-style=zoom-in] .ladda-label, [_nghost-%COMP%]  .ladda-button[data-style=zoom-out], [_nghost-%COMP%]  .ladda-button[data-style=zoom-out] .ladda-spinner, [_nghost-%COMP%]  .ladda-button[data-style=zoom-out] .ladda-label{transition:.1s ease background!important}[_nghost-%COMP%]  .icon-button.ladda-button .ladda-label{display:flex;align-items:center}[_nghost-%COMP%]  .icon-button.ladda-button ss-icon{margin-right:8px}[_nghost-%COMP%]  .icon-button.ladda-button.icon-only ss-icon{margin-right:0}button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:inherit;height:28px;padding:0 8px;border:none;border-radius:8px;outline:none;font-family:Poppins,sans-serif;font-size:13px;line-height:20px;color:var(--contrast);background:var(--accent-blue);cursor:pointer}@media only screen and (max-width: 767px){button[_ngcontent-%COMP%]{height:36px;font-size:14px}}button[_ngcontent-%COMP%]:hover, button.active[_ngcontent-%COMP%]{background:var(--accent-blue-20)}button.primary[_ngcontent-%COMP%]{color:var(--contrast);background:var(--accent-blue)}button.primary[_ngcontent-%COMP%]:hover{background:var(--accent-blue-20)}button.secondary[_ngcontent-%COMP%]{border:1px solid var(--alt);color:var(--default-20);background:var(--accent-gradient-90)}button.secondary[_ngcontent-%COMP%]:hover{color:var(--default);background:var(--accent-gradient-80)}button.tertiary[_ngcontent-%COMP%]{color:var(--default-20);background:transparent}button.tertiary[_ngcontent-%COMP%]:hover{color:var(--default);background:var(--alt-40)}button.moody[_ngcontent-%COMP%]{color:var(--contrast);background:var(--blue-black-light)}button.moody[_ngcontent-%COMP%]:hover, button.moody.active[_ngcontent-%COMP%]{background:var(--default-40)}button[_ngcontent-%COMP%]:disabled{border:none;box-shadow:none;color:var(--default-60);background:var(--grayscale-g2)}button[_ngcontent-%COMP%]:disabled:hover{background:var(--grayscale-g2);cursor:not-allowed}button[_ngcontent-%COMP%]:disabled:hover.secondary{background:var(--grayscale-g1)}button[_ngcontent-%COMP%]:disabled:hover.tertiary{background:transparent}button[_ngcontent-%COMP%]:disabled:hover.negative, button[_ngcontent-%COMP%]:disabled:hover.positive, button[_ngcontent-%COMP%]:disabled:hover.moody{background:var(--grayscale-g2)}button[_ngcontent-%COMP%]:disabled.secondary{color:var(--default-60);background:var(--grayscale-g1)}button[_ngcontent-%COMP%]:disabled.tertiary{color:var(--default-80);background:transparent}button[_ngcontent-%COMP%]:disabled.negative, button[_ngcontent-%COMP%]:disabled.positive, button[_ngcontent-%COMP%]:disabled.moody{color:var(--default-60);background:var(--grayscale-g2)}button[_ngcontent-%COMP%]:disabled   ss-icon[_ngcontent-%COMP%]  i{color:var(--default-80)}button.negative[_ngcontent-%COMP%]{color:var(--contrast);background-color:var(--negative)}button.negative[_ngcontent-%COMP%]:hover, button.negative.active[_ngcontent-%COMP%]{background:var(--negative-20)}button.positive[_ngcontent-%COMP%]{color:var(--contrast);background-color:var(--positive-d2)}button.positive[_ngcontent-%COMP%]:hover, button.positive.active[_ngcontent-%COMP%]{background:var(--positive-d1)}button.mini-icon[_ngcontent-%COMP%]{height:28px;padding:0 12px;border:none;border-radius:9px;color:var(--default-20);background:var(--accent-gradient-90)}button.mini-icon[_ngcontent-%COMP%]:hover{background:var(--accent-gradient-80)}button.mini-icon.icon-button.ladda-button[_ngcontent-%COMP%]{padding:4px}button.mini-icon.icon-button.ladda-button[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]   ng-content[_ngcontent-%COMP%]{margin:0 8px}"]});let t=e;return t})(),go=function(t){return t.Primary="primary",t.Secondary="secondary",t.Tertiary="tertiary",t.Moody="moody",t.MiniIcon="mini-icon",t.Negative="negative",t.Positive="positive",t}(go||{});var Xi=(()=>{let e=class e{constructor(i,r,o,s){this.settingsService=i,this.router=r,this.ngZone=o,this.utilityService=s,this.groupInvitesQueue=[],this.toasts=[],this.highlightedParticipantId=null,this.defaultTimeout=6e3}success(i){i.message=i.message||"",i.priority="success",i.title=i.title??"Success",i.autoClose=i.autoClose??!0,i.actions=i.actions??[],this.showToast(i)}error(i){!i.message&&!i.exceptionDetail||(i.message=i.message||"",this.toasts.some(o=>o.exceptionDetail?o.exceptionDetail.errorCode===i.exceptionDetail?.errorCode:o.message===i.message))||(i.priority="danger",i.title=i.title??"Error",i.autoClose=i.autoClose??!0,i.actions=i.actions??[],this.showToast(i))}info(i){i.message=i.message||"",i.priority="info",i.title=i.title??"Info",i.autoClose=i.autoClose??!0,i.actions=i.actions??[],i.onClick||(i.onClick=()=>{if(i.navigateToUrl){if(this.utilityService.isOnFocusRoomPage()&&i.navigateToUrl.includes("/conversations/chats/")){let o=i.navigateToUrl.lastIndexOf("/"),s=i.navigateToUrl.substring(o+1);this.utilityService.openDmTrayChat.next(s);return}this.router.navigate([i.navigateToUrl],{queryParams:i.queryParams})}});let r=!i.groupInvite&&!i.pinInvitationParticipant&&!i.revealPin&&!i.privateSpaceName&&!i.isFocusPartner;this.webNotificationsAllowed()&&r?this.showWebNotification(i.title,i.message,i.navigateToUrl??null):this.showToast(i)}showFocusRoomSessionGroupInvite(i,r,o,s){if(this.toasts.find(d=>d.pinInvitationParticipant?.identity===i.userInvitingInfo.id&&d.groupInvite?.groupId===i.groupId))return;let c={title:"Private space invite",message:"",priority:"info",autoClose:!1,actions:[{buttonLabel:"Join",callback:()=>o()},{buttonLabel:"Decline",buttonColor:go.Negative,callback:()=>s()}],showHighlight:!0,highlightParticipant:r,groupInvite:i};this.showToast(c)}showFocusRoomSingleInvite(i,r,o,s,a){if(this.toasts.find(u=>u.pinInvitationParticipant?.identity===i.userInvitingInfo.id))return;this.utilityService.groupInviteParticipantActive=r;let c=[{buttonLabel:"Join",callback:o},{buttonLabel:"Decline",buttonColor:go.Negative,callback:s},{buttonLabel:"Mute all invites 24h",buttonColor:go.Moody,callback:a}],d={title:"Private space invite",message:i.inviteMessage,priority:"info",autoClose:!1,actions:c,showHighlight:!0,highlightParticipant:r,groupInvite:i};this.showToast(d)}checkForOtherSingleInvitesInQueue(){wo(1e3).subscribe(()=>{this.groupInvitesQueue.length>0&&(this.utilityService.groupInvitesQueuePushed.next(this.groupInvitesQueue[0]),this.groupInvitesQueue.shift())})}showMutualPinNotification(i,r,o){if(this.toasts.find(c=>c.pinInvitationParticipant?.identity===i.identity))return;let a=[{iconName:"settings",title:"Open pin settings",callback:()=>r()}];this.settingsService.isB2BApp()||a.unshift({iconName:"chat",title:"Message",callback:()=>o()});let l={title:"You are pinning each other!",priority:"info",autoClose:!1,iconActions:a,pinInvitationParticipant:i,showHighlight:!0};this.showToast(l)}showPinnedBy(i){let o={title:"Someone is pinning you!",message:"Want to find out who?",priority:"info",autoClose:!1,actions:[{buttonLabel:"Reveal who",callback:()=>i()}],revealPin:!0};this.showToast(o)}createdNamedPrivateSpace(i,r,o,s){let a={title:s?`You joined ${i}!`:`You created ${i}!`,message:s?"Share the link with others to get things done together.":"You've created your private space. Now you can share the link with others to get things done together.",autoClose:!1,privateSpaceName:i,roomName:r,activeGroupId:o};this.showToast(a)}webNotificationsAllowed(){return document.visibilityState==="hidden"&&Notification.permission==="granted"}audioPodInvitesInCurrentToasts(){return this.toasts.some(i=>i.pinInvitationParticipant||!!i.groupInvite)}hideFocusRoomSessionGroupInvites(){this.toasts=this.toasts.filter(i=>i.groupInvite===void 0&&i.pinInvitationParticipant===void 0)}closeToast(i){let r=this.toasts.find(s=>s===i);if(!r)return;let o=this.toasts.indexOf(r);this.toasts.splice(o,1),this.toasts=[...this.toasts]}showWebNotification(i,r,o){let s=this.settingsService.isCoWork()?"/assets/favicon/study-stream-pro-fav.png":"/assets/favicon/study-stream-fav.png",a=new Notification(i,{body:r,icon:s});o&&(a.onclick=()=>{window.parent.parent.focus(),this.ngZone.run(()=>{this.router.navigate([o])})})}showToast(i){let r=["MinAgeRequirementNotMet"],o=i.exceptionDetail?.errorCode||"",s=o.startsWith("UserInactive")||r.includes(o);i.closeTimeoutMs=i.autoClose&&!s?this.defaultTimeout:void 0,this.toasts.push(i)}};e.\u0275fac=function(r){return new(r||e)(K(Sn),K(tn),K(Ie),K(Ht))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Td=(()=>{let e=class e{constructor(i,r,o){this.accountService=i,this.router=r,this.toastService=o}ensureAuthenticated(i=null){return this.accountService.authenticated()||!Ue.otherSiteSendTokenUrl?!0:(i||(i=`${location.origin}${this.router.url}`),location.replace(`${Ue.otherSiteSendTokenUrl}?redirectUrl=${i}`),!1)}navigateToRootAuthPage(i=!1){let r=i?{roomUrl:null}:void 0;this.router.navigate([this.isOnWebsite()?"/focus-room":"/"],{queryParams:r,queryParamsHandling:"merge"})}isOnWebsite(){return["local","local-website","staging-website","production-website"].includes(Ue.name)}getAuthPagesUrls(){let i={register:"/register",forgotPassword:"/forgot-password",login:"/login",verifyEmail:"/verify-email",verifyPhone:"/verify-phone",basicInfo:"/basic-info"};if(this.isOnWebsite())for(let r of Object.keys(i)){let o=r;i[o]=`/focus-room/auth${i[o]}`}return i}resolveAuthentication(i=null){return this.ensureAuthenticated(i)?this.accountService.currentUser.id?this.checkUserStatus(i):this.accountService.getMyInfo().pipe(se(r=>this.checkUserStatus(i))):!1}notifySuccessfulLogin(i){let r=!1;if(i.reactivated)this.toastService.info({title:"Account reactivated",message:"You have successfully reactivated your account."}),r=!0;else if(i.autoLoggedIn||i.loggedIn){let o=this.accountService.currentUser.displayName;this.toastService.success({message:`You've signed in${o?` ${o}`:""}.`}),r=!0}r&&this.router.navigate([],{queryParams:{loggedIn:null,autoLoggedIn:null,reactivated:null},queryParamsHandling:"merge"})}onPhoneVerificationCompleted(i,r=null){if(i.standalone){i.shouldPromptNextStep&&this.router.navigate([],{queryParams:{authStep:this.accountService.currentUser.completedBasicInfo?null:ud.BasicInfo,redirectUrl:this.accountService.currentUser.completedBasicInfo?location.href.replace(location.search,""):null},queryParamsHandling:"merge"}),r?.close(!0);return}if(!this.accountService.currentUser.completedBasicInfo&&i.firstTimeShowingPhoneVerification){let o=this.getAuthPagesUrls();this.router.navigate([o.basicInfo],{queryParamsHandling:"merge"})}else this.navigateToRootAuthPage(!i.shouldPromptNextStep);r?.close(!0)}checkUserStatus(i){let r=this.getAuthPagesUrls(),o=null;return this.accountService.currentUser.emailConfirmed?this.accountService.isCurrentUserPhoneVerified()?this.accountService.currentUser.completedBasicInfo||(o=r.basicInfo):o=r.verifyPhone:o=r.verifyEmail,o&&this.router.navigate([o],{queryParams:{redirectUrl:i},queryParamsHandling:"merge"}),!0}};e.\u0275fac=function(r){return new(r||e)(K(Qt),K(tn),K(Xi))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gl=(()=>{let e=class e{constructor(i){this.platformId=i,this.progressMade=new O().pipe(so(0)),this.pendingRequests=0,this.value=0}start(i=2){++this.pendingRequests,(this.value===0||this.pendingRequests===1)&&this.set(this.pendingRequests===1&&this.value>0?this.value:i)}stop(){for(this.complete();this.pendingRequests>0;)this.complete()}complete(){this.pendingRequests===0&&this.value===0||(this.pendingRequests>0&&--this.pendingRequests,(this.pendingRequests===0||this.pendingRequests===0&&this.value>0)&&(this.value!==100&&this.set(100),setTimeout(()=>this.set(0),500)))}set(i){if(!ZA(this.platformId)){this.pendingRequests=0;return}i===0&&this.pendingRequests>0&&(i=2),this.value=i,this.progressMade.next(i),this.pendingRequests!==0&&(clearTimeout(this.incTimeout),this.value>0&&this.value<100&&(this.incTimeout=setTimeout(()=>this.increment(),250)))}increment(i=0){i>0&&this.set(this.value+i);let r=this.value;r>=0&&r<25?i=Math.random()*3+3:r>=25&&r<65?i=Math.random()*3:r>=65&&r<90?i=Math.random()*2:r>=90&&r<99?i=.5:i=0,this.set(this.value+i)}ngOnDestroy(){this.progressMade.complete()}};e.\u0275fac=function(r){return new(r||e)(K($a))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jj=(()=>{let e=class e{constructor(i,r,o,s,a,l,c){this.data=i,this.redirectService=r,this.accountService=o,this.loaderService=s,this.router=a,this.activatedRoute=l,this.dialogRef=c,this.firstTimeShowingEmailVerification=!1,this.standalone=!1,this.standalone=!!i?.standalone}ngOnInit(){this.loaderService.stop(),this.activatedRoute.queryParams.subscribe(i=>{i.initialSetup&&(this.firstTimeShowingEmailVerification=!0,this.accountService.isCurrentUserPhoneVerified()&&this.router.navigate([],{queryParams:{initialSetup:null},queryParamsHandling:"merge"}))}),this.dialogRef.backdropClick().subscribe(()=>this.close()),this.dialogRef.keydownEvents().subscribe(i=>{i.key==="Escape"&&this.close()})}close(i=!1){if(this.standalone){if(i){let o=this.accountService.isCurrentUserPhoneVerified()?this.accountService.currentUser.completedBasicInfo?null:ud.BasicInfo:ud.VerifyPhone,s=this.accountService.isCurrentUserPhoneVerified()&&this.accountService.currentUser.completedBasicInfo?location.href.replace(location.search,""):null;this.router.navigate([],{queryParams:{authStep:o,redirectUrl:s},queryParamsHandling:"merge"})}this.dialogRef.close(!0);return}let r=!1;if(this.firstTimeShowingEmailVerification){let o=this.redirectService.getAuthPagesUrls(),s=this.accountService.isCurrentUserPhoneVerified()?this.accountService.currentUser.completedBasicInfo?null:o.basicInfo:o.verifyPhone;s&&(this.router.navigate([s],{queryParamsHandling:"merge"}),r=!0)}r||this.redirectService.navigateToRootAuthPage(!i),this.dialogRef.close(!0)}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Td),L(Qt),L(gl),L(tn),L(vr),L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-account-email-verification-modal"]],standalone:!1,decls:7,vars:4,consts:[[1,"mat-header"],["mat-dialog-title",""],["data-testid","close-verify-email-modal",1,"close-modal",3,"click"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[3,"completedVerification","isModal","standalone"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"You have mail!"),w(),C(3,"button",2),G("click",function(){return o.close()}),$(4,"ss-icon",3),w()(),C(5,"mat-dialog-content")(6,"ss-account-email-verification",4),G("completedVerification",function(a){return o.close(a)}),w()()),r&2&&(y(4),P("size",20)("iconVariant",20),y(2),P("isModal",!0)("standalone",o.standalone))},styles:["h1[_ngcontent-%COMP%]{margin-bottom:8px;text-align:left}.content-wrapper[_ngcontent-%COMP%], .middle-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.content-wrapper[_ngcontent-%COMP%]{overflow-y:auto;background-color:var(--alt)}.main-account-wrapper[_ngcontent-%COMP%]{display:flex;width:1140px;height:744px;overflow:hidden;border-radius:70px;box-shadow:var(--elevation-s1);background-color:var(--grayscale)}.action-wrapper[_ngcontent-%COMP%]{width:50%;padding:90px 60px 94px}@media only screen and (max-width: 767px){.action-wrapper[_ngcontent-%COMP%]{width:calc(100% - 30px);padding:16px}}.action-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:block}.action-wrapper[_ngcontent-%COMP%]   .action.hidden[_ngcontent-%COMP%]{display:none}.account-form-divider[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:16px}.account-form-divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:1px;background:var(--default-80)}.account-form-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 9px;font-weight:700;color:var(--default-80)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]});let t=e;return t})();var $j=(()=>{let e=class e{get title(){return this.changePhoneBlockVisible?"Update your phone number":this.accountService.currentUser.phoneNumber&&this.accountService.currentUser.datePhoneVerificationCodeExpires?"Check your phone":"Verify your phone number"}constructor(i,r,o,s,a,l){this.data=i,this.dialogRef=r,this.accountService=o,this.loaderService=s,this.router=a,this.activatedRoute=l,this.firstTimeShowingPhoneVerification=!1,this.changePhoneBlockVisible=!1,this.standalone=!1,this.standalone=!!i?.standalone}ngOnInit(){this.loaderService.stop(),this.activatedRoute.queryParams.subscribe(i=>{i.initialSetup&&(this.firstTimeShowingPhoneVerification=!0,this.router.navigate([],{queryParams:{initialSetup:null},queryParamsHandling:"merge"}))}),this.dialogRef.backdropClick().subscribe(()=>this.dialogRef.close()),this.dialogRef.keydownEvents().subscribe(i=>{i.key==="Escape"&&this.dialogRef.close()})}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt),L(Qt),L(gl),L(tn),L(vr))},e.\u0275cmp=re({type:e,selectors:[["ss-account-phone-verification-modal"]],standalone:!1,decls:7,vars:6,consts:[[1,"mat-header"],["mat-dialog-title",""],[1,"close-modal",3,"click"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[3,"changePhoneBlockVisibleChange","dialogRef","standalone","firstTimeShowingPhoneVerification"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2),w(),C(3,"button",2),G("click",function(){return o.dialogRef.close()}),$(4,"ss-icon",3),w()(),C(5,"mat-dialog-content")(6,"ss-account-phone-verification",4),G("changePhoneBlockVisibleChange",function(a){return o.changePhoneBlockVisible=a}),w()()),r&2&&(y(2),Ne(o.title),y(2),P("size",20)("iconVariant",20),y(2),P("dialogRef",o.dialogRef)("standalone",o.standalone)("firstTimeShowingPhoneVerification",o.firstTimeShowingPhoneVerification))},styles:["h1[_ngcontent-%COMP%]{margin-bottom:8px;text-align:left}.content-wrapper[_ngcontent-%COMP%], .middle-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.content-wrapper[_ngcontent-%COMP%]{overflow-y:auto;background-color:var(--alt)}.main-account-wrapper[_ngcontent-%COMP%]{display:flex;width:1140px;height:744px;overflow:hidden;border-radius:70px;box-shadow:var(--elevation-s1);background-color:var(--grayscale)}.action-wrapper[_ngcontent-%COMP%]{width:50%;padding:90px 60px 94px}@media only screen and (max-width: 767px){.action-wrapper[_ngcontent-%COMP%]{width:calc(100% - 30px);padding:16px}}.action-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:block}.action-wrapper[_ngcontent-%COMP%]   .action.hidden[_ngcontent-%COMP%]{display:none}.account-form-divider[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:16px}.account-form-divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:1px;background:var(--default-80)}.account-form-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 9px;font-weight:700;color:var(--default-80)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}"]});let t=e;return t})();var B4e=["basicInfoForm"],F4e=["basicInfo"],zj=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,d){this.data=i,this.redirectService=r,this.accountService=o,this.dialogRef=s,this.router=a,this.route=l,this.translateService=c,this.loaderService=d,this.currentUser={},this.errorMessages=[],this.basicInfoLoading=!1,this.standalone=!1,this.confirmationMessageKey="confirmMessages.CanCloseModal",this.setTranslation(),this.translateService.onLangChange.subscribe(()=>this.setTranslation()),this.standalone=!!i?.standalone}ngOnInit(){this.redirectUrl=this.route.snapshot.queryParams.redirectUrl,this.currentUser=this.accountService.currentUser,this.loaderService.stop(),this.dialogRef.backdropClick().subscribe(()=>this.close()),this.dialogRef.keydownEvents().subscribe(i=>{i.key==="Escape"&&this.close()})}close(i=!0){if(!i){this.navigateOnClose(!0);return}(!this.basicInfo.areChangesMade()||confirm(this.confirmationMessage))&&(this.standalone?(this.router.navigate([],{queryParams:{authStep:null,redirectUrl:null},queryParamsHandling:"merge"}),this.dialogRef.close()):this.navigateOnClose(!1))}setTranslation(){this.translateService.get(this.confirmationMessageKey).subscribe(i=>{this.confirmationMessage=i})}navigateOnClose(i){if(!i||!this.redirectUrl){this.redirectService.navigateToRootAuthPage(!i),this.dialogRef.close();return}if(this.redirectUrl.startsWith(location.origin)){let r=this.redirectUrl.replace(location.origin,"");if(r.includes("?")){let o=r.indexOf("?"),s=Object.fromEntries(new URLSearchParams(r.substring(o+1,r.length)).entries());r=r.substring(0,o),this.router.navigate([r],{queryParams:s})}else this.router.navigate([r]);this.dialogRef.close();return}location.href=this.redirectUrl}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Td),L(Qt),L(Nt),L(tn),L(vr),L(qa),L(gl))},e.\u0275cmp=re({type:e,selectors:[["ss-basic-info-modal"]],viewQuery:function(r,o){if(r&1&&(Fe(B4e,5),Fe(F4e,5)),r&2){let s;Ce(s=we())&&(o.basicInfoForm=s.first),Ce(s=we())&&(o.basicInfo=s.first)}},standalone:!1,decls:8,vars:4,consts:[["basicInfo",""],[1,"mat-header"],["mat-dialog-title",""],["data-testid","close-basic-info-modal",1,"close-modal",3,"click"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[3,"closeModal","closeModalFunction","isModal","standalone"]],template:function(r,o){if(r&1){let s=fe();C(0,"div",1)(1,"h2",2),F(2,"Tell us about you."),w(),C(3,"button",3),G("click",function(){return Y(s),X(o.close())}),$(4,"ss-icon",4),w()(),C(5,"mat-dialog-content")(6,"ss-basic-info",5,0),G("closeModal",function(l){return Y(s),X(o.dialogRef.close(l))})("closeModalFunction",function(l){return Y(s),X(o.close(l))}),w()()}r&2&&(y(4),P("size",20)("iconVariant",20),y(2),P("isModal",!0)("standalone",o.standalone))},styles:["h1[_ngcontent-%COMP%]{margin-bottom:8px;text-align:left}.content-wrapper[_ngcontent-%COMP%], .middle-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.content-wrapper[_ngcontent-%COMP%]{overflow-y:auto;background-color:var(--alt)}.main-account-wrapper[_ngcontent-%COMP%]{display:flex;width:1140px;height:744px;overflow:hidden;border-radius:70px;box-shadow:var(--elevation-s1);background-color:var(--grayscale)}.action-wrapper[_ngcontent-%COMP%]{width:50%;padding:90px 60px 94px}@media only screen and (max-width: 767px){.action-wrapper[_ngcontent-%COMP%]{width:calc(100% - 30px);padding:16px}}.action-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:block}.action-wrapper[_ngcontent-%COMP%]   .action.hidden[_ngcontent-%COMP%]{display:none}.account-form-divider[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:16px}.account-form-divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:1px;background:var(--default-80)}.account-form-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 9px;font-weight:700;color:var(--default-80)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}"]});let t=e;return t})();var N4e=["loginForm"];function L4e(t,e){if(t&1&&($(0,"div",14),kt(1,"translate")),t&2){let n=e.$implicit;P("innerHTML",oi(1,1,"errors."+n.errorCode,n.params),Eo)}}var Gj=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,d,u){this.redirectService=i,this.data=r,this.router=o,this.accountService=s,this.utilityService=a,this.accountModalsService=l,this.cd=c,this.dialogRef=d,this.route=u,this.model={},this.loggingIn=!1,this.standalone=!1,this.validationErrors={email:[],password:[],other:[]},this.errorMessages=[],this.standalone=!!r?.standalone}ngOnInit(){this.redirectUrl=this.route.snapshot.queryParams.redirectUrl,this.authPagesUrls=this.redirectService.getAuthPagesUrls(),this.dialogRef.backdropClick().subscribe(()=>this.close(!0)),this.dialogRef.keydownEvents().subscribe(i=>{i.key==="Escape"&&this.close(!0)})}onSSLogin(){this.resetErrors(),this.loggingIn=!0,this.accountService.login(this.model).subscribe({next:i=>{this.standalone&&(this.redirectUrl=location.href),this.accountService.onSSLogin(i,this.redirectUrl)},error:i=>this.handleErrors(i)})}close(i=!1){i&&this.router.navigate([],{queryParams:{redirectUrl:null},queryParamsHandling:"merge"}),this.dialogRef.close(i)}goToRegister(){if(this.standalone){this.accountModalsService.openStandaloneRegisterModal(),this.dialogRef.close();return}this.dialogRef.close(),this.router.navigate([this.authPagesUrls.register],{queryParamsHandling:"merge"})}goToForgotPassword(){this.dialogRef.close(),this.router.navigate([this.authPagesUrls.forgotPassword],{queryParamsHandling:"merge"})}removeFieldErrors(i){this.validationErrors[i]=[]}resetErrors(){this.errorMessages=[],this.validationErrors.email=[],this.validationErrors.password=[],this.validationErrors.other=[]}handleErrors(i){this.loggingIn=!1,this.errorMessages=i,this.validationErrors.email=this.utilityService.errorsForField("email",["EmailAddressUnconfirmed","EntityDoesNotExist"],this.errorMessages,this.loginForm),this.validationErrors.password=this.utilityService.errorsForField("password",["PasswordIncorrect"],this.errorMessages,this.loginForm),this.validationErrors.other=this.errorMessages.filter(r=>this.validationErrors.email.indexOf(r)===-1&&this.validationErrors.password.indexOf(r)===-1&&r.errorCode!=="RequestInvalid")}};e.\u0275fac=function(r){return new(r||e)(L(Td),L(Qn),L(tn),L(Qt),L(Ht),L(Id),L(zt),L(Nt),L(vr))},e.\u0275cmp=re({type:e,selectors:[["ss-login-modal"]],viewQuery:function(r,o){if(r&1&&Fe(N4e,5),r&2){let s;Ce(s=we())&&(o.loginForm=s.first)}},standalone:!1,decls:35,vars:32,consts:[["loginForm","ngForm"],[1,"mat-header"],["mat-dialog-title",""],[1,"close-modal",3,"click"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[1,"login-title"],[3,"authSuccess","eligibilityError","standalone"],[1,"account-form-divider"],[1,"wrapper-form",3,"ngSubmit"],["type","email","id","email","name","email","prefixIconName","mail","validationPropertyName","Email",3,"ngModelChange","label","ngModel","placeholder","errors","readonly","required"],["type","password","id","password","name","password","prefixIconName","lock_closed","validationPropertyName","Password",3,"ngModelChange","label","ngModel","placeholder","errors","readonly","required"],[1,"input-action"],[3,"click"],[1,"error-messages"],[1,"error-message",3,"innerHTML"],["type","submit",3,"isLoading","disabled"],[1,"notification"]],template:function(r,o){if(r&1){let s=fe();C(0,"div",1)(1,"h2",2),F(2,"Welcome back!"),w(),C(3,"button",3),G("click",function(){return Y(s),X(o.close(!0))}),$(4,"ss-icon",4),w()(),C(5,"mat-dialog-content")(6,"p",5),F(7,"Log in with..."),w(),C(8,"ss-social-block",6),G("authSuccess",function(){return Y(s),X(o.close(!0))})("eligibilityError",function(l){return Y(s),X(o.handleErrors([l]))}),w(),C(9,"div",7),$(10,"div"),C(11,"span"),F(12,"or"),w(),$(13,"div"),w(),C(14,"form",8,0),G("ngSubmit",function(){return Y(s),X(o.onSSLogin())}),C(16,"ss-input",9),kt(17,"translate"),kt(18,"translate"),Je("ngModelChange",function(l){return Y(s),tt(o.model.email,l)||(o.model.email=l),X(l)}),G("ngModelChange",function(){return Y(s),X(o.removeFieldErrors("email"))}),w(),C(19,"ss-input",10),kt(20,"translate"),kt(21,"translate"),Je("ngModelChange",function(l){return Y(s),tt(o.model.password,l)||(o.model.password=l),X(l)}),G("ngModelChange",function(){return Y(s),X(o.removeFieldErrors("password"))}),w(),C(22,"small",11)(23,"a",12),G("click",function(){return Y(s),X(o.goToForgotPassword())}),F(24),kt(25,"translate"),w()(),C(26,"div",13),Bt(27,L4e,2,4,"div",14,Mn),w(),C(29,"ss-button",15),F(30," Sign In "),w(),C(31,"div",16),F(32," Don't have an account? "),C(33,"a",12),G("click",function(){return Y(s),X(o.goToRegister())}),F(34,"Register"),w()()()()}if(r&2){let s=It(15);y(4),P("size",20)("iconVariant",20),y(4),P("standalone",o.standalone),y(8),P("label",Ai(17,22,"forms.login.email.label")),Ze("ngModel",o.model.email),P("placeholder",Ai(18,24,"forms.login.email.placeholder"))("errors",o.validationErrors.email)("readonly",o.loggingIn)("required",!0),y(3),P("label",Ai(20,26,"forms.login.password.label")),Ze("ngModel",o.model.password),P("placeholder",Ai(21,28,"forms.login.password.placeholder"))("errors",o.validationErrors.password)("readonly",o.loggingIn)("required",!0),y(4),le("inverted",o.redirectService.isOnWebsite()),y(),ht(" ",Ai(25,30,"forms.login.actions.forgotPassword")," "),y(3),Ft(o.validationErrors.other),y(2),P("isLoading",o.loggingIn)("disabled",!s.form.valid),y(4),le("inverted",o.redirectService.isOnWebsite())}},styles:["h1[_ngcontent-%COMP%]{margin-bottom:8px;text-align:left}.content-wrapper[_ngcontent-%COMP%], .middle-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.content-wrapper[_ngcontent-%COMP%]{overflow-y:auto;background-color:var(--alt)}.main-account-wrapper[_ngcontent-%COMP%]{display:flex;width:1140px;height:744px;overflow:hidden;border-radius:70px;box-shadow:var(--elevation-s1);background-color:var(--grayscale)}.action-wrapper[_ngcontent-%COMP%]{width:50%;padding:90px 60px 94px}@media only screen and (max-width: 767px){.action-wrapper[_ngcontent-%COMP%]{width:calc(100% - 30px);padding:16px}}.action-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:block}.action-wrapper[_ngcontent-%COMP%]   .action.hidden[_ngcontent-%COMP%]{display:none}.account-form-divider[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:16px}.account-form-divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:1px;background:var(--default-80)}.account-form-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 9px;font-weight:700;color:var(--default-80)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.login-title[_ngcontent-%COMP%]{margin-bottom:12px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}ss-button[type=submit][_ngcontent-%COMP%]{margin:20px 0 16px}"]});let t=e;return t})();var U4e=["registerForm"];function V4e(t,e){if(t&1){let n=fe();C(0,"button",10),G("click",function(){Y(n);let r=M();return X(r.resetForm())}),$(1,"ss-icon",11),w()}t&2&&(y(),P("size",20)("iconVariant",20))}function H4e(t,e){if(t&1&&(C(0,"small"),F(1),C(2,"a",12),F(3,"Terms of Service"),w(),F(4," and "),C(5,"a",13),F(6,"Privacy Policy"),w(),F(7,". "),w()),t&2){let n=M();y(),xo(" By registering for a ",n.settingsService.siteName," account, I agree to ",n.settingsService.siteName,"'s ")}}function Q4e(t,e){if(t&1){let n=fe();C(0,"ss-social-block",14),G("authSuccess",function(){Y(n);let r=M();return X(r.close(!0))})("eligibilityError",function(r){Y(n);let o=M();return X(o.handleErrors([r]))}),w()}if(t&2){let n=M();P("standalone",n.standalone)}}function j4e(t,e){if(t&1){let n=fe();C(0,"ss-button",15),G("click",function(){Y(n);let r=M();return X(r.showSignUpWithEmail())}),F(1," Register with email & password "),w()}}function $4e(t,e){if(t&1){let n=fe();C(0,"ss-utc-date-picker",26),kt(1,"translate"),kt(2,"translate"),Je("ngModelChange",function(r){Y(n);let o=M(2);return tt(o.model.birthday,r)||(o.model.birthday=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M(2);return X(r.removeFieldErrors("birthday"))}),w()}if(t&2){let n=M(2);P("label",Ai(1,8,"forms.register.birthday.label"))("placeholder",Ai(2,10,"forms.register.birthday.placeholder"))("errors",n.validationErrors.birthday)("required",!0)("readonly",!0)("minDate",n.minDate)("maxDate",n.maxDate),Ze("ngModel",n.model.birthday)}}function z4e(t,e){if(t&1&&(C(0,"div",21),F(1),kt(2,"translate"),w()),t&2){let n=e.$implicit;y(),ht(" ",oi(2,1,"errors."+n.errorCode,n.params)," ")}}function G4e(t,e){if(t&1&&($(0,"div",24),kt(1,"translate")),t&2){let n=e.$implicit;P("innerHTML",oi(1,1,"errors."+n.errorCode,n.params),Eo)}}function W4e(t,e){if(t&1&&(C(0,"ss-button",25),F(1),kt(2,"translate"),w()),t&2){M();let n=It(1),i=M();P("disabled",!n.form.valid)("isLoading",i.loading),y(),ht(" ",Ai(2,3,"forms.register.actions.register")," ")}}function K4e(t,e){if(t&1){let n=fe();C(0,"form",16,0),G("ngSubmit",function(){Y(n);let r=M();return X(r.onRegister())}),C(2,"ss-input",17),kt(3,"translate"),kt(4,"translate"),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.model.email,r)||(o.model.email=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M();return X(r.removeFieldErrors("email"))}),w(),C(5,"ss-input",18),kt(6,"translate"),kt(7,"translate"),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.model.password,r)||(o.model.password=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M();return X(r.removeFieldErrors("password"))}),w(),H(8,$4e,3,12,"ss-utc-date-picker",19),C(9,"div",20),Bt(10,z4e,3,4,"div",21,Mn),w(),C(12,"div",22),$(13,"div",23),w(),C(14,"div",20),Bt(15,G4e,2,4,"div",24,Mn),w(),H(17,W4e,3,5,"ss-button",25),w()}if(t&2){let n=M();y(2),P("label",Ai(3,14,"forms.register.email.label")),Ze("ngModel",n.model.email),P("placeholder",Ai(4,16,"forms.register.email.placeholder"))("errors",n.validationErrors.email)("readonly",n.loading)("required",!0),y(3),P("label",Ai(6,18,"forms.register.password.label")),Ze("ngModel",n.model.password),P("placeholder",Ai(7,20,"forms.register.password.placeholder"))("errors",n.validationErrors.password)("readonly",n.loading)("required",!0),y(3),Q(n.settingsService.isB2BApp()?-1:8),y(2),Ft(n.validationErrors.recaptchaResponse),y(5),Ft(n.validationErrors.other),y(2),Q(n.signUpWithEmail?17:-1)}}function q4e(t,e){if(t&1){let n=fe();C(0,"div",9),F(1," Already have an account? "),C(2,"a",27),G("click",function(){Y(n);let r=M();return X(r.goToLogin())}),F(3,"Log in"),w()()}if(t&2){let n=M();y(2),le("inverted",n.redirectService.isOnWebsite())}}var Wj=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,d,u,p,g,v){this.redirectService=i,this.data=r,this.settingsService=o,this.router=s,this.accountService=a,this.activatedRoute=l,this.dialogRef=c,this.route=d,this.utilityService=u,this.accountModalsService=p,this.translateService=g,this.toastService=v,this.model={},this.loading=!1,this.signUpWithEmail=!1,this.headingText="Register for full access!",this.siteKey=Ue.googleRecaptchaKey,this.validationErrors={email:[],password:[],birthday:[],other:[],recaptchaResponse:[]},this.standalone=!1,this.confirmationMessageKey="confirmMessages.CanCloseModal",this.setTranslation(),this.translateService.onLangChange.subscribe(()=>this.setTranslation()),this.minDate=this.utilityService.getDateBeforeNYears(70),this.maxDate=this.utilityService.getDateBeforeNYears(5),this.standalone=!!r?.standalone}ngOnInit(){this.authPagesUrls=this.redirectService.getAuthPagesUrls(),this.redirectUrl=this.route.snapshot.queryParams.redirectUrl,this.activatedRoute.queryParams.subscribe(i=>{this.model.referralCode=i.referralCode,this.model.registerCode=i.registerCode,this.model.inviteId=i.invite,i.state==="default"&&(this.headingText="Let's get started!"),i.mode==="email"&&this.showSignUpWithEmail()}),this.dialogRef.backdropClick().subscribe(()=>this.close(!0)),this.dialogRef.keydownEvents().subscribe(i=>{i.key==="Escape"&&this.close(!0)})}ngOnDestroy(){this.captchaWidgetId&&grecaptcha.reset(this.captchaWidgetId),window.clearTimeout(this.timeoutRef)}showSignUpWithEmail(){this.signUpWithEmail=!0,this.timeoutRef=window.setTimeout(()=>{this.captchaWidgetId=grecaptcha.render("recaptcha",{sitekey:Ue.googleRecaptchaKey})},200)}onRegister(){this.resetErrors();let i=localStorage.getItem(K0),r=localStorage.getItem(q0),o=i?Number(r):90;if(i&&ot.utc().diff(ot.fromISO(i),"days").days<o&&!this.settingsService.isB2BApp()){this.toastService.info({exceptionDetail:{errorCode:"RecentlyRegisteredADifferentAccount"}});return}this.loading=!0;let s=document.querySelector('[name="g-recaptcha-response"]').value;this.model.recaptchaResponse=s,this.accountService.register(this.model).subscribe({next:a=>{if(this.standalone){let l=a.user.emailConfirmed?this.accountService.isUserPhoneVerified(a.user)?ud.VerifyPhone:ud.BasicInfo:ud.VerifyEmail,c=`${location.href.replace(location.search,"")}?authStep=${l}`;this.accountService.onSSLogin(a.loginInfo,c)}else{let l=`${this.authPagesUrls.verifyEmail}?initialSetup=true`,c=this.route.snapshot.queryParams.redirectUrl;c&&(l+=`&redirectUrl=${c}`),this.accountService.onSSLogin(a.loginInfo,l)}},error:a=>{a.find(l=>l.errorCode==="MinAgeRequirementNotMet")&&this.model.birthday?(localStorage.setItem(xg,this.model.birthday.toString()),this.utilityService.openMinAgeRequirementNotMetModal(this.model.birthday),this.closeModal(!0)):this.handleErrors(a)}})}close(i=!1){this.promptLeaveMessage(i,!1)}goToLogin(){if(this.standalone){this.accountModalsService.openStandaloneLoginModal(),this.closeModal();return}if(!this.signUpWithEmail){this.closeModal(),this.router.navigate([this.authPagesUrls.login],{queryParamsHandling:"merge"});return}this.promptLeaveMessage(!1,!0)}resetForm(){this.signUpWithEmail=!1,this.model={},this.registerForm.resetForm(),this.registerForm.form.markAsPristine(),this.registerForm.form.markAsUntouched()}removeFieldErrors(i){this.validationErrors[i]=[]}handleErrors(i){this.loading=!1,this.validationErrors.email=this.utilityService.errorsForField("email",["EntityAlreadyExists"],i,this.registerForm),this.validationErrors.password=this.utilityService.errorsForField("password",[],i,this.registerForm),this.validationErrors.birthday=this.utilityService.errorsForField("birthday",["MinAgeRequirementNotMet"],i,this.registerForm),this.validationErrors.recaptchaResponse=this.utilityService.errorsForField("recaptchaResponse",[],i,this.registerForm),this.validationErrors.other=i.filter(r=>this.validationErrors.email.indexOf(r)===-1&&this.validationErrors.password.indexOf(r)===-1&&this.validationErrors.birthday.indexOf(r)===-1&&this.validationErrors.recaptchaResponse.indexOf(r)===-1&&r.errorCode!=="RequestInvalid"),i.find(r=>r.errorCode==="InvalidReCaptcha")&&grecaptcha.reset(this.captchaWidgetId)}setTranslation(){this.translateService.get(this.confirmationMessageKey).subscribe(i=>{this.confirmationMessage=i})}promptLeaveMessage(i,r=!1){this.model.email&&this.model.email.length>0||this.model.password&&this.model.password.length>0||this.model.birthday&&this.model.birthday!==null?confirm(this.confirmationMessage)&&(this.closeModal(i),r&&this.router.navigate([this.authPagesUrls.login],{queryParamsHandling:"merge"})):(this.closeModal(i),r&&this.router.navigate([this.authPagesUrls.login],{queryParamsHandling:"merge"}))}closeModal(i=!1){i&&this.router.navigate([],{queryParams:{redirectUrl:null},queryParamsHandling:"merge"}),this.dialogRef.close(i)}resetErrors(){this.validationErrors.email=[],this.validationErrors.password=[],this.validationErrors.other=[],this.validationErrors.recaptchaResponse=[],this.validationErrors.birthday=[]}};e.\u0275fac=function(r){return new(r||e)(L(Td),L(Qn),L(Sn),L(tn),L(Qt),L(vr),L(Nt),L(vr),L(Ht),L(Id),L(qa),L(Xi))},e.\u0275cmp=re({type:e,selectors:[["ss-register-modal"]],viewQuery:function(r,o){if(r&1&&Fe(U4e,5),r&2){let s;Ce(s=we())&&(o.registerForm=s.first)}},standalone:!1,decls:12,vars:9,consts:[["registerForm","ngForm"],[1,"mat-header"],["mat-dialog-title",""],[1,"modal-back-button"],[1,"close-modal",3,"click"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],["orientation","vertical","textPrefix","Register with",3,"standalone"],["backgroundImageClass","study-stream-button","color","light social","type","button","data-testid","register-with-email",1,"toggle-view"],[1,"wrapper-form"],[1,"notification"],[1,"modal-back-button",3,"click"],["iconName","arrow_left","color","default-20",3,"size","iconVariant"],["href","/policies/terms-and-conditions","target","_blank"],["href","/policies/privacy","target","_blank"],["orientation","vertical","textPrefix","Register with",3,"authSuccess","eligibilityError","standalone"],["backgroundImageClass","study-stream-button","color","light social","type","button","data-testid","register-with-email",1,"toggle-view",3,"click"],[1,"wrapper-form",3,"ngSubmit"],["type","email","id","user-email","name","email","prefixIconName","mail","validationPropertyName","Email",3,"ngModelChange","label","ngModel","placeholder","errors","readonly","required"],["type","password","id","user-password","name","password","prefixIconName","lock_closed","validationPropertyName","Password",3,"ngModelChange","label","ngModel","placeholder","errors","readonly","required"],["id","birthday","name","birthday","data-testid","birthday","validationPropertyName","Birthday",3,"label","placeholder","errors","required","readonly","minDate","maxDate","ngModel"],[1,"error-messages"],[1,"error-message"],[1,"recaptcha-wrapper"],["id","recaptcha"],[1,"error-message",3,"innerHTML"],["type","submit","data-testid","register",3,"disabled","isLoading"],["id","birthday","name","birthday","data-testid","birthday","validationPropertyName","Birthday",3,"ngModelChange","label","placeholder","errors","required","readonly","minDate","maxDate","ngModel"],[3,"click"]],template:function(r,o){r&1&&(C(0,"div",1)(1,"h2",2),F(2),w(),H(3,V4e,2,2,"button",3),C(4,"button",4),G("click",function(){return o.close(!0)}),$(5,"ss-icon",5),w()(),C(6,"mat-dialog-content"),H(7,H4e,8,2,"small"),H(8,Q4e,1,1,"ss-social-block",6),H(9,j4e,2,0,"ss-button",7),H(10,K4e,18,22,"form",8),H(11,q4e,4,2,"div",9),w()),r&2&&(y(2),Ne(o.headingText),y(),Q(o.signUpWithEmail?3:-1),y(2),P("size",20)("iconVariant",20),y(2),Q(o.signUpWithEmail?-1:7),y(),Q(o.signUpWithEmail?-1:8),y(),Q(o.signUpWithEmail?-1:9),y(),Q(o.signUpWithEmail?10:-1),y(),Q(o.signUpWithEmail?-1:11))},styles:["h1[_ngcontent-%COMP%]{margin-bottom:8px;text-align:left}.content-wrapper[_ngcontent-%COMP%], .middle-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100vh}.content-wrapper[_ngcontent-%COMP%]{overflow-y:auto;background-color:var(--alt)}.main-account-wrapper[_ngcontent-%COMP%]{display:flex;width:1140px;height:744px;overflow:hidden;border-radius:70px;box-shadow:var(--elevation-s1);background-color:var(--grayscale)}.action-wrapper[_ngcontent-%COMP%]{width:50%;padding:90px 60px 94px}@media only screen and (max-width: 767px){.action-wrapper[_ngcontent-%COMP%]{width:calc(100% - 30px);padding:16px}}.action-wrapper[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:block}.action-wrapper[_ngcontent-%COMP%]   .action.hidden[_ngcontent-%COMP%]{display:none}.account-form-divider[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin-bottom:16px}.account-form-divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;height:1px;background:var(--default-80)}.account-form-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 9px;font-weight:700;color:var(--default-80)}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1}small[_ngcontent-%COMP%]{display:block;margin-bottom:16px}.toggle-view[_ngcontent-%COMP%]{margin-bottom:16px}.recaptcha-wrapper[_ngcontent-%COMP%]{height:78px;margin:2px 0 32px}"]});let t=e;return t})();var Id=(()=>{let e=class e{constructor(i,r,o,s){this.dialog=i,this.router=r,this.accountService=o,this.utilityService=s,this.loginModalOpened=!1,this.registerModalOpened=!1,this.emailVerificationModalOpened=!1,this.phoneVerificationModalOpened=!1,this.basicInfoModalOpened=!1}openStandaloneLoginModal(){this.loginModalOpened||(this.processRoutingAndOpenModal(Gj),this.loginModalOpened=!0)}openStandaloneRegisterModal(){this.registerModalOpened||(this.processRoutingAndOpenModal(Wj),this.registerModalOpened=!0)}openStandaloneEmailConfirmationModal(){this.emailVerificationModalOpened||(this.processRoutingAndOpenModal(jj),this.emailVerificationModalOpened=!0)}openStandalonePhoneConfirmationModal(){this.phoneVerificationModalOpened||(this.processRoutingAndOpenModal($j,"510px"),this.phoneVerificationModalOpened=!0)}openStandaloneBasicInfoCompletedModal(){this.basicInfoModalOpened||(this.processRoutingAndOpenModal(zj,"560px"),this.basicInfoModalOpened=!0)}ensureUserCompletedBasicInfo(){if(!this.accountService.authenticated()){let i=localStorage.getItem(xg);return i?(this.utilityService.openMinAgeRequirementNotMetModal(i),!1):(this.openStandaloneRegisterModal(),!1)}return this.accountService.currentUser.emailConfirmed?this.accountService.isCurrentUserPhoneVerified()?this.accountService.currentUser.completedBasicInfo?!0:(this.openStandaloneBasicInfoCompletedModal(),!1):(this.openStandalonePhoneConfirmationModal(),!1):(this.openStandaloneEmailConfirmationModal(),!1)}processRoutingAndOpenModal(i,r="480px"){this.router.navigate([],{queryParams:{authStep:null}}),this.dialog.open(i,{panelClass:["fullscreen-dialog","account-modal"],width:r,autoFocus:!1,disableClose:!0,data:{standalone:!0}}).afterClosed().subscribe(()=>{i===Gj?this.loginModalOpened=!1:i===Wj?this.registerModalOpened=!1:i===jj?this.emailVerificationModalOpened=!1:i===$j?this.phoneVerificationModalOpened=!1:i===zj&&(this.basicInfoModalOpened=!1),this.router.navigate([],{queryParams:{authStep:null}})})}};e.\u0275fac=function(r){return new(r||e)(K(ai),K(tn),K(Qt),K(Ht))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Y4e=["surveyChartElement"],cde=(()=>{let e=class e{constructor(i,r,o,s,a){this.dialogRef=i,this.livekit=r,this.accountModalsService=o,this.dialog=s,this.analyticsService=a,this.doNotAskAgain=!1,this.turningOnCamera=!1,this.config={type:"line",data:{labels:["Week 0","Week 1","Week 2"],datasets:[{data:[54,60,73],borderWidth:2,borderColor:"#4a90e2",fill:!1,pointRadius:4,tension:.3}]},options:{responsive:!0,plugins:{legend:{display:!1},title:{display:!0,text:"Productivity boost 2 weeks",font:{size:16},padding:{top:10,bottom:20}}},scales:{y:{min:40,max:100,ticks:{stepSize:20,callback:l=>`${l}%`}}}}}}handleKeyboardEvent(i){i.key==="Escape"&&this.dialogRef.close()}ngOnInit(){this.analyticsService.markActivity(mt.NewUserCameraPromptShown),this.dialogRef.beforeClosed().subscribe(()=>{this.turningOnCamera||this.analyticsService.markActivity(mt.NewUserCameraPromptClosed)})}ngAfterViewInit(){new i_(this.surveyChartElement.nativeElement,this.config)}turnCameraOn(){this.turningOnCamera=!0,this.analyticsService.markActivity(mt.NewUserCameraPromptCTAClicked),this.livekit.participantHighlight.hide.next(),this.accountModalsService.ensureUserCompletedBasicInfo()&&(this.livekit.room.settings.activeVideoDevice?this.livekit.room.toggleLocalVideo():this.showFocusRoomVideoSourceModal(()=>this.livekit.room.toggleLocalVideo()),this.updateLocalStorage(),this.dialogRef.close())}close(){this.updateLocalStorage(),this.dialogRef.close()}showFocusRoomVideoSourceModal(i){this.livekit.room.storeLivekitSettings(),this.dialog.open(lde,{panelClass:"fullscreen-dialog",width:"550px",disableClose:!0}).afterClosed().subscribe(o=>{o&&(o.activeVideoDevice&&(this.livekit.room.settings.activeVideoDevice=o.activeVideoDevice,this.livekit.room.switchActiveDevice("videoinput",o.activeVideoDevice)),i(),this.livekit.room.storeLivekitSettings())})}updateLocalStorage(){this.doNotAskAgain?localStorage.setItem(X0,"true"):localStorage.removeItem(X0)}};e.\u0275fac=function(r){return new(r||e)(L(Nt),L(wr),L(Id),L(ai),L(Kr))},e.\u0275cmp=re({type:e,selectors:[["ss-turn-on-camera-modal"]],viewQuery:function(r,o){if(r&1&&Fe(Y4e,5),r&2){let s;Ce(s=we())&&(o.surveyChartElement=s.first)}},hostBindings:function(r,o){r&1&&G("keydown",function(a){return o.handleKeyboardEvent(a)})},standalone:!1,decls:63,vars:3,consts:[["surveyChartElement",""],[1,"mat-header"],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[1,"content"],[1,"testimonial-wrapper"],[1,"testimonial"],["src","/assets/images/avatars/geonjei-avatar.jpg","alt","User image"],[1,"text"],[1,"user"],[1,"icon"],["src","/assets/images/avatars/arasbozkurt-avatar.jpg","alt","User image"],["src","/assets/images/avatars/eu-maria-rita-avatar.jpg","alt","User image"],["name","doNotAskAgain",3,"ngModelChange","ngModel"],[3,"buttonClick"],["color","secondary",3,"buttonClick"]],template:function(r,o){if(r&1){let s=fe();C(0,"div",1)(1,"div")(2,"h2"),F(3,"Build trust with your connections"),w(),C(4,"p"),F(5,"and unlock better focus"),w()(),C(6,"button",2),$(7,"ss-icon",3),w()(),C(8,"mat-dialog-content",4)(9,"div"),F(10,"When people see you working "),C(11,"b"),F(12,"on camera"),w(),F(13,", they trust you more. This helps you build "),C(14,"b"),F(15,"better & deeper connections"),w(),F(16,"."),w(),$(17,"br"),C(18,"div"),F(19,"It also makes you "),C(20,"b"),F(21,"more productive"),w(),F(22,"!"),w(),$(23,"canvas",null,0),C(25,"div"),F(26,"Also, after just 2 weeks of working with camera on:"),w(),C(27,"ul")(28,"li"),F(29,"89% of users reported higher productivity \u{1F3A7}"),w(),C(30,"li"),F(31,"75% felt improved mental health \u{1F9E0}"),w()(),C(32,"small"),F(33,"(StudyStream Survey 2021)"),w(),C(34,"div",5)(35,"div",6),$(36,"img",7),C(37,"div",8),F(38,'"I literally finished all my tasks" - '),C(39,"span",9),F(40,"@geonjei"),$(41,"span",10),w()()(),C(42,"div",6),$(43,"img",11),C(44,"div",8),F(45,`"If you don't want to work alone, this may be the medium you're looking for." - `),C(46,"span",9),F(47,"@arasbozkurt"),$(48,"span",10),w()()(),C(49,"div",6),$(50,"img",12),C(51,"div",8),F(52,'"Thank you to whoever is that handsome in the livestream. I finished my work." - '),C(53,"span",9),F(54,"@miss_mirelle"),$(55,"span",10),w()()()(),C(56,"mat-checkbox",13),Je("ngModelChange",function(l){return Y(s),tt(o.doNotAskAgain,l)||(o.doNotAskAgain=l),X(l)}),F(57," Don't show this again "),w()(),C(58,"mat-dialog-actions")(59,"ss-button",14),G("buttonClick",function(){return Y(s),X(o.turnCameraOn())}),F(60," Turn On My Camera "),w(),C(61,"ss-button",15),G("buttonClick",function(){return Y(s),X(o.close())}),F(62," Not now "),w()()}r&2&&(y(7),P("size",20)("iconVariant",20),y(49),Ze("ngModel",o.doNotAskAgain))},styles:["mat-checkbox[_ngcontent-%COMP%]{margin-top:20px}canvas[_ngcontent-%COMP%]{margin:20px 0}ul[_ngcontent-%COMP%]{margin:8px 0}.testimonial-wrapper[_ngcontent-%COMP%]{margin:16px 0}.testimonial[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:6px;font-size:12px}.testimonial[_ngcontent-%COMP%]:not(:first-of-type){line-height:8px}.testimonial[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{color:var(--default-40)}img[_ngcontent-%COMP%]{width:36px;margin-right:8px;border-radius:50%}small[_ngcontent-%COMP%]{font-style:italic;color:var(--default-40)}.icon[_ngcontent-%COMP%]{position:relative;top:3px;display:inline-block;width:16px;height:16px;margin-left:4px;background:url(/assets/icons/socials/twitter-color-flat.svg) center no-repeat;background-size:cover}"]});let t=e;return t})();var kD=class extends cv{get filteredParticipants(){return this.anyFiltersSelected?this.allParticipants.filter(e=>!(e.anonymous||this.hiddenUsersInfo.myHiddenUsers.some(n=>n.hiddenUserId===e.identity)||this.hiddenUsersInfo.twoWayHiddenMeUserIds.some(n=>n===e.identity)||this.filter.participantsWithPinForPinEnabled&&!this.shouldShowPinForPinFlag(e)||this.filter.selectedGenders.length>0&&(!e.userInfo.gender||!this.filter.selectedGenders.includes(e.userInfo.gender))||this.filter.selectedUserTypes.length>0&&(!e.userInfo.type||!this.filter.selectedUserTypes.includes(e.userInfo.type))||this.filter.selectedCountries.length>0&&(!e.userInfo.countryId||!this.filter.selectedCountries.includes(e.userInfo.countryId))||this.filter.selectedAreasOfStudy.length>0&&(!e.userInfo.areaOfStudyId||!this.filter.selectedAreasOfStudy.includes(e.userInfo.areaOfStudyId))||this.filter.participantsWithEmptyPinSlots&&e.userInfo.filledPinSlots||this.filter.participantsWithNewMarkerOnly&&!e.userInfo.showNewUserMarker||this.filter.participantsWithReportsOnly&&e.reportCount<=0)):this.allParticipants.filter(e=>!e.anonymous&&e.isCameraEnabled&&!this.hiddenUsersInfo.myHiddenUsers.some(n=>n.hiddenUserId===e.identity)&&!this.hiddenUsersInfo.twoWayHiddenMeUserIds.some(n=>n===e.identity))}get activeGroupParticipants(){return this.activeGroupValue?this.allParticipants.filter(e=>this.activeGroupValue?.members.some(n=>n.id===e.identity)):[]}get anyFiltersSelected(){return this.filter.selectedCountries.length>0||this.filter.selectedAreasOfStudy.length>0||this.filter.selectedUserTypes.length>0||this.filter.selectedGenders.length>0||this.filter.participantsWithReportsOnly||this.filter.participantsWithNewMarkerOnly||this.filter.participantsWithPinForPinEnabled||this.filter.participantsWithEmptyPinSlots}get activeFilterCount(){return+(this.filter.selectedCountries.length>0)+ +(this.filter.selectedAreasOfStudy.length>0)+ +(this.filter.selectedUserTypes.length>0)+ +(this.filter.selectedGenders.length>0)+Number(this.filter.participantsWithReportsOnly)+Number(this.filter.participantsWithNewMarkerOnly)+Number(this.filter.participantsWithPinForPinEnabled)+Number(this.filter.participantsWithEmptyPinSlots)}get anyFiltersSelectedOrSortChanged(){return this.anyFiltersSelected||this.filter.selectedSortOption===dv.IgnorePinCounts}get canPublishAudio(){let e=this.localParticipant.permissions?.canPublishSources;return e?e.some(n=>n===dde.MICROPHONE):!1}get pipOptions(){let e={usePip:!1,doNotAskMeAgain:!1},n=localStorage.getItem(wI);return n&&(e=JSON.parse(n)),e}set pipOptions(e){localStorage.setItem(wI,JSON.stringify(e))}get simpleFilter(){return!this.accountService.isFullyVerifiedUser()||this.accountService.isD0||!this.milestones.pinnedSomeone}constructor(e,n,i,r,o,s,a,l,c,d,u,p,g,v,b,x,T,k,U,D,N,z,Z,ne,ee,he,ge,Ee){let St={usePip:!1,doNotAskMeAgain:!1},qt=localStorage.getItem(wI);qt&&(St=JSON.parse(qt));let bt=St.usePip&&"documentPictureInPicture"in window;bt&&k(mt.LivekitUsingPip,St);let pt=Jo.h216.resolution;r?pt=Jo.h180.resolution:o&&(!n||n.videoResolution===null?pt=Jo.h1080.resolution:!n.decreaseVideoResolutionEmitted&&n.videoResolution&&(pt=Qae(n.videoResolution)));let jt={adaptiveStream:bt?{pauseVideoInBackground:!1}:!0,dynacast:!0,disconnectOnPageLeave:!0,publishDefaults:{videoCodec:"vp9"},videoCaptureDefaults:{resolution:pt},audioCaptureDefaults:{autoGainControl:!1}};pt.height===Jo.h216.height&&jt.publishDefaults&&(jt.publishDefaults.scalabilityMode="L1T1");let wn=JSON.stringify({pip:bt,res:`${pt.height}p`,scalMode:jt.publishDefaults?.scalabilityMode});console.log("[FocusRoom] options:",wn),super(jt),this.roomName=e,this.roomSettings=n,this.recalculateGrid=i,this.isAnonymous=r,this.shouldStreamInHigherRes=o,this.currentUserId=s,this.spotifyEnabled=a,this.pinApiCall=l,this.pinUsersApiCall=c,this.unpinApiCall=d,this.unpinAllApiCall=u,this.startVideoSessionApiCall=p,this.endVideoSessionApiCall=g,this.enterFocusPlus=v,this.leaveFocusPlus=b,this.activateGreetingModeApiCall=x,this.deactivateGreetingModeApiCall=T,this.markActivity=k,this.ensureFocusRoomPublishAccess=U,this.accountService=D,this.toastService=N,this.utilityService=z,this.subscriptionService=Z,this.badgeService=ne,this.focusRoomService=ee,this.snackBarService=he,this.spotifyService=ge,this.dialogQueueService=Ee,this.blockedUserIds=[],this.hiddenUsersInfo={myHiddenUsers:[],twoWayHiddenMeUserIds:[]},this.usersInfo=[],this.userActiveStatus=null,this.allParticipants=[],this.speakingParticipants=[],this.displayedParticipants=[],this.pinnedParticipants=[],this.blockedParticipants=[],this.pinnedByUserIds=[],this.adPlaceholderParticipants=[],this.favoriteUsers=[],this.statsForNerdsVisible=!1,this.performedFirstConnect=!1,this.allowOnlyGroupAudio=!1,this.hasActivePredefinedGroups=!1,this.loadingVideo=!1,this.freezeSort=!1,this.channelId=null,this.displayName=null,this.focusRoomOnboardingShown=!1,this.participantListVisibility=!1,this.roomChatVisibility=!1,this.showParticipantBreakdownOnLastPage=!0,this.selfViewVideoVisibility=!0,this.forceGridView=!1,this.movePinnedVideoOffTilesDown=!!localStorage.getItem(Y0),this.pinningUserIds=null,this.encouragingUserId=null,this.lastOpenedGridPage=1,this.statusUpdateTimeouts=[],this.showTurnOnVideoModal=!0,this.tileDimensions={width:null,height:null},this.groupMatch={waiting:!1,timerValue:null,timerIntervalRef:Number.MAX_SAFE_INTEGER,startTimer:it=>{this.groupMatch.stopTimer(),this.groupMatch.setTimerValue(it),this.groupMatch.timerIntervalRef=window.setInterval(()=>this.groupMatch.setTimerValue(it),1e3)},setTimerValue:it=>{let Lt=new Date,vn=(new Date(it).getTime()-Lt.getTime())/1e3|0;if(vn>0){let qn=vn/60|0,Li=vn-qn*60|0;this.groupMatch.timerValue=` (${qn}:${Li<10?"0":""}${Li})`}else this.groupMatch.stopTimer(),this.groupMatch.waiting=!1},stopTimer:()=>{window.clearInterval(this.groupMatch.timerIntervalRef),this.groupMatch.timerValue=null}},this.focusPlus={active:!1,participants:[],taskText:null,taskDurationInMinutes:0,enter:(it,Lt)=>{this.focusPlus.taskText=Lt.taskText?.trim()??null,this.focusPlus.taskDurationInMinutes=Lt.durationInMinutes,this.focusPlus.participants=it,this.focusPlus.active=!0,this.markActivity(mt.LivekitFocusPlusEntered,{tilesInFocusPlus:it.length,currentPage:this.paginator.currentPage,totalPages:this.paginator.totalPages,task:this.focusPlus.taskText,taskDurationInMinutes:this.focusPlus.taskDurationInMinutes}),this.enterFocusPlus(this.name).subscribe()},exit:()=>{this.focusPlus.active&&(this.focusPlus.active=!1,this.focusPlus.participants=[],this.focusPlus.taskText=null,this.focusPlus.taskDurationInMinutes=0,this.markActivity(mt.LivekitFocusPlusExited,void 0),this.leaveFocusPlus(this.name).subscribe())}},this.greetingMode={active:!1,qualifies:!1,loading:!1,enabled:()=>this.greetingMode.qualifies&&this.localParticipant.isCameraEnabled,activate:()=>{this.greetingMode.active||(this.greetingMode.loading=!0,this.activateGreetingModeApiCall(this.name).subscribe({next:()=>{this.greetingMode.active=!0,this.greetingMode.loading=!1},error:()=>this.greetingMode.loading=!1}))},deactivate:(it=!1)=>{this.greetingMode.active&&(this.greetingMode.loading=!0,this.deactivateGreetingModeApiCall(this.name).subscribe({next:()=>{this.greetingMode.active=!1,it&&this.toastService.info({message:"Greeting mode has been turned off"}),this.greetingMode.loading=!1},error:()=>this.greetingMode.loading=!1}))}},this.tilesNumberAspectRatioBreakPoint=1.5,this.totalFocusRoomSecondsTodayAnonymous=0,this.milestonesFetched=!1,this.milestonesCompletedInitially=!1,this.milestones={pinnedSomeone:!1,encouraged:!1,encouragedSomeone:!1,hadVideoOn:!1,completedProfileSetup:!1,createdTileStatus:!1,had30MinSession:!1,dateFirstJoined:null},this.filter={participantsWithReportsOnly:!1,participantsWithNewMarkerOnly:!1,participantsWithPinForPinEnabled:!1,participantsWithEmptyPinSlots:!1,selectedAreasOfStudy:[],selectedCountries:[],selectedUserTypes:[],selectedGenders:[],selectedSortOption:dv.MostPins},this.settings={activeVideoDevice:"",activeAudioDevice:"",tilesPerPage:12,mirrorMode:!0,mirrorModeForOthers:!1,isCameraEnabled:!1,hidePrivateSessionModal:!1,zoomToFit:!0,selfViewVideoEnabled:!0,videoResolution:io.H216},this.paginator={tilesPerPage:20,currentPage:1,totalPages:1,maxTilesAllowed:20,goToPage:it=>{this.paginator.currentPage=it>this.paginator.totalPages?1:it,this.assignDisplayedParticipants(),this.setupSpotifyPolling()},next:()=>this.paginator.currentPage===this.paginator.totalPages?!1:(this.showParticipantBreakdownOnLastPage=!0,this.paginator.currentPage++,this.assignDisplayedParticipants(),this.setupSpotifyPolling(),!0),skipTenForward:()=>this.paginator.currentPage===this.paginator.totalPages?!1:(this.paginator.currentPage+10>=this.paginator.totalPages?this.paginator.currentPage=this.paginator.totalPages:this.paginator.currentPage=this.paginator.currentPage+10,this.showParticipantBreakdownOnLastPage=!0,this.assignDisplayedParticipants(),this.setupSpotifyPolling(),!0),previous:()=>this.paginator.currentPage===1?!1:(this.showParticipantBreakdownOnLastPage=!0,this.paginator.currentPage--,this.assignDisplayedParticipants(),this.setupSpotifyPolling(),!0),skipTenBack:()=>this.paginator.currentPage===1?!1:(this.paginator.currentPage-10<=0?this.paginator.currentPage=1:this.paginator.currentPage=this.paginator.currentPage-10,this.showParticipantBreakdownOnLastPage=!0,this.assignDisplayedParticipants(),this.setupSpotifyPolling(),!0)},this.audioHelper={printSpaceSubscriptionStatuses:()=>{let it=this.activeGroupValue!==null?this.activeGroupValue.members.map(Pe=>Pe.id):[];if(it.length===0){console.log("[AudioHelper] No active spaces");return}console.log("[AudioHelper] groupUserIds:"),console.log(it);let Lt=Array.from(this.remoteParticipants.values());for(let Pe of Lt){let Ut=it.includes(Pe.identity),vn=Array.from(Pe.audioTrackPublications.values()).some(qn=>qn.isSubscribed);console.log("[AudioHelper]",Pe.name,"->","isGroupMember:",Ut,"isSubscribed:",vn)}},printAllSubscribed:()=>{let it=Array.from(this.remoteParticipants.values());for(let Lt of it)Array.from(Lt.audioTrackPublications.values()).some(Ut=>Ut.isSubscribed)&&console.log("[AudioHelper]",Lt.name," -> ",Lt.identity)}},this.activeGroup=new fn(null),this.activePredefinedGroup=new fn(null),this.activePredefinedGroupParticipants=[],this.predefinedGroupInstances=[],this.predefinedGroupMaximized=!1,this.privateGroupMinimized=!1,this.animateViewToggleButton=!1,this.finishedInitialBulkPinOperations=!1,this.unhiddenParticipant=new O,this.videoPillButtonExpanded=new O,this.audioUnsubscribe=new O,this.activeParticipantListFilter=V3.All,this.activeGroupValue=null,this.activePredefinedGroupValue=null,this.sortAndAssignDisplayedParticipants=this.sortAndAssignDisplayedParticipants.bind(this),this.setupRoomSettings(pt),this.activeGroup.subscribe(it=>{(this.localParticipant.focusRoomGroup!==null||it!==null&&it.createdByUserId===this.currentUserId&&it.shownOnVideoTile)&&(this.localParticipant.focusRoomGroup=it===null?null:{id:it.id,usersCount:it.members.length}),this.activeGroupValue=it}),this.activePredefinedGroup.subscribe(it=>{let Lt=this.activePredefinedGroupValue?.id!==it?.id;this.activePredefinedGroupValue=it,Lt&&(this.activePredefinedGroupParticipants=[]),this.resetActivePredefinedGroupParticipants()})}isPinned(e){return this.pinnedParticipants.some(n=>n.identity===e)}sortAndAssignDisplayedParticipants(){this.freezeSort||this.sortAllParticipants(),this.subscriptionService.adsDisabled||(this.ensureAdUsersCorrectOrder(),this.ensureAdPlaceholderParticipantsCorrectOrder()),this.assignDisplayedParticipants()}assignDisplayedParticipants(){let n=this.pinnedParticipants.length>0&&!this.forceGridView?this.pinnedParticipants:this.filteredParticipants,i=Math.min(this.paginator.tilesPerPage,this.paginator.maxTilesAllowed);this.paginator.totalPages=Math.ceil(n.length/i);let r=this.paginator.currentPage*i,o=r-i;if(!n[o]&&this.paginator.currentPage>1){this.paginator.currentPage=1,this.assignDisplayedParticipants();return}this.displayedParticipants=n.slice(o,r)}shouldShowPinForPinFlag(e){if(e.isLocal)return e.userInfo.pinForPinEnabled;if(!e.userInfo.pinForPinEnabled)return!1;switch(this.accountService.currentUser.type){case Xy.PreUniStudent:return e.userInfo.pinForPinPreUniStudents;case Xy.UniStudent:return e.userInfo.pinForPinUniStudents;case Xy.Professional:return e.userInfo.pinForPinProfessionals;default:return!1}}updateFocusPlusParticipants(e=!1){this.focusPlus.active&&((this.pinnedParticipants.length>0&&!this.forceGridView||e)&&(this.focusPlus.participants=this.focusPlus.participants.filter(n=>this.pinnedParticipants.includes(n))),this.focusPlus.participants=this.focusPlus.participants.filter(n=>this.allParticipants.includes(n)))}twoWayHide(e){this.ensureFocusRoomPublishAccess()&&(this.hiddenUsersInfo.twoWayHiddenMeUserIds.some(n=>n===e)||(this.hiddenUsersInfo.twoWayHiddenMeUserIds.push(e),this.pinnedParticipants.some(n=>n.identity===e)&&this.unpin({pinnedUserId:e}),this.assignDisplayedParticipants(),this.recalculateGrid.next()))}twoWayUnhide(e){let n=this.hiddenUsersInfo.twoWayHiddenMeUserIds.find(r=>r===e);if(!n)return;if(this.hiddenUsersInfo.twoWayHiddenMeUserIds.splice(this.hiddenUsersInfo.twoWayHiddenMeUserIds.indexOf(n),1),this.activeGroupValue?.members.find(r=>r.id===n)){let r=this.allParticipants.find(o=>o.identity===e);r&&this.unhiddenParticipant.next(r)}this.assignDisplayedParticipants(),this.recalculateGrid.next()}hide(e,n=!1){if(!this.ensureFocusRoomPublishAccess())return;if(e.userInfo?.adUser){this.toastService.error({message:"Cannot hide ad users"});return}let i={hiddenUserId:e.identity,isTwoWayHide:!!n};this.hiddenUsersInfo.myHiddenUsers.push(i);let r=n?this.focusRoomService.hideUserTwoWay(e.identity):this.focusRoomService.hideUser(e.identity);this.assignDisplayedParticipants(),this.recalculateGrid.next(),this.focusRoomService.hiddenParticipant.next(e),r.subscribe({next:()=>{},error:o=>this.toastService.error({exceptionDetail:o[0]})}),this.markActivity(mt.LivekitUserHidden,void 0),this.updateFocusPlusParticipants()}unhide(e){if(!this.ensureFocusRoomPublishAccess())return;let n=this.hiddenUsersInfo.myHiddenUsers.find(r=>r.hiddenUserId===e);n&&this.hiddenUsersInfo.myHiddenUsers.splice(this.hiddenUsersInfo.myHiddenUsers.indexOf(n),1);let i=this.activeGroupValue?.members.find(r=>r.id===n?.hiddenUserId);if(i){let r=this.allParticipants.find(o=>o.identity===i.id);r&&this.unhiddenParticipant.next(r)}this.assignDisplayedParticipants(),this.recalculateGrid.next(),this.focusRoomService.unhiddenParticipant.next(e),this.focusRoomService.unhideUser(e).subscribe({error:r=>this.toastService.error({exceptionDetail:r[0]})}),this.markActivity(mt.LivekitUserUnhidden,void 0),this.updateFocusPlusParticipants()}pin(e){let{participant:n,reinstating:i=!1,onSuccess:r=null,onErrorOverride:o=null,forcePinView:s=!1,pinForPin:a=!1,autoPinFavorite:l=!1,madeFromThePulsatingIcon:c=!1}=e;if(this.roomName===null||!this.ensureFocusRoomPublishAccess()||this.checkPinningDisabled(n)||this.isPinned(n.identity))return;let d=n.identity,u=this.allParticipants.find(g=>g.identity===d);if(!u||this.isPinned(u.identity))return;let p={pinnedUserId:u.identity,currentUserIds:this.pinnedParticipants.map(g=>g.identity),reinstating:i,pinForPin:a};this.pinningUserIds=[u.identity],this.pinApiCall(this.roomName,p).subscribe({next:g=>{if(this.accountService.isD0&&this.markActivity(mt.NewUserPinOnD0,{madeFromThePulsatingIcon:c}),(this.pinnedParticipants.length===0||this.forceGridView)&&(this.lastOpenedGridPage=this.paginator.currentPage),u.shouldShowPinQuestion=g.shouldShowPinQuestion,this.isPinned(u.identity))return;l?this.pinnedParticipants.unshift(u):this.pinnedParticipants.push(u),this.currentUserId!==d&&(u.pinnedCount++,u.autoPin=a||l,this.milestones.pinnedSomeone||(this.badgeService.checkForNewBadges.next(),this.milestones.pinnedSomeone=!0)),this.pinnedParticipants.length===1&&(this.forceGridView=!s,this.animateViewToggleButton=!0),this.sortPinnedParticipants(),this.assignDisplayedParticipants(),this.recalculateGrid.next(),this.updateFocusPlusParticipants(),this.pinningUserIds=null,r&&r(),this.shouldShowTurnOnCameraModal()},error:g=>{if(this.pinningUserIds=null,o){o(g);return}let v=g[0];if(v.errorCode==="LivekitRoomMaxPinsReached"){if(a)return;let b=v.params;this.subscriptionService.hasPremiumFeatures?this.toastService.info({message:`Maximum number of pinned users is ${b.pinLimit}. You need to unpin someone in order to pin this user.`}):this.toastService.info({title:"Maximum Pins Reached",message:`You've pinned the maximum number of users (${b.pinLimit}). Upgrade to premium to pin up to ${b.maxPinLimit}!`,paidFeatureText:`Upgrade to ${b.maxPinLimit} max pins`,triggeredUpgradeFromSource:Pu.MaxPinsReachedToast,autoClose:!1}),this.markActivity(mt.PinLimitReached,{pinLimit:b.pinLimit})}else g[0].errorCode==="ErrorAllowPinPrivacy"?this.toastService.info({exceptionDetail:g[0]}):this.toastService.error({exceptionDetail:v})}})}unpin(e){let{pinnedUserId:n,logLocation:i=null,systemAction:r=!1,shouldCallApi:o=!0,pinParticipantAfterUnpin:s=null}=e;if(this.roomName===null||!this.ensureFocusRoomPublishAccess()||!this.isPinned(n))return;let a=this.pinnedParticipants.find(c=>c.identity===n);if(!a)return;if(a.reinstatedPin=!1,this.currentUserId!==n&&(a.pinnedCount=a.pinnedCount>0?a.pinnedCount-1:0),i&&console.log(i),o){let c={pinnedUserId:a.identity,systemAction:r};this.unpinApiCall(this.roomName,c).subscribe({next:()=>{s&&this.pin({participant:s})}})}this.pinnedParticipants.splice(this.pinnedParticipants.indexOf(a),1);let l=this.pinnedParticipants.length===0;l&&(this.forceGridView=!1,this.paginator.goToPage(this.lastOpenedGridPage)),this.sortAndAssignDisplayedParticipants(),this.recalculateGrid.next(),this.updateFocusPlusParticipants(l)}unpinAll(){if(!(this.pinnedParticipants.length===0||this.roomName===null||!this.ensureFocusRoomPublishAccess())){this.unpinAllApiCall(this.roomName,this.localParticipant.sid).subscribe();for(let e of this.pinnedParticipants)e.pinnedCount=e.pinnedCount>0?e.pinnedCount-1:0;this.forceGridView=!1,this.paginator.goToPage(this.lastOpenedGridPage),this.pinnedParticipants.forEach(e=>e.reinstatedPin=!1),this.pinnedParticipants=[],this.sortAndAssignDisplayedParticipants(),this.recalculateGrid.next()}}toggleLocalVideo(){if(!this.ensureFocusRoomPublishAccess())return;let e=!this.localParticipant.isCameraEnabled;this.loadingVideo=!0,this.localParticipant.setCameraEnabled(e,{deviceId:this.settings.activeVideoDevice}).then(()=>{this.loadingVideo=!1,this.getLocalCurrentlyPlaying()}).catch(n=>{this.loadingVideo=!1;let i="";typeof n=="string"?i=n:i=JSON.stringify(n,Object.getOwnPropertyNames(n)),this.markActivity(mt.LivekitCouldNotStartCamera,{errorMessage:i}),this.toastService.info({message:'We noticed a potential problem with your camera/browser settings. Check <a href="https://docs.google.com/document/d/1UnMoyD3hN8KenM98f-tjQWc6mmz-rav54rWGVOdrTHc/edit?tab=t.0" target="_blank">these instructions</a>.'})}),this.roomName!==null&&(e?this.startVideoSessionApiCall(this.roomName).subscribe({next:()=>{this.milestones.hadVideoOn||(this.milestones.hadVideoOn=!0,this.badgeService.checkForNewBadges.next())}}):(this.endVideoSessionApiCall(this.roomName).subscribe(),this.greetingMode.deactivate(!0),this.markActivity(mt.LivekitGreetingModeDisabledDueToCameraOff)))}toggleLocalAudio(){if(!this.ensureFocusRoomPublishAccess())return;let e=!this.localParticipant.isMicrophoneEnabled;this.localParticipant.setMicrophoneEnabled(e).catch(n=>{this.loadingVideo=!1;let i="";typeof n=="string"?i=n:i=JSON.stringify(n,Object.getOwnPropertyNames(n)),this.markActivity(mt.LivekitCouldNotStartMicrophone,{errorMessage:i}),this.toastService.error({message:"We were unable to turn on your microphone as it's being used by another application."})})}setMaxAllowedTiles(e){e>=744?this.paginator.maxTilesAllowed=20:e>=480?this.paginator.maxTilesAllowed=16:this.paginator.maxTilesAllowed=8}onUserBlocked(e){let n=this.currentUserId===e.userBlockingId?e.blockedUserId:e.userBlockingId;this.blockedUserIds.push(n);let i=this.allParticipants.find(r=>r.identity===n&&!r.isLocal);i&&(this.blockedParticipants.push(i),this.allParticipants.splice(this.allParticipants.indexOf(i),1),this.assignDisplayedParticipants(),this.recalculateGrid.next()),this.unpin({pinnedUserId:n,shouldCallApi:!1}),this.updateFocusPlusParticipants()}onUserUnblocked(e){let n=this.currentUserId===e.userUnblockingId?e.unblockedUserId:e.userUnblockingId;this.blockedUserIds.splice(this.blockedUserIds.indexOf(n),1);let i=this.blockedParticipants.find(r=>r.identity===n);i&&(i.userInfo.blocked=!1,this.allParticipants.push(i),this.blockedParticipants.splice(this.blockedParticipants.indexOf(i),1),this.sortAndAssignDisplayedParticipants(),this.recalculateGrid.next()),this.updateFocusPlusParticipants()}onUserFavoriteAdded(e){this.favoriteUsers.find(r=>r.favoriteUserId===e.favoriteUser.id)||this.favoriteUsers.push({favoriteUserId:e.favoriteUser.id,order:e.order});let i=this.allParticipants.find(r=>r.identity===e.favoriteUser.id);i&&(i.favorited=!0)}onUserFavoriteUpdated(e,n){let i=this.favoriteUsers.find(r=>r.favoriteUserId===e);i&&(Ig(this.favoriteUsers,i.order-1,n-1),this.favoriteUsers.forEach((r,o)=>r.order=o+1),this.pinnedParticipants.length>0&&this.sortFavoriteParticipants())}onUserFavoriteRemoved(e){let n=this.favoriteUsers.findIndex(r=>r.favoriteUserId===e);n>-1&&this.favoriteUsers.splice(n,1);let i=this.allParticipants.find(r=>r.identity===e);i&&(i.favorited=!1,this.favoriteUsers.forEach((r,o)=>r.order=o+1))}updateUsersInfo(e){let n=!0;for(let i of this.allParticipants){let r=!i.isLocal,o=e.find(s=>s.userId===i.identity);o?(i.pinnedCount=o.pinCount??0,i.reportCount=o.unresolvedRecentReportsCount??0,i.showSpotifyNowPlaying=o.showSpotifyNowPlaying,i.pinCountHidden=!!o.pinCountHidden,i.inFocusMode=!!o.inFocusMode,i.hd=o.hd,r?(i.handRaiseTimestamp=o.handRaiseTimestamp,i.isHandRaised=o.handRaiseTimestamp!==null,i.selectedTask=o.selectedTask,i.focusRoomGroup=o.focusRoomGroup??null,i.status&&o.status&&i.status.id===o.status.id&&this.statusUpdateTimeouts.some(a=>a.statusId===o.status?.id)||(i.status=o.status)):(i.handRaiseTimestamp&&o.handRaiseTimestamp&&(i.handRaiseTimestamp=o.handRaiseTimestamp),i.status&&o.status&&i.status.id===o.status.id&&!this.statusUpdateTimeouts.some(s=>s.statusId===o.status?.id)&&(i.status.topReaction=o.status.topReaction,i.status.totalReactions=o.status.totalReactions),this.pinnedByUserIds=o.pinnedByUserIds??[],n=!1)):(i.pinnedCount=0,i.reportCount=0,r&&(i.handRaiseTimestamp=null,i.isHandRaised=!1,i.status=null,i.selectedTask=null))}n&&(this.pinnedByUserIds=[])}resetActivePredefinedGroupParticipants(){if(!this.activePredefinedGroupValue||!this.activePredefinedGroupValue.predefinedGroupId){this.activePredefinedGroupParticipants=[];return}let e=Array.from(this.remoteParticipants.values()).map(i=>i);e.push(this.localParticipant);let n=e.filter(i=>this.activePredefinedGroupValue?.members.some(r=>r.id===i.identity)).map(i=>({seatNumber:this.activePredefinedGroupValue?.members.find(r=>r.id===i.identity)?.seatNumber||0,participant:i}));if(this.activePredefinedGroupParticipants.length===0){let i=Array.from({length:this.activePredefinedGroupValue.predefinedGroupMaxSeats??0},(r,o)=>{let s=o+1;return{seatNumber:s,participant:n.find(a=>a.seatNumber===s)?.participant??null,loading:!1}});this.activePredefinedGroupParticipants=i}else for(let i of this.activePredefinedGroupParticipants){let r=n.find(o=>o.seatNumber===i.seatNumber);if(!r){i.participant=null;continue}i.participant!==r.participant&&(i.participant=r.participant)}}setFavoriteUserFlags(){for(let e of this.allParticipants){let n=this.favoriteUsers.some(o=>o.favoriteUserId===e.identity),i=n&&!e.favorited,r=!n&&e.favorited;!i&&!r||(e.favorited=n)}}storeLivekitSettings(){this.settings.showSelfViewVideo!==void 0&&delete this.settings.showSelfViewVideo,localStorage.setItem(YN,JSON.stringify(this.settings))}updateRoomSettings(e){let n=!this.shouldStreamInHigherRes;this.accountService.upsertRoomSettings(e,n).subscribe({error:i=>this.toastService.error({exceptionDetail:i[0]})})}clearFilters(){this.filter.selectedAreasOfStudy=[],this.filter.selectedCountries=[],this.filter.selectedUserTypes=[],this.filter.selectedGenders=[],this.filter.participantsWithReportsOnly=!1,this.filter.participantsWithNewMarkerOnly=!1,this.filter.participantsWithPinForPinEnabled=!1,this.filter.participantsWithEmptyPinSlots=!1,this.filter.selectedSortOption=dv.MostPins}checkEncouragementsDisabled(e){return this.roomSettings?.disableEncouragements?(this.toastService.info({message:"You have turned off this feature under the settings -> troubleshooting."}),!0):e.userInfo.roomSettings?.disableEncouragements?(this.toastService.info({message:"This user has temporarily turned off this feature, so you cannot send them any encouragements."}),!0):!1}handleUserInfoUpdate(e){for(let i of e){let r=this.usersInfo.find(s=>s.userId===i.userId);if(r){r.pinCount=i.pinCount,r.handRaiseTimestamp=i.handRaiseTimestamp,r.status=i.status,r.selectedTask=i.selectedTask,r.focusRoomGroup=i.focusRoomGroup,r.pinnedByUserIds=i.pinnedByUserIds??[],r.showSpotifyNowPlaying=i.showSpotifyNowPlaying,r.hd=i.hd,r.pinCountHidden=!!i.pinCountHidden,r.inFocusMode=!!i.inFocusMode;continue}this.allParticipants.some(s=>s.identity===i.userId)&&this.usersInfo.push({userId:i.userId,pinCount:i.pinCount,handRaiseTimestamp:i.handRaiseTimestamp,status:i.status,selectedTask:i.selectedTask,focusRoomGroup:i.focusRoomGroup,unresolvedRecentReportsCount:this.localParticipant.userInfo.isModerator?0:void 0,pinnedByUserIds:i.pinnedByUserIds,showSpotifyNowPlaying:i.showSpotifyNowPlaying,hd:i.hd,pinCountHidden:!!i.pinCountHidden,inFocusMode:!!i.inFocusMode})}let n=this.usersInfo.filter(i=>!e.some(r=>r.userId===i.userId));for(let i of n)this.usersInfo.splice(this.usersInfo.indexOf(i),1);this.usersInfo=this.usersInfo.filter(i=>this.allParticipants.some(r=>r.identity===i.userId)),this.updateUsersInfo(this.usersInfo)}pinUponJoin(e=null){if(this.roomName===null||this.utilityService.userIdsToPin.length===0||!this.ensureFocusRoomPublishAccess()){e&&e();return}this.markActivity(mt.PinningFromDashboardUponJoin,{usersToPin:this.utilityService.userIdsToPin.length});let n=this.utilityService.userIdsToPin.map(o=>this.allParticipants.find(s=>s.identity===o)),i=[];for(let o of n)o&&!this.checkPinningDisabled(o,!0)&&i.push(o.identity);this.pinningUserIds=i;let r={usersToPinIds:i,currentUserIds:this.pinnedParticipants.map(o=>o.identity)};this.pinUsers({roomName:this.roomName,model:r,successCallback:e,autoPin:!0,forceGridView:!0})}restorePinnedUsers(e){if(this.roomName===null||!this.ensureFocusRoomPublishAccess())return;let n=e.map(o=>this.allParticipants.find(s=>s.identity===o)).filter(o=>o!==void 0),i=[];for(let o of n)o&&!this.checkPinningDisabled(o,!0)&&i.push(o.identity);this.pinningUserIds=i;let r={usersToPinIds:i,currentUserIds:this.pinnedParticipants.map(o=>o.identity),restoringPreviousPins:!0};this.pinUsers({roomName:this.name,model:r})}pinFavoriteUsers(e=null,n=!1){if(this.roomName===null||this.favoriteUsers.length===0||!this.ensureFocusRoomPublishAccess()||this.pinnedParticipants.length>=this.pinValidationInfo.pinLimit){e&&e();return}let i=this.allParticipants.filter(s=>this.favoriteUsers.some(a=>a.favoriteUserId===s.identity)),r=[];for(let s of i)!this.checkPinningDisabled(s,!0)&&!this.isPinned(s.identity)&&r.push(s.identity);if(r.length===0)return;this.pinningUserIds=r;let o={usersToPinIds:r,currentUserIds:this.pinnedParticipants.map(s=>s.identity)};this.pinUsers({roomName:this.roomName,model:o,initialFavoritesPin:!0,successCallback:e,autoPin:n})}pinUsers(e){let{roomName:n,model:i,initialFavoritesPin:r=!1,successCallback:o=null,autoPin:s=!1,forceGridView:a=!1}=e;this.pinUsersApiCall(n,i).subscribe({next:l=>ue(this,null,function*(){l=l.filter(d=>!this.isPinned(d)),(this.pinnedParticipants.length===0||this.forceGridView)&&(this.lastOpenedGridPage=this.paginator.currentPage);let c=this.allParticipants.filter(d=>l.includes(d.identity));c.forEach(d=>{d.pinnedCount++,d.autoPin=s}),this.pinnedParticipants.push(...c),this.clearFilters(),this.milestones.pinnedSomeone||(this.badgeService.checkForNewBadges.next(),this.milestones.pinnedSomeone=!0),a&&(this.animateViewToggleButton=!0,this.forceGridView=a),this.sortPinnedParticipants(),this.assignDisplayedParticipants(),this.recalculateGrid.next(),this.updateFocusPlusParticipants(),this.pinningUserIds=null,r?yield this.snackBarService.info({message:"We've pinned your favorite available users for you."}):(this.utilityService.userIdsToPin=[],yield this.snackBarService.info({message:"We've pinned available users for you."})),o&&o()}),error:l=>{this.pinningUserIds=null,this.toastService.error({exceptionDetail:l[0]})}})}animateParticipant(e){let n=document.querySelector(`[data-id="${e.identity}"]`);n&&(n.classList.add("animated"),this.markActivity(mt.LivekitJoinedWithOnlineStatusIndicatorAndShownParticipant,{identity:e.identity}),setTimeout(()=>n.classList.remove("animated"),1200))}attemptHighlightingParticipant(e){let n=this.filteredParticipants.find(i=>i.identity===e);if(n){let i=this.filteredParticipants.indexOf(n),r=Math.ceil((i+1)/Math.min(this.paginator.tilesPerPage,this.paginator.maxTilesAllowed));this.paginator.currentPage!==r&&this.paginator.goToPage(r),setTimeout(()=>this.animateParticipant(n),200)}else this.allParticipants.find(r=>r.identity===e&&!r.isCameraEnabled)?this.toastService.info({message:"This user's camera is currently off."}):this.toastService.info({message:"This user has left the room in the past few minutes."})}sortFavoriteParticipants(){this.movePinnedVideoOffTilesDown?this.pinnedParticipants.sort((0,Wu.firstBy)(e=>e.isCameraEnabled,{direction:"desc"}).thenBy(e=>this.getFavoriteParticipantOrder(e),{direction:"asc"})):this.pinnedParticipants.sort((0,Wu.firstBy)(e=>this.getFavoriteParticipantOrder(e),{direction:"asc"})),this.assignDisplayedParticipants(),this.recalculateGrid.next()}sortPinnedParticipants(){this.roomSettings?.autoSortPinnedFavorites?this.movePinnedVideoOffTilesDown?this.pinnedParticipants.sort((0,Wu.firstBy)(e=>e.isCameraEnabled,{direction:"desc"}).thenBy(e=>this.getFavoriteParticipantOrder(e),{direction:"asc"})):this.pinnedParticipants.sort((0,Wu.firstBy)(e=>this.getFavoriteParticipantOrder(e),{direction:"asc"})):this.movePinnedVideoOffTilesDown&&this.pinnedParticipants.sort((0,Wu.firstBy)(e=>e.isCameraEnabled,{direction:"desc"}))}getFavoriteParticipantOrder(e){return this.favoriteUsers.find(i=>i.favoriteUserId===e.identity)?.order??Number.MAX_VALUE}movePinnedParticipant(e,n=!0){if(!this.subscriptionService.hasPremiumFeatures)return;let i=this.pinnedParticipants.indexOf(e);i!==-1&&(this.pinnedParticipants.splice(i,1),n?this.pinnedParticipants.unshift(e):this.pinnedParticipants.push(e),this.assignDisplayedParticipants(),this.recalculateGrid.next())}moveParticipantByOffset(e,n){if(!this.subscriptionService.hasPremiumFeatures)return;let i=this.pinnedParticipants.indexOf(e),r=i+n;if(i===-1||r<0||r>=this.pinnedParticipants.length)return;let o=this.pinnedParticipants[r];this.pinnedParticipants[r]=e,this.pinnedParticipants[i]=o,this.assignDisplayedParticipants(),this.recalculateGrid.next()}enableBackgroundBlur(e){return ue(this,null,function*(){let n=this.localParticipant.getTrackPublication(_e.Source.Camera);if(!n||!n.track)return;let i=n.track,o=(yield this.isGPUSupported())?"GPU":"CPU";i.getProcessor()&&(yield i.stopProcessor()),yield i.setProcessor(oee(e,{delegate:o}))})}enableBackgroundImage(e){return ue(this,null,function*(){let n=this.localParticipant.getTrackPublication(_e.Source.Camera);if(!n||!n.track)return;let i=see(e),r=n.track;r.getProcessor()&&(yield r.stopProcessor()),yield r.setProcessor(i)})}disableVirtualBackground(){return ue(this,null,function*(){let e=this.localParticipant.getTrackPublication(_e.Source.Camera);if(!e||!e.track)return;yield e.track.stopProcessor()})}setupSpotifyPolling(){this.accountService.isFullyVerifiedUser()&&(this.displayedParticipants.filter(e=>!e.isLocal).forEach(e=>e.spotifyData=null),this.spotifyTimerSubscription?.unsubscribe(),this.spotifyTimerSubscription=wo(2e3,30*1e3).subscribe(()=>this.getSpotifyPlayingParticipants()))}isGPUSupported(){return ue(this,null,function*(){let e=navigator.gpu;if(e?.requestAdapter)try{return(yield e.requestAdapter())!==null}catch{return!1}let n=document.createElement("canvas");return!!(n.getContext("webgl")||n.getContext("experimental-webgl"))})}getLocalCurrentlyPlaying(){!this.accountService.isFullyVerifiedUser()||!this.spotifyEnabled||!this.roomSettings?.enableSpotifyNowPlaying||this.spotifyService.getCurrentlyPlaying([this.localParticipant.identity]).subscribe({next:e=>{let n=e.find(i=>i.userId===this.localParticipant.identity);this.assignSpotifyData(this.localParticipant,n?.track)}})}shouldShowTurnOnCameraModal(){this.milestones.hadVideoOn||this.pinnedParticipants.length<=3||!this.showTurnOnVideoModal||localStorage.getItem(X0)||this.dialogQueueService.openDialog({component:cde,config:{panelClass:"fullscreen-dialog",width:"450px"},onCloseCallback:()=>this.showTurnOnVideoModal=!1})}sortAllParticipants(){if(this.filter.selectedSortOption===dv.IgnorePinCounts){this.allParticipants.sort((0,Wu.firstBy)(e=>e.isCameraEnabled,{direction:"desc"}).thenBy(e=>e.isHandRaised,{direction:"desc"}).thenBy(e=>e.isHandRaised?e.handRaiseTimestamp:e.joinedAt));return}if(this.accountService.isD0){this.allParticipants.sort((0,Wu.firstBy)(e=>e.isCameraEnabled,{direction:"desc"}).thenBy(e=>e.hd,{direction:"desc"}).thenBy(e=>e.isHandRaised,{direction:"desc"}).thenBy(e=>this.shouldAddPremiumFeaturesBoost(e),{direction:"desc"}).thenBy(e=>e.isHandRaised?e.handRaiseTimestamp:e.joinedAt));return}this.allParticipants.sort((0,Wu.firstBy)(e=>e.isCameraEnabled,{direction:"desc"}).thenBy(e=>e.isHandRaised,{direction:"desc"}).thenBy(e=>this.shouldAddPremiumFeaturesBoost(e),{direction:"desc"}).thenBy(e=>e.isHandRaised?e.handRaiseTimestamp:e.joinedAt))}shouldAddPremiumFeaturesBoost(e){if(!e.userInfo.includePremiumFeatures)return e.pinnedCount;let n=e.isHandRaised?5:0,i=e.focusRoomGroup?.usersCount?e.focusRoomGroup.usersCount-1:0;return e.pinnedCount+n+i}ensureAdUsersCorrectOrder(){let e=this.allParticipants.filter(n=>n.userInfo?.adUser);for(let n of e){if(!n.userInfo.adUser)continue;let i=this.allParticipants.indexOf(n),r=n.userInfo.adUser.preferredPosition-1;i!==r&&Ig(this.allParticipants,i,r)}}ensureAdPlaceholderParticipantsCorrectOrder(){let e=this.allParticipants.filter(i=>i.forceIndex>=0);this.adPlaceholderParticipants.length>0&&e.length===0&&this.allParticipants.push(...this.adPlaceholderParticipants),e=this.allParticipants.filter(i=>i.forceIndex>=0);for(let i of e){let r=this.allParticipants.indexOf(i),o=i.forceIndex;r!==o&&Ig(this.allParticipants,r,o)}}checkPinningDisabled(e,n=!1){return this.roomSettings?.disablePinning?(this.toastService.info({message:"You have turned off this feature under the settings -> troubleshooting."}),!0):e.userInfo.roomSettings?.disablePinning?(n||this.toastService.info({message:"This user has temporarily turned off this feature, so you cannot pin them."}),!0):!1}setupRoomSettings(e){let n=localStorage.getItem(YN);if(this.settings=n?JSON.parse(n):this.settings,!this.isAnonymous){if(this.settings.videoResolution=jae(e,this.shouldStreamInHigherRes),this.roomSettings){let i=!this.shouldStreamInHigherRes&&this.roomSettings.videoResolution===null,r=!1;this.roomSettings.mirrorModeOff!==!this.settings.mirrorMode&&(this.roomSettings.mirrorModeOff=!this.settings.mirrorMode,r=!0),this.roomSettings.tilesPerPage!==this.settings.tilesPerPage&&(this.roomSettings.tilesPerPage>12&&!this.shouldStreamInHigherRes?(this.roomSettings.tilesPerPage=12,this.settings.tilesPerPage=12):this.roomSettings.tilesPerPage=this.settings.tilesPerPage,r=!0),this.roomSettings.videoResolution!==this.settings.videoResolution&&(this.roomSettings.videoResolution=this.settings.videoResolution,i||(r=!0)),r&&this.updateRoomSettings(this.roomSettings)}this.storeLivekitSettings()}}getSpotifyPlayingParticipants(){let e=this.displayedParticipants.filter(n=>(n.showSpotifyNowPlaying||n.isLocal&&this.roomSettings?.enableSpotifyNowPlaying)&&n.userInfo.includePremiumFeatures).map(n=>n.identity);this.roomSettings?.enableSpotifyNowPlaying&&!e.includes(this.localParticipant.identity)&&e.push(this.localParticipant.identity),e.length!==0&&this.spotifyService.getCurrentlyPlaying(e).subscribe({next:n=>{if(this.displayedParticipants.forEach(i=>{let r=n.find(o=>o.userId===i.identity);this.assignSpotifyData(i,r?.track)}),!this.displayedParticipants.some(i=>i.identity===this.localParticipant.identity)){let i=n.find(r=>r.userId===this.localParticipant.identity);this.assignSpotifyData(this.localParticipant,i?.track)}}})}assignSpotifyData(e,n){n?.isPlaying?e.spotifyData={currentlyPlaying:`${n.trackName} - ${n.artists.join(", ")}`,url:n.trackUrl}:e.spotifyData=null}};var dde=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.CAMERA=1]="CAMERA",t[t.MICROPHONE=2]="MICROPHONE",t[t.SCREEN_SHARE=3]="SCREEN_SHARE",t[t.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED",t}(dde||{});var o_=(()=>{let e=class e{constructor(){this.userMediaPromiseMap=new Map}getDevices(i,r=!0){return ue(this,null,function*(){if(this.userMediaPromiseMap?.size>0)try{i?yield this.userMediaPromiseMap.get(i):yield Promise.all(this.userMediaPromiseMap.values())}catch{console.warn("error waiting for media permissons")}let o=yield navigator.mediaDevices.enumerateDevices();if(r&&i&&(!this.userMediaPromiseMap.get(i)||!Kj())&&(o.length===0||o.some(a=>{let l=a.label==="",c=i?a.kind===i:!0;return l&&c}))){let a={video:i!=="audioinput"&&i!=="audiooutput"?{width:{ideal:1280},height:{ideal:720}}:!1,audio:i!=="videoinput"},l=yield navigator.mediaDevices.getUserMedia(a);o=yield navigator.mediaDevices.enumerateDevices(),l.getTracks().forEach(c=>{c.stop()})}return i&&(o=o.filter(s=>s.kind===i)),o})}getUserMedia(i,r=!0,o=!1){return ue(this,null,function*(){let s={};return r&&(s.video={deviceId:{exact:i}}),o&&(s.audio={deviceId:{exact:i}}),yield navigator.mediaDevices.getUserMedia(s)})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kj(){return X4e()?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}function Ukt(){let t=navigator.userAgent;return t.match(/edg/i)?Ku.Edge:t.match(/chrome|chromium|crios/i)?Ku.Chrome:t.match(/firefox|fxios/i)?Ku.Firefox:t.match(/safari/i)?Ku.Safari:t.match(/opr\//i)?Ku.Opera:t.match(/android/i)?Ku.Android:t.match(/iphone/i)?Ku.iPhone:Ku.Unknown}var Ku=function(t){return t.Chrome="Chrome",t.Firefox="Firefox",t.Safari="Safari",t.Opera="Opera",t.Edge="Edge",t.Android="Android",t.iPhone="iPhone",t.Unknown="Unknown",t}(Ku||{});function X4e(){return typeof document<"u"}var ude=(()=>{let e=class e{get canPublishAudio(){return this.livekit.room.canPublishAudio}constructor(i,r){this.livekit=i,this.mediaDevicesService=r,this.availableAudioDevices=[],this.setAvailableDevices=this.setAvailableDevices.bind(this)}ngOnInit(){window.navigator&&navigator.mediaDevices.addEventListener("devicechange",this.setAvailableDevices),this.mediaDevicesService.getDevices("audioinput",!0).then(i=>{if(this.availableAudioDevices=i,this.availableAudioDevices.length!==0)if(this.livekit.room.settings.activeAudioDevice){let r=this.livekit.room.settings.activeAudioDevice,o=r?this.availableAudioDevices.find(s=>s.deviceId===r):null;this.settings.activeAudioDevice=o?.deviceId??this.availableAudioDevices[0].deviceId}else this.settings.activeAudioDevice=this.availableAudioDevices[0].deviceId})}ngOnDestroy(){window.navigator&&navigator.mediaDevices.removeEventListener("devicechange",this.setAvailableDevices)}save(){this.settings.activeAudioDevice!==this.livekit.room.settings.activeAudioDevice&&(this.livekit.room.settings.activeAudioDevice=this.settings.activeAudioDevice,this.livekit.room.settings.activeAudioDevice&&this.livekit.room.switchActiveDevice("audioinput",this.livekit.room.settings.activeAudioDevice))}setAvailableDevices(){this.mediaDevicesService.getDevices("audioinput",!0).then(i=>{this.availableAudioDevices=i})}};e.\u0275fac=function(r){return new(r||e)(L(wr),L(o_))},e.\u0275cmp=re({type:e,selectors:[["ss-audio-settings-tab"]],inputs:{settings:"settings"},standalone:!1,decls:1,vars:3,consts:[["id","activeDevice","name","activeDevice","placeholder","Select audio device","labelProperty","label","valueProperty","deviceId",3,"ngModelChange","ngModel","options","disabled"]],template:function(r,o){r&1&&(C(0,"ss-select",0),Je("ngModelChange",function(a){return tt(o.settings.activeAudioDevice,a)||(o.settings.activeAudioDevice=a),a}),w()),r&2&&(Ze("ngModel",o.settings.activeAudioDevice),P("options",o.availableAudioDevices)("disabled",o.availableAudioDevices.length===0||!o.canPublishAudio))},dependencies:[Uc,Oi,cr],styles:["[_nghost-%COMP%]{display:block;padding-top:12px}"]});let t=e;return t})();function Z4e(t,e){if(t&1&&$(0,"ss-upgrade-cta",3),t&2){let n=M();P("short",!0)("openedFromSource",n.TriggeredUpgradeFromSourceRef.PinForPin)}}function J4e(t,e){if(t&1&&$(0,"ss-upgrade-cta",3),t&2){let n=M(2);P("short",!0)("openedFromSource",n.TriggeredUpgradeFromSourceRef.PinForPin)}}function e3e(t,e){if(t&1){let n=fe();C(0,"div",5)(1,"div",0)(2,"mat-slide-toggle",2),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.pinForPinPreUniStudent,r)||(o.settings.pinForPinPreUniStudent=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M();return X(r.onPinForPinEnabledGroupToggled())}),w(),C(3,"div"),F(4,"Auto pin-back: Pre-university students"),w()(),C(5,"div",0)(6,"mat-slide-toggle",2),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.pinForPinUniStudent,r)||(o.settings.pinForPinUniStudent=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M();return X(r.onPinForPinEnabledGroupToggled())}),w(),C(7,"div"),F(8,"Auto pin-back: University students"),w()(),C(9,"div",0)(10,"mat-slide-toggle",2),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.pinForPinProfessional,r)||(o.settings.pinForPinProfessional=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M();return X(r.onPinForPinEnabledGroupToggled())}),w(),C(11,"div"),F(12,"Auto pin-back: Professionals"),w()(),H(13,J4e,1,2,"ss-upgrade-cta",3),w()}if(t&2){let n=M();y(2),Ze("ngModel",n.settings.pinForPinPreUniStudent),P("disabled",!n.subscriptionService.hasPremiumFeatures),y(4),Ze("ngModel",n.settings.pinForPinUniStudent),P("disabled",!n.subscriptionService.hasPremiumFeatures),y(4),Ze("ngModel",n.settings.pinForPinProfessional),P("disabled",!n.subscriptionService.hasPremiumFeatures),y(3),Q(n.subscriptionService.hasPremiumFeatures?-1:13)}}function t3e(t,e){if(t&1&&$(0,"ss-upgrade-cta",3),t&2){let n=M();P("short",!0)("openedFromSource",n.TriggeredUpgradeFromSourceRef.AutoPinFavorites)}}function n3e(t,e){if(t&1&&$(0,"ss-upgrade-cta",3),t&2){let n=M();P("short",!0)("openedFromSource",n.TriggeredUpgradeFromSourceRef.AutoSortPinnedFavorites)}}var hde=(()=>{let e=class e{constructor(i,r,o,s,a){this.livekit=i,this.subscriptionService=r,this.accountService=o,this.analyticsService=s,this.toastService=a,this.TriggeredUpgradeFromSourceRef=Pu}ngOnInit(){this.settings={disableMutualPinNotification:!!this.livekit.room.roomSettings?.disableMutualPinNotification,selfPinCountHidden:!!this.livekit.room.roomSettings?.selfPinCountHidden,pinCountHidden:!!this.livekit.room.roomSettings?.pinCountHidden,pinForPinEnabled:!!this.livekit.room.roomSettings?.pinForPinEnabled,pinForPinPreUniStudent:!!this.livekit.room.roomSettings?.pinForPinPreUniStudents,pinForPinUniStudent:!!this.livekit.room.roomSettings?.pinForPinUniStudents,pinForPinProfessional:!!this.livekit.room.roomSettings?.pinForPinProfessionals,autoPinFavoritesOnJoin:!!this.livekit.room.roomSettings?.autoPinFavoritesOnJoin,autoSortPinnedFavorites:!!this.livekit.room.roomSettings?.autoSortPinnedFavorites}}toggleMovePinnedVideoOffTilesDown(i){this.livekit.room.movePinnedVideoOffTilesDown=i.checked,i.checked?(localStorage.setItem(Y0,"true"),this.livekit.room.sortPinnedParticipants()):localStorage.removeItem(Y0)}onPinForPinEnabledToggled(){this.settings.pinForPinEnabled&&!this.settings.pinForPinPreUniStudent&&!this.settings.pinForPinUniStudent&&!this.settings.pinForPinProfessional&&(this.settings.pinForPinPreUniStudent=!0,this.settings.pinForPinUniStudent=!0,this.settings.pinForPinProfessional=!0)}onPinForPinEnabledGroupToggled(){!this.settings.pinForPinPreUniStudent&&!this.settings.pinForPinUniStudent&&!this.settings.pinForPinProfessional&&(this.settings.pinForPinEnabled=!1)}save(){if(!this.livekit.room.roomSettings)return;this.emitAnalyticsIfChanged(this.livekit.room.roomSettings.disableMutualPinNotification,this.settings.disableMutualPinNotification,mt.LivekitMutualPinSessionDontShowThisAgainToggled),this.emitAnalyticsIfChanged(this.livekit.room.roomSettings.selfPinCountHidden,this.settings.selfPinCountHidden,mt.LivekitSelfPinCountHiddenToggled),this.emitAnalyticsIfChanged(this.livekit.room.roomSettings.pinCountHidden,this.settings.pinCountHidden,mt.LivekitPinCountHiddenToggled),this.settings.autoPinFavoritesOnJoin&&this.livekit.room.pinnedParticipants.length<this.livekit.room.pinValidationInfo.pinLimit&&(this.analyticsService.markActivity(mt.AutoPinFavoritesOnJoinEnabled),this.livekit.room.pinFavoriteUsers());let i=structuredClone(this.livekit.room.roomSettings);i.disableMutualPinNotification=this.settings.disableMutualPinNotification,i.pinForPinEnabled=this.settings.pinForPinEnabled,i.pinForPinPreUniStudents=this.settings.pinForPinPreUniStudent,i.pinForPinUniStudents=this.settings.pinForPinUniStudent,i.pinForPinProfessionals=this.settings.pinForPinProfessional,i.selfPinCountHidden=this.settings.selfPinCountHidden,i.pinCountHidden=this.settings.pinCountHidden,i.autoPinFavoritesOnJoin=this.settings.autoPinFavoritesOnJoin,i.autoSortPinnedFavorites=this.settings.autoSortPinnedFavorites,this.accountService.upsertRoomSettings(i,!1).subscribe({next:()=>{Object.assign(this.livekit.room.roomSettings,i),this.livekit.room.sortPinnedParticipants(),this.livekit.room.assignDisplayedParticipants(),this.livekit.recalculateGrid.next(),this.livekit.updateMetadata(this.livekit.room.name,this.livekit.room.settings.zoomToFit,this.livekit.room.settings.mirrorModeForOthers).subscribe()},error:r=>this.handleErrors(r)})}emitAnalyticsIfChanged(i,r,o){i!==r&&this.analyticsService.markActivity(o,{newValue:r})}handleErrors(i){this.toastService.error({exceptionDetail:i[0]})}};e.\u0275fac=function(r){return new(r||e)(L(wr),L(Ao),L(Qt),L(Kr),L(Xi))},e.\u0275cmp=re({type:e,selectors:[["ss-pin-settings-tab"]],standalone:!1,decls:41,vars:20,consts:[[1,"toggle-wrapper"],["labelPosition","before",3,"ngModelChange","ngModel"],["labelPosition","before",3,"ngModelChange","ngModel","disabled"],[3,"short","openedFromSource"],["matTooltip","Automatically pins back users who pin you, based on their group category.",3,"isSmall"],[1,"pin-for-pin-group"],[1,"favorites-wrapper"],[1,"pin-favorites"],["matTooltip","This will automatically pin your favorites on join. Currently not available on mobile app.",3,"isSmall"],[1,"header-wrapper"],["matTooltip","These toggles will override your manual draggable ordering.",3,"isSmall"],["labelPosition","before",3,"change","checked","matTooltip"],["matTooltip","This will sort your pinned users: people who turn camera off will be moved to the end of your pinned list.",3,"isSmall"],[1,"auto-sort-pinned-favorites"],["matTooltip","This will auto-sort your pins in the order you have set in your favorites list.",3,"isSmall"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"mat-slide-toggle",1),Je("ngModelChange",function(a){return tt(o.settings.disableMutualPinNotification,a)||(o.settings.disableMutualPinNotification=a),a}),w(),C(2,"div"),F(3,"Hide mutual pin notification"),w()(),C(4,"div",0)(5,"mat-slide-toggle",2),Je("ngModelChange",function(a){return tt(o.settings.pinForPinEnabled,a)||(o.settings.pinForPinEnabled=a),a}),G("ngModelChange",function(){return o.onPinForPinEnabledToggled()}),w(),C(6,"div"),F(7,"Enable pin-for-pin"),w(),H(8,Z4e,1,2,"ss-upgrade-cta",3),$(9,"ss-info-tooltip",4),w(),H(10,e3e,14,7,"div",5),C(11,"div",6)(12,"div",7)(13,"mat-slide-toggle",2),Je("ngModelChange",function(a){return tt(o.settings.autoPinFavoritesOnJoin,a)||(o.settings.autoPinFavoritesOnJoin=a),a}),w(),C(14,"div"),F(15,"Auto-pin favorites"),w(),H(16,t3e,1,2,"ss-upgrade-cta",3),$(17,"ss-info-tooltip",8),w()(),C(18,"div",0)(19,"mat-slide-toggle",1),Je("ngModelChange",function(a){return tt(o.settings.selfPinCountHidden,a)||(o.settings.selfPinCountHidden=a),a}),w(),C(20,"div"),F(21,"Hide everyone's pin counts for me"),w()(),C(22,"div",0)(23,"mat-slide-toggle",1),Je("ngModelChange",function(a){return tt(o.settings.pinCountHidden,a)||(o.settings.pinCountHidden=a),a}),w(),C(24,"div"),F(25,"Hide my pin count for everyone in the room"),w()(),C(26,"div",9)(27,"h3"),F(28,"Advanced settings"),w(),$(29,"ss-info-tooltip",10),w(),C(30,"div",0)(31,"mat-slide-toggle",11),G("change",function(a){return o.toggleMovePinnedVideoOffTilesDown(a)}),w(),C(32,"div"),F(33,"Auto sort video-off pins to bottom"),w(),$(34,"ss-info-tooltip",12),w(),C(35,"div",13)(36,"mat-slide-toggle",2),Je("ngModelChange",function(a){return tt(o.settings.autoSortPinnedFavorites,a)||(o.settings.autoSortPinnedFavorites=a),a}),w(),C(37,"div"),F(38,"Auto sort pinned favorites"),w(),H(39,n3e,1,2,"ss-upgrade-cta",3),$(40,"ss-info-tooltip",14),w()),r&2&&(y(),Ze("ngModel",o.settings.disableMutualPinNotification),y(4),Ze("ngModel",o.settings.pinForPinEnabled),P("disabled",!o.subscriptionService.hasPremiumFeatures),y(3),Q(o.subscriptionService.hasPremiumFeatures?-1:8),y(),P("isSmall",!0),y(),Q(o.settings.pinForPinEnabled?10:-1),y(3),Ze("ngModel",o.settings.autoPinFavoritesOnJoin),P("disabled",!o.subscriptionService.hasPremiumFeatures),y(3),Q(o.subscriptionService.hasPremiumFeatures?-1:16),y(),P("isSmall",!0),y(2),Ze("ngModel",o.settings.selfPinCountHidden),y(4),Ze("ngModel",o.settings.pinCountHidden),y(6),P("isSmall",!0),y(2),P("checked",o.livekit.room.movePinnedVideoOffTilesDown)("matTooltip",o.settings.autoSortPinnedFavorites?"Disabled because auto-sorting of pinned favorites is enabled":""),y(3),P("isSmall",!0),y(2),Ze("ngModel",o.settings.autoSortPinnedFavorites),P("disabled",!o.subscriptionService.hasPremiumFeatures),y(3),Q(o.subscriptionService.hasPremiumFeatures?-1:39),y(),P("isSmall",!0))},styles:[".toggle-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:14px}.toggle-wrapper[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-right:8px}.pin-for-pin-group[_ngcontent-%COMP%]{margin-left:40px}.hide-mutual-pin-notification[_ngcontent-%COMP%], .toggle-pin-for-pin[_ngcontent-%COMP%], .auto-sort-pinned-favorites[_ngcontent-%COMP%], .pin-favorites[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:14px}.hide-mutual-pin-notification[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .toggle-pin-for-pin[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .auto-sort-pinned-favorites[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%], .pin-favorites[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-right:8px}.hide-mutual-pin-notification[_ngcontent-%COMP%]   ss-upgrade-cta[_ngcontent-%COMP%], .toggle-pin-for-pin[_ngcontent-%COMP%]   ss-upgrade-cta[_ngcontent-%COMP%], .auto-sort-pinned-favorites[_ngcontent-%COMP%]   ss-upgrade-cta[_ngcontent-%COMP%], .pin-favorites[_ngcontent-%COMP%]   ss-upgrade-cta[_ngcontent-%COMP%]{margin:0 0 0 4px}.pin-favorites[_ngcontent-%COMP%]{margin-bottom:0}.favorites-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}.header-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;margin:24px 0 14px 14px}ss-info-tooltip[_ngcontent-%COMP%]{margin-left:4px}"]});let t=e;return t})();var fde=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.livekit=i,this.accountService=r,this.toastService=o,this.subscriptionService=s,this.router=a,this.dialog=l,this.saving=!1,this.livekit.room.roomSettings&&(this.settings=structuredClone(this.livekit.room.roomSettings))}save(){if(this.livekit.room.roomSettings&&this.settings.disableEncouragements===this.livekit.room.roomSettings.disableEncouragements&&this.settings.disablePinning===this.livekit.room.roomSettings.disablePinning&&this.settings.decreaseTilesResolution===this.livekit.room.roomSettings.decreaseTilesResolution&&this.settings.decreaseVideoResolutionEmitted===this.livekit.room.roomSettings.decreaseVideoResolutionEmitted)return;this.dialog.open(Lu,{panelClass:"fullscreen-dialog",data:{modalTitle:"Are you sure?",description:"ReloadPageRejoinRoom",confirmButtonLabel:"Save and re-join the room"}}).afterClosed().subscribe(r=>{if(!r)return;let o=!this.subscriptionService.hasPremiumFeatures;this.saving=!0,this.accountService.upsertRoomSettings(this.settings,o).subscribe({next:()=>{this.router.navigate([],{queryParams:{activeModal:null},queryParamsHandling:"merge"}).then(()=>{window.location.reload()})},error:s=>{this.saving=!1,this.toastService.error({exceptionDetail:s[0]})}})})}};e.\u0275fac=function(r){return new(r||e)(L(wr),L(Qt),L(Xi),L(Ao),L(tn),L(ai))},e.\u0275cmp=re({type:e,selectors:[["ss-troubleshooting-tab"]],standalone:!1,decls:9,vars:3,consts:[[1,"toggle-wrapper"],["labelPosition","before",3,"ngModelChange","ngModel"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"mat-slide-toggle",1),Je("ngModelChange",function(a){return tt(o.settings.disableEncouragements,a)||(o.settings.disableEncouragements=a),a}),F(2," Disable encouragements "),w()(),C(3,"div",0)(4,"mat-slide-toggle",1),Je("ngModelChange",function(a){return tt(o.settings.disablePinning,a)||(o.settings.disablePinning=a),a}),F(5," Disable pinning "),w()(),C(6,"div",0)(7,"mat-slide-toggle",1),Je("ngModelChange",function(a){return tt(o.settings.decreaseVideoResolutionEmitted,a)||(o.settings.decreaseVideoResolutionEmitted=a),a}),F(8," Decrease my own video resolution "),w()()),r&2&&(y(),Ze("ngModel",o.settings.disableEncouragements),y(3),Ze("ngModel",o.settings.disablePinning),y(3),Ze("ngModel",o.settings.decreaseVideoResolutionEmitted))},dependencies:[Oi,cr,_L],styles:[".toggle-wrapper[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--grayscale-g1)}.toggle-wrapper[_ngcontent-%COMP%]:last-of-type{border-bottom:0}"]});let t=e;return t})();function i3e(t,e){t&1&&(C(0,"span",4),F(1," You need a laptop with at least 16GB of RAM to run more than 12 tiles without significant issues. "),w())}function r3e(t,e){t&1&&(C(0,"span",7),F(1,' The setting "Decrease my own video resolution" under the Troubleshooting tab is currently enabled. This limits your ability to change the preferred resolution\u2014only low resolution is available. Disable this setting to unlock full resolution options. '),w())}function o3e(t,e){if(t&1&&$(0,"ss-upgrade-cta",8),t&2){let n=M(2);P("openedFromSource",n.TriggeredUpgradeFromSourceRef.ResolutionChange)}}function s3e(t,e){if(t&1){let n=fe();C(0,"div",0),F(1,"Active video source"),w(),C(2,"ss-select",5),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.activeVideoDevice,r)||(o.settings.activeVideoDevice=r),X(r)}),w(),C(3,"div",0),F(4,"Preferred resolution"),w(),C(5,"ss-select",6),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.videoResolution,r)||(o.settings.videoResolution=r),X(r)}),w(),H(6,r3e,2,0,"span",7),H(7,o3e,1,1,"ss-upgrade-cta",8),C(8,"div",9)(9,"mat-slide-toggle",10),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.mirrorMode,r)||(o.settings.mirrorMode=r),X(r)}),F(10," Mirror my video for myself "),w()(),C(11,"div",9)(12,"mat-slide-toggle",10),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.mirrorModeForOthers,r)||(o.settings.mirrorModeForOthers=r),X(r)}),F(13," Mirror my video for others "),w()(),C(14,"div",9)(15,"mat-slide-toggle",10),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.zoomToFit,r)||(o.settings.zoomToFit=r),X(r)}),F(16," Zoom camera to fit 16x9 "),w()(),C(17,"div",9)(18,"mat-slide-toggle",10),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.settings.selfViewVideoEnabled,r)||(o.settings.selfViewVideoEnabled=r),X(r)}),F(19," Self video view "),w()()}if(t&2){let n=M();y(2),Ze("ngModel",n.settings.activeVideoDevice),P("options",n.availableVideoDevices),y(3),P("options",n.resolutionOptions),Ze("ngModel",n.settings.videoResolution),P("disabled",!n.subscriptionService.hasPremiumFeatures),y(),Q(n.livekit.room.roomSettings!=null&&n.livekit.room.roomSettings.decreaseVideoResolutionEmitted?6:-1),y(),Q(n.subscriptionService.hasPremiumFeatures?-1:7),y(2),Ze("ngModel",n.settings.mirrorMode),y(3),Ze("ngModel",n.settings.mirrorModeForOthers),y(3),Ze("ngModel",n.settings.zoomToFit),y(3),Ze("ngModel",n.settings.selfViewVideoEnabled)}}var pde=(()=>{let e=class e{get anonymous(){return this.livekit.room.localParticipant.anonymous}get max(){return this.accountService.isInRole(Wr.Moderator)||this.accountService.isInRole(Wr.Administrator)||this.subscriptionService.hasActiveSubscription?20:12}constructor(i,r,o,s,a){this.livekit=i,this.subscriptionService=r,this.accountService=o,this.mediaDevicesService=s,this.analyticsService=a,this.updatedVideoSettings=new Ae,this.availableVideoDevices=[],this.TriggeredUpgradeFromSourceRef=Pu,this.resolutionOptions=[{value:io.H1080,label:"Up to 1080p"},{value:io.H540,label:"540p"},{value:io.H360,label:"360p"},{value:io.H216,label:"Low resolution"}],this.setAvailableDevices=this.setAvailableDevices.bind(this),window.navigator&&navigator.mediaDevices.addEventListener("devicechange",this.setAvailableDevices),this.setAvailableDevices()}ngOnDestroy(){window.navigator&&navigator.mediaDevices.removeEventListener("devicechange",this.setAvailableDevices)}setAvailableDevices(){this.mediaDevicesService.getDevices("videoinput",!0).then(i=>{this.availableVideoDevices=i})}save(){if(this.settings.tilesPerPage===this.livekit.room.settings.tilesPerPage&&this.settings.mirrorMode===this.livekit.room.settings.mirrorMode&&this.settings.mirrorModeForOthers===this.livekit.room.settings.mirrorModeForOthers&&this.settings.selfViewVideoEnabled===this.livekit.room.settings.selfViewVideoEnabled&&this.settings.activeVideoDevice===this.livekit.room.settings.activeVideoDevice&&this.settings.videoResolution===this.livekit.room.settings.videoResolution&&this.settings.zoomToFit===this.livekit.room.settings.zoomToFit)return;this.updatedVideoSettings.emit();let i=window.innerWidth,r=window.innerHeight;this.settings.tilesPerPage!==this.livekit.room.settings.tilesPerPage&&(this.analyticsService.markActivity(mt.LivekitTilesPerPageNumberChanged,{oldValue:this.livekit.room.settings.tilesPerPage,newValue:this.settings.tilesPerPage}),this.analyticsService.markActivity(mt.LivekitTilesPerPageNumberAndWindowDimensions,{windowWidth:i,windowHeight:r,newValue:this.settings.tilesPerPage})),this.settings.selfViewVideoEnabled!==this.livekit.room.settings.selfViewVideoEnabled&&this.analyticsService.markActivity(this.settings.selfViewVideoEnabled?mt.LivekitSelfViewVideoOn:mt.LivekitSelfViewVideoOff),this.settings.videoResolution!==this.livekit.room.settings.videoResolution&&this.analyticsService.markActivity(mt.LivekitResolutionChanged,{oldValue:this.livekit.room.settings.videoResolution,newValue:this.settings.videoResolution})}};e.\u0275fac=function(r){return new(r||e)(L(wr),L(Ao),L(Qt),L(o_),L(Kr))},e.\u0275cmp=re({type:e,selectors:[["ss-video-settings-tab"]],inputs:{settings:"settings"},outputs:{updatedVideoSettings:"updatedVideoSettings"},standalone:!1,decls:9,vars:7,consts:[[1,"title"],[1,"slider-wrapper"],["step","1","tickInterval","1","min","1","aria-label","units",3,"max"],["matSliderThumb","",3,"ngModelChange","ngModel"],[1,"info-title"],["id","active-device","name","activeDevice","placeholder","Video device","labelProperty","label","valueProperty","deviceId",3,"ngModelChange","ngModel","options"],["id","video-resolution","name","videoResolution","placeholder","Resolution","labelProperty","label","valueProperty","value",3,"ngModelChange","options","ngModel","disabled"],[1,"info-resolution"],["paidFeatureText","Get Premium to change resolution",3,"openedFromSource"],[1,"toggle-wrapper"],["labelPosition","before",3,"ngModelChange","ngModel"]],template:function(r,o){r&1&&(C(0,"div",0),F(1,"Number of tiles per page"),w(),C(2,"div",1)(3,"mat-slider",2)(4,"input",3),Je("ngModelChange",function(a){return tt(o.settings.tilesPerPage,a)||(o.settings.tilesPerPage=a),a}),w()(),C(5,"label"),F(6),w()(),H(7,i3e,2,0,"span",4),H(8,s3e,20,11)),r&2&&(y(2),le("info-active",o.settings.tilesPerPage>12),y(),P("max",o.max),y(),Ze("ngModel",o.settings.tilesPerPage),y(2),Ne(o.settings.tilesPerPage),y(),Q(o.settings.tilesPerPage>12?7:-1),y(),Q(o.anonymous?-1:8))},styles:[".title[_ngcontent-%COMP%]{margin-bottom:5px}.slider-wrapper[_ngcontent-%COMP%]{display:flex;margin:0 0 20px}.slider-wrapper.info-active[_ngcontent-%COMP%]{margin-bottom:0}label[_ngcontent-%COMP%]{margin-left:20px}mat-slider[_ngcontent-%COMP%]{width:100%;height:21px}ss-upgrade-cta[_ngcontent-%COMP%]{margin-bottom:16px}.toggle-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;padding:12px 0;border-bottom:1px solid var(--grayscale-g1)}.toggle-wrapper[_ngcontent-%COMP%]:last-of-type{border-bottom:0}.info-resolution[_ngcontent-%COMP%], .info-title[_ngcontent-%COMP%]{display:block;font-style:italic;color:var(--default-40)}.info-title[_ngcontent-%COMP%]{margin-bottom:20px}"]});let t=e;return t})();function a3e(t,e){if(t&1){let n=fe();C(0,"ss-video-settings-tab",8),G("updatedVideoSettings",function(){Y(n);let r=M();return X(r.updatedVideoSettings=!0)}),w()}if(t&2){let n=M();P("settings",n.settings)}}function l3e(t,e){if(t&1&&$(0,"ss-audio-settings-tab",6),t&2){let n=M();P("settings",n.settings)}}function c3e(t,e){t&1&&$(0,"ss-pin-settings-tab")}function d3e(t,e){t&1&&$(0,"ss-troubleshooting-tab")}var mde=(()=>{let e=class e{constructor(i,r,o,s,a){this.data=i,this.dialogRef=r,this.utilityService=o,this.dialog=s,this.livekit=a,this.tabs=[qs.Video,qs.Audio,qs.PinSettings,qs.Troubleshooting],this.updatedVideoSettings=!1,this.SettingsTabRef=qs}ngOnInit(){if(this.livekit.room.localParticipant.anonymous){let i=this.tabs.indexOf(qs.Troubleshooting);i!==-1&&this.tabs.splice(i,1)}this.settings=JSON.parse(JSON.stringify(this.livekit.room.settings)),this.isMobileSubscription=this.utilityService.isMobile.subscribe(i=>this.isMobile=i),this.setActiveTab(this.data?.activeTab?this.data.activeTab:qs.Video)}ngOnDestroy(){this.isMobileSubscription.unsubscribe()}setActiveTab(i){let r=i;this.saveCurrentTab(),this.activeTab=r}close(){this.saveCurrentTab(),this.dialogRef.close(this.updatedVideoSettings?this.settings:null)}saveCurrentTab(){switch(this.activeTab){case qs.Video:this.videoSettingsTab&&this.videoSettingsTab.save();break;case qs.Audio:this.audioSettingsTab&&this.audioSettingsTab.save();break;case qs.PinSettings:this.pinSettingsTab&&this.pinSettingsTab.save();break;case qs.Troubleshooting:this.troubleshootingTab&&this.troubleshootingTab.save();break}}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt),L(Ht),L(ai),L(wr))},e.\u0275cmp=re({type:e,selectors:[["ss-room-settings-modal"]],viewQuery:function(r,o){if(r&1&&(Fe(pde,5),Fe(ude,5),Fe(hde,5),Fe(fde,5)),r&2){let s;Ce(s=we())&&(o.videoSettingsTab=s.first),Ce(s=we())&&(o.audioSettingsTab=s.first),Ce(s=we())&&(o.pinSettingsTab=s.first),Ce(s=we())&&(o.troubleshootingTab=s.first)}},standalone:!1,decls:15,vars:9,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[3,"activeTabChange","tabs","activeTab","primary"],[1,"tab-content"],[3,"settings"],["color","tertiary",3,"buttonClick"],[3,"updatedVideoSettings","settings"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"Settings"),w(),C(3,"button",2),$(4,"ss-icon",3),w()(),C(5,"mat-dialog-content")(6,"ss-tabs",4),G("activeTabChange",function(a){return o.setActiveTab(a)}),w(),C(7,"div",5),H(8,a3e,1,1,"ss-video-settings-tab",6),H(9,l3e,1,1,"ss-audio-settings-tab",6),H(10,c3e,1,0,"ss-pin-settings-tab"),H(11,d3e,1,0,"ss-troubleshooting-tab"),w()(),C(12,"mat-dialog-actions")(13,"ss-button",7),G("buttonClick",function(){return o.close()}),F(14,"Save"),w()()),r&2&&(y(4),P("size",20)("iconVariant",20),y(2),P("tabs",o.tabs)("activeTab",o.activeTab)("primary",!0),y(2),Q(o.activeTab===o.SettingsTabRef.Video?8:-1),y(),Q(o.activeTab===o.SettingsTabRef.Audio?9:-1),y(),Q(o.activeTab===o.SettingsTabRef.PinSettings?10:-1),y(),Q(o.activeTab===o.SettingsTabRef.Troubleshooting?11:-1))},styles:[".tab-content[_ngcontent-%COMP%]{margin-top:30px}"]});let t=e;return t})();var Yj=function(t){return t.Closed="Closed",t.ClickedThroughUserProfile="ClickedThroughUserProfile",t.LeftTheRoom="LeftTheRoom",t.EncouragedBack="EncouragedBack",t.Disconnected="Disconnected",t}(Yj||{});var MD=(()=>{let e=class e{constructor(i,r,o){this.http=i,this.analyticsService=r,this.utilityService=o,this.API_ENDPOINT=`${Ue.apiUrl}/encouragements`,this.encouragementsReceived=[]}getAllTypes(){return this.http.get(`${this.API_ENDPOINT}/types`)}getAllTypesForAdmin(){return this.http.get(`${this.API_ENDPOINT}/types/admin`)}deleteEncouragementType(i){return this.http.delete(`${this.API_ENDPOINT}/types/${i}`)}createEncouragementType(i){let r=this.utilityService.createFormData(i);return this.http.post(`${this.API_ENDPOINT}/types`,r)}updateEncouragementType(i,r){let o=this.utilityService.createFormData(r);return this.http.put(`${this.API_ENDPOINT}/types/${i}`,o)}postEncouragement(i,r){return this.analyticsService.markActivity(mt.LivekitEncourageUserSent,{encouragedUserId:i}),this.http.post(`${this.API_ENDPOINT}/users/${i}`,r)}encourageAllBack(i){return this.http.post(`${this.API_ENDPOINT}/users/bulk`,i)}updateDismissReasons(i){return this.http.put(this.API_ENDPOINT,i)}dismissAllEncouragements(i){let r=this.encouragementsReceived.map(o=>({encouragementId:o.id,dismissReason:i}));return this.updateDismissReasons(r).pipe(lt(()=>{this.encouragementsReceived=[]}))}updateDismissReasonsAndKeepAlive(i){fetch(`${this.API_ENDPOINT}`,{keepalive:!0,method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem(Za)}`},body:JSON.stringify(i)})}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Kr),K(Ht))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u3e(t,e){t&1&&(C(0,"h2",1),F(1,"You earned an achievement!"),w())}function h3e(t,e){t&1&&(C(0,"h2",1),F(1,"You received an encouragement!"),w())}function f3e(t,e){if(t&1){let n=fe();C(0,"small"),F(1,"You've earned more badges! Click "),C(2,"span",7),G("click",function(){Y(n);let r=M(2);return X(r.goToProfileAchievements())}),F(3,"view all"),w(),F(4," to see them all."),w()}}function p3e(t,e){if(t&1&&(C(0,"mat-dialog-content")(1,"label"),F(2),w(),H(3,f3e,5,0,"small"),$(4,"ss-user-badge",6),w()),t&2){let n=M();y(2),Ne(n.data.badge.name),y(),Q(n.data.multipleBadges?3:-1),y(),P("badge",n.data.badge)("size",160)("disableHover",!0)}}function m3e(t,e){if(t&1){let n=fe();C(0,"ss-encouragement-toast",9),G("closeModal",function(){Y(n);let r=M(2);return X(r.onConfirm())}),w()}if(t&2){let n=M(2);P("isEncouragementModal",!0)("encouragementInfo",n.encouragementInfo)}}function A3e(t,e){if(t&1&&(C(0,"mat-dialog-content")(1,"p"),F(2,"Someone noticed you in the focus room and sent you an encouragement!"),w(),C(3,"em"),F(4,"You can:"),w(),C(5,"ol")(6,"li"),F(7,"View their profile (click on their profile image or name)"),w(),C(8,"li"),F(9,"View their video (click on the eye)"),w(),C(10,"li"),F(11,"Send them an encouragement back (thumbs up)"),w()(),H(12,m3e,1,2,"ss-encouragement-toast",8),w()),t&2){let n=M();y(12),Q(n.encouragementInfo?12:-1)}}function g3e(t,e){if(t&1){let n=fe();C(0,"ss-button",10),G("buttonClick",function(){Y(n);let r=M();return X(r.goToProfileAchievements())}),F(1," View All "),w()}}var gde=(()=>{let e=class e{get encouragementInfo(){return this.encouragementService.encouragementsReceived.length===0?null:this.encouragementService.encouragementsReceived[this.encouragementService.encouragementsReceived.length-1]}constructor(i,r,o){this.data=i,this.encouragementService=r,this.dialogRef=o}handleKeyboardEvent(i){i.key==="Escape"&&this.onConfirm()}ngAfterViewInit(){this.cdkGlobalOverlayWrapper=document.querySelector(".cdk-global-overlay-wrapper"),this.cdkGlobalOverlayWrapper&&(this.cdkGlobalOverlayWrapper.style.zIndex="1001")}ngOnDestroy(){this.cdkGlobalOverlayWrapper&&(this.cdkGlobalOverlayWrapper.style.zIndex="")}goToProfileAchievements(){window.open("/profile?activeTab=Achievements","_blank"),this.onConfirm()}onConfirm(){this.dialogRef.close(!0)}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(MD),L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-achievement-modal"]],hostBindings:function(r,o){r&1&&G("keydown",function(a){return o.handleKeyboardEvent(a)})},standalone:!1,decls:11,vars:9,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],["color","tertiary"],[3,"buttonClick"],[3,"badge","size","disableHover"],[3,"click"],[3,"isEncouragementModal","encouragementInfo"],[3,"closeModal","isEncouragementModal","encouragementInfo"],["color","tertiary",3,"buttonClick"]],template:function(r,o){r&1&&(C(0,"div",0),H(1,u3e,2,0,"h2",1),H(2,h3e,2,0,"h2",1),C(3,"button",2),$(4,"ss-icon",3),w()(),H(5,p3e,5,5,"mat-dialog-content"),H(6,A3e,13,1,"mat-dialog-content"),C(7,"mat-dialog-actions"),H(8,g3e,2,0,"ss-button",4),C(9,"ss-button",5),G("buttonClick",function(){return o.onConfirm()}),F(10," Keep Going! "),w()()),r&2&&(y(),Q(o.data.encouragementReceived?-1:1),y(),Q(o.data.encouragementReceived?2:-1),y(2),P("size",20)("iconVariant",20),y(),Q(o.data.encouragementReceived?-1:5),y(),Q(o.data.encouragementReceived?6:-1),y(),le("right-align",o.data.encouragementReceived),y(),Q(o.data.encouragementReceived?-1:8))},styles:["[_nghost-%COMP%]   mat-dialog-content.mat-mdc-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   mat-dialog-content.mat-mdc-dialog-content[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]   mat-dialog-content.mat-mdc-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}[_nghost-%COMP%]   mat-dialog-content.mat-mdc-dialog-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:underline}[_nghost-%COMP%]   mat-dialog-content.mat-mdc-dialog-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}mat-dialog-actions.mdc-dialog__actions[_ngcontent-%COMP%]{justify-content:space-between}mat-dialog-actions.mdc-dialog__actions.right-align[_ngcontent-%COMP%]{justify-content:flex-end}"]});let t=e;return t})();var vde=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.dialogQueueService=i,this.analyticsService=r,this.utilityService=o,this.subscriptionService=s,this.router=a,this.dialog=l}openPlansAndPricing(i,r=!1,o=!1){if(this.analyticsService.markActivity(mt.UpgradeRequest,{openedFromSource:i}),!this.utilityService.isOnFocusRoomPage()&&!o){this.router.navigate(["/plans-and-pricing"],{queryParams:{openedFromSource:i}});return}if(this.subscriptionService.hasActiveSubscriptionOrIsAdminOrMod||this.subscriptionService.issueWithStripePaymentExists){window.open(`${Ue.appUrl}/plans-and-pricing?openedFromSource=${i}`,"_blank");return}let s={disableClose:!0,width:"1024px",height:"760px",maxWidth:"100vw",maxHeight:"100vh",panelClass:"pricing-testimonials-dialog"};o||r?this.dialogQueueService.openDialog({component:Nw,config:s,onCloseCallback:a=>{a&&this.utilityService.startPricingModalTimer.next()}}):this.dialog.open(Nw,s).afterClosed().subscribe(a=>{a&&this.utilityService.startPricingModalTimer.next()})}openSubscriptionsPage(i=!1){this.analyticsService.markActivity(mt.UpgradeRequest),i?window.open("/plans-and-pricing","_blank"):this.router.navigate(["/plans-and-pricing"])}openProductsPage(){if(this.analyticsService.markActivity(mt.PurchaseMoreHoursRequest),!this.utilityService.isOnFocusRoomPage()){this.router.navigate(["/purchase-focus-room-hours"]);return}window.open(`${Ue.appUrl}/purchase-focus-room-hours`,"_blank")}};e.\u0275fac=function(r){return new(r||e)(K(Vf),K(Kr),K(Ht),K(Ao),K(tn),K(ai))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bde={fetch:globalThis.fetch?globalThis.fetch.bind(globalThis):void 0,SubtleCrypto:globalThis.crypto?globalThis.crypto.subtle:void 0,EventSource:globalThis.EventSource};function yde(){return bde}function Xj(t){let e=2166136261,n=t.length;for(let i=0;i<n;i++)e^=t.charCodeAt(i),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}function Lw(t,e,n){return n===2?Xj(Xj(t+e)+"")%1e4/1e4:n===1?Xj(e+t)%1e3/1e3:null}function _3e(t){return t<=0?[]:new Array(t).fill(1/t)}function PD(t,e){return t>=e[0]&&t<e[1]}function Cde(t,e){let n=Lw("__"+e[0],t,1);return n===null?!1:n>=e[1]&&n<e[2]}function wde(t,e){for(let n=0;n<e.length;n++)if(PD(t,e[n]))return n;return-1}function Jj(t){try{let e=t.replace(/([^\\])\//g,"$1\\/");return new RegExp(e)}catch(e){console.error(e);return}}function OD(t,e){if(!e.length)return!1;let n=!1,i=!1;for(let r=0;r<e.length;r++){let o=C3e(t,e[r].type,e[r].pattern);if(e[r].include===!1){if(o)return!1}else n=!0,o&&(i=!0)}return i||!n}function b3e(t,e,n){try{let i=e.replace(/[*.+?^${}()|[\]\\]/g,"\\$&").replace(/_____/g,".*");return n&&(i="\\/?"+i.replace(/(^\/|\/$)/g,"")+"\\/?"),new RegExp("^"+i+"$","i").test(t)}catch{return!1}}function y3e(t,e){try{let n=new URL(e.replace(/^([^:/?]*)\./i,"https://$1.").replace(/\*/g,"_____"),"https://_____"),i=[[t.host,n.host,!1],[t.pathname,n.pathname,!0]];return n.hash&&i.push([t.hash,n.hash,!1]),n.searchParams.forEach((r,o)=>{i.push([t.searchParams.get(o)||"",r,!1])}),!i.some(r=>!b3e(r[0],r[1],r[2]))}catch{return!1}}function C3e(t,e,n){try{let i=new URL(t,"https://_");if(e==="regex"){let r=Jj(n);return r?r.test(i.href)||r.test(i.href.substring(i.origin.length)):!1}else if(e==="simple")return y3e(i,n);return!1}catch{return!1}}function Ede(t,e,n){e=e===void 0?1:e,e<0?e=0:e>1&&(e=1);let i=_3e(t);n=n||i,n.length!==t&&(n=i);let r=n.reduce((s,a)=>a+s,0);(r<.99||r>1.01)&&(n=i);let o=0;return n.map(s=>{let a=o;return o+=s,[a,a+e*s]})}function xde(t,e,n){if(!e)return null;let i=e.split("?")[1];if(!i)return null;let r=i.replace(/#.*/,"").split("&").map(o=>o.split("=",2)).filter(o=>{let[s]=o;return s===t}).map(o=>{let[,s]=o;return parseInt(s)});return r.length>0&&r[0]>=0&&r[0]<n?r[0]:null}function Sde(t){try{return t()}catch(e){return console.error(e),!1}}var Zj=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0));function Lm(t,e,n){return ue(this,null,function*(){if(e=e||"",n=n||globalThis.crypto&&globalThis.crypto.subtle||bde.SubtleCrypto,!n)throw new Error("No SubtleCrypto implementation found");try{let i=yield n.importKey("raw",Zj(e),{name:"AES-CBC",length:128},!0,["encrypt","decrypt"]),[r,o]=t.split("."),s=yield n.decrypt({name:"AES-CBC",iv:Zj(r)},i,Zj(o));return new TextDecoder().decode(s)}catch{throw new Error("Failed to decrypt")}})}function Uw(t){return typeof t=="string"?t:JSON.stringify(t)}function Da(t){typeof t=="number"&&(t=t+""),(!t||typeof t!="string")&&(t="0");let e=t.replace(/(^v|\+.*$)/g,"").split(/[-.]/);return e.length===3&&e.push("~"),e.map(n=>n.match(/^[0-9]+$/)?n.padStart(5," "):n).join("-")}function RD(){let t;try{t="1.6.1"}catch{t=""}return t}function Tde(t,e){let n,i;try{n=new URL(t),i=new URL(e)}catch(r){return console.error(`Unable to merge query strings: ${r}`),e}return n.searchParams.forEach((r,o)=>{i.searchParams.has(o)||i.searchParams.set(o,r)}),i.toString()}function _de(t){return typeof t=="object"&&t!==null}function BD(t){return t.urlPatterns&&t.variations.some(e=>_de(e)&&"urlRedirect"in e)?"redirect":t.variations.some(e=>_de(e)&&(e.domMutations||"js"in e||"css"in e))?"visual":"unknown"}function FD(t,e){return ue(this,null,function*(){return new Promise(n=>{let i=!1,r,o=s=>{i||(i=!0,r&&clearTimeout(r),n(s||null))};e&&(r=setTimeout(()=>o(),e)),t.then(s=>o(s)).catch(()=>o())})})}var ns={staleTTL:1e3*60,maxAge:1e3*60*60*4,cacheKey:"gbFeaturesCache",backgroundSync:!0,maxEntries:10,disableIdleStreams:!1,idleStreamInterval:2e4,disableCache:!1},kd=yde(),s_={fetchFeaturesCall:t=>{let{host:e,clientKey:n,headers:i}=t;return kd.fetch(`${e}/api/features/${n}`,{headers:i})},fetchRemoteEvalCall:t=>{let{host:e,clientKey:n,payload:i,headers:r}=t,o={method:"POST",headers:V({"Content-Type":"application/json"},r),body:JSON.stringify(i)};return kd.fetch(`${e}/api/eval/${n}`,o)},eventSourceCall:t=>{let{host:e,clientKey:n,headers:i}=t;return i?new kd.EventSource(`${e}/sub/${n}`,{headers:i}):new kd.EventSource(`${e}/sub/${n}`)},startIdleListener:()=>{let t;if(!(typeof window<"u"&&typeof document<"u"))return;let n=()=>{document.visibilityState==="visible"?(window.clearTimeout(t),x3e()):document.visibilityState==="hidden"&&(t=window.setTimeout(E3e,ns.idleStreamInterval))};return document.addEventListener("visibilitychange",n),()=>document.removeEventListener("visibilitychange",n)},stopIdleListener:()=>{}};try{globalThis.localStorage&&(kd.localStorage=globalThis.localStorage)}catch{}var a_=new Map,Ide=!1,qu=new Map,ND=new Map,l_=new Map,c_=new Set;function Mde(t){Object.assign(ns,t),ns.backgroundSync||M3e()}function Dde(t){return ue(this,null,function*(){let{instance:e,timeout:n,skipCache:i,allowStale:r,backgroundSync:o}=t;return o||(ns.backgroundSync=!1),S3e({instance:e,allowStale:r,timeout:n,skipCache:i})})}function w3e(t){let e=Vw(t),n=a_.get(e)||new Set;n.add(t),a_.set(e,n)}function Pde(t){a_.forEach(e=>e.delete(t))}function E3e(){l_.forEach(t=>{t&&(t.state="idle",i5(t))})}function x3e(){l_.forEach(t=>{t&&t.state==="idle"&&r5(t)})}function kde(){return ue(this,null,function*(){try{if(!kd.localStorage)return;yield kd.localStorage.setItem(ns.cacheKey,JSON.stringify(Array.from(qu.entries())))}catch{}})}function S3e(t){return ue(this,null,function*(){let{instance:e,allowStale:n,timeout:i,skipCache:r}=t,o=Vw(e),s=t5(e),a=new Date,l=new Date(a.getTime()-ns.maxAge+ns.staleTTL);yield T3e();let c=!ns.disableCache&&!r?qu.get(s):void 0;return c&&(n||c.staleAt>a)&&c.staleAt>l?(c.sse&&c_.add(o),c.staleAt<a?e5(e):n5(e),{data:c.data,success:!0,source:"cache"}):(yield FD(e5(e),i))||{data:null,success:!1,source:"timeout",error:new Error("Timeout")}})}function Vw(t){let[e,n]=t.getApiInfo();return`${e}||${n}`}function t5(t){let e=Vw(t);if(!("isRemoteEval"in t)||!t.isRemoteEval())return e;let n=t.getAttributes(),i=t.getCacheKeyAttributes()||Object.keys(t.getAttributes()),r={};i.forEach(a=>{r[a]=n[a]});let o=t.getForcedVariations(),s=t.getUrl();return`${e}||${JSON.stringify({ca:r,fv:o,url:s})}`}function T3e(){return ue(this,null,function*(){if(!Ide){Ide=!0;try{if(kd.localStorage){let t=yield kd.localStorage.getItem(ns.cacheKey);if(!ns.disableCache&&t){let e=JSON.parse(t);e&&Array.isArray(e)&&e.forEach(n=>{let[i,r]=n;qu.set(i,De(V({},r),{staleAt:new Date(r.staleAt)}))}),Ode()}}}catch{}if(!ns.disableIdleStreams){let t=s_.startIdleListener();t&&(s_.stopIdleListener=t)}}})}function Ode(){let t=Array.from(qu.entries()).map(n=>{let[i,r]=n;return{key:i,staleAt:r.staleAt.getTime()}}).sort((n,i)=>n.staleAt-i.staleAt),e=Math.min(Math.max(0,qu.size-ns.maxEntries),qu.size);for(let n=0;n<e;n++)qu.delete(t[n].key)}function Rde(t,e,n){let i=n.dateUpdated||"",r=new Date(Date.now()+ns.staleTTL),o=ns.disableCache?void 0:qu.get(e);if(o&&i&&o.version===i){o.staleAt=r,kde();return}ns.disableCache||(qu.set(e,{data:n,version:i,staleAt:r,sse:c_.has(t)}),Ode()),kde();let s=a_.get(t);s&&s.forEach(a=>I3e(a,n))}function I3e(t,e){return ue(this,null,function*(){yield t.setPayload(e||t.getPayload())})}function e5(t){return ue(this,null,function*(){let{apiHost:e,apiRequestHeaders:n}=t.getApiHosts(),i=t.getClientKey(),r="isRemoteEval"in t&&t.isRemoteEval(),o=Vw(t),s=t5(t),a=ND.get(s);return a||(a=(r?s_.fetchRemoteEvalCall({host:e,clientKey:i,payload:{attributes:t.getAttributes(),forcedVariations:t.getForcedVariations(),forcedFeatures:Array.from(t.getForcedFeatures().entries()),url:t.getUrl()},headers:n}):s_.fetchFeaturesCall({host:e,clientKey:i,headers:n})).then(c=>{if(!c.ok)throw new Error(`HTTP error: ${c.status}`);return c.headers.get("x-sse-support")==="enabled"&&c_.add(o),c.json()}).then(c=>(Rde(o,s,c),n5(t),ND.delete(s),{data:c,success:!0,source:"network"})).catch(c=>(ND.delete(s),{data:null,source:"error",success:!1,error:c})),ND.set(s,a)),a})}function n5(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Vw(t),i=t5(t),{streamingHost:r,streamingHostRequestHeaders:o}=t.getApiHosts(),s=t.getClientKey();if(e&&c_.add(n),ns.backgroundSync&&c_.has(n)&&kd.EventSource){if(l_.has(n))return;let a={src:null,host:r,clientKey:s,headers:o,cb:l=>{try{if(l.type==="features-updated"){let c=a_.get(n);c&&c.forEach(d=>{e5(d)})}else if(l.type==="features"){let c=JSON.parse(l.data);Rde(n,i,c)}a.errors=0}catch{Bde(a)}},errors:0,state:"active"};l_.set(n,a),r5(a)}}function Bde(t){if(t.state!=="idle"&&(t.errors++,t.errors>3||t.src&&t.src.readyState===2)){let e=Math.pow(3,t.errors-3)*(1e3+Math.random()*1e3);i5(t),setTimeout(()=>{["idle","active"].includes(t.state)||r5(t)},Math.min(e,3e5))}}function i5(t){t.src&&(t.src.onopen=null,t.src.onerror=null,t.src.close(),t.src=null,t.state==="active"&&(t.state="disabled"))}function r5(t){t.src=s_.eventSourceCall({host:t.host,clientKey:t.clientKey,headers:t.headers}),t.state="active",t.src.addEventListener("features",t.cb),t.src.addEventListener("features-updated",t.cb),t.src.onerror=()=>Bde(t),t.src.onopen=()=>{t.errors=0}}function k3e(t,e){i5(t),l_.delete(e)}function M3e(){c_.clear(),l_.forEach(k3e),a_.clear(),s_.stopIdleListener()}function LD(t,e){if(e.streaming){if(!t.getClientKey())throw new Error("Must specify clientKey to enable streaming");e.payload&&n5(t,!0),w3e(t)}}var D3e=/^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/,a5={revert:function(){}},QD=new Map,l5=new Set;function P3e(t){return t==="html"?{childList:!0,subtree:!0,attributes:!0,characterData:!0}:{childList:!1,subtree:!1,attributes:!0,attributeFilter:[t]}}function jD(t){var e=QD.get(t);return e||(e={element:t,attributes:{}},QD.set(t,e)),e}function $D(t,e,n,i,r){var o=n(t),s={isDirty:!1,originalValue:o,virtualValue:o,mutations:[],el:t,_positionTimeout:null,observer:new MutationObserver(function(){if(!(e==="position"&&s._positionTimeout)){e==="position"&&(s._positionTimeout=setTimeout(function(){s._positionTimeout=null},1e3));var a=n(t);e==="position"&&a.parentNode===s.virtualValue.parentNode&&a.insertBeforeNode===s.virtualValue.insertBeforeNode||a!==s.virtualValue&&(s.originalValue=a,r(s))}}),mutationRunner:r,setValue:i,getCurrentValue:n};return e==="position"&&t.parentNode?s.observer.observe(t.parentNode,{childList:!0,subtree:!0,attributes:!1,characterData:!1}):s.observer.observe(t,P3e(e)),s}function zD(t,e){var n=e.getCurrentValue(e.el);e.virtualValue=t,t&&typeof t!="string"?(!n||t.parentNode!==n.parentNode||t.insertBeforeNode!==n.insertBeforeNode)&&(e.isDirty=!0,Fde()):t!==n&&(e.isDirty=!0,Fde())}function O3e(t){var e=t.originalValue;t.mutations.forEach(function(n){return e=n.mutate(e)}),zD(W3e(e),t)}function R3e(t){var e=new Set(t.originalValue.split(/\s+/).filter(Boolean));t.mutations.forEach(function(n){return n.mutate(e)}),zD(Array.from(e).filter(Boolean).join(" "),t)}function B3e(t){var e=t.originalValue;t.mutations.forEach(function(n){return e=n.mutate(e)}),zD(e,t)}function F3e(t){var e=t.parentSelector,n=t.insertBeforeSelector,i=document.querySelector(e);if(!i)return null;var r=n?document.querySelector(n):null;return n&&!r?null:{parentNode:i,insertBeforeNode:r}}function N3e(t){var e=t.originalValue;t.mutations.forEach(function(n){var i=n.mutate(),r=F3e(i);e=r||e}),zD(e,t)}var L3e=function(e){return e.innerHTML},U3e=function(e,n){return e.innerHTML=n};function Lde(t){var e=jD(t);return e.html||(e.html=$D(t,"html",L3e,U3e,O3e)),e.html}var V3e=function(e){return{parentNode:e.parentElement,insertBeforeNode:e.nextElementSibling}},H3e=function(e,n){n.insertBeforeNode&&!n.parentNode.contains(n.insertBeforeNode)||n.parentNode.insertBefore(e,n.insertBeforeNode)};function Ude(t){var e=jD(t);return e.position||(e.position=$D(t,"position",V3e,H3e,N3e)),e.position}var Q3e=function(e,n){return n?e.className=n:e.removeAttribute("class")},j3e=function(e){return e.className};function Vde(t){var e=jD(t);return e.classes||(e.classes=$D(t,"class",j3e,Q3e,R3e)),e.classes}var $3e=function(e){return function(n){var i;return(i=n.getAttribute(e))!=null?i:null}},z3e=function(e){return function(n,i){return i!==null?n.setAttribute(e,i):n.removeAttribute(e)}};function Hde(t,e){var n=jD(t);return n.attributes[e]||(n.attributes[e]=$D(t,e,$3e(e),z3e(e),B3e)),n.attributes[e]}function G3e(t,e){var n=QD.get(t);if(n)if(e==="html"){var i,r;(i=n.html)==null||(r=i.observer)==null||r.disconnect(),delete n.html}else if(e==="class"){var o,s;(o=n.classes)==null||(s=o.observer)==null||s.disconnect(),delete n.classes}else if(e==="position"){var a,l;(a=n.position)==null||(l=a.observer)==null||l.disconnect(),delete n.position}else{var c,d,u;(c=n.attributes)==null||(d=c[e])==null||(u=d.observer)==null||u.disconnect(),delete n.attributes[e]}}var UD;function W3e(t){return UD||(UD=document.createElement("div")),UD.innerHTML=t,UD.innerHTML}function VD(t,e,n){if(n.isDirty){n.isDirty=!1;var i=n.virtualValue;n.mutations.length||G3e(t,e),n.setValue(t,i)}}function K3e(t,e){t.html&&VD(e,"html",t.html),t.classes&&VD(e,"class",t.classes),t.position&&VD(e,"position",t.position),Object.keys(t.attributes).forEach(function(n){VD(e,n,t.attributes[n])})}function Fde(){QD.forEach(K3e)}function q3e(t,e){var n=null;t.kind==="html"?n=Lde(e):t.kind==="class"?n=Vde(e):t.kind==="attribute"?n=Hde(e,t.attribute):t.kind==="position"&&(n=Ude(e)),n&&(n.mutations.push(t),n.mutationRunner(n))}function Y3e(t,e){var n=null;if(t.kind==="html"?n=Lde(e):t.kind==="class"?n=Vde(e):t.kind==="attribute"?n=Hde(e,t.attribute):t.kind==="position"&&(n=Ude(e)),!!n){var i=n.mutations.indexOf(t);i!==-1&&n.mutations.splice(i,1),n.mutationRunner(n)}}function Qde(t){if(!(t.kind==="position"&&t.elements.size===1)){var e=new Set(t.elements),n=document.querySelectorAll(t.selector);n.forEach(function(i){e.has(i)||(t.elements.add(i),q3e(t,i))})}}function X3e(t){t.elements.forEach(function(e){return Y3e(t,e)}),t.elements.clear(),l5.delete(t)}function Nde(){l5.forEach(Qde)}var o5;function Z3e(){typeof document>"u"||(o5||(o5=new MutationObserver(function(){Nde()})),Nde(),o5.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}Z3e();function GD(t){return typeof document>"u"?a5:(l5.add(t),Qde(t),{revert:function(){X3e(t)}})}function s5(t,e){return GD({kind:"html",elements:new Set,mutate:e,selector:t})}function jde(t,e){return GD({kind:"position",elements:new Set,mutate:e,selector:t})}function Hw(t,e){return GD({kind:"class",elements:new Set,mutate:e,selector:t})}function HD(t,e,n){return D3e.test(e)?e==="class"||e==="className"?Hw(t,function(i){var r=n(Array.from(i).join(" "));i.clear(),r&&r.split(/\s+/g).filter(Boolean).forEach(function(o){return i.add(o)})}):GD({kind:"attribute",attribute:e,elements:new Set,mutate:n,selector:t}):a5}function J3e(t){var e=t.selector,n=t.action,i=t.value,r=t.attribute,o=t.parentSelector,s=t.insertBeforeSelector;if(r==="html"){if(n==="append")return s5(e,function(a){return a+(i??"")});if(n==="set")return s5(e,function(){return i??""})}else if(r==="class"){if(n==="append")return Hw(e,function(a){i&&a.add(i)});if(n==="remove")return Hw(e,function(a){i&&a.delete(i)});if(n==="set")return Hw(e,function(a){a.clear(),i&&a.add(i)})}else if(r==="position"){if(n==="set"&&o)return jde(e,function(){return{insertBeforeSelector:s,parentSelector:o}})}else{if(n==="append")return HD(e,r,function(a){return a!==null?a+(i??""):i??""});if(n==="set")return HD(e,r,function(){return i??""});if(n==="remove")return HD(e,r,function(){return null})}return a5}var eVe={html:s5,classes:Hw,attribute:HD,position:jde,declarative:J3e},$de=eVe;var c5={};function Hf(t,e,n){n=n||{};for(let[i,r]of Object.entries(e))switch(i){case"$or":if(!zde(t,r,n))return!1;break;case"$nor":if(zde(t,r,n))return!1;break;case"$and":if(!sVe(t,r,n))return!1;break;case"$not":if(Hf(t,r,n))return!1;break;default:if(!Qw(r,tVe(t,i),n))return!1}return!0}function tVe(t,e){let n=e.split("."),i=t;for(let r=0;r<n.length;r++)if(i&&typeof i=="object"&&n[r]in i)i=i[n[r]];else return null;return i}function nVe(t){return c5[t]||(c5[t]=new RegExp(t.replace(/([^\\])\//g,"$1\\/"))),c5[t]}function Qw(t,e,n){if(typeof t=="string")return e+""===t;if(typeof t=="number")return e*1===t;if(typeof t=="boolean")return e!==null&&!!e===t;if(t===null)return e===null;if(Array.isArray(t)||!Gde(t))return JSON.stringify(e)===JSON.stringify(t);for(let i in t)if(!oVe(i,e,t[i],n))return!1;return!0}function Gde(t){let e=Object.keys(t);return e.length>0&&e.filter(n=>n[0]==="$").length===e.length}function iVe(t){if(t===null)return"null";if(Array.isArray(t))return"array";let e=typeof t;return["string","number","boolean","object","undefined"].includes(e)?e:"unknown"}function rVe(t,e,n){if(!Array.isArray(t))return!1;let i=Gde(e)?r=>Qw(e,r,n):r=>Hf(r,e,n);for(let r=0;r<t.length;r++)if(t[r]&&i(t[r]))return!0;return!1}function WD(t,e){return Array.isArray(t)?t.some(n=>e.includes(n)):e.includes(t)}function oVe(t,e,n,i){switch(t){case"$veq":return Da(e)===Da(n);case"$vne":return Da(e)!==Da(n);case"$vgt":return Da(e)>Da(n);case"$vgte":return Da(e)>=Da(n);case"$vlt":return Da(e)<Da(n);case"$vlte":return Da(e)<=Da(n);case"$eq":return e===n;case"$ne":return e!==n;case"$lt":return e<n;case"$lte":return e<=n;case"$gt":return e>n;case"$gte":return e>=n;case"$exists":return n?e!=null:e==null;case"$in":return Array.isArray(n)?WD(e,n):!1;case"$inGroup":return WD(e,i[n]||[]);case"$notInGroup":return!WD(e,i[n]||[]);case"$nin":return Array.isArray(n)?!WD(e,n):!1;case"$not":return!Qw(n,e,i);case"$size":return Array.isArray(e)?Qw(n,e.length,i):!1;case"$elemMatch":return rVe(e,n,i);case"$all":if(!Array.isArray(e))return!1;for(let r=0;r<n.length;r++){let o=!1;for(let s=0;s<e.length;s++)if(Qw(n[r],e[s],i)){o=!0;break}if(!o)return!1}return!0;case"$regex":try{return nVe(n).test(e)}catch{return!1}case"$type":return iVe(e)===n;default:return console.error("Unknown operator: "+t),!1}}function zde(t,e,n){if(!e.length)return!0;for(let i=0;i<e.length;i++)if(Hf(t,e[i],n))return!0;return!1}function sVe(t,e,n){for(let i=0;i<e.length;i++)if(!Hf(t,e[i],n))return!1;return!0}var h5="Feature Evaluated",f5="Experiment Viewed";function aVe(t){let e=new Map;return t.global.forcedFeatureValues&&t.global.forcedFeatureValues.forEach((n,i)=>e.set(i,n)),t.user.forcedFeatureValues&&t.user.forcedFeatureValues.forEach((n,i)=>e.set(i,n)),e}function lVe(t){return t.global.forcedVariations&&t.user.forcedVariations?V(V({},t.global.forcedVariations),t.user.forcedVariations):t.global.forcedVariations?t.global.forcedVariations:t.user.forcedVariations?t.user.forcedVariations:{}}function d_(t){return ue(this,null,function*(){try{yield t()}catch{}})}function Wde(t,e,n){if(t.user.trackedExperiments){let r=YD(e,n);if(t.user.trackedExperiments.has(r))return[];t.user.trackedExperiments.add(r)}t.user.enableDevMode&&t.user.devLogs&&t.user.devLogs.push({experiment:e,result:n,timestamp:Date.now().toString(),logType:"experiment"});let i=[];if(t.global.trackingCallback){let r=t.global.trackingCallback;i.push(d_(()=>r(e,n,t.user)))}if(t.user.trackingCallback){let r=t.user.trackingCallback;i.push(d_(()=>r(e,n)))}if(t.global.eventLogger){let r=t.global.eventLogger;i.push(d_(()=>r(f5,{experimentId:e.key,variationId:n.key,hashAttribute:n.hashAttribute,hashValue:n.hashValue},t.user)))}return i}function cVe(t,e,n){if(t.user.trackedFeatureUsage){let i=JSON.stringify(n.value);if(t.user.trackedFeatureUsage[e]===i)return;t.user.trackedFeatureUsage[e]=i,t.user.enableDevMode&&t.user.devLogs&&t.user.devLogs.push({featureKey:e,result:n,timestamp:Date.now().toString(),logType:"feature"})}if(t.global.onFeatureUsage){let i=t.global.onFeatureUsage;d_(()=>i(e,n,t.user))}if(t.user.onFeatureUsage){let i=t.user.onFeatureUsage;d_(()=>i(e,n))}if(t.global.eventLogger){let i=t.global.eventLogger;d_(()=>i(h5,{feature:e,source:n.source,value:n.value,ruleId:n.source==="defaultValue"?"$default":n.ruleId||"",variationId:n.experimentResult?n.experimentResult.key:""},t.user))}}function KD(t,e){if(e.stack.evaluatedFeatures.has(t))return Qf(e,t,null,"cyclicPrerequisite");e.stack.evaluatedFeatures.add(t),e.stack.id=t;let n=aVe(e);if(n.has(t))return Qf(e,t,n.get(t),"override");if(!e.global.features||!e.global.features[t])return Qf(e,t,null,"unknownFeature");let i=e.global.features[t];if(i.rules){let r=new Set(e.stack.evaluatedFeatures);e:for(let o of i.rules){if(o.parentConditions)for(let l of o.parentConditions){e.stack.evaluatedFeatures=new Set(r);let c=KD(l.id,e);if(c.source==="cyclicPrerequisite")return Qf(e,t,null,"cyclicPrerequisite");let d={value:c.value};if(!Hf(d,l.condition||{})){if(l.gate)return Qf(e,t,null,"prerequisite");continue e}}if(o.filters&&Yde(o.filters,e))continue;if("force"in o){if(o.condition&&!qde(o.condition,e)||!dVe(e,o.seed||t,o.hashAttribute,e.user.saveStickyBucketAssignmentDoc&&!o.disableStickyBucketing?o.fallbackAttribute:void 0,o.range,o.coverage,o.hashVersion))continue;return o.tracks&&o.tracks.forEach(l=>{!Wde(e,l.experiment,l.result).length&&e.global.saveDeferredTrack&&e.global.saveDeferredTrack({experiment:l.experiment,result:l.result})}),Qf(e,t,o.force,"force",o.id)}if(!o.variations)continue;let s={variations:o.variations,key:o.key||t};"coverage"in o&&(s.coverage=o.coverage),o.weights&&(s.weights=o.weights),o.hashAttribute&&(s.hashAttribute=o.hashAttribute),o.fallbackAttribute&&(s.fallbackAttribute=o.fallbackAttribute),o.disableStickyBucketing&&(s.disableStickyBucketing=o.disableStickyBucketing),o.bucketVersion!==void 0&&(s.bucketVersion=o.bucketVersion),o.minBucketVersion!==void 0&&(s.minBucketVersion=o.minBucketVersion),o.namespace&&(s.namespace=o.namespace),o.meta&&(s.meta=o.meta),o.ranges&&(s.ranges=o.ranges),o.name&&(s.name=o.name),o.phase&&(s.phase=o.phase),o.seed&&(s.seed=o.seed),o.hashVersion&&(s.hashVersion=o.hashVersion),o.filters&&(s.filters=o.filters),o.condition&&(s.condition=o.condition);let{result:a}=qD(s,t,e);if(e.global.onExperimentEval&&e.global.onExperimentEval(s,a),a.inExperiment&&!a.passthrough)return Qf(e,t,a.value,"experiment",o.id,s,a)}}return Qf(e,t,i.defaultValue===void 0?null:i.defaultValue,"defaultValue")}function qD(t,e,n){let i=t.key,r=t.variations.length;if(r<2)return{result:Zi(n,t,-1,!1,e)};if(n.global.enabled===!1||n.user.enabled===!1)return{result:Zi(n,t,-1,!1,e)};if(t=uVe(t,n),t.urlPatterns&&!OD(n.user.url||"",t.urlPatterns))return{result:Zi(n,t,-1,!1,e)};let o=xde(i,n.user.url||"",r);if(o!==null)return{result:Zi(n,t,o,!1,e)};let s=lVe(n);if(i in s){let x=s[i];return{result:Zi(n,t,x,!1,e)}}if(t.status==="draft"||t.active===!1)return{result:Zi(n,t,-1,!1,e)};let{hashAttribute:a,hashValue:l}=Um(n,t.hashAttribute,n.user.saveStickyBucketAssignmentDoc&&!t.disableStickyBucketing?t.fallbackAttribute:void 0);if(!l)return{result:Zi(n,t,-1,!1,e)};let c=-1,d=!1,u=!1;if(n.user.saveStickyBucketAssignmentDoc&&!t.disableStickyBucketing){let{variation:x,versionIsBlocked:T}=pVe({ctx:n,expKey:t.key,expBucketVersion:t.bucketVersion,expHashAttribute:t.hashAttribute,expFallbackAttribute:t.fallbackAttribute,expMinBucketVersion:t.minBucketVersion,expMeta:t.meta});d=x>=0,c=x,u=!!T}if(!d){if(t.filters){if(Yde(t.filters,n))return{result:Zi(n,t,-1,!1,e)}}else if(t.namespace&&!Cde(l,t.namespace))return{result:Zi(n,t,-1,!1,e)};if(t.include&&!Sde(t.include))return{result:Zi(n,t,-1,!1,e)};if(t.condition&&!qde(t.condition,n))return{result:Zi(n,t,-1,!1,e)};if(t.parentConditions){let x=new Set(n.stack.evaluatedFeatures);for(let T of t.parentConditions){n.stack.evaluatedFeatures=new Set(x);let k=KD(T.id,n);if(k.source==="cyclicPrerequisite")return{result:Zi(n,t,-1,!1,e)};let U={value:k.value};if(!Hf(U,T.condition||{}))return{result:Zi(n,t,-1,!1,e)}}}if(t.groups&&!fVe(t.groups,n))return{result:Zi(n,t,-1,!1,e)}}if(t.url&&!hVe(t.url,n))return{result:Zi(n,t,-1,!1,e)};let p=Lw(t.seed||i,l,t.hashVersion||1);if(p===null)return{result:Zi(n,t,-1,!1,e)};if(!d){let x=t.ranges||Ede(r,t.coverage===void 0?1:t.coverage,t.weights);c=wde(p,x)}if(u)return{result:Zi(n,t,-1,!1,e,void 0,!0)};if(c<0)return{result:Zi(n,t,-1,!1,e)};if("force"in t)return{result:Zi(n,t,t.force===void 0?-1:t.force,!1,e)};if(n.global.qaMode||n.user.qaMode)return{result:Zi(n,t,-1,!1,e)};if(t.status==="stopped")return{result:Zi(n,t,-1,!1,e)};let g=Zi(n,t,c,!0,e,p,d);if(n.user.saveStickyBucketAssignmentDoc&&!t.disableStickyBucketing){let{changed:x,key:T,doc:k}=AVe(n,a,Uw(l),{[d5(t.key,t.bucketVersion)]:g.key});x&&(n.user.stickyBucketAssignmentDocs=n.user.stickyBucketAssignmentDocs||{},n.user.stickyBucketAssignmentDocs[T]=k,n.user.saveStickyBucketAssignmentDoc(k))}let v=Wde(n,t,g);v.length===0&&n.global.saveDeferredTrack&&n.global.saveDeferredTrack({experiment:t,result:g});let b=v.length?v.length===1?v[0]:Promise.all(v).then(()=>{}):void 0;return"changeId"in t&&t.changeId&&n.global.recordChangeId&&n.global.recordChangeId(t.changeId),{result:g,trackingCall:b}}function Qf(t,e,n,i,r,o,s){let a={value:n,on:!!n,off:!n,source:i,ruleId:r||""};return o&&(a.experiment=o),s&&(a.experimentResult=s),i!=="override"&&cVe(t,e,a),a}function Kde(t){return V(V({},t.user.attributes),t.user.attributeOverrides)}function qde(t,e){return Hf(Kde(e),t,e.global.savedGroups||{})}function Yde(t,e){return t.some(n=>{let{hashValue:i}=Um(e,n.attribute);if(!i)return!0;let r=Lw(n.seed,i,n.hashVersion||2);return r===null?!0:!n.ranges.some(o=>PD(r,o))})}function dVe(t,e,n,i,r,o,s){if(!r&&o===void 0)return!0;if(!r&&o===0)return!1;let{hashValue:a}=Um(t,n,i);if(!a)return!1;let l=Lw(e,a,s||1);return l===null?!1:r?PD(l,r):o!==void 0?l<=o:!0}function Zi(t,e,n,i,r,o,s){let a=!0;(n<0||n>=e.variations.length)&&(n=0,a=!1);let{hashAttribute:l,hashValue:c}=Um(t,e.hashAttribute,t.user.saveStickyBucketAssignmentDoc&&!e.disableStickyBucketing?e.fallbackAttribute:void 0),d=e.meta?e.meta[n]:{},u={key:d.key||""+n,featureId:r,inExperiment:a,hashUsed:i,variationId:n,value:e.variations[n],hashAttribute:l,hashValue:c,stickyBucketUsed:!!s};return d.name&&(u.name=d.name),o!==void 0&&(u.bucket=o),d.passthrough&&(u.passthrough=d.passthrough),u}function uVe(t,e){let n=t.key,i=e.global.overrides;return i&&i[n]&&(t=Object.assign({},t,i[n]),typeof t.url=="string"&&(t.url=Jj(t.url))),t}function Um(t,e,n){let i=e||"id",r="",o=Kde(t);return o[i]&&(r=o[i]),!r&&n&&(o[n]&&(r=o[n]),r&&(i=n)),{hashAttribute:i,hashValue:r}}function hVe(t,e){let n=e.user.url;if(!n)return!1;let i=n.replace(/^https?:\/\//,"").replace(/^[^/]*\//,"/");return!!(t.test(n)||t.test(i))}function fVe(t,e){let n=e.global.groups||{};for(let i=0;i<t.length;i++)if(n[t[i]])return!0;return!1}function pVe(t){let{ctx:e,expKey:n,expBucketVersion:i,expHashAttribute:r,expFallbackAttribute:o,expMinBucketVersion:s,expMeta:a}=t;i=i||0,s=s||0,r=r||"id",a=a||[];let l=d5(n,i),c=mVe(e,r,o);if(s>0)for(let p=0;p<=s;p++){let g=d5(n,p);if(c[g]!==void 0)return{variation:-1,versionIsBlocked:!0}}let d=c[l];if(d===void 0)return{variation:-1};let u=a.findIndex(p=>p.key===d);return u<0?{variation:-1}:{variation:u}}function d5(t,e){return e=e||0,`${t}__${e}`}function u5(t,e){return`${t}||${e}`}function mVe(t,e,n){if(!t.user.stickyBucketAssignmentDocs)return{};let{hashAttribute:i,hashValue:r}=Um(t,e),o=u5(i,Uw(r)),{hashAttribute:s,hashValue:a}=Um(t,n),l=a?u5(s,Uw(a)):null,c={};return l&&t.user.stickyBucketAssignmentDocs[l]&&Object.assign(c,t.user.stickyBucketAssignmentDocs[l].assignments||{}),t.user.stickyBucketAssignmentDocs[o]&&Object.assign(c,t.user.stickyBucketAssignmentDocs[o].assignments||{}),c}function AVe(t,e,n,i){let r=u5(e,n),o=t.user.stickyBucketAssignmentDocs&&t.user.stickyBucketAssignmentDocs[r]?t.user.stickyBucketAssignmentDocs[r].assignments||{}:{},s=V(V({},o),i),a=JSON.stringify(o)!==JSON.stringify(s);return{key:r,doc:{attributeName:e,attributeValue:n,assignments:s},changed:a}}function gVe(t,e){let n=new Set,i=e&&e.features?e.features:t.global.features||{},r=e&&e.experiments?e.experiments:t.global.experiments||[];return Object.keys(i).forEach(o=>{let s=i[o];if(s.rules)for(let a of s.rules)a.variations&&(n.add(a.hashAttribute||"id"),a.fallbackAttribute&&n.add(a.fallbackAttribute))}),r.map(o=>{n.add(o.hashAttribute||"id"),o.fallbackAttribute&&n.add(o.fallbackAttribute)}),Array.from(n)}function Xde(t,e,n){return ue(this,null,function*(){let i=p5(t,n);return e.getAllAssignments(i)})}function p5(t,e){let n={};return gVe(t,e).forEach(r=>{let{hashValue:o}=Um(t,r);n[r]=Uw(o)}),n}function Zde(t,e,n){return ue(this,null,function*(){if(t=V({},t),t.encryptedFeatures){try{t.features=JSON.parse(yield Lm(t.encryptedFeatures,e,n))}catch(i){console.error(i)}delete t.encryptedFeatures}if(t.encryptedExperiments){try{t.experiments=JSON.parse(yield Lm(t.encryptedExperiments,e,n))}catch(i){console.error(i)}delete t.encryptedExperiments}if(t.encryptedSavedGroups){try{t.savedGroups=JSON.parse(yield Lm(t.encryptedSavedGroups,e,n))}catch(i){console.error(i)}delete t.encryptedSavedGroups}return t})}function Jde(t){let e=t.apiHost||"https://cdn.growthbook.io";return{apiHost:e.replace(/\/*$/,""),streamingHost:(t.streamingHost||e).replace(/\/*$/,""),apiRequestHeaders:t.apiHostRequestHeaders,streamingHostRequestHeaders:t.streamingHostRequestHeaders}}function YD(t,e){return e.hashAttribute+e.hashValue+t.key+e.variationId}var u_=typeof window<"u"&&typeof document<"u",vVe=RD(),jw=class{constructor(e){if(e=e||{},this.version=vVe,this._options=this.context=e,this._renderer=e.renderer||null,this._trackedExperiments=new Set,this._completedChangeIds=new Set,this._trackedFeatures={},this.debug=!!e.debug,this._subscriptions=new Set,this.ready=!1,this._assigned=new Map,this._activeAutoExperiments=new Map,this._triggeredExpKeys=new Set,this._initialized=!1,this._redirectedUrl="",this._deferredTrackingCalls=new Map,this._autoExperimentsAllowed=!e.disableExperimentsOnLoad,this._destroyCallbacks=[],this.logs=[],this.log=this.log.bind(this),this._saveDeferredTrack=this._saveDeferredTrack.bind(this),this._fireSubscriptions=this._fireSubscriptions.bind(this),this._recordChangedId=this._recordChangedId.bind(this),e.remoteEval){if(e.decryptionKey)throw new Error("Encryption is not available for remoteEval");if(!e.clientKey)throw new Error("Missing clientKey");let n=!1;try{n=!!new URL(e.apiHost||"").hostname.match(/growthbook\.io$/i)}catch{}if(n)throw new Error("Cannot use remoteEval on GrowthBook Cloud")}else if(e.cacheKeyAttributes)throw new Error("cacheKeyAttributes are only used for remoteEval");if(e.stickyBucketService){let n=e.stickyBucketService;this._saveStickyBucketAssignmentDoc=i=>n.saveAssignments(i)}if(e.plugins)for(let n of e.plugins)n(this);if(e.features&&(this.ready=!0),u_&&e.enableDevMode&&(window._growthbook=this,document.dispatchEvent(new Event("gbloaded"))),e.experiments&&(this.ready=!0,this._updateAllAutoExperiments()),this._options.stickyBucketService&&this._options.stickyBucketAssignmentDocs)for(let n in this._options.stickyBucketAssignmentDocs){let i=this._options.stickyBucketAssignmentDocs[n];i&&this._options.stickyBucketService.saveAssignments(i).catch(()=>{})}this.ready&&this.refreshStickyBuckets(this.getPayload())}setPayload(e){return ue(this,null,function*(){this._payload=e;let n=yield Zde(e,this._options.decryptionKey);this._decryptedPayload=n,yield this.refreshStickyBuckets(n),n.features&&(this._options.features=n.features),n.savedGroups&&(this._options.savedGroups=n.savedGroups),n.experiments&&(this._options.experiments=n.experiments,this._updateAllAutoExperiments()),this.ready=!0,this._render()})}initSync(e){this._initialized=!0;let n=e.payload;if(n.encryptedExperiments||n.encryptedFeatures)throw new Error("initSync does not support encrypted payloads");return this._options.stickyBucketService&&!this._options.stickyBucketAssignmentDocs&&(this._options.stickyBucketAssignmentDocs=this.generateStickyBucketAssignmentDocsSync(this._options.stickyBucketService,n)),this._payload=n,this._decryptedPayload=n,n.features&&(this._options.features=n.features),n.experiments&&(this._options.experiments=n.experiments,this._updateAllAutoExperiments()),this.ready=!0,LD(this,e),this}init(e){return ue(this,null,function*(){if(this._initialized=!0,e=e||{},e.cacheSettings&&Mde(e.cacheSettings),e.payload)return yield this.setPayload(e.payload),LD(this,e),{success:!0,source:"init"};{let n=yield this._refresh(De(V({},e),{allowStale:!0})),{data:i}=n,r=gc(n,["data"]);return LD(this,e),yield this.setPayload(i||{}),r}})}loadFeatures(e){return ue(this,null,function*(){e=e||{},yield this.init({skipCache:e.skipCache,timeout:e.timeout,streaming:(this._options.backgroundSync??!0)&&(e.autoRefresh||this._options.subscribeToChanges)})})}refreshFeatures(e){return ue(this,null,function*(){let n=yield this._refresh(De(V({},e||{}),{allowStale:!1}));n.data&&(yield this.setPayload(n.data))})}getApiInfo(){return[this.getApiHosts().apiHost,this.getClientKey()]}getApiHosts(){return Jde(this._options)}getClientKey(){return this._options.clientKey||""}getPayload(){return this._payload||{features:this.getFeatures(),experiments:this.getExperiments()}}getDecryptedPayload(){return this._decryptedPayload||this.getPayload()}isRemoteEval(){return this._options.remoteEval||!1}getCacheKeyAttributes(){return this._options.cacheKeyAttributes}_refresh(e){return ue(this,null,function*(){let{timeout:n,skipCache:i,allowStale:r,streaming:o}=e;if(!this._options.clientKey)throw new Error("Missing clientKey");return Dde({instance:this,timeout:n,skipCache:i||this._options.disableCache,allowStale:r,backgroundSync:o??this._options.backgroundSync??!0})})}_render(){if(this._renderer)try{this._renderer()}catch(e){console.error("Failed to render",e)}}setFeatures(e){this._options.features=e,this.ready=!0,this._render()}setEncryptedFeatures(e,n,i){return ue(this,null,function*(){let r=yield Lm(e,n||this._options.decryptionKey,i);this.setFeatures(JSON.parse(r))})}setExperiments(e){this._options.experiments=e,this.ready=!0,this._updateAllAutoExperiments()}setEncryptedExperiments(e,n,i){return ue(this,null,function*(){let r=yield Lm(e,n||this._options.decryptionKey,i);this.setExperiments(JSON.parse(r))})}setAttributes(e){return ue(this,null,function*(){if(this._options.attributes=e,this._options.stickyBucketService&&(yield this.refreshStickyBuckets()),this._options.remoteEval){yield this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()})}updateAttributes(e){return ue(this,null,function*(){return this.setAttributes(V(V({},this._options.attributes),e))})}setAttributeOverrides(e){return ue(this,null,function*(){if(this._options.attributeOverrides=e,this._options.stickyBucketService&&(yield this.refreshStickyBuckets()),this._options.remoteEval){yield this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()})}setForcedVariations(e){return ue(this,null,function*(){if(this._options.forcedVariations=e||{},this._options.remoteEval){yield this._refreshForRemoteEval();return}this._render(),this._updateAllAutoExperiments()})}setForcedFeatures(e){this._options.forcedFeatureValues=e,this._render()}setURL(e){return ue(this,null,function*(){if(e!==this._options.url){if(this._options.url=e,this._redirectedUrl="",this._options.remoteEval){yield this._refreshForRemoteEval(),this._updateAllAutoExperiments(!0);return}this._updateAllAutoExperiments(!0)}})}getAttributes(){return V(V({},this._options.attributes),this._options.attributeOverrides)}getForcedVariations(){return this._options.forcedVariations||{}}getForcedFeatures(){return this._options.forcedFeatureValues||new Map}getStickyBucketAssignmentDocs(){return this._options.stickyBucketAssignmentDocs||{}}getUrl(){return this._options.url||""}getFeatures(){return this._options.features||{}}getExperiments(){return this._options.experiments||[]}getCompletedChangeIds(){return Array.from(this._completedChangeIds)}subscribe(e){return this._subscriptions.add(e),()=>{this._subscriptions.delete(e)}}_refreshForRemoteEval(){return ue(this,null,function*(){if(!this._options.remoteEval||!this._initialized)return;let e=yield this._refresh({allowStale:!1});e.data&&(yield this.setPayload(e.data))})}getAllResults(){return new Map(this._assigned)}onDestroy(e){this._destroyCallbacks.push(e)}isDestroyed(){return!!this._destroyed}destroy(){this._destroyed=!0,this._destroyCallbacks.forEach(e=>{try{e()}catch(n){console.error(n)}}),this._subscriptions.clear(),this._assigned.clear(),this._trackedExperiments.clear(),this._completedChangeIds.clear(),this._deferredTrackingCalls.clear(),this._trackedFeatures={},this._destroyCallbacks=[],this._payload=void 0,this._saveStickyBucketAssignmentDoc=void 0,Pde(this),this.logs=[],u_&&window._growthbook===this&&delete window._growthbook,this._activeAutoExperiments.forEach(e=>{e.undo()}),this._activeAutoExperiments.clear(),this._triggeredExpKeys.clear()}setRenderer(e){this._renderer=e}forceVariation(e,n){if(this._options.forcedVariations=this._options.forcedVariations||{},this._options.forcedVariations[e]=n,this._options.remoteEval){this._refreshForRemoteEval();return}this._updateAllAutoExperiments(),this._render()}run(e){let{result:n}=qD(e,null,this._getEvalContext());return this._fireSubscriptions(e,n),n}triggerExperiment(e){return this._triggeredExpKeys.add(e),this._options.experiments?this._options.experiments.filter(i=>i.key===e).map(i=>this._runAutoExperiment(i)).filter(i=>i!==null):null}triggerAutoExperiments(){this._autoExperimentsAllowed=!0,this._updateAllAutoExperiments(!0)}_getEvalContext(){return{user:this._getUserContext(),global:this._getGlobalContext(),stack:{evaluatedFeatures:new Set}}}_getUserContext(){return{attributes:this._options.user?V(V({},this._options.user),this._options.attributes):this._options.attributes,enableDevMode:this._options.enableDevMode,blockedChangeIds:this._options.blockedChangeIds,stickyBucketAssignmentDocs:this._options.stickyBucketAssignmentDocs,url:this._getContextUrl(),forcedVariations:this._options.forcedVariations,forcedFeatureValues:this._options.forcedFeatureValues,attributeOverrides:this._options.attributeOverrides,saveStickyBucketAssignmentDoc:this._saveStickyBucketAssignmentDoc,trackingCallback:this._options.trackingCallback,onFeatureUsage:this._options.onFeatureUsage,devLogs:this.logs,trackedExperiments:this._trackedExperiments,trackedFeatureUsage:this._trackedFeatures}}_getGlobalContext(){return{features:this._options.features,experiments:this._options.experiments,log:this.log,enabled:this._options.enabled,qaMode:this._options.qaMode,savedGroups:this._options.savedGroups,groups:this._options.groups,overrides:this._options.overrides,onExperimentEval:this._subscriptions.size>0?this._fireSubscriptions:void 0,recordChangeId:this._recordChangedId,saveDeferredTrack:this._saveDeferredTrack,eventLogger:this._options.eventLogger}}_runAutoExperiment(e,n){let i=this._activeAutoExperiments.get(e);if(e.manual&&!this._triggeredExpKeys.has(e.key)&&!i)return null;let r=this._isAutoExperimentBlockedByContext(e),o,s;r?o=Zi(this._getEvalContext(),e,-1,!1,""):({result:o,trackingCall:s}=qD(e,null,this._getEvalContext()),this._fireSubscriptions(e,o));let a=JSON.stringify(o.value);if(!n&&o.inExperiment&&i&&i.valueHash===a)return o;if(i&&this._undoActiveAutoExperiment(e),o.inExperiment){let l=BD(e);if(l==="redirect"&&o.value.urlRedirect&&e.urlPatterns){let c=e.persistQueryString?Tde(this._getContextUrl(),o.value.urlRedirect):o.value.urlRedirect;if(OD(c,e.urlPatterns))return this.log("Skipping redirect because original URL matches redirect URL",{id:e.key}),o;this._redirectedUrl=c;let{navigate:d,delay:u}=this._getNavigateFunction();if(d)if(u_)Promise.all([...s?[FD(s,this._options.maxNavigateDelay??1e3)]:[],new Promise(p=>window.setTimeout(p,this._options.navigateDelay??u))]).then(()=>{try{d(c)}catch(p){console.error(p)}});else try{d(c)}catch(p){console.error(p)}}else if(l==="visual"){let c=this._options.applyDomChangesCallback?this._options.applyDomChangesCallback(o.value):this._applyDOMChanges(o.value);c&&this._activeAutoExperiments.set(e,{undo:c,valueHash:a})}}return o}_undoActiveAutoExperiment(e){let n=this._activeAutoExperiments.get(e);n&&(n.undo(),this._activeAutoExperiments.delete(e))}_updateAllAutoExperiments(e){if(!this._autoExperimentsAllowed)return;let n=this._options.experiments||[],i=new Set(n);this._activeAutoExperiments.forEach((r,o)=>{i.has(o)||(r.undo(),this._activeAutoExperiments.delete(o))});for(let r of n){let o=this._runAutoExperiment(r,e);if(o!=null&&o.inExperiment&&BD(r)==="redirect")break}}_fireSubscriptions(e,n){let i=e.key,r=this._assigned.get(i);(!r||r.result.inExperiment!==n.inExperiment||r.result.variationId!==n.variationId)&&(this._assigned.set(i,{experiment:e,result:n}),this._subscriptions.forEach(o=>{try{o(e,n)}catch(s){console.error(s)}}))}_recordChangedId(e){this._completedChangeIds.add(e)}isOn(e){return this.evalFeature(e).on}isOff(e){return this.evalFeature(e).off}getFeatureValue(e,n){let i=this.evalFeature(e).value;return i===null?n:i}feature(e){return this.evalFeature(e)}evalFeature(e){return KD(e,this._getEvalContext())}log(e,n){this.debug&&(this._options.log?this._options.log(e,n):console.log(e,n))}getDeferredTrackingCalls(){return Array.from(this._deferredTrackingCalls.values())}setDeferredTrackingCalls(e){this._deferredTrackingCalls=new Map(e.filter(n=>n&&n.experiment&&n.result).map(n=>[YD(n.experiment,n.result),n]))}fireDeferredTrackingCalls(){return ue(this,null,function*(){if(!this._options.trackingCallback)return;let e=[];this._deferredTrackingCalls.forEach(n=>{!n||!n.experiment||!n.result?console.error("Invalid deferred tracking call",{call:n}):e.push(this._options.trackingCallback(n.experiment,n.result))}),this._deferredTrackingCalls.clear(),yield Promise.all(e)})}setTrackingCallback(e){this._options.trackingCallback=e,this.fireDeferredTrackingCalls()}setEventLogger(e){this._options.eventLogger=e}logEvent(e,n){return ue(this,null,function*(){if(this._destroyed){console.error("Cannot log event to destroyed GrowthBook instance");return}if(this._options.enableDevMode&&this.logs.push({eventName:e,properties:n,timestamp:Date.now().toString(),logType:"event"}),this._options.eventLogger)try{yield this._options.eventLogger(e,n||{},this._getUserContext())}catch(i){console.error(i)}else console.error("No event logger configured")})}_saveDeferredTrack(e){this._deferredTrackingCalls.set(YD(e.experiment,e.result),e)}_getContextUrl(){return this._options.url||(u_?window.location.href:"")}_isAutoExperimentBlockedByContext(e){let n=BD(e);if(n==="visual"){if(this._options.disableVisualExperiments||this._options.disableJsInjection&&e.variations.some(i=>i.js))return!0}else if(n==="redirect"){if(this._options.disableUrlRedirectExperiments)return!0;try{let i=new URL(this._getContextUrl());for(let r of e.variations){if(!r||!r.urlRedirect)continue;let o=new URL(r.urlRedirect);if(this._options.disableCrossOriginUrlRedirectExperiments&&(o.protocol!==i.protocol||o.host!==i.host))return!0}}catch(i){return this.log("Error parsing current or redirect URL",{id:e.key,error:i}),!0}}else return!0;return!!(e.changeId&&(this._options.blockedChangeIds||[]).includes(e.changeId))}getRedirectUrl(){return this._redirectedUrl}_getNavigateFunction(){return this._options.navigate?{navigate:this._options.navigate,delay:0}:u_?{navigate:e=>{window.location.replace(e)},delay:100}:{navigate:null,delay:0}}_applyDOMChanges(e){if(!u_)return;let n=[];if(e.css){let i=document.createElement("style");i.innerHTML=e.css,document.head.appendChild(i),n.push(()=>i.remove())}if(e.js){let i=document.createElement("script");i.innerHTML=e.js,this._options.jsInjectionNonce&&(i.nonce=this._options.jsInjectionNonce),document.head.appendChild(i),n.push(()=>i.remove())}return e.domMutations&&e.domMutations.forEach(i=>{n.push($de.declarative(i).revert)}),()=>{n.forEach(i=>i())}}refreshStickyBuckets(e){return ue(this,null,function*(){if(this._options.stickyBucketService){let n=this._getEvalContext(),i=yield Xde(n,this._options.stickyBucketService,e);this._options.stickyBucketAssignmentDocs=i}})}generateStickyBucketAssignmentDocsSync(e,n){if(!("getAllAssignmentsSync"in e)){console.error("generating StickyBucketAssignmentDocs docs requires StickyBucketServiceSync");return}let i=this._getEvalContext(),r=p5(i,n);return e.getAllAssignmentsSync(r)}inDevMode(){return!!this._options.enableDevMode}};function _Ve(t){let e=t.match(/Edg/)?"edge":t.match(/Chrome/)?"chrome":t.match(/Firefox/)?"firefox":t.match(/Safari/)?"safari":"unknown",n=t.match(/Mobi/)?"mobile":"desktop";return{browser:e,deviceType:n}}function bVe(t){return t?{url:t.href,path:t.pathname,host:t.host,query:t.search}:{}}function m5(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof window>"u")throw new Error("autoAttributesPlugin only works in the browser");let e=t.uuidCookieName||"gbuuid",n=t.uuidKey||"id",i=t.uuid||"";function r(){yVe(e,i)}function o(){return i||(i=CVe(e),i)||(i=wVe(window.crypto)),i}document.addEventListener("growthbookpersist",()=>{r()});function s(a){let l=navigator.userAgent,c=o();(a.uuidAutoPersist??!a.uuid)&&r();let d=location;return V(V(De(V(De(V({},xVe()),{[n]:c}),bVe(d)),{pageTitle:document.title}),_Ve(l)),EVe(d))}return a=>{if("createScopedInstance"in a)return;let l=s(t);l.url&&a.setURL(l.url),a.updateAttributes(l);let c=l.url,d=setInterval(()=>{location.href!==c&&(c=location.href,a.setURL(c),a.updateAttributes(s(t)))},500),u=()=>{location.href!==c&&(c=location.href,a.setURL(c)),a.updateAttributes(s(t))};document.addEventListener("growthbookrefresh",u),"onDestroy"in a&&a.onDestroy(()=>{clearInterval(d),document.removeEventListener("growthbookrefresh",u)})}}function yVe(t,e){let n=new Date;n.setTime(n.getTime()+24*60*60*1e3*400),document.cookie=t+"="+e+";path=/;expires="+n.toUTCString()}function CVe(t){let n=("; "+document.cookie).split(`; ${t}=`);return n.length===2?n[1].split(";")[0]:""}function wVe(t){return t&&t.randomUUID?t.randomUUID():("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,e=>{let n=t&&t.getRandomValues?t.getRandomValues(new Uint8Array(1))[0]:Math.floor(Math.random()*256);return(e^n&15>>e/4).toString(16)})}function EVe(t){let e={};try{let n=sessionStorage.getItem("utm_params");n&&(e=JSON.parse(n))}catch{}if(t&&t.search){let n=new URLSearchParams(t.search),i=!1;if(["source","medium","campaign","term","content"].forEach(r=>{let o=`utm_${r}`,s="utm"+r[0].toUpperCase()+r.slice(1);n.has(o)&&(e[s]=n.get(o)||"",i=!0)}),i)try{sessionStorage.setItem("utm_params",JSON.stringify(e))}catch{}}return e}function xVe(){if(typeof window>"u"||!window.dataLayer||!window.dataLayer.forEach)return{};let t={};return window.dataLayer.forEach(e=>{!e||typeof e!="object"||"length"in e||"event"in e||Object.keys(e).forEach(n=>{if(typeof n!="string"||n.match(/^(gtm)/))return;let i=e[n],r=typeof i;["string","number","boolean"].includes(r)&&(t[n]=i)})}),t}var SVe=RD();function Md(t){return typeof t=="string"?t:null}function TVe(t){let v=t,{user_id:e,device_id:n,anonymous_id:i,id:r,page_id:o,session_id:s,utmCampaign:a,utmContent:l,utmMedium:c,utmSource:d,utmTerm:u,pageTitle:p}=v;return{nested:gc(v,["user_id","device_id","anonymous_id","id","page_id","session_id","utmCampaign","utmContent","utmMedium","utmSource","utmTerm","pageTitle"]),topLevel:{user_id:Md(e),device_id:Md(n||i||r),page_id:Md(o),session_id:Md(s),utm_campaign:Md(a)||void 0,utm_content:Md(l)||void 0,utm_medium:Md(c)||void 0,utm_source:Md(d)||void 0,utm_term:Md(u)||void 0,page_title:Md(p)||void 0}}}function IVe(t){let{eventName:e,properties:n,attributes:i,url:r}=t,{nested:o,topLevel:s}=TVe(i||{});return De(V({event_name:e,properties_json:n||{}},s),{sdk_language:"js",sdk_version:SVe,url:r,context_json:o})}function kVe(t){return ue(this,null,function*(){let{clientKey:e,ingestorHost:n,events:i}=t;if(!i.length)return;let r=`${n||"https://us1.gb-ingest.com"}/track?client_key=${e}`,o=JSON.stringify(i);try{yield fetch(r,{method:"POST",body:o,headers:{Accept:"application/json","Content-Type":"text/plain"},credentials:"omit"})}catch(s){console.error("Failed to track event",s)}})}function A5(){let{queueFlushInterval:t=100,ingestorHost:e,enable:n=!0,debug:i,dedupeCacheSize:r=1e3,dedupeKeyAttributes:o=[],eventFilter:s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return a=>{let l=a.getClientKey();if(!l)throw new Error("clientKey must be specified to use event logging");let c=new Set;if("setEventLogger"in a){let d=[],u=null,p=()=>ue(null,null,function*(){let v=d;d=[],u&&clearTimeout(u),u=null,v.length&&(yield kVe({clientKey:l,events:v,ingestorHost:e}))}),g=null;a.setEventLogger((v,b,x)=>ue(null,null,function*(){let T={eventName:v,properties:b,attributes:x.attributes||{},url:x.url||""};if(s&&!s(T))return;if(v===h5||v===f5){let U={eventName:v,properties:b};for(let N of o)U["attr:"+N]=T.attributes[N];let D=JSON.stringify(U);if(c.has(D)){c.delete(D),c.add(D);return}if(c.add(D),c.size>r){let N=c.values().next().value;N&&c.delete(N)}}let k=IVe(T);i&&console.log("Logging event to GrowthBook",JSON.parse(JSON.stringify(k))),n&&(d.push(k),g||(g=new Promise((U,D)=>{u=setTimeout(()=>{p().then(U).catch(D),g=null},t)})),yield g)})),typeof document<"u"&&document.visibilityState&&document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&p().catch(console.error)}),"onDestroy"in a&&a.onDestroy(()=>{p().catch(console.error)})}if(typeof window<"u"&&!("createScopedInstance"in a)){let d=Array.isArray(window.gbEvents)?window.gbEvents:[];window.gbEvents={push:u=>{if("isDestroyed"in a&&a.isDestroyed()){window.gbEvents=[u];return}typeof u=="string"?a.logEvent(u):u&&a.logEvent(u.eventName,u.properties)}};for(let u of d)window.gbEvents.push(u)}}}var eue=(()=>{let e=class e{constructor(i,r,o){this.accountService=i,this.subscriptionService=r,this.analyticsService=o,this.hardPaywall=!1,this.accountService.currentUserChange.subscribe(()=>this.updateUser())}init(){let i=this.getGrowthBookClientKey();i&&(this.lastUserAttributesSent=this.getUserAttributes(),this.growthBook=new jw({apiHost:"https://cdn.growthbook.io",clientKey:i,enableDevMode:Ue.growthBook.devMode,attributes:this.lastUserAttributesSent,trackingCallback:(r,o)=>{this.analyticsService.markActivity(mt.GrowthBookeExperimentViewed,{experimentId:r.key,variantId:o.key}),console.log("[GrowthBook] Experiment Viewed",{experimentId:r.key,variationId:o.key})},plugins:[m5(),A5({debug:!0})]}),this.growthBook.init({streaming:!0}).then(r=>{this.hardPaywall=this.growthBook.isOn("hard-paywall")||!1,console.log("hard-paywall =",this.hardPaywall),this.growthBook.logEvent("session_start",{userId:this.accountService.currentUser.id,subscription_tier:this.subscriptionService.activeSubscriptionTier.name})}))}getUserAttributes(){let i=this.accountService.currentUser;return{user_id:i.id,userId:i.id,displayName:i.displayName,type:i.type,gender:i.gender,areaOfStudy:i.areaOfStudyName,pronouns:i.pronouns,country:i.countryTwoLetterCode,detectedCountry:i.locationCountryTwoLetterCode,age:i.age,registerDate:i.dateCreated,timezone:i.timezoneId,emailConfirmed:i.emailConfirmed,phoneNumberConfirmed:i.phoneNumberConfirmed,completedBasicInfo:i.completedBasicInfo,completedUserProfileWizard:i.completedUserProfileWizard,hd:i.hd,theme:i.theme,roles:i.roles,subscriptionTier:this.subscriptionService.activeSubscriptionTier.name}}updateUser(){if(!this.getGrowthBookClientKey())return;let i=this.getUserAttributes();JSON.stringify(i)!==JSON.stringify(this.lastUserAttributesSent)&&(this.growthBook.setAttributes(i),this.lastUserAttributesSent=i)}getGrowthBookClientKey(){let i=Ue.growthBook.clientKey;return!i||!this.accountService.authenticated()?null:i}};e.\u0275fac=function(r){return new(r||e)(K(Qt),K(Ao),K(Kr))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tue=(()=>{let e=class e{constructor(i){this.http=i,this.API_ENDPOINT=`${Ue.apiUrl}/testimonials`}getAll(i=null){let r=new Oe;return i!==null&&(r=r.append("oldestTestimonialId",i)),r=r.append("take",qN),this.http.get(`${this.API_ENDPOINT}/public`,{params:r})}getAllForAdmin(i){let r=new Oe;return i!==null&&(r=r.append("oldestTestimonialId",i)),r=r.append("take",qN),this.http.get(this.API_ENDPOINT,{params:r})}saveTestimonial(i,r){return this.http.post(this.API_ENDPOINT,{source:i,sourceObjectId:r})}setPublicStatus(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}`,{newPublicState:r})}deleteTestimonial(i){return this.http.delete(`${this.API_ENDPOINT}/${i}`)}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var PVe=(t,e)=>e.id;function OVe(t,e){t&1&&(C(0,"button",0),$(1,"ss-icon",16),w()),t&2&&(y(),P("size",20)("iconVariant",20))}function RVe(t,e){if(t&1&&(C(0,"span",20),F(1),w()),t&2){let n=M(2);y(),ht("(Save ",n.maxSavingsOnAnnualPlan,"%)")}}function BVe(t,e){if(t&1){let n=fe();C(0,"section",3)(1,"div",17),G("click",function(){Y(n);let r=M();return X(r.toggleAnnualPrice(!1))}),F(2," Monthly "),w(),C(3,"mat-slide-toggle",18),G("change",function(r){Y(n);let o=M();return X(o.toggleAnnualPrice(r.checked))}),w(),C(4,"div",19),G("click",function(){Y(n);let r=M();return X(r.toggleAnnualPrice(!0))}),F(5," Annually "),H(6,RVe,2,1,"span",20),w()()}if(t&2){let n=M();y(),le("active",n.billingCycle===n.SubscriptionBillingCycleRef.Monthly),y(2),P("checked",n.billingCycle===n.SubscriptionBillingCycleRef.Annual),y(),le("active",n.billingCycle===n.SubscriptionBillingCycleRef.Annual),y(2),Q(n.maxSavingsOnAnnualPlan?6:-1)}}function FVe(t,e){if(t&1&&(C(0,"span"),F(1),kt(2,"number"),w(),C(3,"span",30),F(4,"\xA0/ month"),w()),t&2){let n=M().$implicit,i=M();y(),ht("$ ",oi(2,1,i.getPrice(n),"1.2-2"))}}function NVe(t,e){t&1&&$(0,"ss-upi-wrapper")}function LVe(t,e){if(t&1){let n=fe();C(0,"ss-button",31),G("buttonClick",function(){Y(n);let r=M().$implicit,o=M();return X(o.subscribe(r,!0))}),F(1," Start free trial "),w()}if(t&2){let n=M().$implicit,i=M();P("isLoading",i.subscribingToTierId===n.id&&i.subscribingWithTrial!==null&&i.subscribingWithTrial)("autoSize",!0)("matTooltip",i.getSubscribeButtonFreeTrialText(n))}}function UVe(t,e){if(t&1){let n=fe();C(0,"div",21)(1,"div",22)(2,"span"),F(3,"RECOMMENDED"),w()(),C(4,"div",23)(5,"h2"),F(6),w(),C(7,"div",24),H(8,FVe,5,4),w(),C(9,"div",25)(10,"ss-button",26),G("buttonClick",function(){let r=Y(n).$implicit,o=M();return X(o.subscribe(r,!1))}),F(11," Subscribe "),w(),H(12,NVe,1,0,"ss-upi-wrapper"),H(13,LVe,2,3,"ss-button",27),w()(),$(14,"div",28),kt(15,"trustHtml"),$(16,"div",29),w()}if(t&2){let n=e.$implicit,i=M();le("highlighted",n.name==="Premium"),y(6),Ne(n.name),y(2),Q(i.getPrice(n)>0?8:-1),y(2),P("isLoading",i.subscribingToTierId===n.id&&i.subscribingWithTrial!==null&&!i.subscribingWithTrial)("color",n.includePremiumFeatures?"blurple-20":"primary")("autoSize",!0),y(2),Q(i.accountService.currentUser.locationCountryTwoLetterCode==="IN"?12:-1),y(),Q(n.trialDurationDays>0?13:-1),y(),P("innerHTML",Ai(15,10,n.description),Eo)}}function VVe(t,e){t&1&&$(0,"mat-spinner",11)}function HVe(t,e){if(t&1&&(C(0,"div",33),$(1,"ss-testimonial",34),w()),t&2){let n=e.$implicit,i=e.$index,r=M(2);le("active",i===r.current),y(),P("testimonial",n)}}function QVe(t,e){if(t&1&&(C(0,"div",12),Bt(1,HVe,2,3,"div",32,PVe),w()),t&2){let n=M();y(),Ft(n.testimonials)}}function jVe(t,e){if(t&1){let n=fe();C(0,"span",35),G("click",function(){let r=Y(n).$index,o=M();return X(o.jumpToSlide(r))}),w()}if(t&2){let n=e.$index,i=M();le("active",n===i.current)}}function $Ve(t,e){if(t&1){let n=fe();C(0,"div",36),G("click",function(){Y(n);let r=M();return X(r.dialogRef.close())}),F(1," Subscribe later "),w()}}var Nw=(()=>{let e=class e{get annualPlansExist(){return this.subscriptionTiers.some(i=>i.currentAnnualPrice&&i.currentAnnualPrice>0)}constructor(i,r,o,s,a,l,c,d,u){this.subscriptionService=i,this.accountService=r,this.subscriptionNavigationService=o,this.growthBookService=s,this.dialogRef=a,this.subscriptionTierService=l,this.analyticsService=c,this.testimonialService=d,this.toastService=u,this.displayedSubscriptionTiers=[],this.billingCycle=Af.Monthly,this.maxSavingsOnAnnualPlan=0,this.subscribingToTierId=null,this.subscribingWithTrial=null,this.testimonials=[],this.loadingTestimonials=!0,this.SubscriptionBillingCycleRef=Af,this.current=0,this.INTERVAL_DURATION=5e3,this.subscriptionTiers=[],this.autoSlideSubscription=null}ngOnInit(){this.setSubscriptionTiers(),this.loadTestimonials()}toggleAnnualPrice(i){this.billingCycle=i?Af.Annual:Af.Monthly,this.setDisplayedSubscriptionTiers()}getPrice(i){return(this.billingCycle===Af.Annual?+((i.currentAnnualPrice??0)/12).toFixed(2):i.currentMonthlyPrice)/100}subscribe(i,r){let o=r&&this.subscriptionService.allowTrial&&i.trialDurationDays>0;this.subscribingToTierId=i.id,this.subscribingWithTrial=o;let s=o?mt.TrialPlanCtaClick:mt.SubscribeToPlanCtaClick;this.analyticsService.markActivity(s,{tierName:i.name}),this.subscriptionService.createCheckoutSession(i.id,o,this.billingCycle,Pu.PricingTestimonials).subscribe({next:a=>{this.subscribingToTierId=null,this.subscribingWithTrial=null,location.replace(a.urlToRedirectTo)},error:a=>this.handleErrors(a)})}getSubscribeButtonFreeTrialText(i){return i.trialDurationDays>0?`Try free for ${i.trialDurationDays} days`:""}openSubscriptionsPage(){this.subscriptionNavigationService.openSubscriptionsPage(!0),this.dialogRef.close()}trackTiersBy(i,r){return r.id}jumpToSlide(i){this.current=i,this.autoSlideSubscription?.unsubscribe(),this.startAuto()}startAuto(){this.autoSlideSubscription=Z_(this.INTERVAL_DURATION).subscribe(()=>{this.current=(this.current+1)%this.testimonials.length})}setDisplayedSubscriptionTiers(){this.displayedSubscriptionTiers=this.subscriptionTiers.filter(i=>i.currentMonthlyPrice===0||(this.billingCycle===Af.Annual?i.currentAnnualPrice&&i.currentAnnualPrice>0:i.currentMonthlyPrice>0))}setSubscriptionTiers(){this.subscriptionTiers=this.subscriptionTierService.activeTiers.filter(i=>i.includePremiumFeatures&&i.maxSubscriptionUsers===0),this.setDisplayedSubscriptionTiers(),this.setMaxSavingsOnAnnualPlan()}setMaxSavingsOnAnnualPlan(){let i=this.subscriptionTiers.filter(r=>r.currentAnnualPrice&&r.currentAnnualPrice>0).map(r=>100-Math.round((r.currentAnnualPrice??0)/(12*r.currentMonthlyPrice)*100));this.maxSavingsOnAnnualPlan=Math.max(...i)}loadTestimonials(){this.testimonialService.getAll().subscribe({next:i=>{this.testimonials=i,this.loadingTestimonials=!1,this.startAuto()},error:i=>this.toastService.error({exceptionDetail:i[0]})})}handleErrors(i){this.subscribingToTierId=null,this.subscribingWithTrial=null,this.loadingTestimonials=!1;let r=i[0];if(["IsOnOtherUsersSubscription"].includes(r.errorCode)){this.toastService.info({exceptionDetail:r});return}this.toastService.error({exceptionDetail:r})}};e.\u0275fac=function(r){return new(r||e)(L(Ao),L(Qt),L(vde),L(eue),L(Nt),L(jv),L(Kr),L(tue),L(Xi))},e.\u0275cmp=re({type:e,selectors:[["ss-pricing-testimonials-modal"]],inputs:{openedFromSource:"openedFromSource"},standalone:!1,decls:28,vars:4,consts:[["mat-dialog-close","",1,"close-modal"],[1,"inner-wrapper"],[1,"pricing-wrapper"],[1,"duration-toggle"],[1,"tier",3,"highlighted"],[1,"navigate"],[3,"click"],[1,"footer"],["routerLink","/policies/privacy","target","_blank",1,"notification"],["routerLink","/policies/terms-and-conditions","target","_blank",1,"notification"],[1,"testimonial-column"],["diameter","30","strokeWidth","3"],[1,"carousel"],[1,"dots"],[1,"dot",3,"active"],[1,"notification","subscribe-later"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],["role","button",3,"click"],[3,"change","checked"],["role","button",1,"annual",3,"click"],[1,"highlight"],[1,"tier"],[1,"highlighted-title","interactable-bold"],[1,"tier-header"],[1,"price"],[1,"buttons-wrapper"],["matTooltipClass","subscriptions-tooltip",3,"buttonClick","isLoading","color","autoSize"],["color","tertiary",1,"buy-now",3,"isLoading","autoSize","matTooltip"],[1,"tier-description",3,"innerHTML"],[1,"highlighted-elongator"],[1,"light"],["color","tertiary",1,"buy-now",3,"buttonClick","isLoading","autoSize","matTooltip"],[1,"slide",3,"active"],[1,"slide"],[3,"testimonial"],[1,"dot",3,"click"],[1,"notification","subscribe-later",3,"click"]],template:function(r,o){r&1&&(H(0,OVe,2,2,"button",0),C(1,"mat-dialog-content")(2,"div",1)(3,"h2"),F(4,"Upgrade"),w(),C(5,"div",2),H(6,BVe,7,6,"section",3),Bt(7,UVe,17,12,"div",4,o.trackTiersBy,!0),C(9,"div",5),F(10," Click "),C(11,"span",6),G("click",function(){return o.openSubscriptionsPage()}),F(12,"here"),w(),F(13," to see all other plans. "),w()(),C(14,"div",7)(15,"a",8),F(16,"Privacy Policy"),w(),C(17,"a",9),F(18,"Terms and Conditions"),w()()(),C(19,"div",10)(20,"h2"),F(21,"What others are saying about StudyStream"),w(),H(22,VVe,1,0,"mat-spinner",11)(23,QVe,3,0,"div",12),C(24,"div",13),Bt(25,jVe,1,2,"span",14,Mn),w(),H(27,$Ve,2,0,"div",15),w()()),r&2&&(Q(o.growthBookService.hardPaywall?-1:0),y(6),Q(o.annualPlansExist?6:-1),y(),Ft(o.displayedSubscriptionTiers),y(15),Q(o.loadingTestimonials?22:23),y(3),Ft(o.testimonials),y(2),Q(o.growthBookService.hardPaywall?27:-1))},styles:["@media only screen and (max-width: 1279px){[_nghost-%COMP%]   .tier-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .tier-description[_ngcontent-%COMP%]{padding:12px 16px}}@media only screen and (max-width: 1024px){[_nghost-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;font-size:18px;line-height:30px}[_nghost-%COMP%]   .tier-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .tier-description[_ngcontent-%COMP%]{padding:12px}[_nghost-%COMP%]   .carousel[_ngcontent-%COMP%]{max-width:445px;width:90%}[_nghost-%COMP%]   .duration-toggle[_ngcontent-%COMP%]{margin:20px 0 40px}[_nghost-%COMP%]   .tier[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;border-radius:18px}}@media only screen and (max-width: 767px){[_nghost-%COMP%]   mat-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]{display:block;overflow:overlay;scrollbar-color:var(--default-80) transparent;scrollbar-width:thin}@supports (-moz-appearance: none){[_nghost-%COMP%]   mat-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]{scrollbar-color:var(--accent-blue-40) var(--accent-blue-40)}}[_nghost-%COMP%]   mat-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background:var(--accent-gradient-60)}[_nghost-%COMP%]   mat-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]::-webkit-scrollbar, [_nghost-%COMP%]   mat-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:transparent}[_nghost-%COMP%]   mat-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}[_nghost-%COMP%]   .duration-toggle[_ngcontent-%COMP%]{margin:20px 0 4px}[_nghost-%COMP%]   .tier-header[_ngcontent-%COMP%], [_nghost-%COMP%]   .tier-description[_ngcontent-%COMP%]{padding:16px 24px}[_nghost-%COMP%]   .testimonial-column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{max-width:65%}}@media only screen and (max-width: 479px){[_nghost-%COMP%]   .testimonial-column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{max-width:auto}[_nghost-%COMP%]   .annual[_ngcontent-%COMP%]{line-height:18px}[_nghost-%COMP%]   .annual[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{position:static;display:block;width:auto}}mat-dialog-content.mdc-dialog__content[_ngcontent-%COMP%]{display:flex;justify-content:center;overflow:hidden;padding:0}.close-modal[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;z-index:1;display:flex;justify-content:center;align-items:center;width:36px;height:36px;padding:0;border:none;border-radius:15px;outline:none;background-color:var(--alt-40);cursor:pointer}@media only screen and (max-width: 767px){.close-modal[_ngcontent-%COMP%]{order:3}}.close-modal[_ngcontent-%COMP%]:hover{background-color:var(--alt-20)}h2[_ngcontent-%COMP%]{margin-bottom:16px;text-align:center}.inner-wrapper[_ngcontent-%COMP%], .testimonial-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;flex:1;margin:20px auto}.inner-wrapper[_ngcontent-%COMP%]{margin-bottom:6px;overflow:overlay;scrollbar-color:var(--default-80) transparent;scrollbar-width:thin}@supports (-moz-appearance: none){.inner-wrapper[_ngcontent-%COMP%]{scrollbar-color:var(--accent-blue-40) var(--accent-blue-40)}}.inner-wrapper[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background:var(--accent-gradient-60)}.inner-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar, .inner-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:transparent}.inner-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.pricing-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;margin-bottom:20px}.duration-toggle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;margin-bottom:48px}.duration-toggle[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]{margin-right:8px;margin-left:20px}.duration-toggle[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:var(--accent-blue)}.duration-toggle[_ngcontent-%COMP%]   .annual[_ngcontent-%COMP%]{position:relative}.duration-toggle[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{position:absolute;left:calc(100% + 8px);width:80px;background:var(--save-x-page-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.tier[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:284px;border:1px solid var(--alt);background-color:var(--grayscale)}.tier.highlighted[_ngcontent-%COMP%]{border:2px solid var(--accent-blurple-20);border-bottom:none}@media only screen and (max-width: 1024px){.tier.highlighted[_ngcontent-%COMP%]{border-radius:0}}@media only screen and (max-width: 767px){.tier.highlighted[_ngcontent-%COMP%]{margin:40px 0}}.tier.highlighted[_ngcontent-%COMP%]   .highlighted-title[_ngcontent-%COMP%], .tier.highlighted[_ngcontent-%COMP%]   .highlighted-elongator[_ngcontent-%COMP%]{display:flex}.testimonial-column[_ngcontent-%COMP%]{position:relative}.testimonial-column[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{max-width:80%;text-align:center}.highlighted-title[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:-2px;display:none;justify-content:center;align-items:center;width:calc(100% + 4px);height:32px;border:2px solid var(--accent-blurple-20);border-top-left-radius:18px;border-top-right-radius:18px;color:var(--overlay);background-color:var(--accent-blurple-20)}.tier-header[_ngcontent-%COMP%], .tier-description[_ngcontent-%COMP%]{padding:16px 24px}.tier-header[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid var(--alt)}.tier-description[_ngcontent-%COMP%]{padding:12px 16px 0;flex:1}.tier-description[_ngcontent-%COMP%]  small{display:flex;align-items:center;margin-bottom:12px;line-height:20px}.tier-description[_ngcontent-%COMP%]  small:before{content:url(/assets/icons/check.svg);display:inline-block;width:18px;height:18px;margin-right:12px}.price[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Poppins,sans-serif;font-size:16px;font-weight:500;line-height:32px;text-align:center}.price[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block}.price[_ngcontent-%COMP%]   span.large[_ngcontent-%COMP%]{font-size:20px}.price[_ngcontent-%COMP%]   span.light[_ngcontent-%COMP%]{color:var(--default-40)}ss-button.buy-now[_ngcontent-%COMP%]{margin-top:4px}ss-button.buy-now[_ngcontent-%COMP%]  button .button-text{font-size:12px}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.buttons-wrapper[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]{width:120px}.highlighted-elongator[_ngcontent-%COMP%]{position:absolute;top:100%;left:-2px;display:none;justify-content:center;align-items:center;width:calc(100% + 4px);height:20px;border:2px solid var(--accent-blurple-20);border-top:none;border-bottom-right-radius:18px;border-bottom-left-radius:18px}.navigate[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:24px;white-space:pre}.navigate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:var(--accent-blue);cursor:pointer}.navigate[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.carousel[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;align-items:center;width:360px;overflow:hidden}.slide[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;width:100%;color:var(--default-40);pointer-events:none;opacity:0;transition:opacity .5s ease}.slide.active[_ngcontent-%COMP%]{position:relative;max-height:75vh;pointer-events:auto;opacity:1;overflow:overlay;scrollbar-color:var(--default-80) transparent;scrollbar-width:thin}@supports (-moz-appearance: none){.slide.active[_ngcontent-%COMP%]{scrollbar-color:var(--accent-blue-40) var(--accent-blue-40)}}.slide.active[_ngcontent-%COMP%]:hover::-webkit-scrollbar-thumb{background:var(--accent-gradient-60)}.slide.active[_ngcontent-%COMP%]::-webkit-scrollbar, .slide.active[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:50px;background:transparent}.slide.active[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.dots[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:6px;margin-top:12px}.dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;background:var(--accent-blurple-60);cursor:pointer;transition:background .25s}.dot.active[_ngcontent-%COMP%]{background:var(--accent-blurple-20)}.footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;width:100%;padding:2px 12px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-of-type{padding-right:6px;margin-right:6px;border-right:1px solid var(--pricing-purple-2)}.subscribe-later[_ngcontent-%COMP%]{position:absolute;right:16px;bottom:-4px;font-weight:400;color:var(--default-40);cursor:pointer}"]});let t=e;return t})();var Vf=(()=>{let e=class e{constructor(i,r){this.dialog=i,this.utilityService=r,this.dialogQueue=[],this.introVideoActive=!1,this.timeBetweenDialogs=2e4,this.initialLoad=!0,this.dialog.afterAllClosed.subscribe(()=>{if(this.initialLoad){this.initialLoad=!1;return}this.clearInterval(),this.setInterval()})}ngOnDestroy(){this.clearInterval()}openDialog(i){if(this.dialog.openDialogs.length>0||this.showDialogIntervalRef||this.introVideoActive){this.dialogQueue.push(i);return}if(this.utilityService.isOnPlansAndPricingPage()&&i.component===Nw)return;this.clearInterval(),this.dialog.open(i.component,i.config).afterClosed().subscribe(o=>{i.onCloseCallback&&i.onCloseCallback(o)})}pauseDialogQueue(){this.introVideoActive=!0,this.clearInterval()}resumeDialogQueue(){this.introVideoActive=!1,this.setInterval()}openNextDialog(){if(this.clearInterval(),this.dialogQueue.length===0)return;let i=this.dialogQueue.shift();i&&this.openDialog(i)}clearInterval(){this.showDialogIntervalRef&&window.clearInterval(this.showDialogIntervalRef),this.showDialogIntervalRef=null}setInterval(){this.showDialogIntervalRef=window.setInterval(()=>this.openNextDialog(),this.timeBetweenDialogs)}};e.\u0275fac=function(r){return new(r||e)(K(ai),K(Ht))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nue=(()=>{let e=class e{constructor(i,r,o){this.http=i,this.utilityService=r,this.dialogQueueService=o,this.checkForNewBadges=new O,this.API_ENDPOINT=`${Ue.apiUrl}/badges`}getBadges(){return this.http.get(this.API_ENDPOINT)}createBadge(i){let r=this.utilityService.createFormData(i);return this.http.post(this.API_ENDPOINT,r)}updateBadge(i,r){let o=this.utilityService.createFormData(r);return this.http.put(`${this.API_ENDPOINT}/${i}`,o)}deleteBadge(i){return this.http.delete(`${this.API_ENDPOINT}/${i}`)}getUserBadges(i){return this.http.get(`${this.API_ENDPOINT}/users/${i}`)}getAllUserBadges(){return this.http.get(`${this.API_ENDPOINT}/users`)}createUserBadge(i){return this.http.post(`${this.API_ENDPOINT}/user-badges`,i)}deleteUserBadge(i,r){return this.http.delete(`${this.API_ENDPOINT}/${r}/users/${i}`)}selectUserBadge(i,r){return this.http.put(`${this.API_ENDPOINT}/${r}/users/${i}/select`,null)}getEarnedBadges(i){let r=new Oe;return i&&(r=r.append("roomName",i)),this.http.get(`${this.API_ENDPOINT}/me/unread`,{params:r})}getAllBadges(){return this.http.get(`${this.API_ENDPOINT}/me/list`)}getAllBadgesForUser(i){return this.http.get(`${this.API_ENDPOINT}/${i}/list`)}showAchievementModal(i,r=!1,o=!1){this.dialogQueueService.openDialog({component:gde,config:{panelClass:"fullscreen-dialog",width:r?"455px":"420px",data:{badge:i,encouragementReceived:r,multipleBadges:o}}})}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Ht),K(Vf))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var GVe=["streakContainer"],iue=(()=>{let e=class e{constructor(i,r){this.model=i,this.dialogRef=r}ngAfterViewInit(){this.cdkGlobalOverlayWrapper=document.querySelector(".cdk-global-overlay-wrapper"),this.cdkGlobalOverlayWrapper&&(this.cdkGlobalOverlayWrapper.style.zIndex="1001")}ngOnDestroy(){this.cdkGlobalOverlayWrapper&&(this.cdkGlobalOverlayWrapper.style.zIndex=""),window.clearInterval(this.counterIntervalRef),window.clearTimeout(this.counterStopTimeoutRef),window.clearTimeout(this.animationTimeoutRef)}close(){this.dialogRef.close()}dontShowAgain(){localStorage.setItem(EI,"true"),this.close()}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-livekit-streak-updated-modal"]],viewQuery:function(r,o){if(r&1&&Fe(GVe,5),r&2){let s;Ce(s=we())&&(o.streakContainer=s.first)}},standalone:!1,decls:18,vars:4,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[1,"streak-wrapper"],[1,"animate__animated","animate__slideInUp"],["color","tertiary",3,"buttonClick"],[3,"buttonClick"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"Congrats!"),w(),C(3,"button",2),$(4,"ss-icon",3),w()(),C(5,"mat-dialog-content")(6,"h4"),F(7,"You just achieved a streak increase!"),w(),C(8,"div",4)(9,"div",5),F(10),w(),C(11,"div",5),F(12),w()()(),C(13,"mat-dialog-actions")(14,"ss-button",6),G("buttonClick",function(){return o.dontShowAgain()}),F(15," Don't show this again "),w(),C(16,"ss-button",7),G("buttonClick",function(){return o.close()}),F(17," Keep going! "),w()()),r&2&&(y(4),P("size",20)("iconVariant",20),y(6),Ne(o.model.oldStreak),y(2),Ne(o.model.newStreak))},styles:[".title[_ngcontent-%COMP%]{margin-bottom:5px}.slider-wrapper[_ngcontent-%COMP%]{display:flex;margin:0 0 20px}label[_ngcontent-%COMP%]{margin-left:20px}mat-slider[_ngcontent-%COMP%]{width:100%;height:21px}.toggle-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;padding:20px 0;border-bottom:1px solid var(--grayscale-g1)}h4[_ngcontent-%COMP%]{text-align:center}.streak-wrapper[_ngcontent-%COMP%]{--animate-delay: 1s;display:flex;flex-direction:column;justify-content:center;align-items:center;height:80px;overflow-y:hidden;margin:12px 12px 16px}.streak-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-shrink:0;height:80px;font-size:80px;font-weight:700;text-align:center}"]});let t=e;return t})();var jf=(()=>{let e=class e{constructor(i,r){this.http=i,this.dialogQueueService=r,this.resetRooms=new O,this.hiddenParticipant=new O,this.unhiddenParticipant=new O,this.streakInfo={currentStreak:0,hasBeenSetOnce:!1},this.API_ENDPOINT=`${Ue.apiUrl}/focus-rooms`}getActiveForMyself(i=!1){return this.http.get(`${this.API_ENDPOINT}/active/my?includeParticipants=${i}`)}getAllActive(){return this.http.get(`${this.API_ENDPOINT}/active`)}searchAllUsers(i,r=null,o=null,s=null){let a=new Oe;return a=a.append("searchTerm",i),r!==null&&(a=a.append("focusRoomProvider",r)),o!==null&&(a=a.append("roomName",o)),s!==null&&(a=a.append("lastActiveValueStartFrom",s)),this.http.get(`${this.API_ENDPOINT}/active/search/?${a.toString()}`)}searchUsersToReport(i,r,o){let s=new Oe().append("searchTerm",i).append("roomName",r).append("hasSpecialCharacters",o);return this.http.get(`${this.API_ENDPOINT}/search-to-report-with-user-info`,{params:s})}getActiveForWebAppUser(i=!1){let r=new Oe;return i&&(r=r.append("excludePrivateRooms",!0)),this.http.get(`${this.API_ENDPOINT}/active/web-app-user`,{params:r})}joinFocusRoom(i){return this.http.post(`${this.API_ENDPOINT}/join/${i}`,null)}unbanFromFocusRooms(i){return this.http.put(`${this.API_ENDPOINT}/unban`,{userId:i})}getHiddenUsers(){return this.http.get(`${this.API_ENDPOINT}/hidden-users`)}hideUser(i){return this.http.post(`${this.API_ENDPOINT}/hidden-users/${i}`,null)}hideUserTwoWay(i){return this.http.post(`${this.API_ENDPOINT}/hidden-users/${i}/two-way`,null)}unhideUser(i){return this.http.delete(`${this.API_ENDPOINT}/hidden-users/${i}`)}updateStreakInfo(i,r){this.streakInfo.hasBeenSetOnce&&i>this.streakInfo.currentStreak&&!r&&localStorage.getItem(EI)!=="true"&&this.dialogQueueService.openDialog({component:iue,config:{panelClass:"fullscreen-dialog",width:"400px",disableClose:!0,data:{oldStreak:this.streakInfo.currentStreak,newStreak:i}}}),this.streakInfo.currentStreak=i,this.streakInfo.hasBeenSetOnce=!0}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Vf))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WVe(t,e){if(t&1){let n=fe();C(0,"div",1)(1,"button",2),G("click",function(){Y(n);let r=M();return X(r.action())}),F(2),w()()}if(t&2){let n=M();y(2),ht(" ",n.data.action," ")}}var KVe=["label"];function qVe(t,e){}var YVe=Math.pow(2,31)-1,$w=class{_overlayRef;instance;containerInstance;_afterDismissed=new O;_afterOpened=new O;_onAction=new O;_durationTimeoutId;_dismissedByAction=!1;constructor(e,n){this._overlayRef=n,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,YVe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},rue=new ie("MatSnackBarData"),h_=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},XVe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),ZVe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),JVe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=ye({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),oue=(()=>{class t{snackBarRef=E($w);data=E(rue);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(C(0,"div",0),F(1),w(),H(2,WVe,3,1,"div",1)),i&2&&(y(),ht(" ",r.data.message,`
`),y(),Q(r.hasAction?2:-1))},dependencies:[IY,XVe,ZVe,JVe],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return t})(),g5="_mat-snack-bar-enter",v5="_mat-snack-bar-exit",eHe=(()=>{class t extends Lh{_ngZone=E(Ie);_elementRef=E(Se);_changeDetectorRef=E(zt);_platform=E(on);_animationsDisabled=Pn();snackBarConfig=E(h_);_document=E(ut);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=E(Ge);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new O;_onExit=new O;_onEnter=new O;_animationState="void";_live;_label;_role;_liveElementId=E(Hn).getId("mat-snack-bar-container-live-");constructor(){super();let n=this.snackBarConfig;n.politeness==="assertive"&&!n.announcementMessage?this._live="assertive":n.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),i}attachTemplatePortal(n){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),i}attachDomPortal=n=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(n);return this._afterPortalAttached(),i};onAnimationEnd(n){n===v5?this._completeExit():n===g5&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?Di(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(g5)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(g5)},200)))}exit(){return this._destroyed?Re(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?Di(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(v5)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(v5),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>n.classList.add(s)):n.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){let n=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?s.indexOf(n)===-1&&o.setAttribute("aria-owns",s+" "+n):o.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let i=n.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?n.setAttribute("aria-owns",r):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let n=this._elementRef.nativeElement,i=n.querySelector("[aria-hidden]"),r=n.querySelector("[aria-live]");if(i&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=re({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(Fe(Uh,7),Fe(KVe,7)),i&2){let o;Ce(o=we())&&(r._portalOutlet=o.first),Ce(o=we())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&G("animationend",function(s){return r.onAnimationEnd(s.animationName)})("animationcancel",function(s){return r.onAnimationEnd(s.animationName)}),i&2&&le("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[rn],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(C(0,"div",1)(1,"div",2,0)(3,"div",3),Vn(4,qVe,0,0,"ng-template",4),w(),$(5,"div"),w()()),i&2&&(y(5),ct("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Uh],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return t})();function tHe(){return new h_}var nHe=new ie("mat-snack-bar-default-options",{providedIn:"root",factory:tHe}),_5=(()=>{class t{_live=E(h0);_injector=E(Ge);_breakpointObserver=E(Rp);_parentSnackBar=E(t,{optional:!0,skipSelf:!0});_defaultConfig=E(nHe);_animationsDisabled=Pn();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=oue;snackBarContainerComponent=eHe;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(){}openFromComponent(n,i){return this._attach(n,i)}openFromTemplate(n,i){return this._attach(n,i)}open(n,i="",r){let o=V(V({},this._defaultConfig),r);return o.data={message:n,action:i},o.announcementMessage===n&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=Ge.create({parent:r||this._injector,providers:[{provide:h_,useValue:i}]}),s=new Ul(this.snackBarContainerComponent,i.viewContainerRef,o),a=n.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(n,i){let r=V(V(V({},new h_),this._defaultConfig),i),o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new $w(s,o);if(n instanceof Mi){let l=new Ds(n,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(l)}else{let l=this._createInjector(r,a),c=new Ul(n,void 0,l),d=s.attachComponentPortal(c);a.instance=d.instance}return this._breakpointObserver.observe(xT.HandsetPortrait).pipe(en(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(n,i){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter()}_createOverlay(n){let i=new da;i.direction=n.direction;let r=Vh(this._injector),o=n.direction==="rtl",s=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!o||n.horizontalPosition==="end"&&o,a=!s&&n.horizontalPosition!=="center";return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),n.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,i.disableAnimations=this._animationsDisabled,ua(this._injector,i)}_createInjector(n,i){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector;return Ge.create({parent:r||this._injector,providers:[{provide:$w,useValue:i},{provide:rue,useValue:n.data}]})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var L1t=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=$e({type:t});static \u0275inj=je({providers:[_5],imports:[ko,du,kY,Gt,oue,Gt]})}return t})();var ZD=(()=>{let e=class e{constructor(i,r){this.snackBar=i,this.translateService=r}error(i){return ue(this,null,function*(){if(i.exceptionDetail){let o=i.exceptionDetail.params?.errors?.length>0?`errors.${i.exceptionDetail.params.errors[0]}`:`errors.${i.exceptionDetail.errorCode}`;i.message=yield Y_(this.translateService.get(o,i.exceptionDetail.params))}this.showSnackBar(i)})}info(i){return ue(this,null,function*(){this.showSnackBar(i)})}showSnackBar(i){return ue(this,null,function*(){i.actionText||(i.actionText="Close"),i.timeoutMs===void 0&&(i.timeoutMs=5e3),this.snackBar.open(i.message??"",i.actionText,{panelClass:"snackBar",duration:i.timeoutMs??void 0,verticalPosition:"top"}).onAction().subscribe(()=>{i.action&&i.action()})})}};e.\u0275fac=function(r){return new(r||e)(K(_5),K(qa))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aue=(()=>{let e=class e{constructor(i){this.http=i,this.API_ENDPOINT=`${Ue.apiUrl}/spotify`}getLoginRequest(){return this.http.get(`${this.API_ENDPOINT}/login`).pipe(se(i=>i.redirectUrl))}disconnect(){return this.http.delete(`${this.API_ENDPOINT}/disconnect`)}getCurrentlyPlaying(i){return this.http.post(`${this.API_ENDPOINT}/currently-playing`,i)}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wr=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,d,u,p,g,v,b,x){this.http=i,this.accountService=r,this.dialog=o,this.encouragementService=s,this.toastService=a,this.utilityService=l,this.analyticsService=c,this.subscriptionService=d,this.badgeService=u,this.focusRoomService=p,this.snackBarService=g,this.spotifyService=v,this.dialogQueueService=b,this.settingsService=x,this.recalculateGrid=new O,this.participantInfoMobile=new O,this.participantMetadataUpdated=new O,this.participantsLoaded=new O,this.pipWindowClose=new O,this.whoPinnedYouInfoRefresh=new O,this.lastTimeLimitTimerRunDate=null,this.encouragements=[],this.participantHighlight={show:new O,hide:new O,hideOverlay:new fn(!1)},this.API_ENDPOINT=`${Ue.apiUrl}/livekit`}initializeFocusRoom(i,r,o=null,s=!1){let a=this.subscriptionService.hasPremiumFeatures;this.room=new kD(r,o,this.recalculateGrid,s,a,this.accountService.currentUser.id||null,this.settingsService.settings.spotifyEnabled,this.pinUser.bind(this),this.pinUsers.bind(this),this.unpinUser.bind(this),this.unpinAllUsers.bind(this),this.startVideoSession.bind(this),this.endVideoSession.bind(this),this.enterFocusPlus.bind(this),this.leaveFocusPlus.bind(this),this.activateGreetingMode.bind(this),this.deactivateGreetingMode.bind(this),this.analyticsService.markActivity.bind(this.analyticsService),i.ensureUserCompletedBasicInfo.bind(i),this.accountService,this.toastService,this.utilityService,this.subscriptionService,this.badgeService,this.focusRoomService,this.snackBarService,this.spotifyService,this.dialogQueueService),window.LivekitRoom=this.room}getInitialData(i,r=!1){let o=new Oe;return r&&(o=o.append("lite",!0)),this.http.post(`${this.API_ENDPOINT}/${i}/initial-data`,null,{params:o})}getAnonymousToken(i){let r=this.accountService.getAnonymousUserIdAndEnsureCreated();return this.http.post(`${this.API_ENDPOINT}/${i}/token/anonymous/${r}`,null)}getAnonymousTokenForPartiallyCompetedUser(i){return this.http.post(`${this.API_ENDPOINT}/${i}/token/anonymous/partial`,null)}subscribeToSignalRUpdates(i){return this.http.post(`${this.API_ENDPOINT}/${i}/subscribe`,null)}unsubscribeFromSignalRUpdates(i){return this.http.post(`${this.API_ENDPOINT}/${i}/unsubscribe`,null)}getAll(){return this.http.get(this.API_ENDPOINT)}getFocusRoomUserInfo(i){return this.http.get(`${this.API_ENDPOINT}/${i}/user-info`)}getFocusRoomPublicInfo(i){return this.http.get(`${this.API_ENDPOINT}/${i}/info/public`)}getFocusRoomReportsInfoForModerators(i){return this.http.get(`${this.API_ENDPOINT}/${i}/moderator/report-info`)}pinUser(i,r){return this.analyticsService.markActivity(mt.LivekitPinUserSent,r),this.http.post(`${this.API_ENDPOINT}/${i}/pin`,r)}pinUsers(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/pin-users`,r)}unpinUser(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/unpin`,r)}restoreRecentPins(i){return this.http.post(`${this.API_ENDPOINT}/${i}/restore-recent-pins`,null)}raiseHand(i){return this.http.post(`${this.API_ENDPOINT}/${i}/raise-hand`,null)}lowerHand(i){return this.http.post(`${this.API_ENDPOINT}/${i}/lower-hand`,null)}unpinAllUsers(i){return this.http.post(`${this.API_ENDPOINT}/${i}/unpin-all`,{isLeaveAction:!1})}unpinAllAndLowerHandAndKeepAlive(i){if(!this.accountService.isFullyVerifiedUser())return Promise.resolve(new Response);let r=this.encouragementService.encouragementsReceived.map(o=>({encouragementId:o.id,dismissReason:Yj.Disconnected}));return this.encouragementService.encouragementsReceived=[],fetch(`${this.API_ENDPOINT}/${i}/unpin-all`,{keepalive:!0,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem(Za)}`},body:JSON.stringify({shouldLowerHand:this.room.localParticipant.isHandRaised,isLeaveAction:!0,encouragementDismissReasonsModel:r})})}startVideoSession(i){return this.http.post(`${this.API_ENDPOINT}/${i}/start-video`,null)}endVideoSession(i){return this.http.post(`${this.API_ENDPOINT}/${i}/end-video`,null)}enterFocusPlus(i){return this.http.post(`${this.API_ENDPOINT}/${i}/focus-plus/enter`,null)}leaveFocusPlus(i){return this.http.post(`${this.API_ENDPOINT}/${i}/focus-plus/leave`,null)}create(i){return this.http.post(this.API_ENDPOINT,i)}update(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}`,r)}changeRoomOrder(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/order`,{order:r})}getTopParticipants(i,r){let o=new Oe;return o=o.append("participantCount",r),this.http.get(`${this.API_ENDPOINT}/${i}/top-participants`,{params:o})}getB2B(i){return this.http.get(`${this.API_ENDPOINT}/b2b/rooms/${i}`)}createB2B(i){return this.http.post(`${this.API_ENDPOINT}/b2b/rooms`,i)}updateB2B(i,r){return this.http.put(`${this.API_ENDPOINT}/b2b/rooms/${i}`,r)}deactivateB2B(i){return this.http.delete(`${this.API_ENDPOINT}/b2b/rooms/${i}`)}updateMetadata(i,r,o){let s={zoomToFit:r,mirrorModeForOthers:o};return this.http.put(`${this.API_ENDPOINT}/${i}/metadata`,s)}removeParticipant(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/participants/${r}`,o)}forceTurnOffCameraForParticipant(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/turn-off-camera/${r}`,null)}forceTurnOffAudioForParticipant(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/turn-off-audio/${r}`,null)}createUserStatus(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/statuses`,r)}clearUserStatus(i){return this.http.put(`${this.API_ENDPOINT}/${i}/statuses/clear`,null)}performUnloadActionsAndKeepAlive(i){let r=localStorage.getItem(Za);fetch(`${this.API_ENDPOINT}/unload`,{keepalive:!0,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(i)})}getUserMilestones(){return this.http.get(`${this.API_ENDPOINT}/user-milestones`)}getInteractableParticipants(i){return this.http.get(`${this.API_ENDPOINT}/${i}/participants/interactable`)}banUserForFocusRoomSessionGroup(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/groups/${r}/ban-user`,{userToBanId:o})}createFocusRoomSessionGroup(i,r,o,s=null,a=!1){let l=new Oe;return a&&(l=l.append("overrideResetOfShownOnVideoTileFlag",!0)),this.http.post(`${this.API_ENDPOINT}/${i}/groups`,{userIds:r,inviteMessage:o,name:s},{params:l})}updateFocusRoomSessionGroup(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/groups/${r}`,{shownOnVideoTile:o})}inviteUserToFocusRoomSessionGroup(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/groups/${r}/invite`,o)}joinPrivateGroup(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/groups/${r}/join`,null)}joinPublicGroup(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/groups/${r}/join-predefined`,o)}leaveActiveGroups(i,r=!1){let o=new Oe;return r&&(o=o.append("shouldUnsubscribe",!0)),this.http.put(`${this.API_ENDPOINT}/${i}/groups/leave`,null,{params:o})}getPredefinedGroupsInstancesForSession(i){return this.http.get(`${this.API_ENDPOINT}/${i}/groups/predefined-only`)}getSessionGroup(i,r,o){let s=new Oe;return o!==null&&(s=s.append("unsubscribeGroupId",o)),this.http.get(`${this.API_ENDPOINT}/${i}/groups/${r}`,{params:s})}unsubscribeFromSignalRPredefinedGroupUpdates(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/groups/${r}/unsubscribe`,null)}timeLimitReached(){return this.http.post(`${this.API_ENDPOINT}/time-limit-reached`,null)}getGroupMatch(i){return this.http.post(`${this.API_ENDPOINT}/${i}/groups/match`,null)}cancelGroupMatch(i){return this.http.delete(`${this.API_ENDPOINT}/${i}/groups/match`)}endRoomSession(i){return this.http.delete(`${this.API_ENDPOINT}/${i}`)}checkForGreetingUsersAndEncourage(i){return this.http.post(`${this.API_ENDPOINT}/${i}/greeting-mode/greet`,null)}activateGreetingMode(i){return this.http.post(`${this.API_ENDPOINT}/${i}/greeting-mode`,null)}deactivateGreetingMode(i){return this.http.delete(`${this.API_ENDPOINT}/${i}/greeting-mode`)}getAllReactionsToUserStatus(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/statuses/${r}/reactions`)}getTopReactionToUserStatus(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/statuses/${r}/top-reaction`)}reactToUserStatus(i,r,o,s=null){let a=this.room.statusUpdateTimeouts.find(l=>l.statusId===r);return a?(window.clearTimeout(a.timeoutRef),a.timeoutRef=window.setTimeout(()=>this.clearStatusTimeout(r),15e3)):this.room.statusUpdateTimeouts.push({statusId:r,timeoutRef:window.setTimeout(()=>this.clearStatusTimeout(r),15e3)}),this.http.put(`${this.API_ENDPOINT}/${i}/statuses/${r}/reactions`,{reactionCharCode:o,reactingUserId:s})}getLastSessionSummary(i){let r=new Oe;return i&&(r=r.append("roomName",i)),this.http.get(`${this.API_ENDPOINT}/session-summary/last`,{params:r})}getSpecificDaysSessionsSummary(i=0,r=0,o=!0){let s=new Oe;return s=s.append("daysAgoStart",i),s=s.append("daysAgoEnd",r),s=s.append("includeEncouragingUsersAndBadges",o),this.http.get(`${this.API_ENDPOINT}/session-summary`,{params:s})}showOptionsModal(i=qs.Video){this.room.storeLivekitSettings(),this.dialog.open(mde,{panelClass:"fullscreen-dialog",width:"620px",minHeight:"350px",data:{activeTab:i}}).afterClosed().subscribe(o=>ue(this,null,function*(){if(!o)return;let s=!1;this.room.settings.activeVideoDevice!==o.activeVideoDevice&&(this.room.settings.activeVideoDevice=o.activeVideoDevice,o.activeVideoDevice&&this.room.switchActiveDevice("videoinput",o.activeVideoDevice)),this.room.paginator.tilesPerPage!==o.tilesPerPage&&(this.room.paginator.tilesPerPage=o.tilesPerPage,this.room.settings.tilesPerPage=o.tilesPerPage,s=!0,this.room.assignDisplayedParticipants(),this.recalculateGrid.next(),this.room.setupSpotifyPolling()),this.room.settings.selfViewVideoEnabled!==o.selfViewVideoEnabled&&(this.room.settings.selfViewVideoEnabled=o.selfViewVideoEnabled),this.room.settings.mirrorMode!==o.mirrorMode&&(this.room.settings.mirrorMode=o.mirrorMode,s=!0),(this.room.settings.zoomToFit!==o.zoomToFit||this.room.settings.mirrorModeForOthers!==o.mirrorModeForOthers)&&(this.room.settings.zoomToFit=o.zoomToFit,this.room.settings.mirrorModeForOthers=o.mirrorModeForOthers,this.updateMetadata(this.room.name,this.room.settings.zoomToFit,this.room.settings.mirrorModeForOthers).subscribe(),s=!0);let a=this.room.settings.videoResolution!==o.videoResolution;if(a&&(this.room.settings.videoResolution=o.videoResolution,s=!0),this.room.storeLivekitSettings(),s){this.room.roomSettings===null?this.room.roomSettings={disableEncouragements:!1,disablePinning:!1,decreaseTilesResolution:!1,decreaseVideoResolutionEmitted:!1,mirrorModeOff:!this.room.settings.mirrorMode,videoResolution:this.room.settings.videoResolution,tilesPerPage:this.room.settings.tilesPerPage}:(this.room.roomSettings.videoResolution=this.room.settings.videoResolution,this.room.roomSettings.mirrorModeOff=!this.room.settings.mirrorMode,this.room.roomSettings.tilesPerPage=this.room.settings.tilesPerPage);let l=!this.subscriptionService.hasPremiumFeatures;this.accountService.upsertRoomSettings(this.room.roomSettings,l).subscribe()}a&&this.dialog.open(Lu,{panelClass:"fullscreen-dialog",width:"440px",data:{modalTitle:"Apply resolution change?",description:"SettingsReloadPageRejoinRoom",confirmButtonLabel:"Reload and re-join the room"}}).afterClosed().subscribe(c=>{c&&location.reload()})}))}inviteUser(i){let r=this.dialog.open(zY,{panelClass:"fullscreen-dialog",width:"480px"});this.analyticsService.markActivity(mt.LivekitPrivatePodSingleInvitationClicked),r.afterClosed().subscribe(o=>{o&&this.createFocusRoomSessionGroup(this.room.name,[i.identity],o).subscribe({next:s=>{this.room.activeGroup.next(s),this.analyticsService.markActivity(mt.LivekitPrivatePodSingleInvitationSent)},error:s=>this.handleErrors(s)})})}getTwirpApiLogs(i){let r=new Oe;for(let o in i)if(Object.prototype.hasOwnProperty.call(i,o)){let a=i[o];r=r.append(o,a)}return this.http.get(`${this.API_ENDPOINT}/twirp-api-logs`,{params:r})}getTwirpApiLogActiveRoomsPayload(i){return this.http.get(`${this.API_ENDPOINT}/twirp-api-logs/active-rooms/${i}`)}getTwirpApiLogRoomParticipantsPayload(i){return this.http.get(`${this.API_ENDPOINT}/twirp-api-logs/room-participants/${i}`)}getFollowedUsers(i){return this.http.get(`${this.API_ENDPOINT}/${i}/suggestions/followed-users`)}getRecentlyPinnedUsers(i){return this.http.get(`${this.API_ENDPOINT}/${i}/suggestions/recently-pinned-users`)}getGroupNamesCreatedByMe(i){return this.http.get(`${this.API_ENDPOINT}/${i}/groups/created-by-me`)}getDashboardAdditionalInfo(){return this.http.get(`${this.API_ENDPOINT}/dashboard-additional-info`)}getRoomUsersToPinFromDashboard(i){return this.http.get(`${this.API_ENDPOINT}/${i}/users-to-pin-from-dashboard`)}getTopStatuses(i){return this.http.get(`${this.API_ENDPOINT}/${i}/statuses/top`)}setActiveStatus(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/statuses/active`,{statusId:r,localParticipantTilePage:o})}clearStatusTimeout(i){let r=this.room.statusUpdateTimeouts.find(o=>o.statusId===i);r&&this.room.statusUpdateTimeouts.splice(this.room.statusUpdateTimeouts.indexOf(r),1)}handleErrors(i){this.toastService.error({exceptionDetail:i[0]})}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Qt),K(ai),K(MD),K(Xi),K(Ht),K(Kr),K(Ao),K(nue),K(jf),K(ZD),K(aue),K(Vf),K(Sn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),qs=function(t){return t.Video="Video",t.Audio="Audio",t.PinSettings="Pin settings",t.Troubleshooting="Troubleshooting",t}(qs||{});function oHe(t,e){t&1&&$(0,"mat-spinner",3)}function sHe(t,e){t&1&&$(0,"ss-icon",4),t&2&&P("size",20)("iconVariant",20)}var lde=(()=>{let e=class e{get zoomToFitDisabled(){return!this.settings.zoomToFit&&this.settings.isCameraEnabled}constructor(i,r,o,s){this.livekit=i,this.mediaDevicesService=r,this.loaderService=o,this.dialogRef=s,this.availableVideoDevices=[],this.mediaDevicesLoaded=!1,this.mediaDevicesPromptDisplayed=!1,this.ButtonLoadersRef=zw,this.closeModalHeaderButtonLoading=!1,this.saveButtonLoading=!1,this.setAvailableDevices=this.setAvailableDevices.bind(this),this.settings=JSON.parse(JSON.stringify(this.livekit.room.settings))}ngOnInit(){return ue(this,null,function*(){if(this.loaderService.stop(),!navigator.userAgent.toLowerCase().includes("firefox")&&(yield navigator.permissions.query({name:"camera"})).state==="denied"){this.mediaDevicesLoaded=!0,this.tryClosing();return}window.navigator&&navigator.mediaDevices.addEventListener("devicechange",this.setAvailableDevices),this.mediaDevicesService.getDevices("videoinput",!1).then(r=>this.mediaDevicesPromptDisplayed=!0),this.mediaDevicesService.getDevices("videoinput",!0).then(r=>{if(this.availableVideoDevices=r,this.mediaDevicesLoaded=!0,this.tryClosing(),this.availableVideoDevices.length===0)return;let o=this.livekit.room.settings.activeVideoDevice,s=o?this.availableVideoDevices.find(a=>a.deviceId===o):null;this.settings.activeVideoDevice=s?.deviceId??this.availableVideoDevices[0].deviceId,this.changeActiveVideoDevice()}).catch(r=>{console.log(r)})})}ngOnDestroy(){window.navigator&&navigator.mediaDevices.removeEventListener("devicechange",this.setAvailableDevices)}onShowCameraChange(i){if(i.checked){this.settings.activeVideoDevice=this.availableVideoDevices[0].deviceId,this.changeActiveVideoDevice();return}this.settings.activeVideoDevice=null,this.settings.isCameraEnabled=!1}changeActiveVideoDevice(){this.settings.activeVideoDevice&&(this.settings.isCameraEnabled=!0)}onClose(i){if(i!==zw.Save){this.settings.activeVideoDevice=null,this.settings.isCameraEnabled=!1,this.closeModalHeaderButtonLoading=!0,this.dialogRef.close();return}this.mediaDevicesLoaded||this.mediaDevicesPromptDisplayed?this.dialogRef.close(this.settings):this.saveButtonLoading=!0}setAvailableDevices(){this.mediaDevicesService.getDevices("videoinput",!0).then(i=>{this.availableVideoDevices=i})}tryClosing(){this.closeModalHeaderButtonLoading?(this.closeModalHeaderButtonLoading=!1,this.onClose(zw.Close)):this.saveButtonLoading&&(this.saveButtonLoading=!1,this.onClose(zw.Save))}};e.\u0275fac=function(r){return new(r||e)(L(wr),L(o_),L(gl),L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-focus-room-video-source-modal"]],standalone:!1,decls:13,vars:7,consts:[[1,"mat-header"],["mat-dialog-title",""],[1,"close-modal",3,"click"],["diameter","20","strokeWidth","2"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],["id","activeDevice","name","activeDevice","placeholder","Select video device","labelProperty","label","valueProperty","deviceId",3,"ngModelChange","selectionChange","ngModel","options","disabled"],["color","tertiary",3,"buttonClick","isLoading"],["color","positive",3,"buttonClick","isLoading"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"Video Settings"),w(),C(3,"button",2),G("click",function(){return o.onClose(o.ButtonLoadersRef.Close)}),H(4,oHe,1,0,"mat-spinner",3),H(5,sHe,1,2,"ss-icon",4),w()(),C(6,"mat-dialog-content")(7,"ss-select",5),Je("ngModelChange",function(a){return tt(o.settings.activeVideoDevice,a)||(o.settings.activeVideoDevice=a),a}),G("selectionChange",function(){return o.changeActiveVideoDevice()}),w()(),C(8,"mat-dialog-actions")(9,"ss-button",6),G("buttonClick",function(){return o.onClose(o.ButtonLoadersRef.Close)}),F(10," Cancel "),w(),C(11,"ss-button",7),G("buttonClick",function(){return o.onClose(o.ButtonLoadersRef.Save)}),F(12," Turn camera on "),w()()),r&2&&(y(4),Q(o.closeModalHeaderButtonLoading?4:-1),y(),Q(o.closeModalHeaderButtonLoading?-1:5),y(2),Ze("ngModel",o.settings.activeVideoDevice),P("options",o.availableVideoDevices)("disabled",o.availableVideoDevices.length===0),y(2),P("isLoading",o.saveButtonLoading),y(2),P("isLoading",o.saveButtonLoading))},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:row;flex-direction:column;justify-content:center;align-items:flex-start;width:100%;height:100%}.toggle-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:flex-start;padding:10px 0}ss-select[_ngcontent-%COMP%]{margin:10px 0}mat-checkbox[_ngcontent-%COMP%]{margin-top:20px}.mat-header[_ngcontent-%COMP%], mat-dialog-content[_ngcontent-%COMP%], mat-dialog-actions[_ngcontent-%COMP%]{width:100%}"]});let t=e;return t})(),zw=function(t){return t.Close="Close",t.Save="Save",t}(zw||{});var Dd=(()=>{let e=class e{constructor(i,r){this.http=i,this.utilityService=r,this.API_ENDPOINT=`${Ue.apiUrl}/users`}search(i){return this.http.post(`${this.API_ENDPOINT}/search`,i)}simpleSearch(i){return this.http.post(`${this.API_ENDPOINT}/search/simple`,i)}getFullUserProfile(i){return this.http.get(`${this.API_ENDPOINT}/${i}`)}getUserFocusRoomStats(i){return this.http.get(`${this.API_ENDPOINT}/${i}/focus-room/stats`).pipe(se(r=>this.mapUserStats(r)))}getLastWeekUserFocusRoomStats(i){return this.http.get(`${this.API_ENDPOINT}/${i}/focus-room/stats/last-week`)}markAvatarView(i){return this.http.post(`${this.API_ENDPOINT}/${i}/view/avatar`,null)}markVideoTileView(i,r){let o=new Oe;return o=o.append("roomName",r),this.http.post(`${this.API_ENDPOINT}/${i}/view/video-tile`,null,{params:o})}getAdminUserStats(i){return this.http.get(`${this.API_ENDPOINT}/focus-room/stats/${i}`).pipe(se(r=>(this.mapUserStats(r.userStats),r)))}getUserProfileShort(i){return this.http.get(`${this.API_ENDPOINT}/${i}/short`)}getUserProfileShortPublic(i){return this.http.get(`${this.API_ENDPOINT}/${i}/public/short`)}getAndRefreshUserSubscriptionInfo(i){return this.http.get(`${this.API_ENDPOINT}/${i}/subscription`)}getUserChangeLogs(i){return this.http.get(`${this.API_ENDPOINT}/${i}/change-logs`).pipe(se(r=>(r.map(o=>(o.changeInfoItems=o.changeInfo?JSON.parse(o.changeInfo):[],o)),r)))}searchActiveUsers(i,r=!1){let o=new Oe;return r&&(o=o.append("includeYourself",r)),this.http.get(`${this.API_ENDPOINT}/search-active?searchTerm=${i}`,{params:o})}getUserProfiles(i){return i.length===0?Re([]):this.http.post(`${this.API_ENDPOINT}/profiles`,i)}getLastActiveInfoForUsers(i){return i.length===0?Re([]):this.http.post(`${this.API_ENDPOINT}/last-active-info`,i)}addUser(i){let r=this.utilityService.createFormData(i);return this.http.post(this.API_ENDPOINT,r)}updateUser(i,r){let o=this.utilityService.createFormData(r);return this.http.put(`${this.API_ENDPOINT}/${i}`,o)}updateUserHdFlag(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/hd`,{newHdFlagValue:r}).pipe(se(o=>o.hdFlagUpdated))}reloadAllUserSessions(){return this.http.put(`${this.API_ENDPOINT}/reload-all-sessions`,null)}deleteUser(i){return this.http.delete(`${this.API_ENDPOINT}/${i.id}`)}clearDeletedUsersSensitiveDataCount(i){let r=new Oe;return r=r.append("monthsAgo",i),this.http.get(`${this.API_ENDPOINT}/clear-deleted-users-sensitive-data/count`,{params:r})}clearDeletedUsersSensitiveData(i){let r=new Oe;return r=r.append("monthsAgo",i),this.http.delete(`${this.API_ENDPOINT}/clear-deleted-users-sensitive-data`,{params:r})}getLastActiveUsers(){return this.http.get(`${this.API_ENDPOINT}/last-active`).pipe(se(i=>{if(i.length===0||i.length>=18)return i;let r=[],o=Math.ceil(18/i.length),s=18-(o-1)*i.length;for(let a=1;a<=o;a++){let l=a===o?i.slice(0,s):i;r=[...r,...l]}return r}))}getTotalUsersOnline(){return this.http.get(`${this.API_ENDPOINT}/platform-stats`).pipe(se(i=>i.discordUsersOnline+i.webUsersOnline+i.livekitUsersOnline))}getRepairFocusRoomStreakSessionsForAdmin(i){return this.http.get(`${this.API_ENDPOINT}/repair-streak/focus-room/${i}`)}repairFocusRoomStreakForAdmin(i,r){return this.http.post(`${this.API_ENDPOINT}/repair-streak/focus-room/${i}`,r)}repairFocusRoomStreak(i){return this.http.post(`${this.API_ENDPOINT}/repair-streak/focus-room/me`,i)}canSeeConversationHistory(){return this.http.get(`${this.API_ENDPOINT}/can-see-history`)}getFollowers(i){return this.http.get(`${this.API_ENDPOINT}/${i}/follower-info`)}getPinnedByUsers(){return this.http.get(`${this.API_ENDPOINT}/me/pinned-by-users-daily`)}getPinnedByUsersForPremiumUsers(i=!0){let r=new Oe;return r=r.append("includeCurrentPins",i),this.http.get(`${this.API_ENDPOINT}/me/premium/pinned-by-users`,{params:r})}getUsersCurrentlyPinningYouForPremiumUsers(){return this.http.get(`${this.API_ENDPOINT}/me/premium/pinned-by-users-now`)}getUserFocusRoomSessions(i){return this.http.get(`${this.API_ENDPOINT}/${i}/focus-room/sessions`)}getUserFocusRoomVideoSessions(i){return this.http.get(`${this.API_ENDPOINT}/${i}/focus-room/video-sessions`)}mapUserStats(i){return i.totalWeeklyHours=+(i.totalWeeklySeconds/3600).toFixed(1),i.totalMonthlyHours=+(i.totalMonthlySeconds/3600).toFixed(),i.totalYearlyHours=+(i.totalYearlySeconds/3600).toFixed(),i}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Ht))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aHe=["avatarElement"],lue=(()=>{let e=class e{handleClickOutside(i){let r=i.target;this.avatarElement.nativeElement.contains(r)||this.dialogRef.close()}get backgroundImage(){return this.data.avatarUrl?`url(${this.data.avatarUrl})`:"none"}get backgroundColor(){return`#${this.data.avatarColor}`}constructor(i,r,o){this.data=i,this.dialogRef=r,this.userService=o}ngOnInit(){this.userService.markAvatarView(this.data.id).subscribe()}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt),L(Dd))},e.\u0275cmp=re({type:e,selectors:[["ss-avatar-view-modal"]],viewQuery:function(r,o){if(r&1&&Fe(aHe,5),r&2){let s;Ce(s=we())&&(o.avatarElement=s.first)}},hostBindings:function(r,o){r&1&&G("click",function(a){return o.handleClickOutside(a)})},standalone:!1,decls:5,vars:5,consts:[["avatarElement",""],[1,"actions-wrapper"],["mat-dialog-close","","role","button","iconName","dismiss","color","default-60",3,"size"],[1,"content"],[1,"avatar"]],template:function(r,o){r&1&&(C(0,"div",1),$(1,"ss-icon",2),w(),C(2,"div",3),$(3,"div",4,0),w()),r&2&&(y(),P("size",24),y(2),Zn("background-color",o.backgroundColor)("background-image",o.backgroundImage))},dependencies:[bn,hu],styles:["[_nghost-%COMP%]{position:relative}.actions-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}ss-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:40px;height:40px;margin-bottom:8px;border-radius:50%;background:var(--grayscale)}.avatar[_ngcontent-%COMP%]{display:block;max-height:88vh;margin:0 auto;border-radius:16px;background-position:center;background-size:contain;background-repeat:no-repeat;aspect-ratio:1/1}"]});let t=e;return t})();var lHe=["autosize"],cHe=["textarea"],dHe=["textareaModel"],uHe=t=>({propertyName:t});function hHe(t,e){if(t&1&&(C(0,"label"),F(1),w()),t&2){let n=M();y(),Ne(n.label)}}function fHe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",4),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=M();y(),P("size",20),y(2),Ne(oi(4,2,"forms.validationErrors.required",Dl(5,uHe,n.validationPropertyName||n.label)))}}function pHe(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",4),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=e.$implicit;y(),P("size",20),y(2),Ne(oi(4,2,"errors."+n.errorCode,n.params))}}function mHe(t,e){if(t&1&&(C(0,"div",3),F(1),w()),t&2){let n=M();y(),xo("",(n.value==null?null:n.value.length)||0,"/",n.maxlength)}}var Ww=(()=>{let e=class e{constructor(i){this._ngZone=i,this.label=null,this.errors=[],this.rows=3,this.autosizeMaxRows="",this.noMargin=!1,this.focus=new Ae,this.onChange=r=>{},this.onTouched=()=>{}}get required(){return this._required}set required(i){this._required=Qr(i)}get disabled(){return this._disabled}set disabled(i){this._disabled=Qr(i)}get readonly(){return this._readonly}set readonly(i){this._readonly=Qr(i)}ngOnChanges(i){i.errors&&!i.errors.firstChange&&(i.errors.currentValue.length?(this.textareaModel?.control.setErrors({incorrect:!0}),this.textareaModel?.control.markAsDirty()):(this.textareaModel?.control.setErrors(null),this.textareaModel?.control.updateValueAndValidity()))}triggerResize(){this._ngZone.onStable.pipe(Jt(1)).subscribe(()=>this.autosize.resizeToFitContent(!0))}writeValue(i){this.value=i,this.updateChanges()}updateChanges(){this.onChange(this.value)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}};e.\u0275fac=function(r){return new(r||e)(L(Ie))},e.\u0275cmp=re({type:e,selectors:[["ss-textarea"]],viewQuery:function(r,o){if(r&1&&(Fe(lHe,5),Fe(cHe,5),Fe(dHe,5)),r&2){let s;Ce(s=we())&&(o.autosize=s.first),Ce(s=we())&&(o.textarea=s.first),Ce(s=we())&&(o.textareaModel=s.first)}},hostVars:2,hostBindings:function(r,o){r&2&&le("no-margin",o.noMargin)},inputs:{id:"id",name:"name",validationPropertyName:"validationPropertyName",label:"label",maxlength:"maxlength",errors:"errors",rows:"rows",autosizeMaxRows:"autosizeMaxRows",noMargin:"noMargin",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",readonly:"readonly"},outputs:{focus:"focus"},standalone:!1,features:[yt([{provide:uo,useExisting:kn(()=>e),multi:!0}]),gt],decls:12,vars:21,consts:[["textarea","","autosize","cdkTextareaAutosize","textareaModel","ngModel"],["floatLabel","always",3,"hideRequiredMarker"],["matInput","","cdkAutosizeMinRows","1",1,"input-text",3,"ngModelChange","focus","id","name","placeholder","disabled","readonly","required","rows","ngModel","maxlength","cdkTextareaAutosize","cdkAutosizeMaxRows"],[1,"character-counter"],["color","negative","iconName","error_circle",3,"size"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",1),H(1,hHe,2,1,"label"),C(2,"div"),H(3,fHe,5,7,"mat-error"),Bt(4,pHe,5,5,"mat-error",null,Mn),w(),C(6,"textarea",2,0),Je("ngModelChange",function(l){return Y(s),tt(o.value,l)||(o.value=l),X(l)}),G("focus",function(l){return Y(s),X(o.focus.emit(l))})("ngModelChange",function(){return Y(s),X(o.updateChanges())}),F(10,"  "),w(),H(11,mHe,2,2,"div",3),w()}if(r&2){let s=It(9);le("no-label",!o.label)("field-disabled",o.disabled||o.readonly)("no-counter",!o.maxlength),P("hideRequiredMarker",!0),y(),Q(o.label?1:-1),y(2),Q(s.invalid&&!s.pristine&&o.errors.length===0&&(s.errors!=null&&s.errors.required)?3:-1),y(),Ft(o.errors),y(2),P("id",o.id)("name",o.name)("placeholder",o.placeholder)("disabled",o.disabled)("readonly",o.readonly)("required",o.required)("rows",o.rows),Ze("ngModel",o.value),P("maxlength",o.maxlength||2e3)("cdkTextareaAutosize",!!o.autosizeMaxRows)("cdkAutosizeMaxRows",o.autosizeMaxRows),y(5),Q(o.maxlength?11:-1)}},dependencies:[Ya,Oi,Rs,$p,cr,ho,Nc,Vc,BY,bn,Vl],styles:["[_nghost-%COMP%]{display:block;margin-bottom:16px}[_nghost-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:var(--default-20)}.no-margin[_nghost-%COMP%]{margin-bottom:0}[_nghost-%COMP%]     .mdc-text-field{padding:0;background-color:transparent!important}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--focused textarea{border-color:var(--accent-blue)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid textarea{border-color:var(--negative)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid .mat-mdc-floating-label{color:var(--negative)!important}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper, [_nghost-%COMP%]     .mat-mdc-form-field-focus-overlay, [_nghost-%COMP%]     .mdc-line-ripple{display:none}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-bottom:0}[_nghost-%COMP%]     .no-label .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:0}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:20px;font:17px Poppins,sans-serif;line-height:20px;color:var(--default-40);letter-spacing:normal}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]{display:block;width:100%;box-sizing:border-box;resize:none;padding:12px 16px;border:1px solid var(--default-20);border-radius:12px;outline:none;color:var(--default)!important}[_nghost-%COMP%]   textarea[disabled][_ngcontent-%COMP%], [_nghost-%COMP%]   textarea[readonly][_ngcontent-%COMP%]{color:var(--default-40)!important;border-color:var(--default-80);background-color:var(--grayscale-g1)}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{display:block;color:var(--default-60)!important}[_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill, [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]   textarea[_ngcontent-%COMP%]:-webkit-autofill:focus{box-shadow:0 0 0 1000px var(--grayscale) inset;-webkit-text-fill-color:var(--default-20)}[_nghost-%COMP%]   .character-counter[_ngcontent-%COMP%]{margin-top:8px;font-size:15px;line-height:20px;color:var(--default-20);text-align:right}[_nghost-%COMP%]:hover  textarea{color:var(--default);border-color:var(--default)}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty textarea{border-color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label, [_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .character-counter{color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-invalid .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-invalid .character-counter{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-infix{width:100%;padding-top:10px;padding-bottom:0;border-top-width:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper{top:-15px;padding-top:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{line-height:16px;color:var(--default-40)}@media only screen and (max-width: 1024px){[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font-size:15px}}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-form-field-label-wrapper .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .character-counter{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused textarea{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .character-counter{color:var(--negative-20)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty textarea{border-color:var(--negative-20)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .character-counter{color:var(--default-20)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused textarea{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-infix{padding-top:0;border-top-width:0}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-label-wrapper{top:0;padding-top:0}[_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .character-counter{color:var(--default-60)}[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{top:100%;margin-top:1px}"]});let t=e;return t})();var due=(()=>{let e=class e{static forRoot(i){return{ngModule:e,providers:[{provide:SI,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=je({});let t=e;return t})();var uue=(()=>{let e=class e{constructor(){this.scrollSub=new At,this.resizeSub=new At,this.manageScrollPos(),this.scrollObs=typeof window<"u"?ta(window,"scroll"):Ji,this.scrollSub=this.scrollObs.subscribe(()=>this.manageScrollPos()),this.resizeObs=typeof window<"u"?ta(window,"resize"):Ji,this.resizeSub=this.resizeObs.subscribe(()=>this.manageScrollPos())}manageScrollPos(){this.pos=typeof window<"u"?window.scrollY:0}ngOnDestroy(){this.scrollSub.unsubscribe(),this.resizeSub.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gHe=(()=>{let e=class e{get id(){return this.elementRef.nativeElement.id}constructor(i,r,o){this.elementRef=i,this.renderer=r,this.scroll=o,this.scrollSub=new At,this.resizeSub=new At,this.offset=80}ngOnInit(){if(this.animationName){if(this.isVisible=!1,this.useScroll=this.useScroll?this.useScroll:this.useScroll!==!1,this.threshold=this.threshold&&this.threshold||.5,"IntersectionObserver"in window&&this.useScroll){let i={root:null,threshold:this.threshold,rootMargin:"0px"};this.observer=new IntersectionObserver((r,o)=>{r.forEach(s=>{s.isIntersecting&&this.addAnimationClass()})},i),this.observer.observe(this.elementRef.nativeElement);return}this.scrollSub=this.scroll.scrollObs.subscribe(()=>this.manageVisibility()),this.resizeSub=this.scroll.resizeObs.subscribe(()=>this.manageVisibility())}}ngAfterViewInit(){setTimeout(()=>this.manageVisibility(),1)}ngOnDestroy(){this.scrollSub.unsubscribe(),this.resizeSub.unsubscribe(),this.observer&&Hae(this.observer,this.elementRef?.nativeElement)}manageVisibility(){if(this.isVisible)return;this.getWinHeight(),this.getOffsetTop();let i=this.offsetTop+this.offset-this.winHeight;this.scroll.pos>=i&&this.addAnimationClass()}addAnimationClass(){this.animationName&&(this.isVisible=!0,this.setClass(this.animationName))}setClass(i){for(let r of i.split(" "))this.renderer.addClass(this.elementRef.nativeElement,r)}getWinHeight(){this.winHeight=typeof window<"u"?window.innerHeight:0}getOffsetTop(){if(typeof this.elementRef.nativeElement.getBoundingClientRect=="function"){let i=this.elementRef.nativeElement.getBoundingClientRect().top,r=this.elementRef.nativeElement.clientTop;this.offsetTop=i+this.scroll.pos-r}else this.offsetTop=0}};e.\u0275fac=function(r){return new(r||e)(L(Se),L(_n),L(uue))},e.\u0275dir=ye({type:e,selectors:[["","animateOnScroll",""]],inputs:{animationName:"animationName",offset:"offset",useScroll:"useScroll",threshold:"threshold"},standalone:!1});let t=e;return t})();var JD=(()=>{let e=class e{constructor(){this.size=16}get styleWidth(){return`${this.size}px`}get styleHeight(){return`${this.size}px`}get styleBackgroundImage(){return`url(${this.badge.iconUrl})`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-badge"]],hostVars:6,hostBindings:function(r,o){r&2&&Zn("width",o.styleWidth)("height",o.styleHeight)("background-image",o.styleBackgroundImage)},inputs:{badge:"badge",size:"size"},standalone:!1,decls:1,vars:1,consts:[["matTooltipPosition","above",3,"matTooltip"]],template:function(r,o){r&1&&$(0,"div",0),r&2&&P("matTooltip",o.badge.name)},dependencies:[ci],styles:["[_nghost-%COMP%]{display:block;background-position:center;background-size:contain;background-repeat:no-repeat}div[_ngcontent-%COMP%]{width:100%;height:100%;cursor:pointer}"]});let t=e;return t})();var tP=(()=>{let e=class e{transform(i,r=!1,o=!1,s=null){s||(s=eP.Minutes);let a=i/60,l=Math.floor(a/60),c=Math.floor(a%60);l===0&&c===0&&i>0&&(c=1);let d="";if(r){let u=Math.floor(l/24);u>0&&(l=Math.floor(l%24),d=o?`<em>${u}</em> days`:`${u}d`)}return s===eP.Hours?d+=" "+(o?`<em>${l}</em> hours`:`${l}h`):s===eP.Minutes&&(d+=" "+(o?`<em>${l}</em> hours <em>${c}</em> mins`:`${l}h ${c}m`)),d===""&&(d="-"),d}transformStatsChartTooltipString(i){let r=i/60,o=Math.floor(r/60),s=Math.floor(r%60);return o===0&&s===0&&i>0&&(s=1),`<span>${o}h ${s}m</span>`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Sr({name:"timeDisplay",type:e,pure:!0,standalone:!1});let t=e;return t})(),eP=function(t){return t.Seconds="Seconds",t.Minutes="Minutes",t.Hours="Hours",t.Days="Days",t}(eP||{});var bHe=["chart"];i_.register(xD,sde,$ce,Rw,tde,ide,ode);var hue=(()=>{let e=class e{constructor(i,r){this.themeService=i,this.timeDisplayPipe=r,this.pointStyles=[],this.userPopupChart=!1,this.config={type:"line",data:{},options:{maintainAspectRatio:!1,elements:{line:{borderWidth:2,borderColor:"#5145a2",cubicInterpolationMode:"monotone"},point:{radius:5,hitRadius:50,pointStyle:this.getPointStyle.bind(this),borderWidth:2,hoverRadius:7,hoverBorderWidth:2}},scales:{y:{display:!1,afterDataLimits:this.getAfterDataLimits.bind(this),grid:{display:!1}},x:{stacked:!0,grid:{display:!1},border:{display:!1},ticks:{color:"#ababab",font:{size:13,family:"'Quattrocento Sans', sans-serif"}}}},plugins:{tooltip:{enabled:!1,position:"nearest",external:this.externalTooltipHandler.bind(this)}}}}}ngAfterViewInit(){this.chart=new i_(this.chartElement.nativeElement,this.config),this.rerenderChart(),this.themeChangeSubscription=this.themeService.themeChange.subscribe(i=>{this.config.options?.elements?.point&&(this.config.options.elements.point.borderColor=i===Bs.Dark?"#2d3241":"#fff",this.config.options.elements.point.backgroundColor=i===Bs.Dark?"#fff":"#5145a2",this.config.options.elements.point.hoverBorderColor=i===Bs.Dark?"#fff":"#5145a2",this.config.options.elements.point.hoverBackgroundColor=i===Bs.Dark?"#5145a2":"#fff"),this.rerenderChart(!1)})}ngOnChanges(i){i.chartData&&!i.chartData.firstChange&&this.rerenderChart()}ngOnDestroy(){this.themeChangeSubscription.unsubscribe()}rerenderChart(i=!0){i&&(this.setYScaleLimits(),this.chart.data=this.chartData),this.chart.options.backgroundColor=this.getGradient(),this.chart.data.datasets.length>1&&(this.chart.data.datasets[1].borderColor="#C4C4C4",this.chart.data.datasets[1].backgroundColor="#C4C4C4",this.chart.data.datasets[1].hoverBorderColor="#C4C4C4"),this.chart.update()}setYScaleLimits(){if(!this.chart.options.scales?.y)return;let i,r;this.chartData.datasets.length>1?(i=Math.max(...this.chartData.datasets[0].data,...this.chartData.datasets[1].data),r=Math.min(...this.chartData.datasets[0].data,...this.chartData.datasets[1].data)):(i=Math.max(...this.chartData.datasets[0].data),r=Math.min(...this.chartData.datasets[0].data));let o=i-r;this.chart.options.scales.y.min=o<2?-.2:o<18?-1.25:-1.55,this.chart.options.scales.y.max=i+1.8}getGradient(){let r=this.chartElement.nativeElement.getContext("2d");if(!r)return;let o=r.createLinearGradient(0,0,0,180);return o.addColorStop(0,"rgba(119, 109, 176, 0.1)"),o.addColorStop(1,"rgba(119, 109, 176, 0)"),o}externalTooltipHandler(i){let r=this.getOrCreateTooltip(i.chart);if(i.tooltip.opacity===0){r.style.opacity="0";return}if(i.tooltip.body){let o=i.tooltip.body.map(u=>u.lines),s=document.createElement("tbody"),a=i.chart.data.rawDataForTooltipUse??[],l,c;o.forEach(u=>{let p=document.createElement("tr");p.style.borderWidth="0";let g=document.createElement("td");g.style.borderWidth="0",g.style.whiteSpace="nowrap",g.style.color="#fff",g.style.fontFamily="'Quattrocento Sans', sans-serif",g.style.fontSize="11px";let v=i.tooltip.title[0],b=a.find(x=>ot.fromISO(x.day,{zone:"utc"}).toFormat("ccc").startsWith(v))?.streakStatus||null;b===null&&(b=a.find(x=>ot.fromISO(x.day).toFormat("dd/MM")===v)?.streakStatus||null),g.innerHTML=`<div style="line-height: 16px; text-align: center;">${i.tooltip.title} ${this.timeDisplayPipe.transformStatsChartTooltipString(JSON.parse(u)*3600)}</div><div style="line-height: 16px; text-align: center;">${this.resolveStreakStatusLabel(b,i.tooltip.dataPoints[0].datasetIndex)}</div>`,(l!==i.tooltip.dataPoints[0].datasetIndex||c!==i.tooltip.dataPoints[0].dataIndex)&&(p.appendChild(g),s.appendChild(p)),l=i.tooltip.dataPoints[0].datasetIndex,c=i.tooltip.dataPoints[0].dataIndex});let d=r.querySelector("table");if(d){for(;d.firstChild;)d.firstChild.remove();d.appendChild(s)}}r.style.opacity="1",r.style.left=i.chart.canvas.offsetLeft+i.tooltip.caretX+"px",r.style.top=i.chart.canvas.offsetTop+i.tooltip.caretY+"px"}getOrCreateTooltip(i){let r=i?.canvas?.parentNode?.querySelector("div");if(!r){r=document.createElement("div"),r.classList.add("stats-chart-tooltip");let o=document.createElement("table");o.style.margin="0px",r.appendChild(o),i?.canvas?.parentNode&&i.canvas.parentNode.appendChild(r)}return r}getPointStyle(i){return this.isMyDataPoint(i.raw,i.index)?"circle":this.pointStyles}getAfterDataLimits(i){this.userPopupChart&&(i.max+=(i.max-i.min)*.23,i.min-=(i.max-i.min)*.14)}isMyDataPoint(i,r){if(this.chartData.datasets.length===1)return!1;let o=this.chartData.datasets[1].data.find(a=>a===i);return o===void 0?!1:this.chartData.datasets[0].data[r]!==o}resolveStreakStatusLabel(i,r){if(r!==0)return"";switch(i){case bu.StreakAchieved:return"Streak achieved";case bu.StreakFreezeUsed:return"Streak freeze used";case bu.StreakRepaired:return"Streak repair applied";default:return""}}};e.\u0275fac=function(r){return new(r||e)(L(F1),L(tP))},e.\u0275cmp=re({type:e,selectors:[["ss-line-chart"]],viewQuery:function(r,o){if(r&1&&Fe(bHe,5),r&2){let s;Ce(s=we())&&(o.chartElement=s.first)}},inputs:{chartData:"chartData",pointStyles:"pointStyles",userPopupChart:"userPopupChart"},standalone:!1,features:[yt([tP]),gt],decls:3,vars:0,consts:[["chart",""],[1,"canvas-wrapper"]],template:function(r,o){r&1&&(C(0,"div",1),$(1,"canvas",null,0),w())},styles:['[_nghost-%COMP%]{display:block;width:100%;height:100%}[hidden][_nghost-%COMP%]{display:none}.canvas-wrapper[_ngcontent-%COMP%]{width:100%;height:100%}.canvas-wrapper[_ngcontent-%COMP%]     .stats-chart-tooltip{position:absolute;padding:0 3px;border-radius:5px;color:var(--contrast);background:var(--blue-black-light);pointer-events:none;filter:drop-shadow(0 0 20px rgba(0,0,0,.15));transform:translate(-50%,-180%)}.canvas-wrapper[_ngcontent-%COMP%]     .stats-chart-tooltip:after{content:"";position:absolute;bottom:-6px;left:50%;width:0;height:0;border-top:7px solid var(--blue-black-light);border-right:5px solid transparent;border-left:5px solid transparent;transform:translate(-50%)}']});let t=e;return t})();function yHe(t,e){if(t&1){let n=fe();C(0,"div",2)(1,"ss-icon",4),G("click",function(){Y(n),M();let r=It(1);return X(r.click())}),w(),C(2,"small"),F(3,"Drag & drop files or click to upload"),w()()}t&2&&(y(),P("size",20))}function CHe(t,e){if(t&1&&(C(0,"div",7),$(1,"ss-icon",9),C(2,"div"),F(3),w()()),t&2){let n=M().$implicit;y(),P("size",16),y(2),ht(" ",n.file.name)}}function wHe(t,e){if(t&1&&$(0,"img",8),t&2){let n=M().$implicit;P("src",n.url,$A)}}function EHe(t,e){if(t&1){let n=fe();C(0,"div",5)(1,"ss-icon",6),G("click",function(){let r=Y(n).$index,o=M(2);return X(o.removeImage(r))}),w(),H(2,CHe,4,2,"div",7),H(3,wHe,1,1,"img",8),w()}if(t&2){let n=e.$implicit,i=M(2);y(),P("size",7),y(),Q(i.utilityService.isImageFileType(n.file)?-1:2),y(),Q(i.utilityService.isImageFileType(n.file)?3:-1)}}function xHe(t,e){if(t&1){let n=fe();C(0,"div",3),Bt(1,EHe,4,3,"div",5,Mn),C(3,"ss-icon",4),G("click",function(){Y(n),M();let r=It(1);return X(r.click())}),w()()}if(t&2){let n=M();y(),Ft(n.attachments),y(2),P("size",20)}}var b5=(()=>{let e=class e{get isHovered(){return this.hovered}get hasAttachments(){return this.attachments.length}onDragOver(i){i.preventDefault(),i.stopPropagation(),this.hovered=!0}onDragLeave(i){i.preventDefault(),i.stopPropagation(),this.hovered=!1}onDrop(i){i.preventDefault(),i.stopPropagation(),this.hovered=!1,i.dataTransfer&&this.onFilesChanged(i.dataTransfer.files)}constructor(i){this.utilityService=i,this.allowedExtensions=".pdf,.doc,.docx,image/*,audio/*,video/*",this.filesChanged=new Ae,this.hovered=!1,this.attachments=[],this.files=[],this.id=yd()}ngOnChanges(i){i.screenshot&&this.screenshot&&(this.files.push(this.screenshot.file),this.attachments.push(this.screenshot),this.filesChanged.emit(this.files))}onFileChange(i){let r=i.target;r.files&&this.onFilesChanged(r.files)}onFilesChanged(i){if(i===null){this.files=[];return}let r=Array.from(i),o=this.files.length;this.files=[...this.files,...r];for(let s=o;s<this.files.length;s++){let a=this.files[s],l={},c=new FileReader;l.file=a,this.utilityService.isImageFileType(a)&&(c.onload=d=>{l.url=d.target.result},c.readAsDataURL(a)),this.attachments.push(l)}this.filesChanged.emit(this.files)}removeImage(i){this.files.splice(i,1),this.attachments.splice(i,1),this.filesChanged.emit(this.files)}};e.\u0275fac=function(r){return new(r||e)(L(Ht))},e.\u0275cmp=re({type:e,selectors:[["ss-drag-and-drop-upload"]],hostVars:4,hostBindings:function(r,o){r&1&&G("dragover",function(a){return o.onDragOver(a)})("dragleave",function(a){return o.onDragLeave(a)})("drop",function(a){return o.onDrop(a)}),r&2&&le("hovered",o.isHovered)("has-attachments",o.hasAttachments)},inputs:{allowedExtensions:"allowedExtensions",screenshot:"screenshot"},outputs:{filesChanged:"filesChanged"},standalone:!1,features:[gt],decls:4,vars:5,consts:[["fileInput",""],["type","file","multiple","",3,"change","id"],[1,"empty-dropzone-wrapper"],[1,"attachment-wrapper"],["iconName","arrow_upload","color","default-60",3,"click","size"],[1,"attachment"],["role","button","iconName","dismiss","color","contrast",1,"remove-attach",3,"click","size"],[1,"non-image"],["alt","","height","47",3,"src"],["iconName","document","color","default-20",3,"size"]],template:function(r,o){if(r&1){let s=fe();C(0,"input",1,0),G("change",function(l){return Y(s),X(o.onFileChange(l))}),w(),H(2,yHe,4,1,"div",2),H(3,xHe,4,1,"div",3)}r&2&&(P("id",Ts("file-",o.id)),ct("accept",o.allowedExtensions),y(2),Q(o.attachments.length?-1:2),y(),Q(o.attachments.length?3:-1))},dependencies:[bn],styles:["[_nghost-%COMP%]{position:relative;display:block;width:100%;min-height:110px;border:1px dashed var(--accent-blurple-60);border-radius:13px}.hovered[_nghost-%COMP%]{background:var(--alt-40)}.hovered[_nghost-%COMP%]   .empty-dropzone-wrapper[_ngcontent-%COMP%]{background:var(--alt-40)}.hovered[_nghost-%COMP%]   .attachment-wrapper[_ngcontent-%COMP%]{background:var(--alt-40)}.hovered.has-attachments[_nghost-%COMP%]{border:1px dashed var(--accent-blurple-60)}.has-attachments[_nghost-%COMP%]{border:1px solid var(--alt-60)}ss-icon[iconName=arrow_upload][_ngcontent-%COMP%]{height:47px;box-sizing:border-box;padding:13px 7px;margin-bottom:5px;border:1px solid var(--alt);border-radius:5px;background:var(--alt-60);cursor:pointer}ss-icon[iconName=arrow_upload][_ngcontent-%COMP%]:hover{border:1px solid var(--accent-blurple-20)}small[_ngcontent-%COMP%]{color:var(--default-20)}input[type=file][_ngcontent-%COMP%]{display:none}.empty-dropzone-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:110px;border-radius:13px}.attachment-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:wrap;width:100%;min-height:110px;padding:10px 15px;border-radius:13px;background:var(--alt-60)}.attachment-wrapper[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]{position:relative;margin:0 10px 10px 0}.attachment-wrapper[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]:hover   .remove-attach[_ngcontent-%COMP%]{display:flex;align-items:center}.attachment-wrapper[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]:last-child{margin-right:0}.attachment-wrapper[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]   .remove-attach[_ngcontent-%COMP%]{position:absolute;top:-7px;right:-7px;display:none;width:13px;height:13px;border-radius:50%;background:var(--default-20)}.attachment-wrapper[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]   .remove-attach[_ngcontent-%COMP%]     i{width:12px;line-height:13px;text-align:center}.attachment-wrapper[_ngcontent-%COMP%]   .attachment[_ngcontent-%COMP%]   .remove-attach[_ngcontent-%COMP%]:hover{background:var(--default)}.attachment-wrapper[_ngcontent-%COMP%]   .non-image[_ngcontent-%COMP%]{display:flex;align-items:center;width:164px;overflow:hidden;padding:13px 6px 13px 8px;border:1px solid var(--alt);border-radius:5px;line-height:19px;white-space:nowrap;background:var(--alt-80)}.attachment-wrapper[_ngcontent-%COMP%]   .non-image[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{margin-right:6px}.attachment-wrapper[_ngcontent-%COMP%]   .non-image[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:124px;overflow:hidden;font-size:13px;color:var(--default);white-space:nowrap}.attachment-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:250px;border:1px solid var(--alt);border-radius:5px}"]});let t=e;return t})();var vl=class extends Error{constructor(e,n){let i=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=i}},$f=class extends Error{constructor(e="A timeout occurred."){let n=new.target.prototype;super(e),this.__proto__=n}},vo=class extends Error{constructor(e="An abort occurred."){let n=new.target.prototype;super(e),this.__proto__=n}},nP=class extends Error{constructor(e,n){let i=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=i}},iP=class extends Error{constructor(e,n){let i=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=i}},rP=class extends Error{constructor(e,n){let i=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=i}},oP=class extends Error{constructor(e){let n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}},sP=class extends Error{constructor(e,n){let i=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=i}};var f_=class{constructor(e,n,i){this.statusCode=e,this.statusText=n,this.content=i}},Pd=class{get(e,n){return this.send(De(V({},n),{method:"GET",url:e}))}post(e,n){return this.send(De(V({},n),{method:"POST",url:e}))}delete(e,n){return this.send(De(V({},n),{method:"DELETE",url:e}))}getCookieString(e){return""}};var de=function(t){return t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Information=2]="Information",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",t[t.None=6]="None",t}(de||{});var Od=class{constructor(){}log(e,n){}};Od.instance=new Od;var THe="7.0.14",Ii=class{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,i){if(!(e in n))throw new Error(`Unknown ${i} value: ${e}.`)}},ki=class{static get isBrowser(){return typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return typeof self=="object"&&"importScripts"in self}static get isReactNative(){return typeof window=="object"&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}};function zf(t,e){let n="";return Gf(t)?(n=`Binary data of length ${t.byteLength}`,e&&(n+=`. Content: '${IHe(t)}'`)):typeof t=="string"&&(n=`String data of length ${t.length}`,e&&(n+=`. Content: '${t}'`)),n}function IHe(t){let e=new Uint8Array(t),n="";return e.forEach(i=>{let r=i<16?"0":"";n+=`0x${r}${i.toString(16)} `}),n.substr(0,n.length-1)}function Gf(t){return t&&typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||t.constructor&&t.constructor.name==="ArrayBuffer")}function lP(t,e,n,i,r,o){return ue(this,null,function*(){let s={},[a,l]=Rd();s[a]=l,t.log(de.Trace,`(${e} transport) sending data. ${zf(r,o.logMessageContent)}.`);let c=Gf(r)?"arraybuffer":"text",d=yield n.post(i,{content:r,headers:V(V({},s),o.headers),responseType:c,timeout:o.timeout,withCredentials:o.withCredentials});t.log(de.Trace,`(${e} transport) request complete. Response status: ${d.statusCode}.`)})}function fue(t){return t===void 0?new Vm(de.Information):t===null?Od.instance:t.log!==void 0?t:new Vm(t)}var aP=class{constructor(e,n){this._subject=e,this._observer=n}dispose(){let e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}},Vm=class{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){let i=`[${new Date().toISOString()}] ${de[e]}: ${n}`;switch(e){case de.Critical:case de.Error:this.out.error(i);break;case de.Warning:this.out.warn(i);break;case de.Information:this.out.info(i);break;default:this.out.log(i);break}}}};function Rd(){let t="X-SignalR-User-Agent";return ki.isNode&&(t="User-Agent"),[t,kHe(THe,MHe(),PHe(),DHe())]}function kHe(t,e,n,i){let r="Microsoft SignalR/",o=t.split(".");return r+=`${o[0]}.${o[1]}`,r+=` (${t}; `,e&&e!==""?r+=`${e}; `:r+="Unknown OS; ",r+=`${n}`,i?r+=`; ${i}`:r+="; Unknown Runtime Version",r+=")",r}function MHe(){if(ki.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function DHe(){if(ki.isNode)return process.versions.node}function PHe(){return ki.isNode?"NodeJS":"Browser"}function y5(t){return t.stack?t.stack:t.message?t.message:`${t}`}function pue(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var cP=class extends Pd{constructor(e){if(super(),this._logger=e,typeof fetch>"u"){let n=typeof __webpack_require__=="function"?__non_webpack_require__:rA;this._jar=new(n("tough-cookie")).CookieJar,this._fetchType=n("node-fetch"),this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(pue());if(typeof AbortController>"u"){let n=typeof __webpack_require__=="function"?__non_webpack_require__:rA;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}send(e){return ue(this,null,function*(){if(e.abortSignal&&e.abortSignal.aborted)throw new vo;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");let n=new this._abortControllerType,i;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),i=new vo});let r=null;if(e.timeout){let l=e.timeout;r=setTimeout(()=>{n.abort(),this._logger.log(de.Warning,"Timeout from HTTP request."),i=new $f},l)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Gf(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=yield this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:V({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(l){throw i||(this._logger.log(de.Warning,`Error from HTTP request. ${l}.`),l)}finally{r&&clearTimeout(r),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){let l=yield mue(o,"text");throw new vl(l||o.statusText,o.status)}let a=yield mue(o,e.responseType);return new f_(o.status,o.statusText,a)})}getCookieString(e){let n="";return ki.isNode&&this._jar&&this._jar.getCookies(e,(i,r)=>n=r.join("; ")),n}};function mue(t,e){let n;switch(e){case"arraybuffer":n=t.arrayBuffer();break;case"text":n=t.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=t.text();break}return n}var dP=class extends Pd{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new vo):e.method?e.url?new Promise((n,i)=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Gf(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let o=e.headers;o&&Object.keys(o).forEach(s=>{r.setRequestHeader(s,o[s])}),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),i(new vo)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?n(new f_(r.status,r.statusText,r.response||r.responseText)):i(new vl(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(de.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new vl(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(de.Warning,"Timeout from HTTP request."),i(new $f)},r.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var uP=class extends Pd{constructor(e){if(super(),typeof fetch<"u"||ki.isNode)this._httpClient=new cP(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new dP(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new vo):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}};var Pa=class t{static write(e){return`${e}${t.RecordSeparator}`}static parse(e){if(e[e.length-1]!==t.RecordSeparator)throw new Error("Message is incomplete.");let n=e.split(t.RecordSeparator);return n.pop(),n}};Pa.RecordSeparatorCode=30;Pa.RecordSeparator=String.fromCharCode(Pa.RecordSeparatorCode);var hP=class{writeHandshakeRequest(e){return Pa.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,i;if(Gf(e)){let a=new Uint8Array(e),l=a.indexOf(Pa.RecordSeparatorCode);if(l===-1)throw new Error("Message is incomplete.");let c=l+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,c))),i=a.byteLength>c?a.slice(c).buffer:null}else{let a=e,l=a.indexOf(Pa.RecordSeparator);if(l===-1)throw new Error("Message is incomplete.");let c=l+1;n=a.substring(0,c),i=a.length>c?a.substring(c):null}let r=Pa.parse(n),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[i,o]}};var vi=function(t){return t[t.Invocation=1]="Invocation",t[t.StreamItem=2]="StreamItem",t[t.Completion=3]="Completion",t[t.StreamInvocation=4]="StreamInvocation",t[t.CancelInvocation=5]="CancelInvocation",t[t.Ping=6]="Ping",t[t.Close=7]="Close",t}(vi||{});var fP=class{constructor(){this.observers=[]}next(e){for(let n of this.observers)n.next(e)}error(e){for(let n of this.observers)n.error&&n.error(e)}complete(){for(let e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new aP(this,e)}};var OHe=30*1e3,RHe=15*1e3,_i=function(t){return t.Disconnected="Disconnected",t.Connecting="Connecting",t.Connected="Connected",t.Disconnecting="Disconnecting",t.Reconnecting="Reconnecting",t}(_i||{}),Kw=class t{constructor(e,n,i,r){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(de.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ii.isRequired(e,"connection"),Ii.isRequired(n,"logger"),Ii.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=OHe,this.keepAliveIntervalInMilliseconds=RHe,this._logger=n,this._protocol=i,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new hP,this.connection.onreceive=o=>this._processIncomingData(o),this.connection.onclose=o=>this._connectionClosed(o),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=_i.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:vi.Ping})}static create(e,n,i,r){return new t(e,n,i,r)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==_i.Disconnected&&this._connectionState!==_i.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){return ue(this,null,function*(){if(this._connectionState!==_i.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=_i.Connecting,this._logger.log(de.Debug,"Starting HubConnection.");try{yield this._startInternal(),ki.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=_i.Connected,this._connectionStarted=!0,this._logger.log(de.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=_i.Disconnected,this._logger.log(de.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})}_startInternal(){return ue(this,null,function*(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let e=new Promise((n,i)=>{this._handshakeResolver=n,this._handshakeRejecter=i});yield this.connection.start(this._protocol.transferFormat);try{let n={protocol:this._protocol.name,version:this._protocol.version};if(this._logger.log(de.Debug,"Sending handshake request."),yield this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(de.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),yield e,this._stopDuringStartError)throw this._stopDuringStartError;this.connection.features.inherentKeepAlive||(yield this._sendMessage(this._cachedPingMessage))}catch(n){throw this._logger.log(de.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),yield this.connection.stop(n),n}})}stop(){return ue(this,null,function*(){let e=this._startPromise;this._stopPromise=this._stopInternal(),yield this._stopPromise;try{yield e}catch{}})}_stopInternal(e){return this._connectionState===_i.Disconnected?(this._logger.log(de.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===_i.Disconnecting?(this._logger.log(de.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=_i.Disconnecting,this._logger.log(de.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(de.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new vo("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))}stream(e,...n){let[i,r]=this._replaceStreamingParams(n),o=this._createStreamInvocation(e,n,r),s,a=new fP;return a.cancelCallback=()=>{let l=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(l))},this._callbacks[o.invocationId]=(l,c)=>{if(c){a.error(c);return}else l&&(l.type===vi.Completion?l.error?a.error(new Error(l.error)):a.complete():a.next(l.item))},s=this._sendWithProtocol(o).catch(l=>{a.error(l),delete this._callbacks[o.invocationId]}),this._launchStreams(i,s),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){let[i,r]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(e,n,!0,r));return this._launchStreams(i,o),o}invoke(e,...n){let[i,r]=this._replaceStreamingParams(n),o=this._createInvocation(e,n,!1,r);return new Promise((a,l)=>{this._callbacks[o.invocationId]=(d,u)=>{if(u){l(u);return}else d&&(d.type===vi.Completion?d.error?l(new Error(d.error)):a(d.result):l(new Error(`Unexpected message type: ${d.type}`)))};let c=this._sendWithProtocol(o).catch(d=>{l(d),delete this._callbacks[o.invocationId]});this._launchStreams(i,c)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();let i=this._methods[e];if(i)if(n){let r=i.indexOf(n);r!==-1&&(i.splice(r,1),i.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){let n=this._protocol.parseMessages(e,this._logger);for(let i of n)switch(i.type){case vi.Invocation:this._invokeClientMethod(i);break;case vi.StreamItem:case vi.Completion:{let r=this._callbacks[i.invocationId];if(r){i.type===vi.Completion&&delete this._callbacks[i.invocationId];try{r(i)}catch(o){this._logger.log(de.Error,`Stream callback threw error: ${y5(o)}`)}}break}case vi.Ping:break;case vi.Close:{this._logger.log(de.Information,"Close message received from server.");let r=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}default:this._logger.log(de.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,i;try{[i,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(r){let o="Error parsing handshake response: "+r;this._logger.log(de.Error,o);let s=new Error(o);throw this._handshakeRejecter(s),s}if(n.error){let r="Server returned handshake error: "+n.error;this._logger.log(de.Error,r);let o=new Error(r);throw this._handshakeRejecter(o),o}else this._logger.log(de.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(()=>ue(this,null,function*(){if(this._connectionState===_i.Connected)try{yield this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(e){return ue(this,null,function*(){let n=e.target.toLowerCase(),i=this._methods[n];if(!i){this._logger.log(de.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(de.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),yield this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}let r=i.slice(),o=!!e.invocationId,s,a,l;for(let c of r)try{let d=s;s=yield c.apply(this,e.arguments),o&&s&&d&&(this._logger.log(de.Error,`Multiple results provided for '${n}'. Sending error to server.`),l=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(d){a=d,this._logger.log(de.Error,`A callback for the method '${n}' threw error '${d}'.`)}l?yield this._sendWithProtocol(l):o?(a?l=this._createCompletionMessage(e.invocationId,`${a}`,null):s!==void 0?l=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(de.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),l=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),yield this._sendWithProtocol(l)):s&&this._logger.log(de.Error,`Result given for '${n}' method but server is not expecting a result.`)})}_connectionClosed(e){this._logger.log(de.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new vo("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===_i.Disconnecting?this._completeClose(e):this._connectionState===_i.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===_i.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=_i.Disconnected,this._connectionStarted=!1,ki.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(de.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}_reconnect(e){return ue(this,null,function*(){let n=Date.now(),i=0,r=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(i++,0,r);if(o===null){this._logger.log(de.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=_i.Reconnecting,e?this._logger.log(de.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(de.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[e]))}catch(s){this._logger.log(de.Error,`An onreconnecting callback called with error '${e}' threw error '${s}'.`)}if(this._connectionState!==_i.Reconnecting){this._logger.log(de.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(de.Information,`Reconnect attempt number ${i} will start in ${o} ms.`),yield new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==_i.Reconnecting){this._logger.log(de.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(yield this._startInternal(),this._connectionState=_i.Connected,this._logger.log(de.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(de.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(de.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==_i.Reconnecting){this._logger.log(de.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===_i.Disconnecting&&this._completeClose();return}r=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(i++,Date.now()-n,r)}}this._logger.log(de.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()})}_getNextRetryDelay(e,n,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:i})}catch(r){return this._logger.log(de.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${r}'.`),null}}_cancelCallbacksWithError(e){let n=this._callbacks;this._callbacks={},Object.keys(n).forEach(i=>{let r=n[i];try{r(null,e)}catch(o){this._logger.log(de.Error,`Stream 'error' callback called with '${e}' threw error: ${y5(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,i,r){if(i)return r.length!==0?{arguments:n,streamIds:r,target:e,type:vi.Invocation}:{arguments:n,target:e,type:vi.Invocation};{let o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:o.toString(),streamIds:r,target:e,type:vi.Invocation}:{arguments:n,invocationId:o.toString(),target:e,type:vi.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(let i in e)e[i].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:r=>{let o;r instanceof Error?o=r.message:r&&r.toString?o=r.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,o)))},next:r=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,r)))}})}}_replaceStreamingParams(e){let n=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(this._isObservable(o)){let s=this._invocationId;this._invocationId++,n[s]=o,i.push(s.toString()),e.splice(r,1)}}return[n,i]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,i){let r=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:r.toString(),streamIds:i,target:e,type:vi.StreamInvocation}:{arguments:n,invocationId:r.toString(),target:e,type:vi.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:vi.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:vi.StreamItem}}_createCompletionMessage(e,n,i){return n?{error:n,invocationId:e,type:vi.Completion}:{invocationId:e,result:i,type:vi.Completion}}};var BHe=[0,2e3,1e4,3e4,null],qw=class{constructor(e){this._retryDelays=e!==void 0?[...e,null]:BHe}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}};var Hm=(()=>{class t{}return t.Authorization="Authorization",t.Cookie="Cookie",t})();var pP=class extends Pd{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}send(e){return ue(this,null,function*(){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=yield this._accessTokenFactory()),this._setAuthorizationHeader(e);let i=yield this._innerClient.send(e);return n&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=yield this._accessTokenFactory(),this._setAuthorizationHeader(e),yield this._innerClient.send(e)):i})}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Hm.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Hm.Authorization]&&delete e.headers[Hm.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}};var _o=function(t){return t[t.None=0]="None",t[t.WebSockets=1]="WebSockets",t[t.ServerSentEvents=2]="ServerSentEvents",t[t.LongPolling=4]="LongPolling",t}(_o||{}),qr=function(t){return t[t.Text=1]="Text",t[t.Binary=2]="Binary",t}(qr||{});var mP=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var Yw=class{constructor(e,n,i){this._httpClient=e,this._logger=n,this._pollAbort=new mP,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}connect(e,n){return ue(this,null,function*(){if(Ii.isRequired(e,"url"),Ii.isRequired(n,"transferFormat"),Ii.isIn(n,qr,"transferFormat"),this._url=e,this._logger.log(de.Trace,"(LongPolling transport) Connecting."),n===qr.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[i,r]=Rd(),o=V({[i]:r},this._options.headers),s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===qr.Binary&&(s.responseType="arraybuffer");let a=`${e}&_=${Date.now()}`;this._logger.log(de.Trace,`(LongPolling transport) polling: ${a}.`);let l=yield this._httpClient.get(a,s);l.statusCode!==200?(this._logger.log(de.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),this._closeError=new vl(l.statusText||"",l.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)})}_poll(e,n){return ue(this,null,function*(){try{for(;this._running;)try{let i=`${e}&_=${Date.now()}`;this._logger.log(de.Trace,`(LongPolling transport) polling: ${i}.`);let r=yield this._httpClient.get(i,n);r.statusCode===204?(this._logger.log(de.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(de.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new vl(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(de.Trace,`(LongPolling transport) data received. ${zf(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(de.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof $f?this._logger.log(de.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(de.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(de.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}})}send(e){return ue(this,null,function*(){return this._running?lP(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return ue(this,null,function*(){this._logger.log(de.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{yield this._receiving,this._logger.log(de.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let e={},[n,i]=Rd();e[n]=i;let r={headers:V(V({},e),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials};yield this._httpClient.delete(this._url,r),this._logger.log(de.Trace,"(LongPolling transport) DELETE request sent.")}finally{this._logger.log(de.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}})}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(de.Trace,e),this.onclose(this._closeError)}}};var AP=class{constructor(e,n,i,r){this._httpClient=e,this._accessToken=n,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}connect(e,n){return ue(this,null,function*(){return Ii.isRequired(e,"url"),Ii.isRequired(n,"transferFormat"),Ii.isIn(n,qr,"transferFormat"),this._logger.log(de.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,r)=>{let o=!1;if(n!==qr.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(ki.isBrowser||ki.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{let a=this._httpClient.getCookieString(e),l={};l.Cookie=a;let[c,d]=Rd();l[c]=d,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:V(V({},l),this._options.headers)})}try{s.onmessage=a=>{if(this.onreceive)try{this._logger.log(de.Trace,`(SSE transport) data received. ${zf(a.data,this._options.logMessageContent)}.`),this.onreceive(a.data)}catch(l){this._close(l);return}},s.onerror=a=>{o?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(de.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,i()}}catch(a){r(a);return}})})}send(e){return ue(this,null,function*(){return this._eventSource?lP(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}};var gP=class{constructor(e,n,i,r,o,s){this._logger=i,this._accessTokenFactory=n,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}connect(e,n){return ue(this,null,function*(){Ii.isRequired(e,"url"),Ii.isRequired(n,"transferFormat"),Ii.isIn(n,qr,"transferFormat"),this._logger.log(de.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=yield this._accessTokenFactory()),new Promise((r,o)=>{e=e.replace(/^http/,"ws");let s,a=this._httpClient.getCookieString(e),l=!1;if(ki.isNode||ki.isReactNative){let c={},[d,u]=Rd();c[d]=u,i&&(c[Hm.Authorization]=`Bearer ${i}`),a&&(c[Hm.Cookie]=a),s=new this._webSocketConstructor(e,void 0,{headers:V(V({},c),this._headers)})}else i&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);s||(s=new this._webSocketConstructor(e)),n===qr.Binary&&(s.binaryType="arraybuffer"),s.onopen=c=>{this._logger.log(de.Information,`WebSocket connected to ${e}.`),this._webSocket=s,l=!0,r()},s.onerror=c=>{let d=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?d=c.error:d="There was an error with the transport",this._logger.log(de.Information,`(WebSockets transport) ${d}.`)},s.onmessage=c=>{if(this._logger.log(de.Trace,`(WebSockets transport) data received. ${zf(c.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(c.data)}catch(d){this._close(d);return}},s.onclose=c=>{if(l)this._close(c);else{let d=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?d=c.error:d="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(d))}}})})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(de.Trace,`(WebSockets transport) sending data. ${zf(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(de.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}};var Aue=100,vP=class{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ii.isRequired(e,"url"),this._logger=fue(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let i=null,r=null;if(ki.isNode&&typeof rA<"u"){let o=typeof __webpack_require__=="function"?__non_webpack_require__:rA;i=o("ws"),r=o("eventsource")}!ki.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:ki.isNode&&!n.WebSocket&&i&&(n.WebSocket=i),!ki.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:ki.isNode&&!n.EventSource&&typeof r<"u"&&(n.EventSource=r),this._httpClient=new pP(n.httpClient||new uP(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}start(e){return ue(this,null,function*(){if(e=e||qr.Binary,Ii.isIn(e,qr,"transferFormat"),this._logger.log(de.Debug,`Starting connection with transfer format '${qr[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),yield this._startInternalPromise,this._connectionState==="Disconnecting"){let n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(de.Error,n),yield this._stopPromise,Promise.reject(new vo(n))}else if(this._connectionState!=="Connected"){let n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(de.Error,n),Promise.reject(new vo(n))}this._connectionStarted=!0})}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new C5(this.transport)),this._sendQueue.send(e))}stop(e){return ue(this,null,function*(){if(this._connectionState==="Disconnected")return this._logger.log(de.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(de.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),yield this._stopInternal(e),yield this._stopPromise})}_stopInternal(e){return ue(this,null,function*(){this._stopError=e;try{yield this._startInternalPromise}catch{}if(this.transport){try{yield this.transport.stop()}catch(n){this._logger.log(de.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(de.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})}_startInternal(e){return ue(this,null,function*(){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===_o.WebSockets)this.transport=this._constructTransport(_o.WebSockets),yield this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,r=0;do{if(i=yield this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new vo("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(n=i.url),i.accessToken){let o=i.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}r++}while(i.url&&r<Aue);if(r===Aue&&i.url)throw new Error("Negotiate redirection limit exceeded.");yield this._createTransport(n,this._options.transport,i,e)}this.transport instanceof Yw&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(de.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(de.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}})}_getNegotiationResponse(e){return ue(this,null,function*(){let n={},[i,r]=Rd();n[i]=r;let o=this._resolveNegotiateUrl(e);this._logger.log(de.Debug,`Sending negotiation request: ${o}.`);try{let s=yield this._httpClient.post(o,{content:"",headers:V(V({},n),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));let a=JSON.parse(s.content);return(!a.negotiateVersion||a.negotiateVersion<1)&&(a.connectionToken=a.connectionId),a}catch(s){let a="Failed to complete negotiation with the server: "+s;return s instanceof vl&&s.statusCode===404&&(a=a+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(de.Error,a),Promise.reject(new oP(a))}})}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}_createTransport(e,n,i,r){return ue(this,null,function*(){let o=this._createConnectUrl(e,i.connectionToken);if(this._isITransport(n)){this._logger.log(de.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,yield this._startTransport(o,r),this.connectionId=i.connectionId;return}let s=[],a=i.availableTransports||[],l=i;for(let c of a){let d=this._resolveTransportOrError(c,n,r);if(d instanceof Error)s.push(`${c.transport} failed:`),s.push(d);else if(this._isITransport(d)){if(this.transport=d,!l){try{l=yield this._getNegotiationResponse(e)}catch(u){return Promise.reject(u)}o=this._createConnectUrl(e,l.connectionToken)}try{yield this._startTransport(o,r),this.connectionId=l.connectionId;return}catch(u){if(this._logger.log(de.Error,`Failed to start the transport '${c.transport}': ${u}`),l=void 0,s.push(new rP(`${c.transport} failed: ${u}`,_o[c.transport])),this._connectionState!=="Connecting"){let p="Failed to select transport before stop() was called.";return this._logger.log(de.Debug,p),Promise.reject(new vo(p))}}}}return s.length>0?Promise.reject(new sP(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))})}_constructTransport(e){switch(e){case _o.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new gP(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case _o.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new AP(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case _o.LongPolling:return new Yw(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(e,n)}_resolveTransportOrError(e,n,i){let r=_o[e.transport];if(r==null)return this._logger.log(de.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(FHe(n,r))if(e.transferFormats.map(s=>qr[s]).indexOf(i)>=0){if(r===_o.WebSockets&&!this._options.WebSocket||r===_o.ServerSentEvents&&!this._options.EventSource)return this._logger.log(de.Debug,`Skipping transport '${_o[r]}' because it is not supported in your environment.'`),new nP(`'${_o[r]}' is not supported in your environment.`,r);this._logger.log(de.Debug,`Selecting transport '${_o[r]}'.`);try{return this._constructTransport(r)}catch(s){return s}}else return this._logger.log(de.Debug,`Skipping transport '${_o[r]}' because it does not support the requested transfer format '${qr[i]}'.`),new Error(`'${_o[r]}' does not support ${qr[i]}.`);else return this._logger.log(de.Debug,`Skipping transport '${_o[r]}' because it was disabled by the client.`),new iP(`'${_o[r]}' is disabled by the client.`,r)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(de.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(de.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(de.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(de.Error,`Connection disconnected with error '${e}'.`):this._logger.log(de.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(de.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(de.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!ki.isBrowser)throw new Error(`Cannot resolve '${e}'.`);let n=window.document.createElement("a");return n.href=e,this._logger.log(de.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){let n=e.indexOf("?"),i=e.substring(0,n===-1?e.length:n);return i[i.length-1]!=="/"&&(i+="/"),i+="negotiate",i+=n===-1?"":e.substring(n),i.indexOf("negotiateVersion")===-1&&(i+=n===-1?"?":"&",i+="negotiateVersion="+this._negotiateVersion),i}};function FHe(t,e){return!t||(e&t)!==0}var C5=class t{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new p_,this._transportResult=new p_,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new p_),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}_sendLoop(){return ue(this,null,function*(){for(;;){if(yield this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new p_;let e=this._transportResult;this._transportResult=void 0;let n=typeof this._buffer[0]=="string"?this._buffer.join(""):t._concatBuffers(this._buffer);this._buffer.length=0;try{yield this._transport.send(n),e.resolve()}catch(i){e.reject(i)}}})}static _concatBuffers(e){let n=e.map(o=>o.byteLength).reduce((o,s)=>o+s),i=new Uint8Array(n),r=0;for(let o of e)i.set(new Uint8Array(o),r),r+=o.byteLength;return i.buffer}},p_=class{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}};var NHe="json",_P=class{constructor(){this.name=NHe,this.version=1,this.transferFormat=qr.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=Od.instance);let i=Pa.parse(e),r=[];for(let o of i){let s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case vi.Invocation:this._isInvocationMessage(s);break;case vi.StreamItem:this._isStreamItemMessage(s);break;case vi.Completion:this._isCompletionMessage(s);break;case vi.Ping:break;case vi.Close:break;default:n.log(de.Information,"Unknown message type '"+s.type+"' ignored.");continue}r.push(s)}return r}writeMessage(e){return Pa.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}};var LHe={trace:de.Trace,debug:de.Debug,info:de.Information,information:de.Information,warn:de.Warning,warning:de.Warning,error:de.Error,critical:de.Critical,none:de.None};function UHe(t){let e=LHe[t.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${t}`)}var Xw=class{configureLogging(e){if(Ii.isRequired(e,"logging"),VHe(e))this.logger=e;else if(typeof e=="string"){let n=UHe(e);this.logger=new Vm(n)}else this.logger=new Vm(e);return this}withUrl(e,n){return Ii.isRequired(e,"url"),Ii.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions=V(V({},this.httpConnectionOptions),n):this.httpConnectionOptions=De(V({},this.httpConnectionOptions),{transport:n}),this}withHubProtocol(e){return Ii.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new qw(e):this.reconnectPolicy=e:this.reconnectPolicy=new qw,this}build(){let e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let n=new vP(this.url,e);return Kw.create(n,this.logger||Od.instance,this.protocol||new _P,this.reconnectPolicy)}};function VHe(t){return t.log!==void 0}var QHe=function(t){return t.Chat="Chat",t.GroupChat="GroupChat",t.Channel="Channel",t}(QHe||{}),Wf=function(t){return t.UserMention="UserMention",t.ChannelMention="ChannelMention",t.NotifierKeywordMention="NotifierKeywordMention",t.Emoji="Emoji",t}(Wf||{});var Bd=(()=>{let e=class e{constructor(i,r){this.accountService=i,this.sanitizer=r}replaceMessageTokens(i){if(i.text===null||(i.containsPrivateSpaceLink=i.text.includes("privateSpaceId"),i.tokens.length===0))return;let r=this.sanitizer.sanitize(jo.HTML,i.text)??"",o="";for(let s of i.tokens){let a=r.indexOf(s.text);if(a===-1)continue;let l=a+s.text.length,c=s.userId?Wf.UserMention:s.channelId?Wf.ChannelMention:Wf.NotifierKeywordMention,d=r.substring(0,a),u=`<span class="mention" data-index="0" data-denotation-char data-id="${s.userId||s.channelId||s.notifierKeyword}" data-value="${s.text}" data-type="${c}"><span contenteditable="false"><span class="ql-mention-denotation-char"></span>${s.text}</span></span>`,p=r.substring(l,r.length);o+=`${d}${u}`,r=p,i.messageType!=="Regular"&&r.startsWith(" and")&&r.includes("other")&&(r=` and <span class="other-users">${r.replace(" and ","")}</span>`)}i.text=`${o}${r}`}assignMessageTokensAndEmojis(i){if(i.text===null)return;let r=this.replaceMentionsAndMapTokens(i.text);r.text=this.replaceEmojis(r.text),r.text=this.trimSingleLineMessage(r.text),i.text=r.text,i.tokens=r.tokens}convertMessageTextToTheTextBeingSent(i){if(i===null)return"";let r=this.replaceMentionsAndMapTokens(i);return r.text=this.replaceEmojis(r.text),r.text=this.trimSingleLineMessage(r.text),r.text}assignEmojisAndTrim(i){i.text!==null&&(i.text=this.replaceEmojis(i.text),i.text=this.trimSingleLineMessage(i.text))}replaceEmojis(i){if(i===null)return"";let r=document.createElement("div");r.innerHTML=i;let o=r.querySelectorAll("img.emoji-pipe-image");if(o.length===0)return i;for(let s of o){let a=s.getAttribute("data-unicode")||"";s.parentElement?.parentElement?.classList.contains("mention")?i=i.replaceAll(s.parentElement.parentElement.outerHTML,a):i=i.replaceAll(s.outerHTML,a)}return i}stripParagraphs(i){return i===null?"":i.replace(/<p>/img,"").replace(/<\/p>/img," ").replace(/(<br>|<br\/>)/img," ")}stripAllHtmlTags(i){return this.stripParagraphs(i).replace(/<\/?[^>]+(>|$)/g,"")}trimSingleLineMessage(i){if(i===null)return"";let r=document.createElement("div");return r.innerHTML=i,r.children.length===1&&(i=i.replaceAll(r.innerHTML,r.children[0].innerHTML).trim()),i}replaceMentionsAndMapTokens(i){let r=document.createElement("div");r.innerHTML=i;let o=r.querySelectorAll('.mention[data-type="UserMention"], .mention[data-type="ChannelMention"], .mention[data-type="NotifierKeywordMention"]'),s={text:i,tokens:[]};if(o.length===0)return s;let a=this.accountService.isInRole(Wr.Administrator);for(let l of o){let c=l.querySelector(".ql-mention-denotation-char"),d=l.getAttribute("data-id");if(!c||!d)continue;let u=l.firstElementChild.innerText;s.text=s.text.replaceAll(l.outerHTML,u);let p=l.getAttribute("data-type"),g={text:u};g.text==="@channel"&&!a||(p===Wf.UserMention?g.userId=d:p===Wf.ChannelMention?g.channelId=d:p===Wf.NotifierKeywordMention&&(g.notifierKeyword=d),s.tokens.push(g))}return s}};e.\u0275fac=function(r){return new(r||e)(K(Qt),K(su))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gue=(()=>{let e=class e{constructor(i){this.http=i,this.activeProductsLoaded=!1,this.activeProducts=[],this.API_ENDPOINT=`${Ue.apiUrl}/products`}getAll(){return this.http.get(this.API_ENDPOINT)}getActiveProducts(){return this.http.get(`${this.API_ENDPOINT}/active`).pipe(lt(i=>{this.activeProducts=i,this.activeProductsLoaded=!0}))}createTier(i){return this.http.post(this.API_ENDPOINT,i)}updateTier(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}`,r)}createCheckoutSession(i,r=1){return this.http.post(`${this.API_ENDPOINT}/stripe/create-checkout-session`,{productId:i,quantity:r})}createPortalSession(){return this.http.post(`${this.API_ENDPOINT}/stripe/create-portal-session`,null)}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Kf=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,d,u,p){this.messageTextService=i,this.accountService=r,this.utilityService=o,this.livekit=s,this.settingsService=a,this.productService=l,this.subscriptionTierService=c,this.subscriptionService=d,this.snackBarService=u,this.toastService=p,this.connectionChange=new fn(!1),this.chatStarted=new O,this.chatUpdated=new O,this.chatJoined=new O,this.chatLeft=new O,this.chatMessageReceived=new O,this.chatMessageUpdate=new O,this.chatMessagesRead=new O,this.chatUserUpdated=new O,this.chatMessageBookmarkStateUpdated=new O,this.chatThreadUserAdded=new O,this.chatThreadUserRemoved=new O,this.chatMessageRequestAccepted=new O,this.chatMessageRequestIgnored=new O,this.isTyping=new O,this.channelStarted=new O,this.channelUpdated=new O,this.channelJoined=new O,this.channelLeft=new O,this.channelMessageReceived=new O,this.channelMessageUpdate=new O,this.channelMessageRead=new O,this.channelsAllRead=new O,this.channelUserUpdated=new O,this.channelMessageBookmarkStateUpdated=new O,this.channelThreadUserAdded=new O,this.channelThreadUserRemoved=new O,this.userFollowed=new O,this.userUnfollowed=new O,this.userFollowSeenAll=new O,this.userBlocked=new O,this.userUnblocked=new O,this.userFavoriteAdded=new O,this.userFavoriteUpdated=new O,this.userFavoriteRemoved=new O,this.feedItemsReceived=new O,this.feedItemDeleted=new O,this.feedItemBatchDeleted=new O,this.feedItemUpdated=new O,this.feedItemReactionCreated=new O,this.feedItemReactionDeleted=new O,this.feedItemCommentReactionCreated=new O,this.feedItemCommentReactionDeleted=new O,this.feedItemCommentCreated=new O,this.feedItemCommentDeleted=new O,this.feedItemCommentUpdated=new O,this.encouragementReceived=new O,this.encouragementsDismissed=new O,this.forceTurnOffCamera=new O,this.forceTurnOffAudio=new O,this.widgetUpdated=new O,this.widgetPositionUpdated=new O,this.widgetCreated=new O,this.widgetDeleted=new O,this.widgetsVisibilityUpdated=new O,this.pomodoroSessionStarted=new O,this.conversationsAccessUpdated=new O,this.userReportCountUpdated=new O,this.pinned=new O,this.partialPinMatch=new O,this.roomSessionGroupMatched=new O,this.restoreLostPin=new O,this.roomSessionGroupUserInvited=new O,this.roomSessionGroupUserJoined=new O,this.roomSessionGroupUserLeft=new O,this.roomSessionGroupUserBanned=new O,this.roomSessionGroupEnded=new O,this.focusSessionCreated=new O,this.focusSessionRemoved=new O,this.focusSessionUserRsvped=new O,this.focusSessionUserRsvpRemoved=new O,this.groupUserRoleUpdated=new O,this.groupUserBanned=new O,this.groupUserLeft=new O,this.groupFeedItemCreated=new O,this.groupArchived=new O,this.groupJoined=new O,this.groupFeedItemUpdated=new O,this.groupFeedItemDeleted=new O,this.groupFeedItemReactionCreated=new O,this.groupFeedItemReactionDeleted=new O,this.groupFeedItemCommentReactionCreated=new O,this.groupFeedItemCommentReactionDeleted=new O,this.groupFeedItemCommentCreated=new O,this.groupFeedItemCommentUpdated=new O,this.groupFeedItemCommentDeleted=new O,this.groupFeedItemPinned=new O,this.groupFeedItemUnpinned=new O,this.focusRoomTwoWayHide=new O,this.focusRoomTwoWayUnhide=new O,this.pollCompleted=new O,this.userLogout=new O,this.settingsUpdated=new O,this.spotifyStatusChanged=new O,this.activeSubscriptionTierUpdated=new O,this.activeProductUpdated=new O,this.purchasedTimeIncreased=new O,this.purchasedStreakRepairsUpdated=new O,this.pinForPin=new O,this.pinForPinUnpin=new O,this.premiumAccessChanged=new O,this.subscriptionUpdated=new O,this.subscriptionUserConfirmed=new O,this.subscriptionUserLeft=new O,this.focusPartnerLevelReached=new O,this.rewardsIssued=new O,this.rewardRedeemed=new O,this.notificationsUpserted=new O,this.notificationsDeleted=new O,this.lastNotificationReadDateUpdated=new O,this.sendMetadata=new O,this.failedReconnectAttempts=0}initialize(){this.accountService.authenticated()&&!this.connection&&this.connect()}ensureSignalRIsConnected(){console.log("[SignalR] Checking connection state..."),!(!this.accountService.authenticated()||!this.connection||this.connection.state!==_i.Disconnected)&&(console.log("[SignalR] Reconnecting..."),this.connection.start())}isDisconnected(){return this.connection?.state===_i.Disconnected}connect(){let i=localStorage.getItem(Za)||"";this.connection=new Xw().configureLogging(de.Information).withAutomaticReconnect([0,0,2e3,2e3,2e3,1e4,3e4]).withUrl(`${Ue.apiBaseUrl}/hubs/notifications`,{accessTokenFactory:()=>i}).build(),this.connection.on("chatStarted",r=>{this.chatStarted.next(r)}),this.connection.on("chatUpdated",r=>{this.chatUpdated.next(r)}),this.connection.on("chatJoined",r=>{this.chatJoined.next(r)}),this.connection.on("chatLeft",r=>{this.chatLeft.next(r)}),this.connection.on("chatMessageReceived",r=>{r?.lastMessageText&&(r.lastMessageText=this.messageTextService.stripAllHtmlTags(r.lastMessageText)),this.chatMessageReceived.next(r)}),this.connection.on("chatMessageUpdate",r=>{this.chatMessageUpdate.next(r)}),this.connection.on("chatMessagesRead",r=>{this.chatMessagesRead.next(r)}),this.connection.on("chatUserUpdated",r=>{this.chatUserUpdated.next(r)}),this.connection.on("chatMessageBookmarkStateUpdated",r=>{this.chatMessageBookmarkStateUpdated.next(r)}),this.connection.on("chatThreadUserAdded",r=>{this.chatThreadUserAdded.next(r)}),this.connection.on("chatThreadUserRemoved",r=>{this.chatThreadUserRemoved.next(r)}),this.connection.on("channelStarted",r=>{this.channelStarted.next(r)}),this.connection.on("channelUpdated",r=>{this.channelUpdated.next(r)}),this.connection.on("channelJoined",r=>{this.channelJoined.next(r)}),this.connection.on("channelLeft",r=>{this.channelLeft.next(r)}),this.connection.on("chatMessageRequestAccepted",r=>{this.chatMessageRequestAccepted.next(r)}),this.connection.on("chatMessageRequestIgnored",r=>{this.chatMessageRequestIgnored.next(r)}),this.connection.on("channelMessageReceived",r=>{r?.lastMessageText&&(r.lastMessageText=this.messageTextService.stripAllHtmlTags(r.lastMessageText)),this.channelMessageReceived.next(r)}),this.connection.on("channelMessageUpdate",r=>{this.channelMessageUpdate.next(r)}),this.connection.on("channelMessageRead",r=>{this.channelMessageRead.next(r)}),this.connection.on("channelsAllRead",r=>{this.channelsAllRead.next(r)}),this.connection.on("channelUserUpdated",r=>{this.channelUserUpdated.next(r)}),this.connection.on("channelMessageBookmarkStateUpdated",r=>{this.channelMessageBookmarkStateUpdated.next(r)}),this.connection.on("channelThreadUserAdded",r=>{this.channelThreadUserAdded.next(r)}),this.connection.on("channelThreadUserRemoved",r=>{this.channelThreadUserRemoved.next(r)}),this.connection.on("isTyping",r=>{this.isTyping.next(r)}),this.connection.on("userFollowed",r=>{this.userFollowed.next(r)}),this.connection.on("userUnfollowed",r=>{this.userUnfollowed.next(r)}),this.connection.on("userFollowSeenAll",r=>{this.userFollowSeenAll.next(r)}),this.connection.on("userBlocked",r=>{this.userBlocked.next(r)}),this.connection.on("userUnblocked",r=>{this.userUnblocked.next(r)}),this.connection.on("notificationsMuted",r=>{this.accountService.currentUser.notificationsMuted=r.notificationsMuted,this.accountService.currentUserChange.next()}),this.connection.on("notificationsDisabled",r=>{this.accountService.currentUser.notificationsDisabledUntil=r.notificationsDisabledUntil,this.accountService.currentUserChange.next()}),this.connection.on("notificationsCountHiddenUntilUpdated",r=>{this.accountService.currentUser.notificationsCountHiddenUntil=r.notificationsCountHiddenUntil,this.accountService.currentUserChange.next()}),this.connection.on("feedItemsReceived",r=>{this.feedItemsReceived.next(r)}),this.connection.on("feedItemDeleted",r=>{this.feedItemDeleted.next(r)}),this.connection.on("feedItemBatchDeleted",r=>{this.feedItemBatchDeleted.next(r)}),this.connection.on("feedItemUpdated",r=>{this.feedItemUpdated.next(r)}),this.connection.on("feedItemReactionCreated",r=>{this.feedItemReactionCreated.next(r)}),this.connection.on("feedItemReactionDeleted",r=>{this.feedItemReactionDeleted.next(r)}),this.connection.on("feedItemCommentReactionCreated",r=>{this.feedItemCommentReactionCreated.next(r)}),this.connection.on("feedItemCommentReactionDeleted",r=>{this.feedItemCommentReactionDeleted.next(r)}),this.connection.on("feedItemCommentCreated",r=>{this.feedItemCommentCreated.next(r)}),this.connection.on("feedItemCommentDeleted",r=>{this.feedItemCommentDeleted.next(r)}),this.connection.on("feedItemCommentUpdated",r=>{this.feedItemCommentUpdated.next(r)}),this.connection.on("widgetUpdated",r=>{this.widgetUpdated.next(r)}),this.connection.on("widgetPositionUpdated",r=>{this.widgetPositionUpdated.next(r)}),this.connection.on("widgetsVisibilityUpdated",r=>{this.widgetsVisibilityUpdated.next(r)}),this.connection.on("widgetCreated",r=>{this.widgetCreated.next(r)}),this.connection.on("widgetDeleted",r=>{this.widgetDeleted.next(r)}),this.connection.on("reloadSession",()=>{let o=Math.floor(Math.random()*600)*1e3;setTimeout(()=>this.utilityService.openNewVersionReleasedModal(),o)}),this.connection.on("pomodoroSessionStarted",r=>{this.pomodoroSessionStarted.next(r)}),this.connection.on("conversationsAccessUpdated",r=>{this.conversationsAccessUpdated.next(r)}),this.connection.on("encouragementReceived",r=>{this.encouragementReceived.next(r)}),this.connection.on("encouragementsDismissed",r=>{this.encouragementsDismissed.next(r)}),this.connection.on("forceTurnOffCamera",r=>{this.forceTurnOffCamera.next(r)}),this.connection.on("forceTurnOffAudio",r=>{this.forceTurnOffAudio.next(r)}),this.connection.on("userReportCountUpdated",r=>{this.userReportCountUpdated.next(r)}),this.connection.on("pinned",()=>this.pinned.next()),this.connection.on("pinForPin",r=>this.pinForPin.next(r)),this.connection.on("pinForPinUnpin",r=>this.pinForPinUnpin.next(r)),this.connection.on("roomSessionGroupUserInvited",r=>{this.roomSessionGroupUserInvited.next(r)}),this.connection.on("roomSessionGroupUserJoined",r=>{this.roomSessionGroupUserJoined.next(r)}),this.connection.on("roomSessionGroupUserLeft",r=>{this.roomSessionGroupUserLeft.next(r)}),this.connection.on("groupFeedItemCreated",r=>{this.groupFeedItemCreated.next(r)}),this.connection.on("roomSessionGroupUserBanned",r=>{this.roomSessionGroupUserBanned.next(r)}),this.connection.on("roomSessionGroupEnded",r=>{this.roomSessionGroupEnded.next(r)}),this.connection.on("partialPinMatch",r=>{this.partialPinMatch.next(r)}),this.connection.on("roomSessionGroupMatched",r=>{this.roomSessionGroupMatched.next(r)}),this.connection.on("restoreLostPin",r=>{this.restoreLostPin.next(r)}),this.connection.on("focusSessionCreated",r=>{this.focusSessionCreated.next(r)}),this.connection.on("focusSessionRemoved",r=>{this.focusSessionRemoved.next(r)}),this.connection.on("focusSessionUserRsvped",r=>{this.focusSessionUserRsvped.next(r)}),this.connection.on("focusSessionUserRsvpRemoved",r=>{this.focusSessionUserRsvpRemoved.next(r)}),this.connection.on("groupUserRoleUpdated",r=>{this.groupUserRoleUpdated.next(r)}),this.connection.on("groupFeedItemReactionCreated",r=>{this.groupFeedItemReactionCreated.next(r)}),this.connection.on("groupFeedItemReactionDeleted",r=>{this.groupFeedItemReactionDeleted.next(r)}),this.connection.on("groupUserBanned",r=>{this.groupUserBanned.next(r)}),this.connection.on("groupUserLeft",r=>{this.groupUserLeft.next(r)}),this.connection.on("groupArchived",r=>{this.groupArchived.next(r)}),this.connection.on("groupJoined",r=>{this.groupJoined.next(r)}),this.connection.on("groupFeedItemUpdated",r=>{this.groupFeedItemUpdated.next(r)}),this.connection.on("groupFeedItemDeleted",r=>{this.groupFeedItemDeleted.next(r)}),this.connection.on("groupFeedItemCommentCreated",r=>{this.groupFeedItemCommentCreated.next(r)}),this.connection.on("groupFeedItemCommentUpdated",r=>{this.groupFeedItemCommentUpdated.next(r)}),this.connection.on("groupFeedItemCommentDeleted",r=>{this.groupFeedItemCommentDeleted.next(r)}),this.connection.on("groupFeedItemCommentReactionCreated",r=>{this.groupFeedItemCommentReactionCreated.next(r)}),this.connection.on("groupFeedItemCommentReactionDeleted",r=>{this.groupFeedItemCommentReactionDeleted.next(r)}),this.connection.on("groupFeedItemPinned",r=>{this.groupFeedItemPinned.next(r)}),this.connection.on("groupFeedItemUnpinned",r=>{this.groupFeedItemUnpinned.next(r)}),this.connection.on("focusRoomTwoWayHide",r=>{this.focusRoomTwoWayHide.next(r)}),this.connection.on("focusRoomTwoWayUnhide",r=>{this.focusRoomTwoWayUnhide.next(r)}),this.connection.on("userFavoriteAdded",r=>{this.userFavoriteAdded.next(r)}),this.connection.on("userFavoriteUpdated",r=>{this.userFavoriteUpdated.next(r)}),this.connection.on("userFavoriteRemoved",r=>{this.userFavoriteRemoved.next(r)}),this.connection.on("subscriptionUpdated",r=>{let o=this.accountService.currentUser.subscription?.subscriptionTierId??null;r===null||this.accountService.currentUser.subscription===null?this.accountService.currentUser.subscription=r:Object.assign(this.accountService.currentUser.subscription,r);let s=this.accountService.currentUser.subscription?.subscriptionTierId??null;o!=s&&this.premiumAccessChanged.next(this.subscriptionService.hasPremiumFeatures),this.livekit.whoPinnedYouInfoRefresh.next(),this.subscriptionUpdated.next(),this.accountService.currentUserChange.next()}),this.connection.on("subscriptionUserConfirmed",r=>{this.subscriptionUserConfirmed.next(r)}),this.connection.on("subscriptionUserLeft",r=>{this.subscriptionUserLeft.next(r)}),this.connection.on("focusPartnerLevelReached",r=>{this.toastService.toasts.some(o=>o.isFocusPartner)||this.toastService.info({title:"Focus Partners",message:r.notificationText,autoClose:!1,isFocusPartner:!0,focusPartner:r.user,showHighlight:!0,highlightParticipant:this.livekit.room.allParticipants.find(o=>o.identity===r.user?.id),actions:[{buttonLabel:"View",buttonColor:go.Secondary,callback:()=>window.open(`${Ue.appUrl}/profile?activeTab=Focus%20Partners`,"_blank")}]}),this.focusPartnerLevelReached.next(r)}),this.connection.on("settingsUpdated",r=>{let o=this.settingsService.settings.newUsersTimeLimitFromDate!==r.newUsersTimeLimitFromDate,s=this.settingsService.settings.phoneNumberVerificationEnabled!==r.phoneNumberVerificationEnabled||this.settingsService.settings.phoneNumberVerificationStartDate!==r.phoneNumberVerificationStartDate,a=this.settingsService.settings.activeLivekitServerId!=r.activeLivekitServerId;this.settingsService.settings=r,this.settingsUpdated.next(r),o&&this.settingsService.newUsersTimeLimitFromDateUpdated.next(),s&&this.settingsService.phoneVerificationRequirementUpdated.next(),a&&this.settingsService.activeLivekitServerChanged.next()}),this.connection.on("spotifyStatusChanged",r=>{this.accountService.currentUser.hasSpotifyConnected=r.hasSpotifyConnected,this.accountService.currentUserChange.next()}),this.connection.on("activeSubscriptionTierUpdated",r=>{let o=this.subscriptionTierService.activeTiers.find(s=>s.id===r.id);o&&this.subscriptionTierService.getTier(r.id).subscribe({next:s=>{Object.assign(o,s),r.name===yI&&(this.subscriptionTierService.freeTier=r),this.activeSubscriptionTierUpdated.next(r),this.subscriptionTierService.tiersChanged.next()}})}),this.connection.on("activeSubscriptionTierAdded",r=>{this.subscriptionTierService.getTier(r.id).subscribe({next:o=>{this.subscriptionTierService.activeTiers.push(o),this.subscriptionTierService.tiersChanged.next(),this.subscriptionTierService.activeLegacyTier?.id===r.id&&(this.subscriptionTierService.activeLegacyTier=null)}})}),this.connection.on("activeSubscriptionTierRemoved",r=>{if(this.subscriptionTierService.activeTiers.find(s=>s.id===r.id)){let s=this.accountService.currentUser.subscription?.subscriptionTierId,a=()=>{this.subscriptionTierService.activeTiers=this.subscriptionTierService.activeTiers.filter(l=>l.id!==r.id),this.subscriptionTierService.tiersChanged.next()};s===r.id?this.subscriptionTierService.getLegacyTier(r.id).subscribe({next:()=>a()}):a()}}),this.connection.on("activeProductUpdated",r=>{if(!this.productService.activeProductsLoaded)return;let o=this.productService.activeProducts.find(s=>s.id===r.id);o&&(o.name=r.name,o.description=r.description,o.ctaText=r.ctaText,o.price=r.price,o.focusRoomHours=r.focusRoomHours),this.activeProductUpdated.next(r)}),this.connection.on("activeProductAdded",r=>{this.productService.activeProductsLoaded&&this.productService.activeProducts.push(r)}),this.connection.on("activeProductRemoved",r=>{this.productService.activeProductsLoaded&&(this.productService.activeProducts=this.productService.activeProducts.filter(o=>o.id!==r.id))}),this.connection.on("purchasedTimeIncreased",r=>{this.accountService.refreshUserTimeInfo(r),this.purchasedTimeIncreased.next()}),this.connection.on("purchasedStreakRepairsUpdated",r=>{this.purchasedStreakRepairsUpdated.next(r),this.accountService.currentUser.streakRepairInfo.streakRepairsLeft=r.streakRepairsLeft,r.purchaseFinished&&(this.accountService.currentUser.streakRepairInfo.pendingPurchase=!1),this.accountService.currentUser.streakRepairInfo.streakRepairsLeft>0&&this.toastService.info({message:`Streak repairs available: ${this.accountService.currentUser.streakRepairInfo.streakRepairsLeft}`})}),this.connection.on("pollCompleted",r=>{this.pollCompleted.next(r)}),this.connection.on("userLogout",r=>{location.href.includes("activeModal=AccountSettings")?this.userLogout.next(r):this.accountService.onLogout(r.reason)}),this.connection.on("focusModeChanged",r=>{this.accountService.currentUser.inFocusMode=r,this.accountService.currentUserChange.next()}),this.connection.on("focusModeWarning",r=>{let o=r.userDisplayNames,s=r.totalUsers-o.length,a="";s>0?a=o.join(", "):o.length===1?a=o[0]:o.length===2?a=`${o[0]} and ${o[1]}`:o.length===3&&(a=`${o[0]}, ${o[1]} and ${o[2]}`);let l=s>0?` and ${s} other${s>1?"s":""}`:"",c=r.totalUsers>1?"are":"is",d=`${a}${l} ${c} currently focussing. They will see your message after.`;this.snackBarService.info({message:d})}),this.connection.on("rewardsIssued",r=>{this.rewardsIssued.next(r)}),this.connection.on("rewardRedeemed",r=>{this.rewardRedeemed.next(r)}),this.connection.on("lastNotificationReadDateUpdated",r=>{this.accountService.currentUser.lastNotificationReadDate=r,this.lastNotificationReadDateUpdated.next()}),this.connection.on("notificationsUpserted",r=>{this.notificationsUpserted.next(r)}),this.connection.on("notificationsDeleted",r=>{this.notificationsDeleted.next(r)}),this.connection.on("sendMetadata",()=>{this.sendMetadata.next()}),this.connection.start().then(()=>{console.log("[SignalR] start() connected successfully"),this.storeSocketConnectionId(),this.connectionChange.next(!0),this.failedReconnectAttempts=0}).catch(r=>{console.error("[SignalR] start() caught: ",r.toString()),this.waitAndAttemptToReconnect()}),this.connection.onclose(r=>{console.log("[SignalR] onclose handler called. ",r?.toString()),this.connection&&this.connection.state===_i.Disconnected&&(this.connectionChange.next(!1),this.waitAndAttemptToReconnect())}),this.connection.onreconnected(()=>{this.storeSocketConnectionId()})}waitAndAttemptToReconnect(){if(this.failedReconnectAttempts===3){this.failedReconnectAttempts=0;return}this.failedReconnectAttempts++,setTimeout(()=>this.ensureSignalRIsConnected(),1e3)}storeSocketConnectionId(){sessionStorage.setItem(eY,this.connection?.connectionId)}};e.\u0275fac=function(r){return new(r||e)(K(Bd),K(Qt),K(Ht),K(wr),K(Sn),K(gue),K(jv),K(Ao),K(ZD),K(Xi))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var m_=(()=>{let e=class e{constructor(i,r,o,s){this.userService=i,this.accountService=r,this.settingsService=o,this.signalRService=s,this.profilesInfoUpdated=new O,this.currentProfiles=[],this.subscriptions=[]}initialize(){this.subscriptions.push(wo(60503,6e4).pipe(qe(i=>document.visibilityState==="visible")).subscribe(()=>this.queryCurrentProfiles()),wo(121569,12e4).pipe(qe(i=>document.visibilityState==="visible")).subscribe(()=>this.queryForLastActiveUpdates()),wo(181599,18e4).subscribe(()=>this.accountService.pingForLastActive()),this.signalRService.userFollowed.subscribe(i=>this.onUserFollowed(i)),this.signalRService.userUnfollowed.subscribe(i=>this.onUserUnfollowed(i)))}stop(){this.subscriptions.forEach(i=>i.unsubscribe()),this.subscriptions=[],this.currentProfiles=[]}addProfileInfo(i){let r=!1,o=this.currentProfiles.find(s=>s.id===i)||null;return o||(o={id:i,shouldQueryForProfile:!0},this.currentProfiles.push(o)),o&&o.firstName&&(r=!0),r?o:null}removeProfileInfo(i){let r=this.currentProfiles.find(o=>o.id===i);r&&this.currentProfiles.splice(this.currentProfiles.indexOf(r),1)}getProfileInfo(i){let r=this.currentProfiles.find(o=>o.id===i&&!o.shouldQueryForProfile);return r?r.cachedUntil&&ot.now()<r.cachedUntil?r:(r.shouldQueryForProfile=!0,null):null}upsertGottenInfo(i){let r=this.currentProfiles.find(o=>o.id===i.id);r?this.updateExistingProfile(r,i):this.currentProfiles.push(i),this.profilesInfoUpdated.next(this.currentProfiles)}upsertGottenFollowersInfo(i,r){let o=this.currentProfiles.find(s=>s.id===i);o&&(o.followerInfo=r,this.profilesInfoUpdated.next(this.currentProfiles))}queryCurrentProfiles(){let i=this.currentProfiles.filter(o=>o.shouldQueryForProfile).map(o=>o.id),r=[...new Set(i)];r.length!==0&&(r.length>256&&(r=r.slice(0,255)),this.userService.getUserProfiles(r).subscribe(o=>{for(let s of o){let a=this.currentProfiles.find(l=>l.id===s.id);a&&this.updateExistingProfile(a,s)}this.profilesInfoUpdated.next(this.currentProfiles)}))}updateExistingProfile(i,r){Object.assign(i,r),i.shouldQueryForProfile=!1,i.cachedUntil=ot.now().plus({seconds:this.settingsService.isB2BApp()?10:60})}queryForLastActiveUpdates(){let i=this.currentProfiles.map(o=>o.id),r=[...new Set(i)];r.length!==0&&(r.length>256&&(r=r.slice(0,255)),this.userService.getLastActiveInfoForUsers(r).subscribe(o=>{for(let s of o){let a=this.currentProfiles.find(l=>l.id===s.id);a&&(a.lastActive=s.lastActive)}this.profilesInfoUpdated.next(this.currentProfiles)}))}onUserFollowed(i){if(this.accountService.currentUser.id!==i.followerId)return;let r=this.currentProfiles.find(o=>o.id===i.followedUserId);r&&(r.following=!0)}onUserUnfollowed(i){if(this.accountService.currentUser.id!==i.followerId)return;let r=this.currentProfiles.find(o=>o.id===i.followedUserId);r&&(r.following=!1)}};e.\u0275fac=function(r){return new(r||e)(K(Dd),K(Qt),K(Sn),K(Kf))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $He=(t,e)=>e.id;function zHe(t,e){if(t&1&&(C(0,"div",5),F(1),w()),t&2){let n=M(2);le("box-shadow",n.showBoxShadow)("with-border",n.showBorder),y(),ht(" ",n.initials," ")}}function GHe(t,e){if(t&1&&$(0,"div"),t&2){let n=M(2);xn(Ts("status-indicator ",n.status))}}function WHe(t,e){if(t&1&&(C(0,"div",2),H(1,zHe,2,5,"div",3),H(2,GHe,1,3,"div",4),w()),t&2){let n=M();Zn("width",n.size,"px")("height",n.userPopupAvatar?"100%":n.size+"px")("min-height",n.size,"px")("background-color",n.backgroundColor(n.avatarColor))("background-image",n.backgroundImage(n.avatarThumbUrl))("font-size",n.getInitialsFontSize(),"px"),le("box-shadow",n.showBoxShadow)("with-border",n.showBorder),y(),Q(!n.avatarThumbUrl&&n.avatarColor?1:-1),y(),Q(n.status&&n.showOnlineStatus?2:-1)}}function KHe(t,e){if(t&1&&(C(0,"div",5),F(1),w()),t&2){let n=M(2).$implicit;y(),ht(" ",n.initials," ")}}function qHe(t,e){if(t&1&&(C(0,"div"),F(1),w()),t&2){let n=M(5);xn(Ts("overlay ",n.getRemainingGroupMemberClass())),y(),ht(" +",n.users.length-4," ")}}function YHe(t,e){if(t&1&&(C(0,"div"),H(1,KHe,2,1,"div",5),H(2,qHe,2,4,"div",4),w()),t&2){let n=M(),i=n.$implicit,r=n.$index,o=M(3);Zn("background-color",o.backgroundColor(i.avatarColor))("background-image",o.backgroundImage(i.avatarThumbUrl)),y(),Q(!i.avatarThumbUrl&&i.avatarColor?1:-1),y(),Q(r===3&&o.users.length>4?2:-1)}}function XHe(t,e){if(t&1&&H(0,YHe,3,6,"div",7),t&2){let n=e.$index;Q(n<4?0:-1)}}function ZHe(t,e){if(t&1&&Bt(0,XHe,1,1,null,null,$He),t&2){let n=M(2);Ft(n.users)}}function JHe(t,e){if(t&1&&(C(0,"div",6),H(1,ZHe,2,0),w()),t&2){let n=M();Zn("width",n.size,"px")("height",n.size,"px")("background-image",n.backgroundImage(n.avatarThumbUrl))("font-size",n.getInitialsFontSize(),"px"),le("box-shadow",n.showBoxShadow),y(),Q(n.avatarThumbUrl?-1:1)}}var Ys=(()=>{let e=class e{get allowClick(){return this.allowFullscreenView&&!!this.avatarUrl&&!!this.userId}onClick(){this.allowClick&&this.accountModalsService.ensureUserCompletedBasicInfo()&&(this.dialog.open(lue,{panelClass:"preview-modal",width:"calc(100% - 40px)",maxWidth:"100vw",maxHeight:"calc(100vh - 20px)",data:{avatarUrl:this.avatarUrl,avatarColor:this.avatarColor,id:this.userId}}),this.fullscreenViewOpen.emit())}constructor(i,r,o){this.onlineStatusService=i,this.accountModalsService=r,this.dialog=o,this.isRound=!1,this.roomMobileMenuFrame=!1,this.showOnlineStatus=!0,this.isChatAvatar=!1,this.isGroup=!1,this.showBoxShadow=!1,this.showBorder=!1,this.userPopupAvatar=!1,this.allowFullscreenView=!1,this.fullscreenViewOpen=new Ae,this.status=null}ngOnInit(){if(this.setLastOnlineStatus(),this.isGroup||!this.userId)return;this.profileUpdatedSubscription=this.onlineStatusService.profilesInfoUpdated.subscribe(r=>{let o=r.find(s=>s.id===this.userId&&s.firstName);o&&(this.avatarThumbUrl=o.avatarThumbUrl,this.initials=o.initials,this.lastOnline=o.lastActive,this.setLastOnlineStatus())});let i=this.onlineStatusService.addProfileInfo(this.userId);i&&(this.avatarThumbUrl=i.avatarThumbUrl,this.initials=i.initials,this.lastOnline=i.lastActive,this.setLastOnlineStatus())}ngOnChanges(i){i.showOnlineStatus&&!i.showOnlineStatus.firstChange&&this.setLastOnlineStatus(),i.lastOnline&&!i.lastOnline.firstChange&&this.setLastOnlineStatus()}ngOnDestroy(){this.isGroup||!this.userId||!this.showOnlineStatus||(this.onlineStatusService.removeProfileInfo(this.userId),this.profileUpdatedSubscription?.unsubscribe())}backgroundColor(i){return`#${i}`}getRemainingGroupMemberClass(){let i=this.users.length-4;return i>19&&i<=100?"size-2":i>100?"size-3":""}backgroundImage(i){return i?`url(${i})`:"none"}getInitialsFontSize(){let i=this.isGroup?this.size/2.5:this.size/2.7;return Math.floor(i)}setLastOnlineStatus(){if(!this.lastOnline||this.isGroup||!this.showOnlineStatus){this.status=null;return}let i=ot.fromISO(this.lastOnline),r=Math.abs(i.diffNow("minutes").minutes);this.status=r<5?"online":null}};e.\u0275fac=function(r){return new(r||e)(L(m_),L(Id),L(ai))},e.\u0275cmp=re({type:e,selectors:[["ss-user-avatar"]],hostVars:6,hostBindings:function(r,o){r&1&&G("click",function(){return o.onClick()}),r&2&&le("is-round",o.isRound)("room-mobile-menu-frame",o.roomMobileMenuFrame)("click-allowed",o.allowClick)},inputs:{isRound:"isRound",roomMobileMenuFrame:"roomMobileMenuFrame",userId:"userId",avatarColor:"avatarColor",avatarUrl:"avatarUrl",avatarThumbUrl:"avatarThumbUrl",initials:"initials",showOnlineStatus:"showOnlineStatus",lastOnline:"lastOnline",isChatAvatar:"isChatAvatar",isGroup:"isGroup",users:"users",showBoxShadow:"showBoxShadow",showBorder:"showBorder",userPopupAvatar:"userPopupAvatar",allowFullscreenView:"allowFullscreenView",size:"size"},outputs:{fullscreenViewOpen:"fullscreenViewOpen"},standalone:!1,features:[gt],decls:2,vars:2,consts:[[1,"user-avatar-wrapper",3,"box-shadow","with-border","width","height","minHeight","backgroundColor","backgroundImage","fontSize"],[1,"users-avatar-wrapper",3,"box-shadow","width","height","backgroundImage","fontSize"],[1,"user-avatar-wrapper"],[1,"initials",3,"box-shadow","with-border"],[3,"class"],[1,"initials"],[1,"users-avatar-wrapper"],[3,"backgroundColor","backgroundImage"]],template:function(r,o){r&1&&(H(0,WHe,3,18,"div",0),H(1,JHe,2,11,"div",1)),r&2&&(Q(o.isGroup?-1:0),y(),Q(o.isGroup?1:-1))},styles:["[_nghost-%COMP%]{display:block;font-family:Poppins,sans-serif}.click-allowed[_nghost-%COMP%]{cursor:pointer}.is-round[_nghost-%COMP%]   .user-avatar-wrapper[_ngcontent-%COMP%]{box-sizing:content-box;border:6px solid var(--contrast);border-radius:50%}.room-mobile-menu-frame[_nghost-%COMP%]   .user-avatar-wrapper[_ngcontent-%COMP%]{width:100%;height:176px;border-radius:24px;background-position:center}.user-avatar-wrapper[_ngcontent-%COMP%], .users-avatar-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-shrink:0;border-radius:50%;background-color:var(--alt-40);background-size:cover;background-repeat:no-repeat;-webkit-user-select:none;user-select:none;text-align:center}.user-avatar-wrapper.box-shadow[_ngcontent-%COMP%], .users-avatar-wrapper.box-shadow[_ngcontent-%COMP%]{box-shadow:var(--elevation-s3)}.user-avatar-wrapper.with-border[_ngcontent-%COMP%], .users-avatar-wrapper.with-border[_ngcontent-%COMP%]{border:2px solid var(--nav-bar)!important}.users-avatar-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:baseline;flex-wrap:wrap;overflow:hidden}.users-avatar-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;width:50%;height:50%;background-size:contain}.users-avatar-wrapper[_ngcontent-%COMP%]   .initials[_ngcontent-%COMP%]{font-size:11px}.users-avatar-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;font-size:9px;font-weight:700;line-height:15px;color:var(--contrast);background:linear-gradient(0deg,#00000080,#00000080)}.users-avatar-wrapper[_ngcontent-%COMP%]   .overlay.size-2[_ngcontent-%COMP%]{font-size:8px;line-height:14px}.users-avatar-wrapper[_ngcontent-%COMP%]   .overlay.size-3[_ngcontent-%COMP%]{font-size:7px;line-height:13px}.status-indicator[_ngcontent-%COMP%]{position:absolute;right:-2px;bottom:-2px;max-width:32px;width:40%;max-height:32px;height:40%;border:2px solid var(--grayscale);border-radius:50%}.status-indicator.online[_ngcontent-%COMP%]{background-color:var(--positive)}.status-indicator.offline[_ngcontent-%COMP%]{background-color:var(--default-60)}.initials[_ngcontent-%COMP%]{position:relative;display:block;overflow:hidden;line-height:normal;color:var(--contrast)}.initials[_ngcontent-%COMP%]   sub[_ngcontent-%COMP%]{position:absolute;top:calc(50% + 9px);left:calc(100% - 8px);font-size:10px;color:var(--contrast)}"]});let t=e;return t})();function eQe(t,e){if(t&1){let n=fe();C(0,"div",8)(1,"mat-checkbox",12),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.banConfirm,r)||(o.banConfirm=r),X(r)}),F(2),w(),C(3,"ss-textarea",13),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.reason,r)||(o.reason=r),X(r)}),w()()}if(t&2){let n=M();y(),P("required",!0),Ze("ngModel",n.banConfirm),y(),ht(" I understand that this is a permanent ban and this user will no longer be able to access ",n.settingsService.siteName,"'s integrated video rooms. "),y(),P("required",!0),Ze("ngModel",n.reason)}}function tQe(t,e){if(t&1){let n=fe();C(0,"ss-textarea",17),Je("ngModelChange",function(r){Y(n);let o=M(2);return tt(o.description,r)||(o.description=r),X(r)}),w()}if(t&2){let n=M(2);P("required",n.showDescriptionField),Ze("ngModel",n.description)}}function nQe(t,e){if(t&1){let n=fe();C(0,"div")(1,"ss-select",14),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.timeoutSelected,r)||(o.timeoutSelected=r),X(r)}),w(),C(2,"ss-select",15),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.reason,r)||(o.reason=r),X(r)}),G("ngModelChange",function(r){Y(n);let o=M();return X(o.displayAdditionalField(r))}),w(),H(3,tQe,1,2,"ss-textarea",16),w()}if(t&2){let n=M();y(),P("required",!0),Ze("ngModel",n.timeoutSelected),P("options",n.timeoutOptions),y(),P("required",!0),Ze("ngModel",n.reason),P("options",n.timeoutReasonOptions),y(),Q(n.showDescriptionField?3:-1)}}function iQe(t,e){if(t&1&&(C(0,"ss-button-small",10),F(1," Ban "),w()),t&2){let n=M(),i=It(4);P("disabled",!i.form.valid)("isLoading",n.loading)("color",n.ButtonColorRef.Primary)}}function rQe(t,e){if(t&1&&(C(0,"ss-button-small",11),F(1),kt(2,"async"),w()),t&2){let n=M(),i=It(4);P("isLoading",n.loading)("disabled",!i.form.valid)("color",n.ButtonColorRef.Primary),y(),ht(" Timeout ",Ai(2,4,n.userName)," ")}}var vue=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.dialogRef=i,this.data=r,this.settingsService=o,this.userService=s,this.toastService=a,this.livekit=l,this.timeoutOptions=[{label:"15 minutes",value:60*15},{label:"1 hour",value:60*60},{label:"12 hours",value:60*60*12},{label:"1 day",value:60*60*24},{label:"7 days",value:60*60*24*7},{label:"Remove without timeout",value:0}],this.timeoutReasonOptions=[{label:"Nudity",value:"nudity"},{label:"Streaming pornography",value:"pornography"},{label:"Streaming other distracting video",value:"distraction"},{label:"Inappropriate/offensive hand gestures or body movements",value:"gestures"},{label:"Using distracting filters",value:"filters"},{label:"Inappropriate username",value:"username"},{label:"Other",value:"other"}],this.isLivekit=!1,this.removeUserOptions=E5,this.banConfirm=!1,this.showDescriptionField=!1,this.loading=!1,this.ButtonColorRef=go,this.userId=r.userId,this.isLivekit=r.isLivekit,this.roomName=r.roomName}ngOnInit(){this.userName=this.userService.getUserProfileShort(this.userId).pipe(se(i=>i.displayName))}tileSelect(i){this.description="",this.selectedRemoveUserOption=i}displayAdditionalField(i){this.showDescriptionField=i==="Other"}submit(i){if(!i.valid)return;this.showDescriptionField&&(this.reason=this.description);let r={timeoutTime:this.timeoutSelected,reason:this.reason,banned:this.selectedRemoveUserOption===E5.Ban};this.loading=!0,this.livekit.removeParticipant(this.roomName,this.userId,r).subscribe({next:()=>{this.loading=!1,this.toastService.success({message:"Successfully timed out or banned the user."}),this.dialogRef.close({success:!0})},error:o=>this.handleErrors(o)})}handleErrors(i){this.loading=!1,this.toastService.error({exceptionDetail:i[0]})}};e.\u0275fac=function(r){return new(r||e)(L(Nt),L(Qn),L(Sn),L(Dd),L(Xi),L(wr))},e.\u0275cmp=re({type:e,selectors:[["ss-ban-timeout-modal"]],standalone:!1,decls:24,vars:12,consts:[["banOrTimeoutForm","ngForm"],["mat-dialog-title","",1,"modal-title"],[3,"ngSubmit"],[1,"pills-wrapper"],[1,"pill",3,"click"],[1,"pill-title"],[1,"pill-content"],[1,"pill","ban",3,"click"],[1,"form-section"],["mat-dialog-close","",3,"color"],["type","submit",3,"disabled","isLoading","color"],["type","submit",3,"isLoading","disabled","color"],["name","banConfirm","validationPropertyName","Ban confirmation",3,"ngModelChange","required","ngModel"],["name","reason","validationPropertyName","Reason for ban","label","Reason for permanent ban *","placeholder","Explain why user is being banned here...",3,"ngModelChange","required","ngModel"],["name","timeout","validationPropertyName","Timeout length","label","Timeout length","placeholder","Select Timeout","valueProperty","value","labelProperty","label",3,"ngModelChange","required","ngModel","options"],["name","reason","validationPropertyName","Timeout reason","label","Timeout reason","placeholder","Select Timeout reason","valueProperty","value","labelProperty","label",3,"ngModelChange","required","ngModel","options"],["name","description","validationPropertyName","Description for timeout","label","Description for timeout *","placeholder","Explain why user is being timed out here...",3,"required","ngModel"],["name","description","validationPropertyName","Description for timeout","label","Description for timeout *","placeholder","Explain why user is being timed out here...",3,"ngModelChange","required","ngModel"]],template:function(r,o){if(r&1){let s=fe();C(0,"h1",1),F(1),kt(2,"async"),w(),C(3,"form",2,0),G("ngSubmit",function(){Y(s);let l=It(4);return X(o.submit(l))}),C(5,"mat-dialog-content")(6,"div",3)(7,"button",4),G("click",function(){return Y(s),X(o.tileSelect(o.removeUserOptions.Timeout))}),C(8,"span",5),F(9,"Timeout"),w(),C(10,"span",6),F(11,"The user will be unable to access any focus rooms until the end of the timeout period."),w()(),C(12,"button",7),G("click",function(){return Y(s),X(o.tileSelect(o.removeUserOptions.Ban))}),C(13,"span",5),F(14,"Permanent Ban"),w(),C(15,"span",6),F(16,"This ban is permanent. The user will not be able to use any of the integrated video rooms until manually unbanned."),w()()(),H(17,eQe,4,5,"div",8),H(18,nQe,4,7,"div"),w(),C(19,"mat-dialog-actions")(20,"ss-button-small",9),F(21," Close "),w(),H(22,iQe,2,3,"ss-button-small",10),H(23,rQe,3,6,"ss-button-small",11),w()()}r&2&&(y(),ht("Ban or Timeout ",Ai(2,10,o.userName),"?"),y(6),le("selected",o.selectedRemoveUserOption===o.removeUserOptions.Timeout),y(5),le("selected",o.selectedRemoveUserOption===o.removeUserOptions.Ban),y(5),Q(o.selectedRemoveUserOption===o.removeUserOptions.Ban?17:-1),y(),Q(o.selectedRemoveUserOption===o.removeUserOptions.Timeout?18:-1),y(2),P("color",o.ButtonColorRef.Tertiary),y(2),Q(o.selectedRemoveUserOption===o.removeUserOptions.Ban?22:-1),y(),Q(o.selectedRemoveUserOption===o.removeUserOptions.Timeout?23:-1))},dependencies:[pI,Oi,uI,Rs,cr,gu,Kp,hu,fu,mu,pu,Ww,Uc,ID,e0],styles:[".modal-title[_ngcontent-%COMP%]{font-size:17px;line-height:28px;margin:20px;font-weight:600;color:var(--default)}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:5px 20px 20px;gap:24px}form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:11px;line-height:16px}.pills-wrapper[_ngcontent-%COMP%]{display:flex;gap:18px}.pills-wrapper[_ngcontent-%COMP%]   button.pill[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:181px;padding:16px;border-radius:8px;outline:1px solid var(--accent-blue-90);font-family:Poppins,sans-serif;background:var(--white);gap:10px}.pills-wrapper[_ngcontent-%COMP%]   button.pill[_ngcontent-%COMP%]:hover{outline:3px solid var(--accent-blue);transition:outline-width .1s linear}.pills-wrapper[_ngcontent-%COMP%]   button.pill[_ngcontent-%COMP%]   .pill-title[_ngcontent-%COMP%]{display:inline-block;font-weight:600;color:var(--default)}.pills-wrapper[_ngcontent-%COMP%]   button.pill[_ngcontent-%COMP%]   .pill-content[_ngcontent-%COMP%]{font-size:11px;line-height:16px;display:inline-block;color:var(--default);text-align:start}.pills-wrapper[_ngcontent-%COMP%]   button.pill.ban[_ngcontent-%COMP%]{outline:2px dashed var(--negative);background-color:var(--negative-90)}.pills-wrapper[_ngcontent-%COMP%]   button.pill.ban[_ngcontent-%COMP%]:hover{outline-width:3px;outline-style:solid}.pills-wrapper[_ngcontent-%COMP%]   button.pill.selected[_ngcontent-%COMP%]{outline:2px solid var(--accent-blue);background-color:var(--alt)}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}button[_ngcontent-%COMP%]{border:none;font:inherit;color:inherit;text-decoration:none;background-color:transparent;cursor:pointer}button[_ngcontent-%COMP%]:focus{outline:none}mat-checkbox[_ngcontent-%COMP%]  .mdc-form-field{font-family:Poppins,sans-serif;line-height:141%;white-space:normal}"]});let t=e;return t})(),E5=function(t){return t.Ban="ban",t.Timeout="timeout",t}(E5||{});var Sue=yO(_ue());var ln=function(t){return t.FocusRoom="FocusRoom",t.Channel="Channel",t.DirectMessage="DirectMessage",t.GroupChat="GroupChat",t.UserProfile="UserProfile",t.Newsfeed="Newsfeed",t.FocusBuddies="FocusBuddies",t.Groups="Groups",t}(ln||{}),Qm=function(t){return t.Profanity="Profanity",t.BullyingOrHarassment="BullyingOrHarassment",t.ExplicitContent="ExplicitContent",t.NudityOrPornography="NudityOrPornography",t.Other="Other",t}(Qm||{});var yP=(()=>{let e=class e{constructor(i,r){this.http=i,this.utilityService=r,this.API_ENDPOINT=`${Ue.apiUrl}/user-reports`}getAll(i){let r=new Oe;for(let o in i)if(Object.prototype.hasOwnProperty.call(i,o)){let a=i[o];r=r.append(o,a)}return this.http.get(this.API_ENDPOINT,{params:r})}getUsersReports(i,r){let o=new Oe;return o=o.append("pageSize",i.pageSize),o=o.append("oldestReportDateCreated",i.oldestReportDateCreated),o=o.append("includeResolved",i.includeResolved),this.http.get(`${this.API_ENDPOINT}/focus-rooms/users/${r}`,{params:o})}create(i){let r=this.utilityService.createFormData(i);return this.http.post(this.API_ENDPOINT,r)}updateResolveStatus(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/resolve`,r)}delete(i){return this.http.delete(`${this.API_ENDPOINT}/${i.id}`)}getBlobDownloadUrl(i){return this.http.get(`${this.API_ENDPOINT}/attachments/blob/${i}`)}getReportSource(i){switch(i){case Hi.NewsFeedItem:return ln.Newsfeed;case Hi.NewsFeedComment:return ln.Newsfeed;case Hi.FocusBuddies:return ln.FocusBuddies;case Hi.SuggestedUsers:return ln.UserProfile;case Hi.DirectMessage:return ln.DirectMessage;case Hi.GroupChat:return ln.GroupChat;case Hi.Channel:return ln.Channel;case Hi.FocusRoom:return ln.FocusRoom;case Hi.GroupFeed:return ln.Groups;case Hi.GroupFeedComment:return ln.Groups;default:return null}}getRecentChatAttachments(i){return this.http.get(`${this.API_ENDPOINT}/report/${i}/chat-attachments`)}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Ht))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var g_=(()=>{let e=class e{constructor(i,r,o,s,a){this.http=i,this.utilityService=r,this.messageTextService=o,this.signalRService=s,this.settingsService=a,this.typingUsers=[],this.channelCreated=new O,this.channelLoaded=new O,this.attachmentsReset=new O,this.onFiltersChanged=new rs(1),this.adminChannelListItemClick=new O,this.API_ENDPOINT=`${Ue.apiUrl}/channels`,this.channelCategories=[{name:Ue.siteName,channelNames:["general","announcements","contact-and-guidelines"]},{name:"Give Feedback",channelNames:["feature-requests","bugs"]},{name:this.settingsService.isB2BApp()||this.settingsService.isCoWork()?"Co-Working":"Studying",channelNames:["focus-room","study-help","competitive-exams","job-and-career-chat","study-and-work-abroad"]},{name:"Events",channelNames:["events-general","studystream-method"]},{name:"Other",channelNames:[]}],this.signalRService.isTyping.subscribe(l=>this.onTypingNotificationReceived(l))}getMyChannels(){return this.http.get(`${this.API_ENDPOINT}?sortAlphabetically=true`).pipe(se(i=>this.mapChannelCategories(i)))}getChannelsForAdmin(i,r){let o=new Oe;return o=o.append("userId",i),o=o.append("isDeleted",r.isDeleted),this.http.get(`${this.API_ENDPOINT}/admin`,{params:o})}getAllChannels(){return this.http.get(`${this.API_ENDPOINT}/all`)}getThread(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/threads/${r}`).pipe(se(o=>{this.messageTextService.replaceMessageTokens(o.startMessage);for(let s of o.messages)this.messageTextService.replaceMessageTokens(s);return o}))}addBookmark(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/messages/${r}/bookmark`,null)}removeBookmark(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/messages/${r}/bookmark`)}addThreadUser(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/threads/${r}/thread-users`,null)}removeThreadUser(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/threads/${r}/thread-users`)}searchChannels(i){return this.http.get(`${this.API_ENDPOINT}/search?searchTerm=${i}`)}searchMyChannels(i){return this.http.get(`${this.API_ENDPOINT}/my/search?searchTerm=${i}`)}getChannelListItem(i){return this.http.get(`${this.API_ENDPOINT}/${i}/list-item`).pipe(se(r=>this.mapChannelCategory(r)))}getMyChannel(i){return this.http.get(`${this.API_ENDPOINT}/${i}`).pipe(se(r=>{for(let o of r.messages)this.messageTextService.replaceMessageTokens(o);return r}))}getChannelForAdmin(i,r,o){let s=new Oe;return s=s.append("userId",r),s=s.append("isDeleted",o.isDeleted),this.http.get(`${this.API_ENDPOINT}/${i}/admin`,{params:s}).pipe(se(a=>{for(let l of a.messages)this.messageTextService.replaceMessageTokens(l);return a}))}loadMoreMessagesForAdmin(i,r,o,s){let a=new Oe;return a=a.append("userId",r),a=a.append("oldestMessageId",o),a=a.append("isDeleted",s.isDeleted),this.http.get(`${this.API_ENDPOINT}/${i}/messages/admin`,{params:a}).pipe(se(l=>{for(let c of l.messages)this.messageTextService.replaceMessageTokens(c);return l}))}loadThreadRepliesForAdmin(i,r,o){let s=new Oe;return s=s.append("userId",r),this.http.get(`${this.API_ENDPOINT}/${i}/threads/${o}/admin`,{params:s}).pipe(se(a=>{for(let l of a)this.messageTextService.replaceMessageTokens(l);return a}))}getChannelInfo(i){return this.http.get(`${this.API_ENDPOINT}/${i}/info`)}getChannelDetails(i){return this.http.get(`${this.API_ENDPOINT}/${i}/details`)}startChannel(i){return this.http.post(`${this.API_ENDPOINT}/start`,i)}updateChannel(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}`,r)}addAllActiveUsersToChannel(i){return this.http.put(`${this.API_ENDPOINT}/${i}/add-all-users`,null)}getChannelAttachments(i,r,o){let s=new Oe;return r&&(s=s.append("newestAttachmentId",r)),o&&(s=s.append("take",o)),this.http.get(`${this.API_ENDPOINT}/${i}/attachments`,{params:s})}getPhotosAttachments(i,r,o){let s=new Oe;return r&&(s=s.append("newestAttachmentId",r)),o&&(s=s.append("take",o)),this.http.get(`${this.API_ENDPOINT}/${i}/attachments/photos`,{params:s})}getOtherAttachments(i,r,o){let s=new Oe;return r&&(s=s.append("newestAttachmentId",r)),o&&(s=s.append("take",o)),this.http.get(`${this.API_ENDPOINT}/${i}/attachments/other`,{params:s})}getBlobDownloadUrl(i){return this.http.get(`${this.API_ENDPOINT}/attachments/blob/${i}`)}getChannelUsers(i,r,o){let s=new Oe;return s=s.append("skip",r),o&&(s=s.append("take",o)),this.http.get(`${this.API_ENDPOINT}/${i}/channel-users`,{params:s})}getChannelUsersRolesByUserId(i){return this.http.get(`${this.API_ENDPOINT}/users/${i}/channel-users-roles`)}addUserToChannel(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/channel-users`,{userId:r})}removeUserFromChannel(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/channel-users/${r}`)}toggleReadOnly(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/channel-users/${r}/toggle-readonly`,null)}updateChannelRole(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/channel-users/${r}/role`,{role:o})}bulkUpdateChannelUserRoles(i){return this.http.put(`${this.API_ENDPOINT}/channel-users/bulk`,i)}searchChannelUsers(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/channel-users/search?searchTerm=${r}`)}searchUsersToAdd(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/channel-users/search-to-add?searchTerm=${r}`)}joinChannel(i){return this.http.post(`${this.API_ENDPOINT}/${i}/channel-users/join`,null)}leaveChannel(i){return this.http.delete(`${this.API_ENDPOINT}/${i}/channel-users/leave`)}toggleMutedState(i){return this.http.put(`${this.API_ENDPOINT}/${i}/toggle-muted`,null)}getMessages(i,r,o=null){let s=new Oe;return r&&(s=s.append("newestMessageId",r)),o&&(s=s.append("threadStartMessageId",o)),this.http.get(`${this.API_ENDPOINT}/${i}/messages`,{params:s}).pipe(se(a=>{for(let l of a)this.messageTextService.replaceMessageTokens(l);return a}))}getMessagesForMessageContext(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/messages/with-context?referenceMessageId=${r}`).pipe(se(o=>{for(let s of o)this.messageTextService.replaceMessageTokens(s);return o}))}getMessageById(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/messages/${r}`).pipe(se(o=>(this.messageTextService.replaceMessageTokens(o),o)))}searchMessages(i,r){let o=new Oe;for(let s in r)if(Object.prototype.hasOwnProperty.call(r,s)){let l=r[s];o=o.append(s,l)}return this.http.get(`${this.API_ENDPOINT}/${i}/messages`,{params:o}).pipe(se(s=>{for(let a of s.entries)this.messageTextService.replaceMessageTokens(a);return s}))}getOlderMessages(i,r,o=null){let s=new Oe;return s=s.append("oldestMessageId",r),o&&(s=s.append("threadStartMessageId",o)),this.http.get(`${this.API_ENDPOINT}/${i}/messages/older`,{params:s}).pipe(se(a=>{for(let l of a.messages)this.messageTextService.replaceMessageTokens(l);return a}))}getNewerMessages(i,r,o=null){let s=new Oe;return s=s.append("newestMessageId",r),o&&(s=s.append("threadStartMessageId",o)),this.http.get(`${this.API_ENDPOINT}/${i}/messages/newer`,{params:s}).pipe(se(a=>{for(let l of a.messages)this.messageTextService.replaceMessageTokens(l);return a}))}sendMessage(i,r){this.messageTextService.assignMessageTokensAndEmojis(r);let o=this.utilityService.createFormData(r);return this.http.post(`${this.API_ENDPOINT}/${i}/messages`,o).pipe(se(s=>{for(let a of s)this.messageTextService.replaceMessageTokens(a);return s}))}editMessage(i,r,o){return this.messageTextService.assignMessageTokensAndEmojis(o),this.http.put(`${this.API_ENDPOINT}/${i}/messages/${r}`,o).pipe(se(s=>(this.messageTextService.replaceMessageTokens(s),s)))}deleteMessage(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/messages/${r}`)}getAllMessageReactions(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/messages/${r}/reactions`)}reactToMessage(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/messages/${r}/reactions`,{reactionCharCode:o})}markAllChannelAsRead(){return this.http.put(`${this.API_ENDPOINT}/mark-read`,null)}markChannelAsRead(i){return this.http.put(`${this.API_ENDPOINT}/${i}/mark-read`,null)}markChannelAsUnread(i){return this.http.put(`${this.API_ENDPOINT}/${i}/mark-unread`,null)}typingMessage(i){return this.http.put(`${this.API_ENDPOINT}/${i}/typing`,null)}updateLastReadMessage(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/last-read/${r}`,null)}deleteChannel(i){return this.http.delete(`${this.API_ENDPOINT}/${i}`)}addChannelToCategoryListAndOrder(i,r){let o=[...r];return o.push({name:i.categoryName,iconUrl:i.categoryName==="StudyStream"?"/assets/images/logo-badge-color.svg":null,channels:[i]}),this.sortChannelCategoryList(o)}orderChannelsInCategory(i){let r=this.channelCategories.find(o=>o.name===i.name)?.channelNames;r&&(i.channels=i.channels.sort((o,s)=>{let a=r.indexOf(o.name),l=r.indexOf(s.name);return a>l?1:a<l?-1:0}))}onTypingNotificationReceived(i){let r=this.typingUsers.find(o=>o.userId===i.userId);r?r.timeoutRef&&(clearTimeout(r.timeoutRef),r.timeoutRef=window.setTimeout(()=>{this.isTypingCleanupCallback(i)},i.duration)):(i.timeoutRef=window.setTimeout(()=>{this.isTypingCleanupCallback(i)},i.duration),this.typingUsers.push(i))}isTypingCleanupCallback(i){this.typingUsers=this.typingUsers.filter(r=>r.userId!==i.userId)}mapChannelCategories(i){i.forEach(s=>this.mapChannelCategory(s));let o=this.utilityService.groupBy(i,"categoryName").map(s=>({name:s.key,channels:s.group}));return o.forEach(s=>this.orderChannelsInCategory(s)),this.sortChannelCategoryList(o)}mapChannelCategory(i){let r=this.channelCategories.find(o=>o.channelNames.includes(i.name))?.name;return i.categoryName=r??"Other",i}sortChannelCategoryList(i){return i.sort((r,o)=>{let s=this.channelCategories.find(l=>l.name===r.name),a=this.channelCategories.find(l=>l.name===o.name);if(s&&a){let l=this.channelCategories.indexOf(s),c=this.channelCategories.indexOf(a);if(l>c)return 1;if(l<c)return-1}return 0})}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Ht),K(Bd),K(Kf),K(Sn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var CP=(()=>{let e=class e{constructor(i){this.http=i,this.API_ENDPOINT=`${Ue.apiUrl}/user-blocks`}getAll(){return this.http.get(this.API_ENDPOINT)}blockUser(i){return this.http.post(`${this.API_ENDPOINT}/${i}`,null)}getBlockedUserIds(){return this.http.get(`${this.API_ENDPOINT}/ids`)}unblockUser(i){return this.http.delete(`${this.API_ENDPOINT}/${i}`)}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oQe=["searchInput"],sQe=(t,e)=>e.id;function aQe(t,e){if(t&1&&(C(0,"mat-option",5),F(1),w()),t&2){let n=M();y(),Ne(n.emptyMessage)}}function lQe(t,e){if(t&1&&$(0,"ss-user-avatar",12),t&2){let n=M().$implicit;P("size",24)("avatarColor",n.avatarColor)("avatarThumbUrl",n.avatarThumbUrl)("userId",n.id)}}function cQe(t,e){t&1&&(C(0,"span"),F(1,",\xA0"),w())}function dQe(t,e){if(t&1&&(C(0,"span",15),F(1),H(2,cQe,2,0,"span"),w()),t&2){let n=e.$implicit,i=e.$index,r=M(3).$implicit;y(),ht(" ",n===r.displayName?"":n," "),y(),Q(r.displayNameHistory.length>0&&i!==r.displayNameHistory.length-1&&n!==r.displayName?2:-1)}}function uQe(t,e){if(t&1&&(C(0,"span",14),Bt(1,dQe,3,2,"span",15,Mn),w()),t&2){let n=M(2).$implicit;y(),Ft(n.displayNameHistory)}}function hQe(t,e){if(t&1&&(C(0,"div",13)(1,"span"),F(2),w(),H(3,uQe,3,0,"span",14),w()),t&2){let n=M().$implicit;y(2),Ne(n.displayName),y(),Q(n.displayNameHistory.length>1?3:-1)}}function fQe(t,e){t&1&&(C(0,"span"),F(1,",\xA0"),w())}function pQe(t,e){if(t&1&&(C(0,"span",15),F(1),H(2,fQe,2,0,"span"),w()),t&2){let n=e.$implicit,i=e.$index,r=M(3).$implicit;y(),ht(" ",n," "),y(),Q(r.displayNameHistory.length>0&&i!==r.displayNameHistory.length-1?2:-1)}}function mQe(t,e){if(t&1&&(C(0,"span",14),Bt(1,pQe,3,2,"span",15,Mn),w()),t&2){let n=M(2).$implicit;y(),Ft(n.displayNameHistory)}}function AQe(t,e){if(t&1&&(C(0,"div",13)(1,"span"),F(2),w(),H(3,mQe,3,0,"span",14),w()),t&2){let n=M().$implicit;y(2),xo("",n.displayName," (",n.fullName,")"),y(),Q(n.displayNameHistory.length>0?3:-1)}}function gQe(t,e){if(t&1&&(C(0,"mat-option",6)(1,"div",11),H(2,lQe,1,4,"ss-user-avatar",12),H(3,hQe,4,2,"div",13),H(4,AQe,4,3,"div",13),w()()),t&2){let n=e.$implicit;P("value",n),y(2),Q(n.avatarThumbUrl&&n.avatarColor?2:-1),y(),Q(n.fullName?-1:3),y(),Q(n.fullName?4:-1)}}function vQe(t,e){if(t&1){let n=fe();C(0,"mat-checkbox",16),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.hasSpecialCharacters,r)||(o.hasSpecialCharacters=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M();return X(r.filter())}),F(1," Username has special characters "),w()}if(t&2){let n=M();Ze("ngModel",n.hasSpecialCharacters),P("disabled",!n.roomName||!!n.selectedUser||n.searchingUsers)}}var I5=(()=>{let e=class e{constructor(i){this.focusRoomService=i,this.showSpecialCharactersCheckbox=!1,this.selectionChange=new Ae,this.searchTermChanged=new Ae,this.searchControl=new bg,this.hasSpecialCharacters=!1,this.emptyMessage=null,this.searchingUsers=!1,this.uuid=yd(),this.searchControlValueChangesSubscription=this.searchControl.valueChanges.pipe(so(300),La()).subscribe(r=>{if(this.searchTermChanged.emit(r),typeof r=="string"||r===null){this.emptyMessage=null,this.filter();return}this.setSelectedUser(r)})}ngOnInit(){this.roomName||this.searchControl.disable()}ngOnChanges(i){i.roomName&&!i.roomName.firstChange&&i.roomName.currentValue!==i.roomName.previousValue&&this.clearSelection()}ngOnDestroy(){this.searchControlValueChangesSubscription.unsubscribe(),this.searchSubscription?.unsubscribe()}getLabel(i){return i?.displayName}clearSelection(){this.searchControl.enable(),this.searchControl.setValue(""),this.filteredUsers=[],this.searchingUsers=!1,this.searchSubscription?.unsubscribe(),this.setSelectedUser(null)}canClear(){return!this.searchingUsers&&(!!this.selectedUser||!!this.searchControl.value)}filter(){let i=!this.searchControl.value;if(!this.hasSpecialCharacters&&i){this.emptyMessage=null,this.filteredUsers=[];return}this.emptyMessage=null,this.searchingUsers=!0,this.focusRoomService.searchUsersToReport(this.searchControl.value,this.roomName||"",this.hasSpecialCharacters).subscribe({next:r=>this.onSearchSuccess(r)})}onSearchSuccess(i){this.searchingUsers=!1,this.emptyMessage=i.length===0?"No results":null,this.filteredUsers=i,this.searchInput.nativeElement.focus()}setSelectedUser(i){this.selectedUser=i,this.selectionChange.emit(i)}};e.\u0275fac=function(r){return new(r||e)(L(jf))},e.\u0275cmp=re({type:e,selectors:[["ss-report-autocomplete"]],viewQuery:function(r,o){if(r&1&&Fe(oQe,5),r&2){let s;Ce(s=we())&&(o.searchInput=s.first)}},inputs:{roomName:"roomName",placeholder:"placeholder",showSpecialCharactersCheckbox:"showSpecialCharactersCheckbox"},outputs:{selectionChange:"selectionChange",searchTermChanged:"searchTermChanged"},standalone:!1,features:[gt],decls:12,vars:16,consts:[["searchInput",""],["auto","matAutocomplete"],["floatLabel","always",1,"no-label",3,"hideRequiredMarker"],["matInput","","name","searchTerm","autocomplete","off","matInput","",1,"input-text","no-label",3,"id","placeholder","matAutocomplete","formControl","readonly"],[3,"displayWith"],["disabled","",1,"empty-message"],[1,"report-option",3,"value"],[1,"actions"],["diameter","20","strokeWidth","2"],["matSuffix","","iconName","dismiss","role","button",3,"click","size"],["name","hasSpecialCharacters",3,"ngModel","disabled"],[1,"option"],[3,"size","avatarColor","avatarThumbUrl","userId"],[1,"name"],[1,"aliases"],[1,"notification"],["name","hasSpecialCharacters",3,"ngModelChange","ngModel","disabled"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",2),$(1,"input",3,0),C(3,"mat-autocomplete",4,1),H(5,aQe,2,1,"mat-option",5),Bt(6,gQe,5,4,"mat-option",6,sQe),w(),C(8,"div",7),$(9,"mat-spinner",8),C(10,"ss-icon",9),G("click",function(){return Y(s),X(o.clearSelection())}),w()()(),H(11,vQe,2,2,"mat-checkbox",10)}if(r&2){let s=It(4);le("field-disabled",o.searchingUsers),P("hideRequiredMarker",!0),y(),P("id","search-term-"+o.uuid)("placeholder",o.placeholder)("matAutocomplete",s)("formControl",o.searchControl)("readonly",!!o.selectedUser),y(2),P("displayWith",o.getLabel),y(2),Q(o.emptyMessage?5:-1),y(),Ft(o.filteredUsers),y(2),le("loading",o.searchingUsers),y(2),le("visible",o.canClear()),P("size",20),y(),Q(o.showSpecialCharactersCheckbox?11:-1)}},dependencies:[Ya,Oi,cr,jp,ho,vu,Vc,Io,qh,Eg,Gp,Kp,bn,Ys],styles:["[_nghost-%COMP%]{display:block;margin-bottom:16px}[_nghost-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:var(--default-20)}.no-margin[_nghost-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(.date-picker)   input[readonly][_ngcontent-%COMP%]{color:var(--default-40);border-color:var(--default-80);background-color:var(--grayscale-g1)}[_nghost-%COMP%]     .mdc-text-field{padding:0;background-color:transparent!important}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--focused input{border-color:var(--accent-blue)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid input{border-color:var(--negative)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid .mat-mdc-floating-label{color:var(--negative)!important}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper, [_nghost-%COMP%]     .mat-mdc-form-field-focus-overlay, [_nghost-%COMP%]     .mdc-line-ripple{display:none}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{min-height:0;padding-bottom:0}[_nghost-%COMP%]     .no-label .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:0}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:20px;font:17px Poppins,sans-serif;line-height:20px;color:var(--default-40);letter-spacing:normal}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:40px;box-sizing:border-box;padding:8px 16px;border:1px solid var(--default-20);border-radius:12px;outline:none;color:var(--default-20)!important}@media only screen and (max-width: 767px){[_nghost-%COMP%]   input[_ngcontent-%COMP%]{height:48px;padding:12px 16px}}[_nghost-%COMP%]   input[disabled][_ngcontent-%COMP%]{color:var(--default-40)!important;border-color:var(--default-80);background-color:var(--grayscale-g1)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]::placeholder{display:block;color:var(--default-60)!important}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{appearance:textfield}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none;margin:0}[_nghost-%COMP%]   input.small[_ngcontent-%COMP%]{height:28px;padding:6px 12px;border:none;border-radius:8px;font-size:13px;line-height:16px;background-color:var(--button-1)}@media only screen and (max-width: 767px){[_nghost-%COMP%]   input.small[_ngcontent-%COMP%]{height:32px}}[_nghost-%COMP%]   input.small.has-prefix[_ngcontent-%COMP%]{padding-left:36px}[_nghost-%COMP%]   input.small.has-suffix[_ngcontent-%COMP%]{padding-right:36px}[_nghost-%COMP%]   input.has-prefix[_ngcontent-%COMP%]{padding-left:48px}[_nghost-%COMP%]   input.has-suffix[_ngcontent-%COMP%]{padding-right:48px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus{box-shadow:0 0 0 1000px var(--grayscale) inset;-webkit-text-fill-color:var(--default-20)}[_nghost-%COMP%]   .additional-info[_ngcontent-%COMP%]{display:block;margin-top:5px;color:var(--default-40)}.has-errors[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{position:relative}.input-actions[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;display:flex;margin-right:10px;transform:translateY(-50%)}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]{width:24px;height:24px}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:first-child{margin-right:8px}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]  button{width:24px;height:24px;padding:0;border-radius:0;background:none}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]  button:disabled:hover:not(.social){background:none}.input-actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{display:block}.input-actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]:hover     i{color:var(--accent-blue)}.input-actions[_ngcontent-%COMP%]   ss-icon.disabled[_ngcontent-%COMP%]     i{color:var(--default-80);cursor:not-allowed}[_nghost-%COMP%]:hover  input{color:var(--default);border-color:var(--default)}[_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-40)}[_nghost-%COMP%]:hover  .mat-form-field-label{color:var(--default-20)!important}[_nghost-%COMP%]:hover  .additional-info{color:var(--default-20)}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty input{border-color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-readonly:not(.date-picker) .additional-info{color:var(--default-40)}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-disabled .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-disabled .additional-info{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-invalid .mat-form-field-label{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-infix{width:100%;padding-top:10px;padding-bottom:0;border-top-width:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper{top:-18px;padding-top:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font:13px Poppins,sans-serif;line-height:20px;color:var(--default-40)}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font-size:14px;line-height:24px}}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused input{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty input{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-40)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-form-field-label{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .additional-info{color:var(--default-20)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused input{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-infix{padding-top:0;border-top-width:0}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-label-wrapper{top:0;padding-top:0}[_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-80)}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{position:absolute;bottom:8px;z-index:1;font-size:22px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{bottom:12px}}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix .mat-mdc-icon-button.mat-mdc-button-base, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix .mat-mdc-icon-button.mat-mdc-button-base{width:24px;height:24px;padding:0}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix{left:16px!important}[_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{right:16px}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{bottom:6px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{bottom:8px}}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix{left:13px!important}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{right:13px}[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{top:100%;margin-top:1px}","[_nghost-%COMP%]   input.no-label[_ngcontent-%COMP%]{padding-right:30px;padding-left:8px;border-top:none;border-right:none;border-left:none;border-radius:0;border-bottom-width:1px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{top:37px!important;font-size:20px;color:var(--default)}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-mdc-form-field-icon-suffix{top:15px!important;right:3px}[_nghost-%COMP%]  mat-form-field:not(.date-picker) input[readonly]{border-radius:8px 8px 0 0;border-color:var(--accent-blurple)!important;background:var(--alt-60)!important}[_nghost-%COMP%]  mat-form-field:not(.date-picker) input[disabled]{border-radius:8px 8px 0 0}mat-checkbox[_ngcontent-%COMP%]{margin-top:8px}.option[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.option[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-right:12px}.option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 42px);line-height:normal}.option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] > span.aliases[_ngcontent-%COMP%]{margin-top:-3px}.option[_ngcontent-%COMP%]   span.notification[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:var(--accent-blurple-40)}.actions[_ngcontent-%COMP%]{position:absolute;top:11px;right:5px;display:flex;justify-content:center;align-items:center}.actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]   ss-icon.visible[_ngcontent-%COMP%]{display:inline-block}.actions.loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}.actions.loading[_ngcontent-%COMP%]:hover   mat-spinner[_ngcontent-%COMP%]{display:none}.actions.loading[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]{display:inline-block}.dark-theme[_nghost-%COMP%]     .mat-mdc-checkbox.mdc-checkbox--disabled label, .dark-theme   [_nghost-%COMP%]     .mat-mdc-checkbox.mdc-checkbox--disabled label{display:inline;color:var(--default-60)}"]});let t=e;return t})();var wP=(()=>{let e=class e{constructor(i,r,o,s){this.http=i,this.utilityService=r,this.messageTextService=o,this.signalRService=s,this.attachmentsReset=new O,this.reportUser=new O,this.onFiltersChanged=new rs(1),this.adminChatListItemClick=new O,this.API_ENDPOINT=`${Ue.apiUrl}/chats`,this.signalRService.isTyping.subscribe(a=>this.utilityService.onTypingNotificationReceived(a))}getMyChats(i,r,o,s=!1){let a=new Oe;return a=a.append("archivedOnly",o),a=a.append("isMessageRequest",s),i&&(a=a.append("newestChatId",i)),r&&(a=a.append("searchTerm",r)),s&&(a=a.append("isMessageRequest",s)),this.http.get(this.API_ENDPOINT,{params:a})}getChatsForAdmin(i,r,o,s=null){let a=new Oe;return a=a.append("userId",i),a=a.append("isDeleted",r.isDeleted),o&&(a=a.append("newestChatId",o)),s&&(a=a.append("searchTerm",s)),this.http.get(`${this.API_ENDPOINT}/admin`,{params:a})}getChatUsers(i){return this.http.get(`${this.API_ENDPOINT}/${i}/chat-users`)}getChatListItem(i){return this.http.get(`${this.API_ENDPOINT}/${i}/list-item`)}getMyChat(i){return this.http.get(`${this.API_ENDPOINT}/${i}`).pipe(se(r=>{for(let o of r.messages)this.messageTextService.replaceMessageTokens(o);return r}))}getChatForAdmin(i,r,o){let s=new Oe;return s=s.append("userId",r),s=s.append("isDeleted",o.isDeleted),this.http.get(`${this.API_ENDPOINT}/${i}/admin`,{params:s}).pipe(se(a=>{for(let l of a.messages)this.messageTextService.replaceMessageTokens(l);return a}))}loadMoreMessagesForAdmin(i,r,o,s){let a=new Oe;return a=a.append("userId",r),a=a.append("oldestMessageId",o),a=a.append("isDeleted",s.isDeleted),this.http.get(`${this.API_ENDPOINT}/${i}/messages/admin`,{params:a}).pipe(se(l=>{for(let c of l.messages)this.messageTextService.replaceMessageTokens(c);return l}))}loadThreadRepliesForAdmin(i,r,o){let s=new Oe;return s=s.append("userId",r),this.http.get(`${this.API_ENDPOINT}/${i}/threads/${o}/admin`,{params:s}).pipe(se(a=>{for(let l of a)this.messageTextService.replaceMessageTokens(l);return a}))}getThread(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/threads/${r}`).pipe(se(o=>{this.messageTextService.replaceMessageTokens(o.startMessage);for(let s of o.messages)this.messageTextService.replaceMessageTokens(s);return o}))}getThreadForAdmin(i,r,o){return this.http.get(`${this.API_ENDPOINT}/${i}/threads/${o}/admin?userId=${r}`).pipe(se(s=>{this.messageTextService.replaceMessageTokens(s.startMessage);for(let a of s.messages)this.messageTextService.replaceMessageTokens(a);return s}))}addBookmark(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/messages/${r}/bookmark`,null)}removeBookmark(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/messages/${r}/bookmark`)}addThreadUser(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/threads/${r}/thread-users`,null)}removeThreadUser(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/threads/${r}/thread-users`)}checkIfChatExists(i){return this.http.get(`${this.API_ENDPOINT}/exists?otherUserId=${i}`)}startChat(i){let r=this.utilityService.createFormData(i);return this.http.post(`${this.API_ENDPOINT}/start`,r)}startChatWithMessage(i){this.messageTextService.assignEmojisAndTrim(i);let r=this.utilityService.createFormData(i);return this.http.post(`${this.API_ENDPOINT}/start-and-message`,r)}updateChat(i,r){let o=this.utilityService.createFormData(r);return this.http.put(`${this.API_ENDPOINT}/${i}`,o)}getChatAttachments(i,r,o){let s=new Oe;return r&&(s=s.append("newestAttachmentId",r)),o&&(s=s.append("take",o)),this.http.get(`${this.API_ENDPOINT}/${i}/attachments`,{params:s})}getPhotosAttachments(i,r,o){let s=new Oe;return r&&(s=s.append("newestAttachmentId",r)),o&&(s=s.append("take",o)),this.http.get(`${this.API_ENDPOINT}/${i}/attachments/photos`,{params:s})}getOtherAttachments(i,r,o){let s=new Oe;return r&&(s=s.append("newestAttachmentId",r)),o&&(s=s.append("take",o)),this.http.get(`${this.API_ENDPOINT}/${i}/attachments/other`,{params:s})}getBlobDownloadUrl(i){return this.http.get(`${this.API_ENDPOINT}/attachments/blob/${i}`)}addUsersToChat(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/chat-users`,r)}toggleAdminRights(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/chat-users/${r}/toggle-admin`,null)}toggleMutedState(i){return this.http.put(`${this.API_ENDPOINT}/${i}/toggle-muted`,null)}toggleArchivedState(i){return this.http.put(`${this.API_ENDPOINT}/${i}/toggle-archived`,null)}leaveChat(i){return this.http.delete(`${this.API_ENDPOINT}/${i}/chat-users/leave`)}removeUserFromChat(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/chat-users/${r}`)}getMessages(i,r,o=null){let s=new Oe;return r&&(s=s.append("newestMessageId",r)),o&&(s=s.append("threadStartMessageId",o)),this.http.get(`${this.API_ENDPOINT}/${i}/messages`,{params:s}).pipe(se(a=>{for(let l of a)this.messageTextService.replaceMessageTokens(l);return a}))}getMessagesForMessageContext(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/messages/with-context?referenceMessageId=${r}`).pipe(se(o=>{for(let s of o)this.messageTextService.replaceMessageTokens(s);return o}))}getMessagesByIds(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/messages/by-ids`,r).pipe(se(o=>{for(let s of o)this.messageTextService.replaceMessageTokens(s);return o}))}searchMessages(i,r){let o=new Oe;for(let s in r)if(Object.prototype.hasOwnProperty.call(r,s)){let l=r[s];o=o.append(s,l)}return this.http.get(`${this.API_ENDPOINT}/${i}/messages`,{params:o}).pipe(se(s=>{for(let a of s.entries)this.messageTextService.replaceMessageTokens(a);return s}))}getOlderMessages(i,r,o=null){let s=new Oe;return s=s.append("oldestMessageId",r),o&&(s=s.append("threadStartMessageId",o)),this.http.get(`${this.API_ENDPOINT}/${i}/messages/older`,{params:s}).pipe(se(a=>{for(let l of a.messages)this.messageTextService.replaceMessageTokens(l);return a}))}getNewerMessages(i,r,o=null){let s=new Oe;return s=s.append("newestMessageId",r),o&&(s=s.append("threadStartMessageId",o)),this.http.get(`${this.API_ENDPOINT}/${i}/messages/newer`,{params:s}).pipe(se(a=>{for(let l of a.messages)this.messageTextService.replaceMessageTokens(l);return a}))}sendMessage(i,r){this.messageTextService.assignMessageTokensAndEmojis(r);let o=this.utilityService.createFormData(r);return this.http.post(`${this.API_ENDPOINT}/${i}/messages`,o).pipe(se(s=>{for(let a of s)this.messageTextService.replaceMessageTokens(a);return s}))}editMessage(i,r,o){return this.messageTextService.assignMessageTokensAndEmojis(o),this.http.put(`${this.API_ENDPOINT}/${i}/messages/${r}`,o).pipe(se(s=>(this.messageTextService.replaceMessageTokens(s),s)))}searchUsers(i,r=!1){let o=new Oe;return o=o.append("searchTerm",i),o=o.append("isGroup",r),this.http.get(`${this.API_ENDPOINT}/users/search`,{params:o})}deleteMessage(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/messages/${r}`)}markChatAsDeletedForUser(i){return this.http.put(`${this.API_ENDPOINT}/${i}/delete-for-user/`,null)}readMessages(i,r,o=null){let s=new Oe;return o&&(s=s.append("threadStartMessageId",o)),this.http.put(`${this.API_ENDPOINT}/${i}/messages/read`,r,{params:s})}getAllMessageReactions(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/messages/${r}/reactions`)}reactToMessage(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/messages/${r}/reactions`,{reactionCharCode:o})}markChatAsRead(i,r=null){let o=new Oe;return r&&(o=o.append("threadStartMessageId",r)),this.http.put(`${this.API_ENDPOINT}/${i}/mark-read`,null,{params:o})}messageRequestAccept(i){return this.http.put(`${this.API_ENDPOINT}/${i}/message-request/accept`,null)}messageRequestIgnore(i){return this.http.put(`${this.API_ENDPOINT}/${i}/message-request/ignore`,null)}markChatAsUnread(i){return this.http.put(`${this.API_ENDPOINT}/${i}/mark-unread`,null)}typingMessage(i){return this.http.put(`${this.API_ENDPOINT}/${i}/typing`,null)}deleteChat(i){return this.http.delete(`${this.API_ENDPOINT}/${i}`)}sendBulkMessage(i){return this.http.post(`${this.API_ENDPOINT}/bulk-message-users`,i)}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Ht),K(Bd),K(Kf))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EP=function(t){return t.NewsItem="NewsItem",t.AppRelease="AppRelease",t.NewFollowerUpdate="NewFollowerUpdate",t.PomodoroSessionCompletion="PomodoroSessionCompletion",t.UserStatusUpdate="UserStatusUpdate",t.TaskCompleted="TaskCompleted",t}(EP||{});var wue=(()=>{let e=class e{constructor(i,r,o){this.http=i,this.utilityService=r,this.messageTextService=o,this.groups=[],this.activeGroup=null,this.userToLeaveGroup=new O,this.groupLoading=new O,this.roleUpdated=new O,this.API_ENDPOINT=`${Ue.apiUrl}/groups`}getGroups(){return this.http.get(this.API_ENDPOINT)}createGroup(i){return this.http.post(this.API_ENDPOINT,i)}updateGroup(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}`,r)}getGroup(i){return this.http.get(`${this.API_ENDPOINT}/${i}`)}archiveGroup(i){return this.http.delete(`${this.API_ENDPOINT}/${i}`)}getGroupInvitations(){return this.http.get(`${this.API_ENDPOINT}/invitations`)}getGroupDeclinedInvitations(){return this.http.get(`${this.API_ENDPOINT}/invitations/declined`)}searchGroups(i){let r=new Oe;return i&&(r=r.append("searchTerm",i)),this.http.get(`${this.API_ENDPOINT}/search-available`,{params:r})}joinGroup(i){return this.http.post(`${this.API_ENDPOINT}/${i}/users`,{})}leaveGroup(i){return this.http.delete(`${this.API_ENDPOINT}/${i}/leave`)}getGroupUser(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/users/${r}`)}getGroupUsers(i,r,o,s){let a=new Oe;return a=a.append("searchTerm",r),a=a.append("skip",o),a=a.append("take",s),this.http.get(`${this.API_ENDPOINT}/${i}/users`,{params:a})}inviteUser(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/users/invite`,r)}banUserFromGroup(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/users/${r}/ban`,{})}updateUserGroupRole(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/users/${r}/role`,{role:o})}getUsersToInvite(i,r,o,s){let a=new Oe;return a=a.append("searchTerm",r),a=a.append("skip",o),a=a.append("take",s),this.http.get(`${this.API_ENDPOINT}/${i}/users-to-invite`,{params:a})}searchGroupUsers(i){let r=new Oe;return r=r.append("searchTerm",i),this.http.get(`${this.API_ENDPOINT}/users/search`,{params:r})}subscribeToSignalRUpdates(i){return this.http.post(`${this.API_ENDPOINT}/notifications/subscribe`,i)}unsubscribeFromSignalRUpdates(i){return this.http.post(`${this.API_ENDPOINT}/notifications/unsubscribe`,i)}updateLastRead(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/last-read/${r}`,{})}getUserFeeds(i,r,o=30){let s=new Oe;return r&&(s=s.append("oldestGroupFeedItemDate",r.toString())),s=s.append("pageSize",o),this.http.get(`${this.API_ENDPOINT}/${i}/feed-items`,{params:s}).pipe(se(a=>{for(let l of a)l.type=EP.UserStatusUpdate;return a}))}getPublicGroups(i,r,o=30){let s=new Oe;return i&&(s=s.append("searchTerm",i)),s=s.append("page",r),s=s.append("pageSize",o),this.http.get(`${this.API_ENDPOINT}/search-public`,{params:s}).pipe(lt(a=>{a.entries.forEach(l=>{l.featuredGroupFeedItem&&(l.featuredGroupFeedItem.type=EP.UserStatusUpdate)})}))}getFeedItemsByIds(i,r){return this.http.post(`${this.API_ENDPOINT}/${i}/feed-items/by-ids`,r)}createGroupFeedItem(i,r){this.messageTextService.assignMessageTokensAndEmojis(r);let o=this.utilityService.createFormData(r);return this.http.post(`${this.API_ENDPOINT}/${i}/feed-items`,o)}updateGroupFeedItem(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}`,{text:o})}pinGroupFeedItem(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}/pin`,{})}unpinGroupFeedItem(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}/unpin`,{})}deleteGroupFeedItem(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}/feed-items/${r}`)}toggleReaction(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}/reactions`,{reactionCharCode:o})}deleteFeedItemReaction(i,r,o,s){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}/reactions/delete`,{reactionCharCode:o,reactingUserId:s})}getFeedReactions(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/feed-items/${r}/reactions`)}getFeedComments(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments`)}getComment(i,r,o){return this.http.get(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/${o}`)}createComment(i,r,o){this.messageTextService.assignMessageTokensAndEmojis(o);let s=this.utilityService.createFormData(o);return this.http.post(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments`,s)}updateGroupFeedComment(i,r,o,s){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/${o}`,{text:s})}deleteComment(i,r,o){return this.http.delete(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/${o}`).pipe(se(s=>s.commentsCount))}getCommentsCount(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/count`).pipe(se(o=>o.commentsCount))}toggleCommentReaction(i,r,o,s){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/${o}/reactions`,{reactionCharCode:s})}deleteFeedItemCommentReaction(i,r,o,s,a){return this.http.put(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/${o}/reactions/delete`,{reactionCharCode:s,reactingUserId:a})}getFeedCommentReactions(i,r,o){return this.http.get(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/${o}/reactions`)}getFeedBlobDownloadUrl(i,r,o){return this.http.get(`${this.API_ENDPOINT}/${i}/feed-items/${r}/attachments/${o}/blob`)}getFeedCommentBlobDownloadUrl(i,r,o){return this.http.get(`${this.API_ENDPOINT}/${i}/feed-items/${r}/comments/${o}/attachments/blob`)}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Ht),K(Bd))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Eue=(()=>{let e=class e{constructor(i){this.http=i,this.API_ENDPOINT=`${Ue.apiUrl}/focus-buddy-posts`}getPosts(i,r){return this.http.post(this.API_ENDPOINT,{userTypes:i,oldestPostDate:r})}getMyPost(){return this.http.get(`${this.API_ENDPOINT}/me`)}getLivePost(i){return this.http.get(`${this.API_ENDPOINT}/users/${i}`)}createPost(i,r){return this.http.put(`${this.API_ENDPOINT}/me`,{title:i,description:r})}toggleLivePost(){return this.http.put(`${this.API_ENDPOINT}/me/toggle-live`,{})}turnOffLivePost(i){return this.http.put(`${this.API_ENDPOINT}/turn-off-live`,{userId:i})}deletePost(){return this.http.delete(`${this.API_ENDPOINT}/me`)}searchUsers(i){let r=new Oe;return r=r.append("searchTerm",i),this.http.get(`${this.API_ENDPOINT}/users/search`,{params:r})}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xue=(()=>{let e=class e{constructor(i,r,o){this.http=i,this.utilityService=r,this.messageTextService=o,this.API_ENDPOINT=`${Ue.apiUrl}/feed`}getGeneral(){return this.http.get(`${this.API_ENDPOINT}/general`)}getFeed(i,r,o=!1){let s=new Oe;return s=s.append("pageSize",r),s=s.append("followingOnly",o),i&&(s=s.append("oldestUpdateDate",i.toString())),this.http.get(this.API_ENDPOINT,{params:s})}getHighReachFeed(i,r){let o=new Oe;return o=o.append("pageSize",r),i&&(o=o.append("oldestUpdateDate",i.toString())),this.http.get(`${this.API_ENDPOINT}/high-reach`,{params:o})}getShadowBannedUsers(){return this.http.get(`${this.API_ENDPOINT}/shadow-banned-users`)}removeShadowBannedUser(i){return this.http.delete(`${this.API_ENDPOINT}/shadow-banned-users/${i}`)}getFeedItemsByIds(i){return this.http.post(`${this.API_ENDPOINT}/by-ids`,i)}getComment(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/comments/${r}`)}getUserFeeds(i,r,o){let s=new Oe;return s=s.append("pageSize",o),i&&(s=s.append("oldestUpdateDate",i.toString())),this.http.get(`${this.API_ENDPOINT}/users/${r}/statuses`,{params:s})}getUserFeed(i,r,o){let s=new Oe;return s=s.append("pageSize",o),i&&(s=s.append("oldestUpdateDate",i.toString())),this.http.get(`${this.API_ENDPOINT}/users/${r}`,{params:s})}createFeedStatus(i){this.messageTextService.assignMessageTokensAndEmojis(i);let r=this.utilityService.createFormData(i);return this.http.post(`${this.API_ENDPOINT}/statuses`,r,{reportProgress:!0,observe:"events"})}updateFeedStatus(i,r){return this.messageTextService.assignMessageTokensAndEmojis(r),this.http.put(`${this.API_ENDPOINT}/${i}/statuses`,r)}getAllReactionsForFeedItem(i){return this.http.get(`${this.API_ENDPOINT}/${i}/reactions`)}toggleReaction(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/reactions`,{reactionCharCode:r})}deleteFeedReaction(i,r,o){return this.http.put(`${this.API_ENDPOINT}/${i}/reactions/delete`,{reactionCharCode:r,reactingUserId:o})}deleteFeedStatus(i){return this.http.delete(`${this.API_ENDPOINT}/${i}/statuses`)}removeReceiver(i){return this.http.delete(`${this.API_ENDPOINT}/${i}/remove-receiver`)}hideFeedItem(i,r){let o=new Oe;return o=o.append("removeAllAuthorFeedItems",r),this.http.delete(`${this.API_ENDPOINT}/${i}/hide`,{params:o})}getFeedBlobDownloadUrl(i,r){return this.http.get(`${this.API_ENDPOINT}/${i}/attachments/${r}/blob`)}toggleCommentReaction(i,r){return this.http.put(`${this.API_ENDPOINT}/comments/${i}/reactions`,{reactionCharCode:r})}deleteCommentReaction(i,r,o){return this.http.put(`${this.API_ENDPOINT}/comments/${i}/reactions/delete`,{reactionCharCode:r,reactingUserId:o})}getAllReactionsForFeedComment(i){return this.http.get(`${this.API_ENDPOINT}/comments/${i}/reactions`)}getAllComments(i){return this.http.get(`${this.API_ENDPOINT}/${i}/comments`)}createComment(i,r){this.messageTextService.assignMessageTokensAndEmojis(r);let o=this.utilityService.createFormData(r);return this.http.post(`${this.API_ENDPOINT}/${i}/comments`,o)}updateComment(i,r){this.messageTextService.assignMessageTokensAndEmojis(r);let o=this.utilityService.createFormData(r);return this.http.put(`${this.API_ENDPOINT}/comments/${i}`,o)}getFeedCommentBlobDownloadUrl(i){return this.http.get(`${this.API_ENDPOINT}/comments/${i}/attachments/blob`)}deleteComment(i){return this.http.delete(`${this.API_ENDPOINT}/comments/${i}`).pipe(se(r=>r.commentsCount))}getCommentsCount(i){return this.http.get(`${this.API_ENDPOINT}/${i}/comments/count`).pipe(se(r=>r.commentsCount))}searchUsers(i){let r=new Oe;return r=r.append("searchTerm",i),this.http.get(`${this.API_ENDPOINT}/users/search`,{params:r})}muteFeedAcitivityForUser(i,r){return this.http.put(`${this.API_ENDPOINT}/users/${i}/mute-feed-activity`,r)}forcePopularState(i,r){return this.http.put(`${this.API_ENDPOINT}/${i}/force-popular-state`,{newPopularStateToForce:r})}shadowRemove(i){return this.http.put(`${this.API_ENDPOINT}/${i}/shadow-remove`,null)}shadowBanUser(i){return this.http.put(`${this.API_ENDPOINT}/${i}/shadow-ban-user`,null)}unbanFromFeed(i){return this.http.put(`${this.API_ENDPOINT}/unban`,{userId:i})}};e.\u0275fac=function(r){return new(r||e)(K(Mt),K(Ht),K(Bd))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wQe=["searchInput"],EQe=(t,e)=>e.id;function xQe(t,e){if(t&1&&(C(0,"mat-option",4),F(1),w()),t&2){let n=M();y(),Ne(n.emptyMessage)}}function SQe(t,e){if(t&1&&(C(0,"mat-option",5)(1,"div",9),$(2,"ss-user-avatar",10),C(3,"div",11)(4,"span"),F(5),w()()()()),t&2){let n=e.$implicit;P("value",n),y(2),P("size",24)("avatarColor",n.avatarColor)("avatarThumbUrl",n.avatarThumbUrl)("initials",n.initials)("userId",n.id),y(3),Ne(n.displayName)}}var k5=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.chatService=i,this.groupService=r,this.channelService=o,this.focusBuddyPostsService=s,this.feedService=a,this.focusRoomService=l,this.selectionChange=new Ae,this.searchTermChanged=new Ae,this.searchControl=new bg,this.emptyMessage=null,this.searchingUsers=!1,this.uuid=yd(),this.searchControlValueChangesSubscription=this.searchControl.valueChanges.pipe(so(300),La()).subscribe(c=>{if(this.searchTermChanged.emit(c),typeof c=="string"||c===null){this.emptyMessage=null,this.filterUsers();return}this.setSelectedUser(c)})}ngOnChanges(i){i.reportSource&&!i.reportSource.firstChange&&i.reportSource.currentValue!==i.reportSource.previousValue&&this.clearSelection()}ngOnDestroy(){this.searchControlValueChangesSubscription.unsubscribe(),this.searchSubscription?.unsubscribe()}clearSelection(){this.searchControl.enable(),this.searchControl.setValue(""),this.filteredUsers=[],this.searchingUsers=!1,this.searchSubscription?.unsubscribe(),this.setSelectedUser(null)}canClear(){return!this.searchingUsers&&(!!this.selectedUser||!!this.searchControl.value)}filterUsers(){if(!this.searchControl.value){this.emptyMessage=null,this.filteredUsers=[];return}this.emptyMessage=null,this.searchingUsers=!0;let r=this.getSearchUsersApiCall();this.searchSubscription=r.subscribe(o=>this.onSearchSuccess(o))}setSelectedUser(i){this.selectedUser=i,this.selectionChange.emit(i)}getSearchUsersApiCall(){switch(this.reportSource){case ln.FocusBuddies:return this.focusBuddyPostsService.searchUsers(this.searchControl.value);case ln.Newsfeed:return this.feedService.searchUsers(this.searchControl.value);case ln.UserProfile:return this.focusRoomService.searchAllUsers(this.searchControl.value).pipe(se(i=>i.participants));case ln.Channel:return this.channelService.searchChannelUsers(this.channelId||"",this.searchControl.value);case ln.GroupChat:return this.chatService.searchUsers(this.searchControl.value,!0);case ln.Groups:return this.groupService.searchGroupUsers(this.searchControl.value);default:return this.chatService.searchUsers(this.searchControl.value)}}onSearchSuccess(i){this.searchingUsers=!1,this.emptyMessage=i.length===0?"No results":null,this.filteredUsers=i,this.searchInput.nativeElement.focus()}};e.\u0275fac=function(r){return new(r||e)(L(wP),L(wue),L(g_),L(Eue),L(xue),L(jf))},e.\u0275cmp=re({type:e,selectors:[["ss-search-user-autocomplete"]],viewQuery:function(r,o){if(r&1&&Fe(wQe,5),r&2){let s;Ce(s=we())&&(o.searchInput=s.first)}},inputs:{reportSource:"reportSource",channelId:"channelId"},outputs:{selectionChange:"selectionChange",searchTermChanged:"searchTermChanged"},standalone:!1,features:[gt],decls:11,vars:14,consts:[["searchInput",""],["auto","matAutocomplete"],["floatLabel","always",1,"no-label",3,"hideRequiredMarker"],["matInput","","name","searchTermNew","placeholder","Search user to report","autocomplete","off","matInput","",1,"input-text","no-label",3,"id","matAutocomplete","value","formControl","readonly"],["disabled","",1,"empty-message"],[1,"report-option",3,"value"],[1,"actions"],["diameter","20","strokeWidth","2"],["matSuffix","","iconName","dismiss","role","button",3,"click","size"],[1,"option"],[3,"size","avatarColor","avatarThumbUrl","initials","userId"],[1,"name"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",2),$(1,"input",3,0),C(3,"mat-autocomplete",null,1),H(5,xQe,2,1,"mat-option",4),Bt(6,SQe,6,7,"mat-option",5,EQe),w(),C(8,"div",6),$(9,"mat-spinner",7),C(10,"ss-icon",8),G("click",function(){return Y(s),X(o.clearSelection())}),w()()()}if(r&2){let s=It(4);le("field-disabled",o.searchingUsers),P("hideRequiredMarker",!0),y(),P("id","search-term-new-"+o.uuid)("matAutocomplete",s)("value",(o.searchControl.value==null?null:o.searchControl.value.displayName)||null)("formControl",o.searchControl)("readonly",!!o.selectedUser),y(4),Q(o.emptyMessage?5:-1),y(),Ft(o.filteredUsers),y(2),le("loading",o.searchingUsers),y(2),le("visible",o.canClear()),P("size",20)}},dependencies:[Ya,Oi,jp,ho,vu,Vc,Io,qh,Eg,Gp,bn,Ys],styles:["[_nghost-%COMP%]   input.no-label[_ngcontent-%COMP%]{padding:8px;border-top:none;border-right:none;border-left:none;border-radius:0;border-bottom-width:1px;color:var(--default)}[_nghost-%COMP%]   input.no-label[_ngcontent-%COMP%]::placeholder{color:var(--default-60)}[_nghost-%COMP%]   mat-form-field.no-label[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:0;padding:0}[_nghost-%COMP%]   mat-form-field.no-label[_ngcontent-%COMP%]     .mat-mdc-text-field-wrapper{padding-left:0;background:transparent}[_nghost-%COMP%]   mat-form-field.no-label[_ngcontent-%COMP%]     .mat-mdc-form-field-focus-overlay{background:transparent}[_nghost-%COMP%]   mat-form-field.no-label[_ngcontent-%COMP%]     .mdc-text-field input{background:var(--grayscale)}.option[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.option[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-right:12px}.actions[_ngcontent-%COMP%]{position:absolute;top:11px;right:5px;display:flex;justify-content:center;align-items:center}.actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]   ss-icon.visible[_ngcontent-%COMP%]{display:inline-block}.actions.loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}.actions.loading[_ngcontent-%COMP%]:hover   mat-spinner[_ngcontent-%COMP%]{display:none}.actions.loading[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]{display:inline-block}"]});let t=e;return t})();var IQe=(t,e)=>e.errorCode;function kQe(t,e){if(t&1){let n=fe();C(0,"ss-select",15),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.model.channelId,r)||(o.model.channelId=r),X(r)}),w()}if(t&2){let n=M();Ze("ngModel",n.model.channelId),P("options",n.channels)("required",!0)("disabled",n.disableChannelSelect)}}function MQe(t,e){if(t&1){let n=fe();C(0,"ss-search-user-autocomplete",16),G("searchTermChanged",function(){Y(n);let r=M();return X(r.errorMessages=[])})("selectionChange",function(r){Y(n);let o=M();return X(o.onAutocompleteUserSelected(r))}),w()}if(t&2){let n=M();P("channelId",n.model.channelId)("reportSource",n.model.reportSource)}}function DQe(t,e){if(t&1){let n=fe();C(0,"ss-select",17),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.currentRoomName,r)||(o.currentRoomName=r),X(r)}),G("ngModelChange",function(){Y(n);let r=M();return X(r.onFocusRoomChange())}),w()}if(t&2){let n=M();Ze("ngModel",n.currentRoomName),P("title",n.getDropdownTitle()||"Select Focus Room")("options",n.roomDropdownOptions)("disabled",n.usersLoading||n.disableRoomSelect)("required",!0)}}function PQe(t,e){if(t&1){let n=fe();C(0,"div",10)(1,"ss-report-autocomplete",18),G("searchTermChanged",function(){Y(n);let r=M();return X(r.errorMessages=[])})("selectionChange",function(r){Y(n);let o=M();return X(o.onUserSelected(r))}),w(),$(2,"ss-info-tooltip",19),kt(3,"translate"),w()}if(t&2){let n=M();y(),P("roomName",n.currentRoomName)("showSpecialCharactersCheckbox",!0),y(),P("text",Ai(3,3,"infoMessages.reportPerson"))}}function OQe(t,e){if(t&1){let n=fe();C(0,"ss-select",20),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.model.reportReason,r)||(o.model.reportReason=r),X(r)}),w(),C(1,"ss-textarea",21),Je("ngModelChange",function(r){Y(n);let o=M();return tt(o.model.reportText,r)||(o.model.reportText=r),X(r)}),w()}if(t&2){let n=M();Ze("ngModel",n.model.reportReason),P("options",n.reasons)("required",!0),y(),Ze("ngModel",n.model.reportText),P("required",!0)("rows",4)("maxlength",250)}}function RQe(t,e){if(t&1&&(C(0,"div",23),F(1),kt(2,"translate"),w()),t&2){let n=e.$implicit;y(),Ne(Ai(2,1,n))}}function BQe(t,e){if(t&1&&Bt(0,RQe,3,3,"div",23,Mn),t&2){let n=M().$implicit;Ft(n.params.errors)}}function FQe(t,e){if(t&1&&$(0,"div",22),t&2){let n=M().$implicit;P("translate","errors."+n.errorCode)("translateParams",n.params)}}function NQe(t,e){if(t&1&&H(0,BQe,2,0)(1,FQe,1,2,"div",22),t&2){let n=e.$implicit;Q(n.errorCode==="RequestInvalid"?0:1)}}function LQe(t,e){if(t&1&&(C(0,"div",11),Bt(1,NQe,2,1,null,null,IQe),w()),t&2){let n=M();y(),Ft(n.errorMessages)}}function UQe(t,e){if(t&1){let n=fe();C(0,"div"),F(1,"Evidence"),w(),C(2,"ss-drag-and-drop-upload",24),G("filesChanged",function(r){Y(n);let o=M();return X(o.onFilesChanged(r))}),w()}if(t&2){let n=M();y(2),P("screenshot",n.screenshot)}}function VQe(t,e){if(t&1){let n=fe();C(0,"ss-button",14),G("buttonClick",function(){Y(n);let r=M();return X(r.sendReport(!0))}),F(1," Report & Block "),w()}if(t&2){let n=M(),i=It(8);P("disabled",!n.isFormValid(i))("isLoading",n.sendingReportAndBlocking||n.sendingReport)}}var Jw=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,d,u,p,g){this.data=i,this.dialogRef=r,this.dialog=o,this.userReportService=s,this.toastService=a,this.channelService=l,this.focusRoomService=c,this.blockService=d,this.utilityService=u,this.analyticsService=p,this.translateService=g,this.model={},this.sources=[{value:ln.FocusRoom,label:"Focus Room"},{value:ln.Channel,label:"Channel"},{value:ln.DirectMessage,label:"DM"},{value:ln.GroupChat,label:"Group chat"},{value:ln.UserProfile,label:"On the user's profile"},{value:ln.Newsfeed,label:"Newsfeed"},{value:ln.FocusBuddies,label:"FocusBuddies page"},{value:ln.Groups,label:"Groups page"}],this.reasons=[{value:Qm.Profanity,label:"Profanity"},{value:Qm.BullyingOrHarassment,label:"Bullying or harassment"},{value:Qm.ExplicitContent,label:"Explicit content"},{value:Qm.NudityOrPornography,label:"Nudity or pornography"},{value:Qm.Other,label:"Other"}],this.roomDropdownOptions=[],this.channels=[],this.sendingReport=!1,this.sendingReportAndBlocking=!1,this.usersLoading=!1,this.hideNameInput=!1,this.disableSourceSelect=!1,this.disableRoomSelect=!1,this.disableChannelSelect=!1,this.errorMessages=[],this.ReportSourceRef=ln,this.confirmationMessageKey="confirmMessages.CanCloseModal",this.channelsPulled=!1;for(let v in i)if(Object.prototype.hasOwnProperty.call(i,v)){let b=i[v];this[v]=b}this.setTranslation(),this.translateService.onLangChange.subscribe(()=>this.setTranslation())}ngOnInit(){this.model.reportedRoomName=this.roomName,this.model.reportedUserId=this.reportedUser?.id||null,this.model.reportedUserDisplayName=this.reportedUser?.displayName||null,this.model.attachments=[],this.model.reportSource=this.data.reportSource,this.elementToScreenShotSelector=this.data.elementToScreenshotSelector,this.myFocusRoomsModel?this.mapFocusRooms():this.focusRoomService.getAllActive().subscribe(i=>{this.myFocusRoomsModel={rooms:i},this.mapFocusRooms()}),this.dialogRef.backdropClick().subscribe(()=>this.closeModal()),this.dialogRef.keydownEvents().subscribe(i=>{i.key==="Escape"&&this.closeModal()}),this.shouldTakeScreenshot()}onUserSelected(i){this.errorMessages=[],i?(this.model.reportedUserId=i.id,this.model.reportedUserDisplayName=i.displayName,this.model.reportedRoomName=i.roomName):(this.model.reportedUserId=null,this.model.reportedUserDisplayName=null)}onAutocompleteUserSelected(i){i?(this.model.reportedUserId=i.id,this.model.reportedUserDisplayName=i.displayName):(this.model.reportedUserId=null,this.model.reportedUserDisplayName=null)}onFocusRoomChange(){this.errorMessages=[];let i=this.roomDropdownOptions.find(r=>r.value===this.currentRoomName);i&&(this.model.reportedRoomName=i?.roomName)}onReportSourceChanged(){this.reportedUser||(this.model.reportedUserId=null,this.model.reportedUserDisplayName=null),!this.channelsPulled&&this.model.reportSource==="Channel"&&this.channels&&this.channelService.getMyChannels().subscribe(i=>{let r=[];i.forEach(o=>r.push(...o.channels)),this.channels=r}),this.model.reportSource!=="Channel"&&(this.model.channelId=null),this.model.reportSource!=="FocusRoom"&&(this.model.reportedRoomName=null,this.currentRoomName=null)}getDropdownTitle(){return this.roomDropdownOptions.find(i=>i.value===this.currentRoomName)?.label}onFilesChanged(i){this.errorMessages=[],this.model.attachments=[],this.model.attachments=Array.from(i)}isFormValid(i){return i.invalid?!1:this.model.reportedUserId&&this.model.reportedUserDisplayName&&this.model.reportSource&&this.model.reportText&&this.model.reportSource===ln.Channel?this.model.channelId:!0}sendReport(i){if(this.errorMessages=[],this.model.attachments.length>10){this.toastService.error({message:"Maximum number of attachments is 10"});return}if(this.evidenceSubmitted()){this.completeSendingReport(i);return}this.dialog.open(Lu,{panelClass:"fullscreen-dialog",width:"440px",data:{modalTitle:"Evidence missing",description:"SubmitReportWithoutEvidence",confirmButtonLabel:"Add evidence",hideCancelButton:!0,additionalButtonLabel:"Submit anyway",additionalButtonCallback:()=>this.completeSendingReport(i)}})}closeModal(){this.currentRoomName||this.model.reportReason!==void 0&&this.model.reportReason.length>0||this.model.reportText!==void 0&&this.model.reportText.length>0?confirm(this.confirmationMessage)&&this.closeReportModal():this.closeReportModal()}shouldShowUserAutocomplete(){return!this.reportedUser&&(this.model.reportSource===ln.DirectMessage||this.model.reportSource===ln.GroupChat||this.model.reportSource===ln.FocusBuddies||this.model.reportSource===ln.UserProfile||this.model.reportSource===ln.Channel&&this.model.channelId||this.model.reportSource===ln.Newsfeed||this.model.reportSource===ln.Groups)}shouldTakeScreenshot(){if(!this.elementToScreenShotSelector||Kj())return;let i=document.querySelector(this.elementToScreenShotSelector);i&&(0,Sue.default)(i).then(r=>{let o=r.toDataURL("image/jpeg"),s=this.utilityService.dataURItoBlob(o);this.screenshot={url:o,file:new File([s],"screenshot.jpg",{type:"image/jpeg"})}})}mapFocusRooms(){for(let r of this.myFocusRoomsModel.rooms)this.roomDropdownOptions.push({label:r.roomDisplayName,value:r.roomName,isMeeting:!0,roomName:r.roomName||r.roomDisplayName,disabled:!1});let i=this.myFocusRoomsModel.rooms.find(r=>this.myFocusRoomsModel.myCurrentRoomName&&r.roomName===this.myFocusRoomsModel.myCurrentRoomName);this.currentRoomName=i?.roomName??null,this.onFocusRoomChange(),this.reportedUser!==null&&this.reportedUser!==void 0&&this.hideOrDisableFields()}hideOrDisableFields(){if(this.reportedUser.displayName!==null&&(this.hideNameInput=!0),this.reportSource&&(this.disableSourceSelect=!0),this.roomName&&this.currentRoomName===null){let i=this.roomDropdownOptions.find(r=>r.roomName===this.roomName);i&&(this.currentRoomName=i.value,this.model.reportedRoomName=i.roomName,this.model.reportedUserId=this.reportedUser.id),this.disableRoomSelect=!0}this.channelId&&(this.model.channelId=this.channelId,this.disableChannelSelect=!0)}evidenceSubmitted(){return!!this.model.attachments?.length}setTranslation(){this.translateService.get(this.confirmationMessageKey).subscribe(i=>{this.confirmationMessage=i})}closeReportModal(){this.analyticsService.fireEvent(U1.Click,L1.Button,"report modal close"),this.dialogRef.close()}completeSendingReport(i){i?this.sendingReportAndBlocking=!0:this.sendingReport=!0,this.analyticsService.fireEvent(U1.Submit,L1.Form,"report modal"),this.userReportService.create(this.model).subscribe({next:()=>{if(!i)this.sendingReport=!1,this.toastService.info({title:"Your report has been received",message:"We will review the report shortly."}),this.dialogRef.close(this.model);else{if(!this.model.reportedUserId)return;this.blockService.blockUser(this.model.reportedUserId).subscribe({next:()=>{this.sendingReportAndBlocking=!1,this.toastService.info({title:"Your report has been received",message:"You've successfully blocked this user. We will review the report shortly."}),this.dialogRef.close(this.model)},error:r=>this.handleErrors(r,!0)})}},error:r=>this.handleErrors(r)})}handleErrors(i,r=!1){this.sendingReport=!1,this.sendingReportAndBlocking=!1,this.usersLoading=!1,r?i[0].errorCode==="UnableToBlockAdminOrModerator"?(this.toastService.info({title:"Your report has been received",message:"But please note that you cannot block moderators."}),this.dialogRef.close(this.model)):this.toastService.error({exceptionDetail:i[0]}):this.errorMessages=i}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt),L(ai),L(yP),L(Xi),L(g_),L(jf),L(CP),L(Ht),L(Kr),L(qa))},e.\u0275cmp=re({type:e,selectors:[["ss-report-modal"]],standalone:!1,decls:24,vars:17,consts:[["reportForm","ngForm"],[1,"mat-header"],["mat-dialog-title",""],[1,"close-modal",3,"click"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[1,"wrapper-form"],["id","source","name","source","placeholder","Where did the incident occur?","labelProperty","label","valueProperty","value",1,"focus-rooms",3,"ngModelChange","ngModel","options","required","disabled"],["id","channelId","name","channelId","placeholder","What Channel?","labelProperty","name","valueProperty","id",1,"focus-rooms",3,"ngModel","options","required","disabled"],[3,"channelId","reportSource"],["id","type","name","type","placeholder","Select Focus Room","disabledProperty","disabled","labelProperty","label","valueProperty","value",1,"focus-rooms",3,"ngModel","title","options","disabled","required"],[1,"autocomplete-item"],[1,"messages-wrapper"],["color","tertiary",3,"buttonClick"],[3,"disabled","isLoading"],[3,"buttonClick","disabled","isLoading"],["id","channelId","name","channelId","placeholder","What Channel?","labelProperty","name","valueProperty","id",1,"focus-rooms",3,"ngModelChange","ngModel","options","required","disabled"],[3,"searchTermChanged","selectionChange","channelId","reportSource"],["id","type","name","type","placeholder","Select Focus Room","disabledProperty","disabled","labelProperty","label","valueProperty","value",1,"focus-rooms",3,"ngModelChange","ngModel","title","options","disabled","required"],["placeholder","Search user to report...",3,"searchTermChanged","selectionChange","roomName","showSpecialCharactersCheckbox"],[3,"text"],["id","reportReason","name","reportReason","placeholder","Select reason","labelProperty","label","valueProperty","value",3,"ngModelChange","ngModel","options","required"],["id","comments","name","comments","placeholder","Describe why you are sending this report.","validationPropertyName","Report comment",3,"ngModelChange","ngModel","required","rows","maxlength"],[1,"message",3,"translate","translateParams"],[1,"message"],[3,"filesChanged","screenshot"]],template:function(r,o){if(r&1){let s=fe();C(0,"div",1)(1,"h2",2),F(2,"Report "),C(3,"span"),F(4),w()(),C(5,"button",3),G("click",function(){return Y(s),X(o.closeModal())}),$(6,"ss-icon",4),w()(),C(7,"form",5,0)(9,"mat-dialog-content")(10,"ss-select",6),Je("ngModelChange",function(l){return Y(s),tt(o.model.reportSource,l)||(o.model.reportSource=l),X(l)}),G("ngModelChange",function(){return Y(s),X(o.onReportSourceChanged())}),w(),H(11,kQe,1,4,"ss-select",7),H(12,MQe,1,2,"ss-search-user-autocomplete",8),H(13,DQe,1,5,"ss-select",9),H(14,PQe,4,5,"div",10),H(15,OQe,2,7),H(16,LQe,3,0,"div",11),H(17,UQe,3,1),w(),C(18,"mat-dialog-actions")(19,"ss-button",12),G("buttonClick",function(){return Y(s),X(o.closeModal())}),F(20,"Close"),w(),H(21,VQe,2,2,"ss-button",13),C(22,"ss-button",14),G("buttonClick",function(){return Y(s),X(o.sendReport(!1))}),F(23," Report "),w()()()}if(r&2){let s=It(8);y(4),Ne(o.reportedUser?o.reportedUser.displayName:"User"),y(2),P("size",20)("iconVariant",20),y(4),Ze("ngModel",o.model.reportSource),P("options",o.sources)("required",!0)("disabled",o.disableSourceSelect),y(),Q(o.model.reportSource===o.ReportSourceRef.Channel?11:-1),y(),Q(o.shouldShowUserAutocomplete()?12:-1),y(),Q(o.model.reportSource===o.ReportSourceRef.FocusRoom?13:-1),y(),Q(o.model.reportSource===o.ReportSourceRef.FocusRoom&&!o.hideNameInput?14:-1),y(),Q(o.model.reportSource?15:-1),y(),Q(o.errorMessages.length?16:-1),y(),Q(o.model.reportSource?17:-1),y(4),Q(o.model.reportedUserId?21:-1),y(),P("disabled",!o.isFormValid(s))("isLoading",o.sendingReportAndBlocking||o.sendingReport)}},dependencies:[pI,Oi,uI,Rs,$p,cr,gu,fu,mu,pu,QK,$l,bn,Ww,Uc,I5,k5,b5,_u,Vl],styles:["[_nghost-%COMP%]{position:relative}.close-icon[_ngcontent-%COMP%]{position:absolute;top:-16px;right:-27px}h2[_ngcontent-%COMP%]{margin-bottom:20px}.autocomplete-item[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;margin-bottom:15px}.autocomplete-item[_ngcontent-%COMP%]   ss-report-autocomplete[_ngcontent-%COMP%]{width:calc(100% - 30px);margin:0}.autocomplete-item[_ngcontent-%COMP%]   ss-info-tooltip[_ngcontent-%COMP%]{margin-top:12px}.autocomplete-item[_ngcontent-%COMP%]   .info-msg[_ngcontent-%COMP%]{position:absolute;bottom:-18px;left:0;font-size:11px;color:var(--negative)}ss-drag-and-drop-upload[_ngcontent-%COMP%]{margin-top:10px}mat-checkbox[_ngcontent-%COMP%]{margin-bottom:20px}.messages-wrapper[_ngcontent-%COMP%]{margin-bottom:15px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.button-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:13px}"]});let t=e;return t})();function HQe(t,e){if(t&1&&(C(0,"p"),F(1,"You are about to unblock "),C(2,"strong"),F(3),w(),F(4,"."),w()),t&2){let n=M();y(3),Ne(n.profileUser.firstName)}}function QQe(t,e){if(t&1){let n=fe();C(0,"p"),F(1,"Blocking "),C(2,"strong"),F(3),w(),F(4," will prohibit any interaction between you and them (it goes both ways)."),w(),C(5,"p"),F(6,"If you think "),C(7,"strong"),F(8),w(),F(9," has broken any of our terms of service, please use the "),C(10,"span",6),G("click",function(){Y(n);let r=M();return X(r.openReportModal())}),F(11,"Report"),w(),F(12," function."),w()}if(t&2){let n=M();y(3),Ne(n.profileUser.firstName),y(5),Ne(n.profileUser.firstName)}}var Tue=(()=>{let e=class e{constructor(i,r,o,s,a,l){this.data=i,this.dialogRef=r,this.blockService=o,this.loaderService=s,this.toastService=a,this.dialog=l,this.blockLoading=!1,this.profileUser=i.user}openReportModal(){this.dialogRef.close(!1),this.dialog.open(Jw,{panelClass:"fullscreen-dialog",width:"480px",disableClose:!0,data:{reportedUser:this.profileUser,roomName:null,elementToScreenshotSelector:"ss-dashboard"}})}blockUser(){this.blockLoading||(this.blockLoading=!0,this.blockService.blockUser(this.profileUser.id).subscribe({next:()=>{this.profileUser.blocked=!0,this.profileUser.following=!1,this.profileUser.followsMe=!1,this.dialogRef.close(!0),this.toastService.info({message:`You have blocked ${this.profileUser.firstName}.`}),this.blockLoading=!1},error:i=>this.handleErrors(i)}))}unblockUser(){this.blockLoading||(this.blockLoading=!0,this.blockService.unblockUser(this.profileUser.id).subscribe({next:()=>{this.profileUser.blocked=!1,this.dialogRef.close(!1),this.toastService.info({message:`You have unblocked ${this.profileUser.firstName}.`}),this.blockLoading=!1},error:i=>this.handleErrors(i)}))}handleErrors(i){this.blockLoading=!1,this.loaderService.stop(),i[0].errorCode==="UnableToBlockAdminOrModerator"?(this.toastService.info({title:"Unable to block this user",message:"Please note that you cannot block moderators or admins."}),this.dialogRef.close(!1)):this.toastService.error({exceptionDetail:i[0]})}};e.\u0275fac=function(r){return new(r||e)(L(Qn),L(Nt),L(CP),L(gl),L(Xi),L(ai))},e.\u0275cmp=re({type:e,selectors:[["ss-block-modal"]],standalone:!1,decls:13,vars:6,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],["mat-dialog-close","","color","tertiary"],[3,"buttonClick","disabled"],[3,"click"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"Are you sure?"),w(),C(3,"button",2),$(4,"ss-icon",3),w()(),C(5,"mat-dialog-content"),H(6,HQe,5,1,"p"),H(7,QQe,13,2),w(),C(8,"mat-dialog-actions")(9,"ss-button",4),F(10,"Cancel"),w(),C(11,"ss-button",5),G("buttonClick",function(){return o.profileUser.blocked?o.unblockUser():o.blockUser()}),F(12),w()()),r&2&&(y(4),P("size",20)("iconVariant",20),y(2),Q(o.profileUser.blocked?6:-1),y(),Q(o.profileUser.blocked?-1:7),y(4),P("disabled",o.blockLoading),y(),ht(" ",o.profileUser.blocked?"Unblock":"Block"," "))},dependencies:[hu,fu,mu,pu,$l,bn],styles:["[_nghost-%COMP%]{position:relative}p[_ngcontent-%COMP%]{margin-bottom:20px}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:var(--accent-blurple);text-decoration:underline;cursor:pointer}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:none}p[_ngcontent-%COMP%]:last-of-type{margin:0}"]});let t=e;return t})();var Iue=(()=>{let e=class e{constructor(i){this.dialogRef=i,this.removeHistorical=!1}handleKeyboardEvent(i){i.key==="Escape"&&this.onCancel()}onConfirm(){this.dialogRef.close({unfollow:!0,removeHistorical:this.removeHistorical})}onCancel(){this.dialogRef.close()}static showUnfollowModalForFeedParticipants(i,r,o){return i.open(e,{panelClass:"fullscreen-dialog"}).afterClosed().pipe(se(a=>a||!1),nn(a=>a?o.unfollow(r,a.removeHistorical):Re(!1)))}};e.\u0275fac=function(r){return new(r||e)(L(Nt))},e.\u0275cmp=re({type:e,selectors:[["ss-unfollow-modal"]],hostBindings:function(r,o){r&1&&G("keydown",function(a){return o.handleKeyboardEvent(a)})},standalone:!1,decls:14,vars:3,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],[1,"content"],["name","isDeleted",3,"ngModelChange","ngModel"],["mat-dialog-close","","color","tertiary",1,"close-button"],[3,"buttonClick"]],template:function(r,o){r&1&&(C(0,"div",0)(1,"h2",1),F(2,"Unfollow User"),w(),C(3,"button",2),$(4,"ss-icon",3),w()(),C(5,"mat-dialog-content",4),F(6," Unfollowing this user means that their future posts won't show up on your newsfeed. Are you sure you want to unfollow? "),C(7,"mat-checkbox",5),Je("ngModelChange",function(a){return tt(o.removeHistorical,a)||(o.removeHistorical=a),a}),F(8,"Remove all historical posts made by this user from my newsfeed"),w()(),C(9,"mat-dialog-actions")(10,"ss-button",6),F(11," Cancel "),w(),C(12,"ss-button",7),G("buttonClick",function(){return o.onConfirm()}),F(13," Confirm "),w()()),r&2&&(y(4),P("size",20)("iconVariant",20),y(3),Ze("ngModel",o.removeHistorical))},dependencies:[Oi,cr,Kp,hu,fu,mu,pu,$l,bn],styles:["mat-dialog-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]{margin-right:12px}mat-dialog-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:last-of-type{margin-right:0}mat-radio-group[_ngcontent-%COMP%], .checkbox-wrapper[_ngcontent-%COMP%]{width:100%}mat-radio-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .checkbox-wrapper[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-bottom:8px}mat-radio-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:last-of-type, .checkbox-wrapper[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.action-buttons-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.action-buttons-wrapper[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%], .action-buttons-wrapper[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]{margin-right:12px}.action-buttons-wrapper[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:last-of-type, .action-buttons-wrapper[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]:last-of-type{margin-right:0}@media only screen and (max-width: 767px){[_nghost-%COMP%]   ss-button[_ngcontent-%COMP%]{min-width:100px}}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}@media only screen and (max-width: 767px){.close-button[_ngcontent-%COMP%]{display:none}}@media only screen and (max-width: 767px){.additional-button[_ngcontent-%COMP%]{min-width:194px!important}}"]});let t=e;return t})();var kue=(()=>{let e=class e{constructor(i){this.http=i,this.API_ENDPOINT=`${Ue.apiUrl}/followers`}searchFollowers(i,r,o){return this.http.post(`${this.API_ENDPOINT}/search`,{searchTerm:i,oldestDateCreated:r,take:o})}getFollowerInfo(i){return this.http.get(`${this.API_ENDPOINT}/my/${i}`)}getFollowedInfo(i){return this.http.get(`${this.API_ENDPOINT}/i-follow/${i}`)}searchUserFollows(i,r,o){return this.http.post(`${this.API_ENDPOINT}/i-follow/search`,{searchTerm:i,oldestDateCreated:r,take:o})}followUser(i,r=null){return this.http.post(`${this.API_ENDPOINT}/${i}`,{message:r})}bulkFollow(i){return this.http.post(`${this.API_ENDPOINT}/bulk-follow`,i)}readAll(){return this.http.put(`${this.API_ENDPOINT}/read/all`,null)}unfollow(i,r){return this.http.delete(`${this.API_ENDPOINT}/${i}?removeHistoricalFeedItems=${r}`)}canFollowWithMessage(i){return this.http.get(`${this.API_ENDPOINT}/user/${i}/can-follow-with-message`)}};e.\u0275fac=function(r){return new(r||e)(K(Mt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $Qe(t,e){t&1&&$(0,"div")}function zQe(t,e){if(t&1){let n=fe();C(0,"ss-user-avatar",10),G("fullscreenViewOpen",function(){Y(n);let r=M();return X(r.onFullscreenViewOpen())}),w()}if(t&2){let n=M();P("size",136)("avatarUrl",n.userInfo.avatarUrl)("avatarColor",n.userInfo.avatarColor)("avatarThumbUrl",n.userInfo.avatarThumbUrl)("lastOnline",n.userInfo.lastActive)("showOnlineStatus",!1)("userPopupAvatar",!0)("allowFullscreenView",!0)("userId",n.userInfo.id)("initials",n.userInfo.initials)}}function GQe(t,e){t&1&&$(0,"mat-spinner",12)}function WQe(t,e){t&1&&($(0,"ss-icon",13),F(1," Stats ")),t&2&&P("size",20)}function KQe(t,e){if(t&1){let n=fe();C(0,"div",11),G("click",function(){Y(n);let r=M();return X(r.getLastWeekUserFocusRoomStats())}),H(1,GQe,1,0,"mat-spinner",12)(2,WQe,2,1),w()}if(t&2){let n=M();y(),Q(n.loadingStats?1:2)}}function qQe(t,e){t&1&&$(0,"mat-spinner",7)}function YQe(t,e){t&1&&$(0,"ss-premium-tick")}function XQe(t,e){if(t&1){let n=fe();C(0,"span",28),G("click",function(){Y(n);let r=M(2);return X(r.goToProfile())}),F(1),w()}if(t&2){let n=M(2);le("premium",!n.settingsService.isB2BApp()&&n.userInfo.showPremiumTick),y(),xo(" ",n.userInfo.id?n.userInfo.fullName:n.userInfo.displayName,"",n.isCurrentUser()?" (me)":""," ")}}function ZQe(t,e){t&1&&(C(0,"span"),F(1,"User not active"),w())}function JQe(t,e){if(t&1&&(C(0,"div",17),F(1),w()),t&2){let n=M(2);y(),ht("(",n.getUserPronouns(),")")}}function eje(t,e){if(t&1&&$(0,"ss-badge",18),t&2){let n=M(2);P("badge",n.userInfo.userBadge)("size",20)}}function tje(t,e){if(t&1&&$(0,"ss-flag",19),t&2){let n=M(2);P("countryCode",n.userInfo.countryTwoLetterCode)}}function nje(t,e){if(t&1&&(C(0,"span",20),F(1),w()),t&2){let n=M(2);P("matTooltip",n.utilityService.getUserTypeLabel(n.userInfo.type)),y(),ht(" ",n.utilityService.getUserTypeEmoji(n.userInfo.type)," ")}}function ije(t,e){if(t&1&&($(0,"ss-icon",29),C(1,"small"),F(2),w()),t&2){let n=M(2);P("size",16),y(2),Ne(n.userInfo.selectedTask.text)}}function rje(t,e){if(t&1&&(C(0,"span")(1,"strong"),F(2),w()()),t&2){let n=M(3);y(2),ht("",n.userInfo.age," ")}}function oje(t,e){t&1&&(C(0,"span"),F(1,"| "),w())}function sje(t,e){if(t&1&&(C(0,"span"),F(1),C(2,"strong"),F(3),w()()),t&2){let n=M(3);y(),ht("",n.getAreaOfStudyLabel()," "),y(2),Ne(n.userInfo.areaOfStudyName)}}function aje(t,e){if(t&1&&(H(0,rje,3,1,"span"),H(1,oje,2,0,"span"),H(2,sje,4,2,"span")),t&2){let n=M(2);Q(n.userInfo.age?0:-1),y(),Q(n.userInfo.age&&n.userInfo.areaOfStudyName?1:-1),y(),Q(n.userInfo.areaOfStudyName?2:-1)}}function lje(t,e){t&1&&(C(0,"div",23),F(1,"This user is either not active or has not confirmed some of their information."),w())}function cje(t,e){if(t&1&&$(0,"ss-online-status",25),t&2){let n=M(2);P("userId",n.userInfo.id)("lastActive",n.userInfo.lastActive)("currentRoomId",n.userInfo.currentRoomId)("currentRoomName",n.userInfo.currentRoomName)}}function dje(t,e){if(t&1&&(C(0,"small",26),F(1),w()),t&2){let n=M(2);y(),Ne(n.followStatus)}}function uje(t,e){if(t&1){let n=fe();C(0,"ss-button-small",41),G("buttonClick",function(){Y(n);let r=M(5);return X(r.followUser())}),w()}if(t&2){let n=M(5);P("isLoading",n.followingUser)("iconSize",20)("iconOnly",!0)("color",n.ButtonColorRef.Secondary)}}function hje(t,e){if(t&1){let n=fe();C(0,"ss-button-small",42),G("buttonClick",function(){Y(n);let r=M(5);return X(r.startChatting())}),w()}if(t&2){let n=M(5);P("isLoading",n.startingChat)("iconSize",20)("color",n.ButtonColorRef.MiniIcon)}}function fje(t,e){if(t&1){let n=fe();C(0,"ss-button-small",43),G("buttonClick",function(){Y(n);let r=M(5);return X(r.goToProfile())}),w()}if(t&2){let n=M(5);P("iconSize",20)("color",n.ButtonColorRef.MiniIcon)}}function pje(t,e){if(t&1&&(H(0,uje,1,4,"ss-button-small",38),H(1,hje,1,3,"ss-button-small",39),H(2,fje,1,2,"ss-button-small",40)),t&2){let n=M(4);Q(!n.userInfo.following&&!n.userInfo.blocked&&!n.userInfo.blockedMe?0:-1),y(),Q(n.showMessageButton?1:-1),y(),Q(n.userLoaded&&!n.userNotFound&&!n.userInfo.blockedMe?2:-1)}}function mje(t,e){if(t&1){let n=fe();C(0,"ss-button-small",44),G("buttonClick",function(){Y(n);let r=M(4);return X(r.goToProfile())}),w()}if(t&2){let n=M(4);P("iconSize",20)("color",n.ButtonColorRef.MiniIcon)}}function Aje(t,e){if(t&1&&$(0,"ss-button-small",32,1),t&2){M();let n=It(5),i=M(3);P("iconSize",20)("color",i.ButtonColorRef.MiniIcon)("matMenuTriggerFor",n)}}function gje(t,e){if(t&1){let n=fe();C(0,"button",35),G("click",function(){Y(n);let r=M(4);return X(r.onUnfollowUser())}),$(1,"ss-icon",45),C(2,"span"),F(3),w()()}if(t&2){let n=M(4);y(),P("iconVariant",20)("size",24),y(2),ht("Unfollow ",n.userInfo.displayName)}}function vje(t,e){if(t&1){let n=fe();C(0,"button",35),G("click",function(){Y(n);let r=M(4);return X(r.onBlockClicked())}),$(1,"ss-icon",46),C(2,"span"),F(3),w(),$(4,"ss-info-tooltip",47),w()}if(t&2){let n=M(4);y(),P("size",24),y(2),ht("Block ",n.userInfo.displayName),y(),P("isSmall",!0)}}function _je(t,e){if(t&1){let n=fe();C(0,"button",35),G("click",function(){Y(n);let r=M(4);return X(r.onTimeoutOrBanClicked())}),$(1,"ss-icon",46),C(2,"span"),F(3,"Timeout / Ban"),w()()}t&2&&(y(),P("size",24))}function bje(t,e){if(t&1){let n=fe();C(0,"ss-followed-by-users",48),G("updateMiniBio",function(r){Y(n);let o=M(4);return X(o.updateMiniBio(r))}),w()}if(t&2){let n=M(4);P("userId",n.userInfo.id)("followerInfo",n.userInfo.followerInfo)}}function yje(t,e){if(t&1){let n=fe();C(0,"div",30),H(1,pje,3,3),H(2,mje,1,2,"ss-button-small",31),H(3,Aje,2,3,"ss-button-small",32),C(4,"mat-menu",33,0),H(6,gje,4,3,"button",34),C(7,"button",35),G("click",function(){Y(n);let r=M(3);return X(r.onReportClicked())}),$(8,"ss-icon",36),C(9,"span"),F(10),w()(),H(11,vje,5,3,"button",34),H(12,_je,4,1,"button",34),w()(),H(13,bje,1,2,"ss-followed-by-users",37)}if(t&2){let n=M(3);y(),Q(n.isCurrentUser()?-1:1),y(),Q(n.isCurrentUser()?2:-1),y(),Q(n.isCurrentUser()?-1:3),y(3),Q(n.userInfo.following?6:-1),y(2),P("size",24),y(2),ht("Report ",n.userInfo.displayName),y(),Q(!n.userInfo.blocked&&!n.userInfo.blockedMe&&n.userInfo.id?11:-1),y(),Q(!n.isCurrentUser()&&n.isModeratorOrAdmin()?12:-1),y(),Q(n.showFollowers?13:-1)}}function Cje(t,e){if(t&1&&(C(0,"div",27),H(1,yje,14,9),w()),t&2){let n=M(2);y(),Q(n.userInfo.id?1:-1)}}function wje(t,e){if(t&1){let n=fe();C(0,"div",14)(1,"div",15),H(2,YQe,1,0,"ss-premium-tick"),C(3,"h4"),H(4,XQe,2,4,"span",16),H(5,ZQe,2,0,"span"),w(),H(6,JQe,2,1,"div",17),H(7,eje,1,2,"ss-badge",18),H(8,tje,1,1,"ss-flag",19),H(9,nje,2,2,"span",20),C(10,"ss-icon",21),G("click",function(){Y(n);let r=M();return X(r.closePopup.emit())}),w()(),C(11,"div",22),H(12,ije,3,2)(13,aje,3,3),w(),H(14,lje,2,0,"div",23),C(15,"div",24),H(16,cje,1,4,"ss-online-status",25),H(17,dje,2,1,"small",26),w(),H(18,Cje,2,1,"div",27),w()}if(t&2){let n=M();le("user-inactive",!n.userInfo.id),y(2),Q(!n.settingsService.isB2BApp()&&n.userInfo.showPremiumTick?2:-1),y(2),Q(n.userNotFound?-1:4),y(),Q(n.userNotFound?5:-1),y(),Q(n.userInfo.pronouns&&n.userInfo.pronouns!==n.UserPronounsRef.None?6:-1),y(),Q(n.userInfo.userBadge?7:-1),y(),Q(n.userInfo.countryName?8:-1),y(),Q(n.userInfo.type?9:-1),y(),P("size",20),y(),le("selected-task",n.userInfo.selectedTask),y(),Q(n.userInfo.selectedTask?12:13),y(2),Q(n.userNotFound?14:-1),y(2),Q(n.userInfo.lastActive&&!n.userInfo.blocked&&!n.userInfo.blockedMe?16:-1),y(),Q(n.followStatus?17:-1),y(),Q(n.userNotFound?-1:18)}}function Eje(t,e){t&1&&(C(0,"div",54),$(1,"div",56),F(2,"Your time spent studying "),w())}function xje(t,e){if(t&1){let n=fe();C(0,"div",9)(1,"div",49)(2,"div",50)(3,"ss-icon",51),G("click",function(){Y(n);let r=M();return X(r.stats=null)}),w(),C(4,"div",52),$(5,"span",53),kt(6,"timeDisplayHoursMinutes"),F(7," studying this week"),w(),H(8,Eje,3,0,"div",54),w(),$(9,"ss-line-chart",55),w()()}if(t&2){let n=M();y(3),P("size",18),y(2),P("innerHTML",oi(6,6,n.totalHoursThisWeek,!0),Eo),y(3),Q(n.currentUser.id!==n.userInfo.id?8:-1),y(),P("userPopupChart",!0)("pointStyles",n.pointStyles)("chartData",n.lineChartData)}}var qf=(()=>{let e=class e{get classTopLeft(){return this.cssClass==="margin-vertical"}get classTopRight(){return this.cssClass==="margin-horizontal"}get isFromNewsFeed(){return this.openedFromSource===Hi.NewsFeedItem||this.openedFromSource===Hi.NewsFeedComment}get showMessageButton(){return!this.settingsService.isB2BApp()&&this.currentUser.conversationsEnabled&&this.userInfo.canMessage&&!this.userInfo.blocked&&!this.userInfo.blockedMe||this.isModeratorOrAdmin()}get followStatus(){return this.userInfo?this.userInfo.following&&this.userInfo.followsMe?"Mutual follow":this.userInfo.following?"Following":this.userInfo.followsMe?"Follows you":null:null}constructor(i,r,o,s,a,l,c,d,u,p,g,v,b,x,T,k){this.settingsService=i,this.livekit=r,this.utilityService=o,this.accountService=s,this.dialog=a,this.toastService=l,this.accountModalsService=c,this.chatService=d,this.userService=u,this.signalRService=p,this.userFollowService=g,this.userReportService=v,this.onlineStatusService=b,this.router=x,this.redirectService=T,this.activatedRoute=k,this.openedFromSource=null,this.closePopup=new Ae,this.closeSimpleSearch=new Ae,this.focusRoomUnauthenticatedActionAttempt=new Ae,this.markActivity=new Ae,this.userInfo={},this.startingChat=!1,this.followingUser=!1,this.userNotFound=!1,this.userLoaded=!1,this.mainLoading=!1,this.loadingStats=!1,this.menuOpened=!1,this.conversationsModuleLoaded=!1,this.showFollowers=!0,this.status="",this.pronouns=[{value:Fs.None,label:"none/no selection"},{value:Fs.HeHim,label:"he/him"},{value:Fs.SheHer,label:"she/her"},{value:Fs.TheyThem,label:"they/them"},{value:Fs.XeXem,label:"xe/xem"}],this.UserPronounsRef=Fs,this.isFocusRoom=!1,this.isMobile=!1,this.ButtonColorRef=go,this.subscriptions=[],this.currentUser=this.accountService.currentUser}handleKeyboardEvent(){document.activeElement?.blur(),this.closePopup.emit()}ngOnInit(){this.mainLoading=!0,this.fetchUserInfo(),this.subscriptions.push(this.onlineStatusService.profilesInfoUpdated.subscribe(i=>{let r=i.find(o=>o.id===this.userId&&o.firstName);r&&(this.userInfo=r)}),this.utilityService.conversationsModuleLoaded.subscribe(i=>this.conversationsModuleLoaded=i),this.signalRService.userFollowed.subscribe(i=>this.onUserFollowed(i)),this.signalRService.userUnfollowed.subscribe(i=>this.onUserUnfollowed(i)),this.signalRService.userBlocked.subscribe(i=>this.onUserBlocked(i)),this.signalRService.userUnblocked.subscribe(i=>this.onUserUnblocked(i)),this.utilityService.isMobile.subscribe(i=>this.isMobile=i)),this.activatedRoute.params.subscribe(i=>{this.channelId=i.channelId}),this.router.events.subscribe(i=>{i instanceof _s&&(this.isFocusRoom=this.utilityService.isOnFocusRoomPage())}),this.isFocusRoom=this.utilityService.isOnFocusRoomPage()}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}isCurrentUser(){return this.userId===this.currentUser.id}isModeratorOrAdmin(){return this.accountService.isInRole(Wr.Administrator)||this.accountService.isInRole(Wr.Moderator)}goToProfile(){!this.isCurrentUser()&&!this.validateAuthenticationRequirements()||(this.isFromNewsFeed?this.markActivity.emit(mt.NewsFeedMiniBioGoToProfile):this.openedFromSource===Hi.SuggestedUsers&&this.markActivity.emit(mt.NewsFeedSuggestedUsersMiniBioGoToProfile),window.open(`${Ue.appUrl}/profile/${this.userId}`,"_blank"),this.closePopup.emit())}onBlockClicked(){this.validateAuthenticationRequirements()&&((this.isFromNewsFeed||this.openedFromSource===Hi.SuggestedUsers)&&this.markActivity.emit(mt.NewsFeedBlockModalViewed),this.dialog.open(Tue,{panelClass:"fullscreen-dialog",width:"414px",data:{user:this.userInfo}}),this.closePopup.emit())}onReportClicked(){this.validateAuthenticationRequirements()&&((this.isFromNewsFeed||this.openedFromSource===Hi.SuggestedUsers)&&this.markActivity.emit(mt.NewsFeedReportModalViewed),this.dialog.open(Jw,{panelClass:"fullscreen-dialog",width:"480px",disableClose:!0,data:{reportedUser:this.userInfo,roomName:this.openedFromSource===Hi.FocusRoom?this.livekit.room.roomName:null,reportSource:this.userReportService.getReportSource(this.openedFromSource),channelId:this.channelId,elementToScreenshotSelector:"ss-dashboard"}}),this.closePopup.emit())}onTimeoutOrBanClicked(){this.dialog.open(vue,{width:"420px",data:{userId:this.userId}}),this.closePopup.emit()}onFullscreenViewOpen(){this.closePopup.emit()}getAreaOfStudyLabel(){return this.userInfo.areaOfStudyName?this.userInfo.type===jl.Professional?"working in":"studying":this.userInfo.type===jl.PreUniStudent?"finishing school":""}startChatting(){let i={otherUserIds:[this.userId]};this.isFromNewsFeed?this.markActivity.emit(mt.NewsFeedMiniBioMessage):this.openedFromSource===Hi.SuggestedUsers&&this.markActivity.emit(mt.NewsFeedSuggestedUsersMiniBioMessage),this.chatService.checkIfChatExists(i.otherUserIds[0]).subscribe({next:()=>{this.createGroupOrContinueExistingChat(i)},error:r=>{r.length&&r[0].errorCode==="ChatDoesNotExist"?(this.closePopup.emit(),this.openedFromSource===Hi.SimpleSearch&&this.closeSimpleSearch.emit(),this.conversationsModuleLoaded||this.isMobile?this.router.navigate(["/conversations/chats/create"],{queryParams:{userId:i.otherUserIds[0]}}):this.utilityService.requestChatNavigation.next(i.otherUserIds[0])):this.handleErrors(r)}})}createGroupOrContinueExistingChat(i){this.startingChat=!0,this.chatService.startChat(i).subscribe({next:r=>this.onChatStarted(r.id),error:r=>{r.length&&r[0].errorCode==="ChatAlreadyExists"?this.onChatStarted(r[0].params.chatId):this.handleErrors(r)}})}onChatStarted(i){this.startingChat=!1,this.openedFromSource===Hi.SimpleSearch&&this.closeSimpleSearch.emit(),this.conversationsModuleLoaded||this.isMobile?this.router.navigate([`/conversations/chats/${i}`]):this.utilityService.openDmTrayChat.next(i),this.closePopup.emit()}followUser(){this.validateAuthenticationRequirements()&&(this.isFromNewsFeed&&this.markActivity.emit(mt.NewsFeedFeedLedToFollow),this.onFollowUser())}onUnfollowUser(){this.isFromNewsFeed&&this.markActivity.emit(mt.NewsFeedUnfollowModalViewed),Iue.showUnfollowModalForFeedParticipants(this.dialog,this.userId,this.userFollowService).subscribe({next:i=>{i!==!1&&(this.userInfo.following=!1,this.userService.getUserProfileShort(this.userId).subscribe({next:r=>this.userInfo=r,error:r=>this.handleErrors(r)}))},error:i=>this.handleErrors(i)})}openFeatureUnavailableModal(){this.utilityService.openFeatureUnavailableModal("Connections")}getUserPronouns(){return this.pronouns.find(r=>r.value===this.userInfo.pronouns)?.label}updateMiniBio(i){this.markActivity.emit(mt.NewsFeedMiniBioOpened),this.fetchUserInfo(i)}getLastWeekUserFocusRoomStats(){if(!(!this.accountModalsService.ensureUserCompletedBasicInfo()||this.loadingStats)){if(this.stats){this.stats=null;return}this.loadingStats=!0,this.userService.getLastWeekUserFocusRoomStats(this.userId).subscribe({next:i=>{this.stats=i,this.loadingStats=!1,this.totalHoursThisWeek=this.stats.dailySecondsLastWeek.map(r=>r.totalSeconds).reduce((r,o)=>r+o),this.rerenderChart()},error:i=>this.handleErrors(i)})}}rerenderChart(){this.stats&&(this.lineChartData={labels:this.stats.dailySecondsLastWeek.map(i=>ot.fromISO(i.day,{zone:"utc"}).toFormat("ccc")),datasets:[{data:this.stats.dailySecondsLastWeek.map(i=>i.totalSeconds/3600)},{data:this.stats.myDailySecondsLastWeek.map(i=>i.totalSeconds/3600)}],rawDataForTooltipUse:this.stats.dailySecondsLastWeek},this.setPointStyles(this.stats.dailySecondsLastWeek))}setPointStyles(i){let r=new Image(20,27);r.src="/assets/icons/streak-freeze.svg";let o=new Image(24,24);o.src="/assets/icons/streak-repair.svg";let s=new Image(48,48);s.src="/assets/icons/comet-light.svg",this.pointStyles=i.map(a=>a.streakStatus===bu.StreakFreezeUsed?r:a.streakStatus===bu.StreakRepaired?o:a.streakStatus===bu.StreakAchieved?s:"circle")}onFollowUser(){this.followingUser||(this.followingUser=!0,this.userFollowService.followUser(this.userId).subscribe({next:()=>{this.followingUser=!1,this.utilityService.onFollowUser.next(this.userId),this.fetchUserInfo(),this.userInfo.following=!0},error:i=>this.handleErrors(i)}))}fetchUserInfo(i=null){i===null&&(i=this.userId),this.mainLoading=!0;let r=this.onlineStatusService.getProfileInfo(i);r?(this.setUserInfo(r),this.userInfo.followerInfo?this.mainLoading=!1:this.fetchFollowerInfo()):this.accountService.isFullyVerifiedUser()?this.userService.getUserProfileShort(i).subscribe({next:o=>this.handleUserInfo(o),error:o=>this.handleErrors(o)}):this.userService.getUserProfileShortPublic(i).subscribe({next:o=>this.handleUserInfo(o),error:o=>this.handleErrors(o)})}handleUserInfo(i){this.setUserInfo(i),this.onlineStatusService.upsertGottenInfo(this.userInfo),this.fetchFollowerInfo()}fetchFollowerInfo(){if(!this.accountService.isFullyVerifiedUser()){this.showFollowers=!1,this.mainLoading=!1;return}this.userService.getFollowers(this.userId).subscribe({next:i=>{this.userInfo.followerInfo=i,this.onlineStatusService.upsertGottenFollowersInfo(this.userId,i),this.mainLoading=!1},error:i=>this.handleErrors(i)})}setUserInfo(i){this.userId=i.id,this.userInfo=i,this.userLoaded=!0,this.userNotFound=!1}onUserFollowed(i){this.currentUser.id===i.followerId&&this.userId===i.followedUserId?this.userInfo.following=!0:this.currentUser.id===i.followedUserId&&this.userId===i.followerId&&(this.userInfo.followsMe=!0)}onUserUnfollowed(i){this.currentUser.id===i.followerId&&this.userId===i.followedUserId?this.userInfo.following=!1:this.currentUser.id===i.followedUserId&&this.userId===i.followerId&&(this.userInfo.followsMe=!1)}onUserBlocked(i){this.currentUser.id===i.userBlockingId&&this.userId===i.blockedUserId?(this.userInfo.following=!1,this.userInfo.followsMe=!1,this.userInfo.blocked=!0):this.currentUser.id===i.blockedUserId&&this.userId===i.userBlockingId&&(this.userInfo.following=!1,this.userInfo.followsMe=!1,this.userInfo.blockedMe=!0)}onUserUnblocked(i){this.currentUser.id===i.userUnblockingId&&this.userId===i.unblockedUserId?this.userInfo.blocked=!1:this.currentUser.id===i.unblockedUserId&&this.userId===i.userUnblockingId&&(this.userInfo.blockedMe=!1)}validateAuthenticationRequirements(){return!this.accountService.isFullyVerifiedUser()&&this.isFocusRoom?(this.focusRoomUnauthenticatedActionAttempt.next(),!1):this.accountModalsService.ensureUserCompletedBasicInfo()}handleErrors(i){if(this.startingChat=!1,this.followingUser=!1,this.loadingStats=!1,i[0].errorCode==="UserProfileShortModelNotFound"){this.mainLoading=!1,this.userLoaded=!0,this.userNotFound=!0;return}if(i[0].errorCode==="ErrorChattingAgeRestriction"){this.toastService.info({exceptionDetail:i[0]});return}this.toastService.error({exceptionDetail:i[0]})}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(wr),L(Ht),L(Qt),L(ai),L(Xi),L(Id),L(wP),L(Dd),L(Kf),L(kue),L(yP),L(m_),L(tn),L(Td),L(vr))},e.\u0275cmp=re({type:e,selectors:[["ss-user-popup"]],hostVars:4,hostBindings:function(r,o){r&1&&G("keydown.escape",function(){return o.handleKeyboardEvent()},mF),r&2&&le("margin-vertical",o.classTopLeft)("margin-horizontal",o.classTopRight)},inputs:{userId:"userId",cssClass:"cssClass",openedFromSource:"openedFromSource"},outputs:{closePopup:"closePopup",closeSimpleSearch:"closeSimpleSearch",focusRoomUnauthenticatedActionAttempt:"focusRoomUnauthenticatedActionAttempt",markActivity:"markActivity"},standalone:!1,decls:8,vars:9,consts:[["userMenu","matMenu"],["trigger","matMenuTrigger"],[1,"main-wrapper"],[1,"avatar-wrapper"],[4,"ssSkeletonLoader","ssSkeletonLoaderHeight","ssSkeletonLoaderWidth","ssSkeletonLoaderClassName"],["status","online",3,"size","avatarUrl","avatarColor","avatarThumbUrl","lastOnline","showOnlineStatus","userPopupAvatar","allowFullscreenView","userId","initials"],[1,"stats-button"],["diameter","24","strokeWidth","2",1,"main-loader"],[1,"user-information",3,"user-inactive"],[1,"chart-wrapper"],["status","online",3,"fullscreenViewOpen","size","avatarUrl","avatarColor","avatarThumbUrl","lastOnline","showOnlineStatus","userPopupAvatar","allowFullscreenView","userId","initials"],[1,"stats-button",3,"click"],["diameter","20","strokeWidth","2"],["iconName","data_histogram","color","accent-blue",3,"size"],[1,"user-information"],[1,"top-line"],[1,"user-name",3,"premium"],[1,"pronouns"],[3,"badge","size"],["size","small",3,"countryCode"],[1,"user-type-emoji",3,"matTooltip"],["iconName","dismiss","color","default-60",3,"click","size"],[1,"bottom-line"],[1,"status-wrapper"],[1,"status-and-following"],[3,"userId","lastActive","currentRoomId","currentRoomName"],[1,"following-label"],[1,"actions"],[1,"user-name",3,"click"],["iconName","target","color","accent-blue",3,"size"],[1,"buttons"],["iconName","person","iconColor","accent-blue-20","matTooltip","Go to your profile",3,"iconSize","color"],["iconName","more_horizontal","iconColor","accent-blue-20","type","button","mat-button","",3,"iconSize","color","matMenuTriggerFor"],[1,"user-menu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["iconName","shield_error",3,"size"],["styleClass","user-popup",3,"userId","followerInfo"],["iconName","person_add","matTooltip","Follow","iconColor","accent-blue-20",3,"isLoading","iconSize","iconOnly","color"],["iconName","chat","iconColor","accent-blue-20","matTooltip","Message",3,"isLoading","iconSize","color"],["iconName","person","iconColor","accent-blue-20","matTooltip","Go to profile",3,"iconSize","color"],["iconName","person_add","matTooltip","Follow","iconColor","accent-blue-20",3,"buttonClick","isLoading","iconSize","iconOnly","color"],["iconName","chat","iconColor","accent-blue-20","matTooltip","Message",3,"buttonClick","isLoading","iconSize","color"],["iconName","person","iconColor","accent-blue-20","matTooltip","Go to profile",3,"buttonClick","iconSize","color"],["iconName","person","iconColor","accent-blue-20","matTooltip","Go to your profile",3,"buttonClick","iconSize","color"],["iconName","person_subtract",3,"iconVariant","size"],["iconName","dismiss_square",3,"size"],["matTooltip","This user will not be notified that you have blocked them. They won't be able to message or search for you. Note: Group chats or channels with this user will remain as normal.",3,"isSmall"],["styleClass","user-popup",3,"updateMiniBio","userId","followerInfo"],[1,"holder"],[1,"legend"],["role","button","iconName","arrow_left",3,"click","size"],[1,"header"],[3,"innerHTML"],[1,"interactable"],[3,"userPopupChart","pointStyles","chartData"],[1,"dot"]],template:function(r,o){r&1&&(C(0,"div",2)(1,"div",3),Vn(2,$Qe,1,0,"div",4),H(3,zQe,1,10,"ss-user-avatar",5),H(4,KQe,3,1,"div",6),w(),H(5,qQe,1,0,"mat-spinner",7),H(6,wje,19,17,"div",8),w(),H(7,xje,10,9,"div",9)),r&2&&(y(2),P("ssSkeletonLoader",o.mainLoading)("ssSkeletonLoaderHeight","136px")("ssSkeletonLoaderWidth","136px")("ssSkeletonLoaderClassName","avatar-loader"),y(),Q(!o.mainLoading&&o.userInfo.id?3:-1),y(),Q(!o.isMobile&&o.userInfo.id?4:-1),y(),Q(o.mainLoading?5:-1),y(),Q(o.mainLoading?-1:6),y(),Q(o.stats?7:-1))},styles:["[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column;border-radius:16px;box-shadow:var(--elevation-l2)}.main-wrapper[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;width:445px;border-radius:16px;background-color:var(--nav-bar);-webkit-user-select:text;user-select:text}@media only screen and (max-width: 1024px){.main-wrapper[_ngcontent-%COMP%]{width:457px}}@media only screen and (max-width: 767px){.main-wrapper[_ngcontent-%COMP%]{display:block;width:260px;border-radius:24px}}.main-wrapper.margin-vertical[_ngcontent-%COMP%]{margin:10px 0}.main-wrapper.margin-horizontal[_ngcontent-%COMP%]{margin:0 20px}.main-wrapper[_ngcontent-%COMP%]     .avatar-loader, .main-wrapper[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]  .user-avatar-wrapper{border-radius:16px 0 0 16px}@media only screen and (max-width: 1024px){.main-wrapper[_ngcontent-%COMP%]     .avatar-loader, .main-wrapper[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]  .user-avatar-wrapper{width:148px!important;height:148px!important}}@media only screen and (max-width: 767px){.main-wrapper[_ngcontent-%COMP%]     .avatar-loader, .main-wrapper[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]  .user-avatar-wrapper{width:260px!important;height:240px!important;border-radius:24px 24px 0 0}}.main-loader[_ngcontent-%COMP%]{margin:auto}.avatar-wrapper[_ngcontent-%COMP%]{position:relative}.chart-wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1;width:100%;height:100%;border-radius:16px;background-color:var(--nav-bar)}.chart-wrapper[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:6px 0 2px}.chart-wrapper[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{font-weight:600}.chart-wrapper[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--accent-blurple)}.chart-wrapper[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:8px;height:8px;margin-right:8px;border-radius:50%;background:var(--default-60)}.chart-wrapper[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .interactable[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--default-60)}.chart-wrapper[_ngcontent-%COMP%]   .holder[_ngcontent-%COMP%]{width:416px;height:120px;margin:0 auto}.stats-button[_ngcontent-%COMP%]{position:absolute;bottom:0;left:50%;display:flex;justify-content:center;align-items:center;min-width:72px;padding:4px 8px;border-radius:8px 8px 0 0;background-color:var(--accent-blue-90);cursor:pointer;transform:translate(-50%)}.stats-button[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{margin:0 4px 1px 0}.stats-button[_ngcontent-%COMP%]:hover{background-color:var(--accent-blue-80)}.user-information[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:calc(100% - 136px);padding:10px 11px}@media only screen and (max-width: 1024px){.user-information[_ngcontent-%COMP%]{width:calc(100% - 148px)}}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]{width:100%;padding:12px 20px 20px}}.user-information.user-inactive[_ngcontent-%COMP%]{width:100%;height:132px}@media only screen and (max-width: 1024px){.user-information.user-inactive[_ngcontent-%COMP%]{height:148px}}@media only screen and (max-width: 767px){.user-information.user-inactive[_ngcontent-%COMP%]{height:240px}}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]{display:flex;align-items:center}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   ss-badge[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;margin-right:4px}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   ss-flag[_ngcontent-%COMP%]{flex-shrink:0}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{overflow:hidden;margin-right:4px;text-overflow:ellipsis;white-space:nowrap}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{cursor:pointer}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .user-name.premium[_ngcontent-%COMP%]{color:var(--accent-blue)}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   .pronouns[_ngcontent-%COMP%]{margin-right:8px;color:var(--default-20)}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{margin-left:auto;cursor:pointer}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]    {font-size:25px!important}.user-information[_ngcontent-%COMP%]   .top-line[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]     i.default-60{color:var(--contrast);text-shadow:rgb(var(--black)) 0 0 2px}}.user-information[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{overflow:hidden;margin-bottom:8px;color:var(--default-20);text-overflow:ellipsis;white-space:nowrap}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .bottom-line[_ngcontent-%COMP%]{margin-bottom:12px}}.user-information[_ngcontent-%COMP%]   .bottom-line.selected-task[_ngcontent-%COMP%]{display:flex;align-items:center}.user-information[_ngcontent-%COMP%]   .bottom-line.selected-task[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{margin-right:4px}.user-information[_ngcontent-%COMP%]   .bottom-line.selected-task[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.user-information[_ngcontent-%COMP%]   .status-and-following[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .status-and-following[_ngcontent-%COMP%]{position:absolute;top:164px;left:16px;display:flex;flex-direction:column;justify-content:flex-end;align-items:flex-start;height:64px}}.user-information[_ngcontent-%COMP%]   .status-and-following[_ngcontent-%COMP%]   .following-label[_ngcontent-%COMP%]{color:var(--accent-blurple)}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .status-and-following[_ngcontent-%COMP%]   .following-label[_ngcontent-%COMP%]{padding:4px 8px;margin-top:8px;border-radius:9px;box-shadow:0 0 2px rgb(var(--black));color:var(--default);background-color:var(--grayscale-g1)}}.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:auto}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{flex-direction:column-reverse;align-items:flex-start}}.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]{margin-right:7px}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]     button.mini{height:32px;padding:6px}}.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]{margin-top:-14px;text-align:right}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]{margin:0 0 12px;text-align:left}}.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-bottom:2px;color:var(--default-20)}.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]   .followers-list[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]   .followers-list[_ngcontent-%COMP%]{justify-content:flex-end}}.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]   .followers-list[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-left:-8px;cursor:pointer}@media only screen and (max-width: 767px){.user-information[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .followers[_ngcontent-%COMP%]   .followers-list[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin:0 -8px 0 0}}ss-info-tooltip[_ngcontent-%COMP%]{margin-left:8px}ss-line-chart[_ngcontent-%COMP%]{height:100px}.dark-theme   [_nghost-%COMP%]{border:1px solid var(--alt-20)}.user-type-emoji[_ngcontent-%COMP%]{margin-right:8px;font-size:14px;vertical-align:middle;cursor:pointer}"]});let t=e;return t})();var Sje=(t,e)=>e.id;function Tje(t,e){t&1&&(C(0,"span"),F(1,"Followed by"),w())}function Ije(t,e){t&1&&(C(0,"span"),F(1,"No mutual followers"),w())}function kje(t,e){if(t&1&&(H(0,Tje,2,0,"span"),H(1,Ije,2,0,"span")),t&2){let n=M(2);Q(n.followerInfo.commonFollowersCount>0?0:-1),y(),Q(n.followerInfo.commonFollowersCount===0?1:-1)}}function Mje(t,e){t&1&&(C(0,"small"),F(1,"Followed by"),w())}function Dje(t,e){if(t&1&&(C(0,"div",4),F(1),w()),t&2){let n=M(2);y(),xo(" Followed by ",n.followerInfo.commonFollowersCount," user",n.followerInfo.commonFollowersCount>1?"s":""," you follow ")}}function Pje(t,e){if(t&1){let n=fe();C(0,"ss-user-avatar",11),G("click",function(){let r=Y(n).$implicit,o=M(2);return X(o.onAvatarClick(r))}),w()}if(t&2){let n=e.$implicit,i=M(2);P("avatarColor",n.avatarColor)("avatarThumbUrl",n.avatarThumbUrl)("initials",n.initials)("isRound",i.styleClass==="profile")("matTooltip",n.displayName)("size",24)}}function Oje(t,e){t&1&&$(0,"div",8)}function Rje(t,e){if(t&1&&(C(0,"span",9),F(1),w()),t&2){let n=M(2);y(),ht(" +",n.followerInfo.followersCount-n.commonFollowers.length," ")}}function Bje(t,e){if(t&1){let n=fe();C(0,"ss-user-popup",13),G("closePopup",function(){Y(n);let r=M(3);return X(r.closePopup())}),w()}if(t&2){let n=M(3);P("userId",n.userPopupId)}}function Fje(t,e){if(t&1&&H(0,Bje,1,1,"ss-user-popup",12),t&2){let n=M(2);Q(n.userPopupId?0:-1)}}function Nje(t,e){if(t&1){let n=fe();C(0,"div",3,0),H(2,kje,2,2),H(3,Mje,2,0,"small"),H(4,Dje,2,2,"div",4),C(5,"div",5)(6,"div",6),Bt(7,Pje,1,6,"ss-user-avatar",7,Sje),H(9,Oje,1,0,"div",8),w(),H(10,Rje,2,1,"span",9),w(),Vn(11,Fje,1,1,"ng-template",10),G("backdropClick",function(){Y(n);let r=M();return X(r.closePopup())}),w()}if(t&2){let n=It(1),i=M();xn(Ts("followers-container ",i.styleClass)),y(2),Q(i.styleClass==="message-header"?2:-1),y(),Q(i.styleClass==="user-popup"?3:-1),y(),Q(i.styleClass==="profile"?4:-1),y(3),Ft(i.commonFollowers),y(2),Q(i.styleClass==="message-header"?9:-1),y(),Q(i.hasAdditionalFollowers?10:-1),y(),P("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",i.popupOpened)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayDisableClose",!0)}}function Lje(t,e){if(t&1&&(C(0,"small",2),F(1),w()),t&2){let n=M();y(),ht(" Followers: ",n.followerInfo==null?null:n.followerInfo.followersCount," ")}}var Mue=(()=>{let e=class e{get shouldShowOnlyFollowersCount(){return this.styleClass==="user-popup"&&this.commonFollowers.length===0&&!!this.followerInfo&&this.followerInfo.followersCount>0}get hasAdditionalFollowers(){return this.styleClass==="user-popup"&&this.commonFollowers.length>0&&!!this.followerInfo&&this.followerInfo.followersCount-this.commonFollowers.length>0}constructor(i,r,o){this.userService=i,this.onlineStatusService=r,this.toastService=o,this.styleClass="profile",this.updateMiniBio=new Ae,this.commonFollowers=[],this.userPopupId=null,this.popupOpened=!1}ngOnInit(){if(this.followerInfo!==void 0){this.setCommonFollowers();return}this.fetchCommonFollowers()}ngOnChanges(i){i.followerInfo&&!i.followerInfo.firstChange&&this.fetchCommonFollowers()}onAvatarClick(i){this.styleClass==="user-popup"?this.updateMiniBio.emit(i.id):this.openPopup(i)}closePopup(){this.popupOpened=!1,this.userPopupId=null}openPopup(i){this.popupOpened=!0,this.userPopupId=i.id}fetchCommonFollowers(){let i=this.onlineStatusService.getProfileInfo(this.userId);if(i?.followerInfo){this.followerInfo=i.followerInfo,this.setCommonFollowers();return}this.userService.getFollowers(this.userId).subscribe({next:r=>{this.followerInfo=r,this.setCommonFollowers(),this.onlineStatusService.upsertGottenFollowersInfo(this.userId,r)},error:r=>this.handleErrors(r)})}setCommonFollowers(){if(!this.followerInfo?.commonFollowers){this.commonFollowers=[];return}if(this.styleClass==="user-popup"){let r=this.followerInfo.followersCount-this.commonFollowers.length>999?3:4;this.commonFollowers=this.followerInfo.commonFollowers.slice(0,r)}else this.commonFollowers=this.followerInfo.commonFollowers.slice(0,5)}handleErrors(i){this.toastService.error({exceptionDetail:i[0]})}};e.\u0275fac=function(r){return new(r||e)(L(Dd),L(m_),L(Xi))},e.\u0275cmp=re({type:e,selectors:[["ss-followed-by-users"]],inputs:{userId:"userId",followerInfo:"followerInfo",styleClass:"styleClass"},outputs:{updateMiniBio:"updateMiniBio"},standalone:!1,features:[gt],decls:2,vars:2,consts:[["trigger","cdkOverlayOrigin"],["cdkOverlayOrigin","",3,"class"],[1,"followers-only"],["cdkOverlayOrigin",""],[1,"info"],[1,"container"],[1,"followed-by-wrapper"],[3,"avatarColor","avatarThumbUrl","initials","isRound","matTooltip","size"],[1,"dot"],[1,"additional-followers"],["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","transparent",3,"backdropClick","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayDisableClose"],[3,"click","avatarColor","avatarThumbUrl","initials","isRound","matTooltip","size"],["cssClass","margin-horizontal",3,"userId"],["cssClass","margin-horizontal",3,"closePopup","userId"]],template:function(r,o){r&1&&(H(0,Nje,12,12,"div",1),H(1,Lje,2,1,"small",2)),r&2&&(Q(o.followerInfo&&(o.followerInfo.commonFollowersCount>0||o.styleClass==="message-header")?0:-1),y(),Q(o.shouldShowOnlyFollowersCount?1:-1))},dependencies:[Ka,Ps,ci,Ys,qf],styles:["[_nghost-%COMP%]{display:block}.info[_ngcontent-%COMP%]{position:relative;font-style:italic;color:var(--default-60)}.followers-container.profile[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-bottom:20px}.followers-container.profile[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{position:relative;z-index:1;margin-left:-8px;cursor:pointer}.followers-container.profile[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]:hover{z-index:2}.followers-container.profile[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]     .user-avatar-wrapper{border:2px solid var(--contrast)}.followers-container.profile[_ngcontent-%COMP%]   .followed-by-wrapper[_ngcontent-%COMP%]{flex-direction:row-reverse}.followers-container.profile[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin-right:15px}.followers-container.message-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.followers-container.message-header[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--default-20)}.followers-container.message-header[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-left:8px;cursor:pointer}.followers-container.message-header[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]     .user-avatar-wrapper{border:2px solid var(--contrast)}.followers-container.user-popup[_ngcontent-%COMP%]{margin-top:-14px;text-align:right}@media only screen and (max-width: 767px){.followers-container.user-popup[_ngcontent-%COMP%]{margin:0 0 12px}.followers-container.user-popup[_ngcontent-%COMP%]   .followed-by-wrapper[_ngcontent-%COMP%]{flex-direction:row-reverse;justify-content:flex-end}}.followers-container.user-popup[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-bottom:2px;color:var(--default-20)}.followers-container.user-popup[_ngcontent-%COMP%]   .followed-by-wrapper[_ngcontent-%COMP%]{flex-direction:row-reverse}.followers-container.user-popup[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{position:relative;z-index:1;margin-left:-8px;cursor:pointer}.followers-container.user-popup[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]:hover{z-index:2}.followers-container.user-popup[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]     .user-avatar-wrapper{border:2px solid var(--grayscale)}.dot[_ngcontent-%COMP%]{width:4px;height:4px;margin:0 16px;border-radius:50%;background:var(--grayscale-g4)}.container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.followed-by-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.additional-followers[_ngcontent-%COMP%]{color:var(--default-40)}.followers-only[_ngcontent-%COMP%]{position:relative;top:4px}"]});let t=e;return t})();var Uje=["inputModel"],Vje=["mainInput"],Due=t=>({propertyName:t});function Hje(t,e){if(t&1&&(C(0,"label"),F(1),w()),t&2){let n=M();y(),Ne(n.label)}}function Qje(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",8),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=M();y(),P("size",20),y(2),Ne(oi(4,2,"forms.validationErrors.required",Dl(5,Due,n.validationPropertyName||n.label)))}}function jje(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",8),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=M();y(),P("size",20),y(2),Ne(oi(4,2,"forms.validationErrors."+n.patternError,Dl(5,Due,n.validationPropertyName||n.label)))}}function $je(t,e){if(t&1&&(C(0,"mat-error"),$(1,"ss-icon",8),C(2,"small"),F(3),kt(4,"translate"),w()()),t&2){let n=e.$implicit;y(),P("size",20),y(2),Ne(oi(4,2,"errors."+n.errorCode,n.params))}}function zje(t,e){if(t&1&&$(0,"ss-icon",2),t&2){let n=M();P("iconName",n.prefixIconName)("size",n.isSmall?16:24)}}function Gje(t,e){if(t&1){let n=fe();C(0,"ss-icon",9),G("click",function(){Y(n);let r=M();return X(r.onSuffixIconClick())}),w()}if(t&2){let n=M();P("iconName",n.suffixIconName)("size",n.isSmall?16:24)}}function Wje(t,e){if(t&1&&$(0,"ss-icon",5),t&2){let n=M();P("size",24)("iconName",n.suffixIconName)}}function Kje(t,e){if(t&1){let n=fe();C(0,"ss-button",11),G("buttonClick",function(){let r=Y(n).$implicit;return X(r.value.onClick())}),$(1,"ss-icon",12),w()}if(t&2){let n=e.$implicit;P("iconOnly",!0)("isLoading",n.value.loading)("disabled",!!n.value.disabled&&n.value.disabled())("matTooltip",n.value.tooltipText?n.value.tooltipText():""),y(),le("disabled",n.value.disabled&&n.value.disabled()),P("size",24)("iconName",n.value.iconName)}}function qje(t,e){if(t&1&&(C(0,"div",6),Bt(1,Kje,2,8,"ss-button",10,Mn),kt(3,"keyvalue"),w()),t&2){let n=M();y(),Ft(Ai(3,0,n.actions))}}function Yje(t,e){if(t&1&&(C(0,"small",7),F(1),w()),t&2){let n=M();y(),Ne(n.additionalInfo)}}var Xje=(()=>{let e=class e{get required(){return this._required}set required(i){this._required=Qr(i)}get disabled(){return this._disabled}set disabled(i){this._disabled=Qr(i)}get readonly(){return this._readonly}set readonly(i){this._readonly=Qr(i)}get hasErrors(){return this.errors&&this.errors.length>0}constructor(i){this.elementRef=i,this.type="text",this.label=null,this.shouldFocus=!1,this.isSmall=!1,this.autocomplete="on",this.noMargin=!1,this.errors=[],this.focus=new Ae,this.blur=new Ae,this.enterHit=new Ae,this.onChange=r=>{},this.onTouched=()=>{}}ngOnInit(){this.type==="password"&&(this.suffixIconName="eye_off")}ngAfterViewInit(){this.shouldFocus&&setTimeout(()=>{this.elementRef.nativeElement?.querySelector("input")?.focus()})}ngOnChanges(i){i.errors&&!i.errors.firstChange&&(i.errors.currentValue.length?(this.inputModel?.control.setErrors({incorrect:!0}),this.inputModel?.control.markAsDirty()):(this.inputModel?.control.setErrors(null),this.inputModel?.control.updateValueAndValidity()))}onSuffixIconClick(){this.suffixIconName=this.suffixIconName==="eye"?"eye_off":"eye",this.type=this.suffixIconName==="eye"?"text":"password"}writeValue(i){this.value=i,this.updateChanges()}updateChanges(){this.onChange(this.value)}registerOnChange(i){this.onChange=i}registerOnTouched(i){this.onTouched=i}focusInput(){this.mainInput.nativeElement.focus()}};e.\u0275fac=function(r){return new(r||e)(L(Se))},e.\u0275cmp=re({type:e,selectors:[["ss-input"]],viewQuery:function(r,o){if(r&1&&(Fe(Uje,5),Fe(Vje,5)),r&2){let s;Ce(s=we())&&(o.inputModel=s.first),Ce(s=we())&&(o.mainInput=s.first)}},hostVars:4,hostBindings:function(r,o){r&2&&le("no-margin",o.noMargin)("has-errors",o.hasErrors)},inputs:{id:"id",type:"type",name:"name",validationPropertyName:"validationPropertyName",label:"label",prefixIconName:"prefixIconName",suffixIconName:"suffixIconName",additionalInfo:"additionalInfo",shouldFocus:"shouldFocus",isSmall:"isSmall",autocomplete:"autocomplete",actions:"actions",pattern:"pattern",patternError:"patternError",maxlength:"maxlength",noMargin:"noMargin",errors:"errors",value:"value",placeholder:"placeholder",required:"required",disabled:"disabled",readonly:"readonly"},outputs:{focus:"focus",blur:"blur",enterHit:"enterHit"},standalone:!1,features:[yt([{provide:uo,useExisting:kn(()=>e),multi:!0}]),gt],decls:15,vars:34,consts:[["mainInput","","inputModel","ngModel"],["floatLabel","always",3,"hideRequiredMarker"],["matPrefix","","color","default-60",3,"iconName","size"],["matInput","",1,"input-text",3,"ngModelChange","focus","blur","keyup.enter","id","name","type","placeholder","disabled","readonly","required","pattern","maxlength","ngModel","autocomplete"],["matSuffix","","color","default-60","role","button",3,"iconName","size"],["matSuffix","",3,"size","iconName"],[1,"input-actions"],[1,"additional-info"],["color","negative","iconName","error_circle",3,"size"],["matSuffix","","color","default-60","role","button",3,"click","iconName","size"],[3,"iconOnly","isLoading","disabled","matTooltip"],[3,"buttonClick","iconOnly","isLoading","disabled","matTooltip"],["role","button","color","accent-blue-40",3,"size","iconName"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",1),H(1,Hje,2,1,"label"),C(2,"div"),H(3,Qje,5,7,"mat-error"),H(4,jje,5,7,"mat-error"),Bt(5,$je,5,5,"mat-error",null,Mn),w(),H(7,zje,1,2,"ss-icon",2),C(8,"input",3,0),Je("ngModelChange",function(l){return Y(s),tt(o.value,l)||(o.value=l),X(l)}),G("focus",function(l){return Y(s),X(o.focus.emit(l))})("blur",function(l){return Y(s),X(o.blur.emit(l))})("keyup.enter",function(){return Y(s),X(o.enterHit.emit())})("ngModelChange",function(){return Y(s),X(o.updateChanges())}),w(),H(11,Gje,1,2,"ss-icon",4),H(12,Wje,1,2,"ss-icon",5),H(13,qje,4,2,"div",6),H(14,Yje,2,1,"small",7),w()}if(r&2){let s=It(10);le("no-label",!o.label)("field-readonly",!!o.readonly)("field-disabled",!!o.disabled)("small",o.isSmall),P("hideRequiredMarker",!0),y(),Q(o.label?1:-1),y(2),Q(s.invalid&&!s.pristine&&o.errors.length===0&&(s.errors!=null&&s.errors.required)?3:-1),y(),Q(s.invalid&&!s.pristine&&o.errors.length===0&&(s.errors!=null&&s.errors.pattern)?4:-1),y(),Ft(o.errors),y(2),Q(o.prefixIconName?7:-1),y(),le("has-prefix",!!o.prefixIconName)("has-suffix",!!o.suffixIconName)("small",o.isSmall),P("id",o.id)("name",o.name)("type",o.type)("placeholder",o.placeholder)("disabled",o.disabled)("readonly",o.readonly)("required",o.required)("pattern",o.pattern)("maxlength",o.maxlength),Ze("ngModel",o.value),P("autocomplete",o.autocomplete),y(3),Q(o.suffixIconName==="eye"||o.suffixIconName==="eye_off"?11:-1),y(),Q(o.suffixIconName&&o.suffixIconName!=="eye"&&o.suffixIconName!=="eye_off"?12:-1),y(),Q(o.actions?13:-1),y(),Q(o.additionalInfo?14:-1)}},dependencies:[Ya,Oi,Rs,$p,ON,cr,ho,Nc,zh,vu,Vc,ci,$l,bn,I2,Vl],styles:["[_nghost-%COMP%]{display:block;margin-bottom:16px}[_nghost-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:var(--default-20)}.no-margin[_nghost-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(.date-picker)   input[readonly][_ngcontent-%COMP%]{color:var(--default-40);border-color:var(--default-80);background-color:var(--grayscale-g1)}[_nghost-%COMP%]     .mdc-text-field{padding:0;background-color:transparent!important}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--focused input{border-color:var(--accent-blue)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid input{border-color:var(--negative)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid .mat-mdc-floating-label{color:var(--negative)!important}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper, [_nghost-%COMP%]     .mat-mdc-form-field-focus-overlay, [_nghost-%COMP%]     .mdc-line-ripple{display:none}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{min-height:0;padding-bottom:0}[_nghost-%COMP%]     .no-label .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:0}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:20px;font:17px Poppins,sans-serif;line-height:20px;color:var(--default-40);letter-spacing:normal}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:40px;box-sizing:border-box;padding:8px 16px;border:1px solid var(--default-20);border-radius:12px;outline:none;color:var(--default-20)!important}@media only screen and (max-width: 767px){[_nghost-%COMP%]   input[_ngcontent-%COMP%]{height:48px;padding:12px 16px}}[_nghost-%COMP%]   input[disabled][_ngcontent-%COMP%]{color:var(--default-40)!important;border-color:var(--default-80);background-color:var(--grayscale-g1)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]::placeholder{display:block;color:var(--default-60)!important}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{appearance:textfield}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none;margin:0}[_nghost-%COMP%]   input.small[_ngcontent-%COMP%]{height:28px;padding:6px 12px;border:none;border-radius:8px;font-size:13px;line-height:16px;background-color:var(--button-1)}@media only screen and (max-width: 767px){[_nghost-%COMP%]   input.small[_ngcontent-%COMP%]{height:32px}}[_nghost-%COMP%]   input.small.has-prefix[_ngcontent-%COMP%]{padding-left:36px}[_nghost-%COMP%]   input.small.has-suffix[_ngcontent-%COMP%]{padding-right:36px}[_nghost-%COMP%]   input.has-prefix[_ngcontent-%COMP%]{padding-left:48px}[_nghost-%COMP%]   input.has-suffix[_ngcontent-%COMP%]{padding-right:48px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus{box-shadow:0 0 0 1000px var(--grayscale) inset;-webkit-text-fill-color:var(--default-20)}[_nghost-%COMP%]   .additional-info[_ngcontent-%COMP%]{display:block;margin-top:5px;color:var(--default-40)}.has-errors[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{position:relative}.input-actions[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;display:flex;margin-right:10px;transform:translateY(-50%)}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]{width:24px;height:24px}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:first-child{margin-right:8px}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]  button{width:24px;height:24px;padding:0;border-radius:0;background:none}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]  button:disabled:hover:not(.social){background:none}.input-actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{display:block}.input-actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]:hover     i{color:var(--accent-blue)}.input-actions[_ngcontent-%COMP%]   ss-icon.disabled[_ngcontent-%COMP%]     i{color:var(--default-80);cursor:not-allowed}[_nghost-%COMP%]:hover  input{color:var(--default);border-color:var(--default)}[_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-40)}[_nghost-%COMP%]:hover  .mat-form-field-label{color:var(--default-20)!important}[_nghost-%COMP%]:hover  .additional-info{color:var(--default-20)}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty input{border-color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-readonly:not(.date-picker) .additional-info{color:var(--default-40)}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-disabled .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-disabled .additional-info{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-invalid .mat-form-field-label{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-infix{width:100%;padding-top:10px;padding-bottom:0;border-top-width:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper{top:-18px;padding-top:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font:13px Poppins,sans-serif;line-height:20px;color:var(--default-40)}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font-size:14px;line-height:24px}}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused input{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty input{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-40)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-form-field-label{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .additional-info{color:var(--default-20)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused input{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-infix{padding-top:0;border-top-width:0}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-label-wrapper{top:0;padding-top:0}[_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-80)}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{position:absolute;bottom:8px;z-index:1;font-size:22px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{bottom:12px}}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix .mat-mdc-icon-button.mat-mdc-button-base, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix .mat-mdc-icon-button.mat-mdc-button-base{width:24px;height:24px;padding:0}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix{left:16px!important}[_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{right:16px}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{bottom:6px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{bottom:8px}}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix{left:13px!important}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{right:13px}[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{top:100%;margin-top:1px}"]});let t=e;return t})();var Zje=["tooltip"],Jje=["*",[["","tooltip",""]]],e5e=["*","[tooltip]"];function t5e(t,e){if(t&1&&(C(0,"div",null,1),Vt(2,1),w()),t&2){let n=M();xn(Ts("tooltip-content ",n.size))}}var D5=(()=>{let e=class e{constructor(){this.size=Pue.Normal,this.disabled=!1,this.overlayOpenChange=new Ae,this.isOpen=!1}onMouseEnter(){this.isOpen=!0,setTimeout(()=>this.bindTooltipEvents())}onMouseLeave(){this.isOpen=!1,setTimeout(()=>this.bindTooltipEvents())}bindTooltipEvents(){let i=this.tooltip?.nativeElement;i&&(i.addEventListener("mouseenter",()=>this.isOpen=!0),i.addEventListener("mouseleave",()=>this.isOpen=!1))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-html-tooltip"]],viewQuery:function(r,o){if(r&1&&Fe(Zje,5),r&2){let s;Ce(s=we())&&(o.tooltip=s.first)}},inputs:{size:"size",disabled:"disabled"},outputs:{overlayOpenChange:"overlayOpenChange"},standalone:!1,ngContentSelectors:e5e,decls:4,vars:2,consts:[["trigger","cdkOverlayOrigin"],["tooltip",""],["cdkOverlayOrigin","",1,"tooltip-wrapper",3,"mouseenter","mouseleave"],["cdkConnectedOverlay","",3,"attach","detach","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen"]],template:function(r,o){if(r&1){let s=fe();Dn(Jje),C(0,"div",2,0),G("mouseenter",function(){return Y(s),X(o.onMouseEnter())})("mouseleave",function(){return Y(s),X(o.onMouseLeave())}),Vt(2),Vn(3,t5e,3,3,"ng-template",3),G("attach",function(){return Y(s),X(o.overlayOpenChange.emit(!0))})("detach",function(){return Y(s),X(o.overlayOpenChange.emit(!1))}),w()}if(r&2){let s=It(1);y(3),P("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",!o.disabled&&o.isOpen)}},dependencies:[Ka,Ps],styles:["[_nghost-%COMP%]{display:block}.tooltip-content[_ngcontent-%COMP%]{max-width:200px;width:max-content;padding:8px;border-radius:12px;box-shadow:var(--elevation-s2);font-size:13px;line-height:16px;color:var(--black);white-space:pre-line;background-color:var(--overlay)}.tooltip-content.long[_ngcontent-%COMP%]{max-width:240px}.tooltip-content.longer[_ngcontent-%COMP%]{max-width:300px}.tooltip-content[_ngcontent-%COMP%]     ss-button, .tooltip-content[_ngcontent-%COMP%]     ss-button-small{margin-top:12px}.tooltip-content[_ngcontent-%COMP%]     strong{font-size:13px;line-height:16px}.tooltip-content[_ngcontent-%COMP%]     div{margin-bottom:8px}.tooltip-content[_ngcontent-%COMP%]     div:last-of-type{margin-bottom:0}.tooltip-content[_ngcontent-%COMP%]     .pin-for-pin-tooltip-action{display:flex;align-items:center}"]});let t=e;return t})(),Pue=function(t){return t.Normal="normal",t.Long="long",t.Longer="longer",t}(Pue||{});var i5e=(()=>{let e=class e{set json(i){this.jsonLD=this.getSafeHTML(i)}constructor(i){this.sanitizer=i}getSafeHTML(i){let o=`<script type="application/ld+json">${i?JSON.stringify(i,null,2).replace(/<\/script>/g,"<\\/script>"):""}<\/script>`;return this.sanitizer.bypassSecurityTrustHtml(o)}};e.\u0275fac=function(r){return new(r||e)(L(su))},e.\u0275cmp=re({type:e,selectors:[["ss-json-ld"]],hostVars:1,hostBindings:function(r,o){r&2&&wi("innerHTML",o.jsonLD,Eo)},inputs:{json:"json"},standalone:!1,decls:0,vars:0,template:function(r,o){},encapsulation:2,changeDetection:0});let t=e;return t})();function r5e(t,e){if(t&1&&(C(0,"div",0)(1,"div",2),$(2,"div",3),w()()),t&2){let n=M();y(),Zn("width",n+"%")}}function o5e(t,e){t&1&&(C(0,"div",1),$(1,"div",4),w())}function s5e(t,e){if(t&1&&(H(0,r5e,3,2,"div",0),H(1,o5e,2,0,"div",1)),t&2){let n=M();Q(n.includeBar?0:-1),y(),Q(e&&n.includeSpinner?1:-1)}}var a5e=(()=>{let e=class e{constructor(i){this.loader=i,this.includeSpinner=!0,this.includeBar=!0,this.value=null,this.fixed=!0}};e.\u0275fac=function(r){return new(r||e)(L(gl))},e.\u0275cmp=re({type:e,selectors:[["ss-loading-bar"]],hostVars:2,hostBindings:function(r,o){r&2&&le("loading-bar-fixed",o.fixed)},inputs:{includeSpinner:"includeSpinner",includeBar:"includeBar",value:"value",fixed:"fixed"},standalone:!1,decls:2,vars:3,consts:[[1,"loading-bar"],[1,"loading-bar-spinner"],[1,"bar"],[1,"peg"],[1,"spinner-icon"]],template:function(r,o){if(r&1&&(H(0,s5e,2,2),kt(1,"async")),r&2){let s;Q((s=o.value!==null?o.value:Ai(1,1,o.loader.progressMade))?0:-1,s)}},dependencies:[e0],styles:["[_nghost-%COMP%]{position:relative;display:block}.loading-bar-fixed[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:fixed}.loading-bar-fixed[_nghost-%COMP%] > div.loading-bar-spinner[_ngcontent-%COMP%]{position:fixed;top:10px;right:10px}.loading-bar-fixed[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .peg[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{color:var(--default);pointer-events:none;transition:.35s linear all}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:10002;width:100%;height:5px;border-top-right-radius:1px;border-bottom-right-radius:1px;background:var(--default);transition:width .35s}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   .peg[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:none;width:70px;height:2px;border-radius:100%;box-shadow:1px 0 6px 1px;color:inherit;opacity:.45}[_nghost-%COMP%] > div.loading-bar-spinner[_ngcontent-%COMP%]{position:absolute;z-index:10002;display:block}[_nghost-%COMP%] > div.loading-bar-spinner[_ngcontent-%COMP%]   .spinner-icon[_ngcontent-%COMP%]{width:14px;height:14px;border:solid 2px transparent;border-top-color:inherit;border-left-color:inherit;border-radius:50%;animation:_ngcontent-%COMP%_loading-bar-spinner .4s linear infinite}@keyframes _ngcontent-%COMP%_loading-bar-spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]});let t=e;return t})();var l5e=["searchInput"],c5e=(t,e)=>e.id;function d5e(t,e){if(t&1&&(C(0,"mat-option",5),F(1),w()),t&2){let n=M();y(),Ne(n.emptyMessage)}}function u5e(t,e){if(t&1&&(C(0,"mat-option",6)(1,"div",10),$(2,"ss-user-avatar",11),C(3,"div",12)(4,"span"),F(5),w()()()()),t&2){let n=e.$implicit;P("value",n),y(2),P("size",24)("avatarColor",n.avatarColor)("avatarThumbUrl",n.avatarThumbUrl)("userId",n.id)("initials",n.initials),y(3),xo("",n.displayName," (",n.fullName,")")}}var h5e=(()=>{let e=class e{constructor(i){this.channelService=i,this.showSpecialCharactersCheckbox=!1,this.selectionChange=new Ae,this.searchTermChanged=new Ae,this.searchControl=new bg,this.emptyMessage=null,this.searchingUsers=!1,this.uuid=yd(),this.searchControlValueChangesSubscription=this.searchControl.valueChanges.pipe(so(300),La()).subscribe(r=>{if(this.searchTermChanged.emit(r),typeof r=="string"||r===null){this.emptyMessage=null,this.filter();return}this.setSelectedUser(r)})}ngOnDestroy(){this.searchControlValueChangesSubscription.unsubscribe(),this.searchSubscription?.unsubscribe()}getLabel(i){return i?`${i.displayName} (${i.fullName})`:""}clearSelection(){this.searchControl.enable(),this.searchControl.setValue(""),this.filteredUsers=[],this.searchingUsers=!1,this.searchSubscription?.unsubscribe(),this.setSelectedUser(null)}canClear(){return!this.searchingUsers&&(!!this.selectedUser||!!this.searchControl.value)}filter(){if(!this.searchControl.value){this.emptyMessage=null,this.filteredUsers=[];return}this.emptyMessage=null,this.searchingUsers=!0,this.searchSubscription=this.channelService.searchUsersToAdd(this.channelId,this.searchControl.value).subscribe(r=>this.onSearchSuccess(r))}onSearchSuccess(i){this.searchingUsers=!1,this.emptyMessage=i.length===0?"No results":null,this.filteredUsers=i,this.searchInput.nativeElement.focus()}setSelectedUser(i){this.selectedUser=i,this.selectionChange.emit(i)}};e.\u0275fac=function(r){return new(r||e)(L(g_))},e.\u0275cmp=re({type:e,selectors:[["ss-user-autocomplete"]],viewQuery:function(r,o){if(r&1&&Fe(l5e,5),r&2){let s;Ce(s=we())&&(o.searchInput=s.first)}},inputs:{channelId:"channelId",placeholder:"placeholder",showSpecialCharactersCheckbox:"showSpecialCharactersCheckbox"},outputs:{selectionChange:"selectionChange",searchTermChanged:"searchTermChanged"},standalone:!1,decls:11,vars:15,consts:[["searchInput",""],["auto","matAutocomplete"],["floatLabel","always",1,"no-label",3,"hideRequiredMarker"],["matInput","","name","searchTerm","autocomplete","off","matInput","",1,"input-text","no-label",3,"id","placeholder","matAutocomplete","formControl","readonly"],[3,"displayWith"],["disabled","",1,"empty-message"],[1,"report-option",3,"value"],[1,"actions"],["diameter","20","strokeWidth","2"],["matSuffix","","iconName","dismiss","role","button",3,"click","size"],[1,"option"],[3,"size","avatarColor","avatarThumbUrl","userId","initials"],[1,"name"]],template:function(r,o){if(r&1){let s=fe();C(0,"mat-form-field",2),$(1,"input",3,0),C(3,"mat-autocomplete",4,1),H(5,d5e,2,1,"mat-option",5),Bt(6,u5e,6,8,"mat-option",6,c5e),w(),C(8,"div",7),$(9,"mat-spinner",8),C(10,"ss-icon",9),G("click",function(){return Y(s),X(o.clearSelection())}),w()()()}if(r&2){let s=It(4);le("field-disabled",o.searchingUsers),P("hideRequiredMarker",!0),y(),P("id","search-term-"+o.uuid)("placeholder",o.placeholder)("matAutocomplete",s)("formControl",o.searchControl)("readonly",!!o.selectedUser),y(2),P("displayWith",o.getLabel),y(2),Q(o.emptyMessage?5:-1),y(),Ft(o.filteredUsers),y(2),le("loading",o.searchingUsers),y(2),le("visible",o.canClear()),P("size",20)}},dependencies:[Ya,Oi,jp,ho,vu,Vc,Io,qh,Eg,Gp,bn,Ys],styles:["[_nghost-%COMP%]{display:block;margin-bottom:16px}[_nghost-%COMP%]:focus-within   label[_ngcontent-%COMP%]{color:var(--default-20)}.no-margin[_nghost-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]:not(.date-picker)   input[readonly][_ngcontent-%COMP%]{color:var(--default-40);border-color:var(--default-80);background-color:var(--grayscale-g1)}[_nghost-%COMP%]     .mdc-text-field{padding:0;background-color:transparent!important}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--focused input{border-color:var(--accent-blue)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid input{border-color:var(--negative)}[_nghost-%COMP%]     .mdc-text-field.mdc-text-field--invalid .mat-mdc-floating-label{color:var(--negative)!important}[_nghost-%COMP%]     .mat-mdc-form-field-subscript-wrapper, [_nghost-%COMP%]     .mat-mdc-form-field-focus-overlay, [_nghost-%COMP%]     .mdc-line-ripple{display:none}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{min-height:0;padding-bottom:0}[_nghost-%COMP%]     .no-label .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:0}[_nghost-%COMP%]     .mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:20px;font:17px Poppins,sans-serif;line-height:20px;color:var(--default-40);letter-spacing:normal}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{display:block;width:100%;height:40px;box-sizing:border-box;padding:8px 16px;border:1px solid var(--default-20);border-radius:12px;outline:none;color:var(--default-20)!important}@media only screen and (max-width: 767px){[_nghost-%COMP%]   input[_ngcontent-%COMP%]{height:48px;padding:12px 16px}}[_nghost-%COMP%]   input[disabled][_ngcontent-%COMP%]{color:var(--default-40)!important;border-color:var(--default-80);background-color:var(--grayscale-g1)}[_nghost-%COMP%]   input[_ngcontent-%COMP%]::placeholder{display:block;color:var(--default-60)!important}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{appearance:textfield}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, [_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{appearance:none;margin:0}[_nghost-%COMP%]   input.small[_ngcontent-%COMP%]{height:28px;padding:6px 12px;border:none;border-radius:8px;font-size:13px;line-height:16px;background-color:var(--button-1)}@media only screen and (max-width: 767px){[_nghost-%COMP%]   input.small[_ngcontent-%COMP%]{height:32px}}[_nghost-%COMP%]   input.small.has-prefix[_ngcontent-%COMP%]{padding-left:36px}[_nghost-%COMP%]   input.small.has-suffix[_ngcontent-%COMP%]{padding-right:36px}[_nghost-%COMP%]   input.has-prefix[_ngcontent-%COMP%]{padding-left:48px}[_nghost-%COMP%]   input.has-suffix[_ngcontent-%COMP%]{padding-right:48px}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, [_nghost-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus{box-shadow:0 0 0 1000px var(--grayscale) inset;-webkit-text-fill-color:var(--default-20)}[_nghost-%COMP%]   .additional-info[_ngcontent-%COMP%]{display:block;margin-top:5px;color:var(--default-40)}.has-errors[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{position:relative}.input-actions[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;display:flex;margin-right:10px;transform:translateY(-50%)}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]{width:24px;height:24px}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:first-child{margin-right:8px}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]  button{width:24px;height:24px;padding:0;border-radius:0;background:none}.input-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]  button:disabled:hover:not(.social){background:none}.input-actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{display:block}.input-actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]:hover     i{color:var(--accent-blue)}.input-actions[_ngcontent-%COMP%]   ss-icon.disabled[_ngcontent-%COMP%]     i{color:var(--default-80);cursor:not-allowed}[_nghost-%COMP%]:hover  input{color:var(--default);border-color:var(--default)}[_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-40)}[_nghost-%COMP%]:hover  .mat-form-field-label{color:var(--default-20)!important}[_nghost-%COMP%]:hover  .additional-info{color:var(--default-20)}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty input{border-color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]:hover  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-readonly:not(.date-picker) .additional-info{color:var(--default-40)}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-disabled .mat-form-field-label-wrapper .mat-form-field-label{color:var(--default-40)!important}[_nghost-%COMP%]:hover  .mat-mdc-form-field.field-disabled .additional-info{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-invalid .mat-form-field-label{color:var(--default-40)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label, [_nghost-%COMP%]  .mat-mdc-form-field.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{top:0;width:100%;transform:none}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-infix{width:100%;padding-top:10px;padding-bottom:0;border-top-width:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper{top:-18px;padding-top:16px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font:13px Poppins,sans-serif;line-height:20px;color:var(--default-40)}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field .mat-form-field-label-wrapper .mat-form-field-label{font-size:14px;line-height:24px}}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused input{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty.mat-focused .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-form-field-label-wrapper .mat-form-field-label{color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty input{border-color:var(--negative)!important}[_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.ng-invalid.ng-dirty .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-40)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-form-field-label{color:var(--default)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .additional-info{color:var(--default-20)}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused input{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.mat-focused .mat-mdc-select-arrow-wrapper .mat-mdc-select-arrow{border-color:var(--accent-blue)!important}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-infix{padding-top:0;border-top-width:0}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-form-field-label-wrapper{top:0;padding-top:0}[_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-readonly:not(.date-picker) .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field.field-disabled .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-80)}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{position:absolute;bottom:8px;z-index:1;font-size:22px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{bottom:12px}}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix .mat-mdc-icon-button.mat-mdc-button-base, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix .mat-mdc-icon-button.mat-mdc-button-base{width:24px;height:24px;padding:0}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix ss-icon i, [_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix ss-icon i{color:var(--default-60)}[_nghost-%COMP%]  .mat-mdc-form-field-icon-prefix{left:16px!important}[_nghost-%COMP%]  .mat-mdc-form-field-icon-suffix{right:16px}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{bottom:6px}@media only screen and (max-width: 767px){[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{bottom:8px}}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-prefix{left:13px!important}[_nghost-%COMP%]  .small .mat-mdc-form-field-icon-suffix{right:13px}[_nghost-%COMP%]  .mat-form-field-subscript-wrapper{top:100%;margin-top:1px}","[_nghost-%COMP%]   input.no-label[_ngcontent-%COMP%]{padding-right:30px;padding-left:8px;border-top:none;border-right:none;border-left:none;border-radius:0;border-bottom-width:1px}[_nghost-%COMP%]  .mat-mdc-form-field .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field .mat-mdc-form-field-icon-suffix{top:37px!important;font-size:20px;color:var(--default)}[_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-mdc-form-field-icon-prefix, [_nghost-%COMP%]  .mat-mdc-form-field.no-label .mat-mdc-form-field-icon-suffix{top:15px!important;right:3px}[_nghost-%COMP%]  mat-form-field:not(.date-picker) input[readonly]{border-radius:8px 8px 0 0;border-color:var(--accent-blurple)!important;background:var(--alt-60)!important}[_nghost-%COMP%]  mat-form-field:not(.date-picker) input[disabled]{border-radius:8px 8px 0 0}mat-checkbox[_ngcontent-%COMP%]{margin-top:8px}.option[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.option[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-right:12px}.option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:calc(100% - 42px);line-height:normal}.option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%] > span.aliases[_ngcontent-%COMP%]{margin-top:-3px}.actions[_ngcontent-%COMP%]{position:absolute;top:11px;right:5px;display:flex;justify-content:center;align-items:center}.actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{display:none}.actions[_ngcontent-%COMP%]   ss-icon.visible[_ngcontent-%COMP%]{display:inline-block}.actions.loading[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block}.actions.loading[_ngcontent-%COMP%]:hover   mat-spinner[_ngcontent-%COMP%]{display:none}.actions.loading[_ngcontent-%COMP%]:hover   ss-icon[_ngcontent-%COMP%]{display:inline-block}"]});let t=e;return t})();var Oue=(()=>{let e=class e{get isOnline(){if(this.currentRoomName)return!0;if(!this.lastActive)return!1;let i=ot.fromISO(this.lastActive);return i?Math.abs(i.diffNow("minutes").minutes)<5:!1}get status(){if(this.currentRoomName)return this.currentRoomName;if(!this.lastActive)return"";let i=ot.fromISO(this.lastActive);if(!i)return"";let r=Math.abs(i.diffNow("minutes").minutes),o=Math.abs(i.diffNow("days").days);return r<5?"Online":o<1?"Seen today":o>=1&&o<7?`Seen ${Math.floor(o)} day${Math.floor(o)===1?"":"s"} ago`:o>=7&&o<14?"Seen last week":o>=14?"Seen over a week ago":""}get isClickable(){return!!this.currentRoomId&&this.userId!==this.accountService.currentUser.id}get role(){return this.isClickable?"button":"status"}get tooltipText(){}onClick(){this.isClickable&&this.tryToOpenRoom()}onMouseEnter(){this.isClickable&&(this.tooltip.message=`Click to join ${this.currentRoomName}`,this.tooltip.show())}onMouseLeave(){this.isClickable&&this.tooltip.hide()}constructor(i,r,o,s,a){this.settingsService=i,this.livekit=r,this.accountService=o,this.analyticsService=s,this.tooltip=a}tryToOpenRoom(){let i=`/focus/${this.currentRoomId}`;this.settingsService.isB2BApp()&&Ue.livekitRoomNamePrefix&&i.includes(Ue.livekitRoomNamePrefix)&&(i=i.replace(`${Ue.livekitRoomNamePrefix}-`,"")),this.analyticsService.markActivity(mt.RoomJoinClick,{roomName:this.currentRoomName,isLiteRoom:!1}),this.livekit.room?.name===this.currentRoomId?this.livekit.room.attemptHighlightingParticipant(this.userId):window.open(`${i}?highlight=${this.userId}`,"_blank")}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(wr),L(Qt),L(Kr),L(ci))},e.\u0275cmp=re({type:e,selectors:[["ss-online-status"]],hostVars:2,hostBindings:function(r,o){r&1&&G("click",function(){return o.onClick()})("mouseenter",function(){return o.onMouseEnter()})("mouseleave",function(){return o.onMouseLeave()}),r&2&&(wi("matTooltip",o.tooltipText),ct("role",o.role))},inputs:{userId:"userId",lastActive:"lastActive",currentRoomId:"currentRoomId",currentRoomName:"currentRoomName"},standalone:!1,features:[yt([ci])],decls:3,vars:3,consts:[[1,"indicator"]],template:function(r,o){r&1&&($(0,"div",0),C(1,"small"),F(2),w()),r&2&&(le("green",o.isOnline),y(2),Ne(o.status))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;max-width:100%;width:fit-content;padding:4px 8px;margin-right:5px;border-radius:9px;background-color:var(--grayscale-g1)}@media only screen and (max-width: 767px){[_nghost-%COMP%]{box-shadow:0 0 2px rgb(var(--black))}}.indicator[_ngcontent-%COMP%]{flex-shrink:0;width:12px;height:12px;margin-right:8px;border-radius:50%;background-color:var(--default-80)}.indicator.green[_ngcontent-%COMP%]{background-color:var(--positive)}.indicator.red[_ngcontent-%COMP%]{background-color:var(--negative)}small[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]});let t=e;return t})();var xP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-premium-tick"]],standalone:!1,decls:1,vars:0,consts:[["matTooltip","Premium user",1,"icon"]],template:function(r,o){r&1&&$(0,"div",0)},dependencies:[ci],styles:["[_nghost-%COMP%]{display:block}.icon[_ngcontent-%COMP%]{flex-shrink:0;width:16px;height:16px;margin-right:4px;background-image:url(/assets/icons/premium-tick.svg)}"]});let t=e;return t})();function p5e(t,e){if(t&1){let n=fe();C(0,"ss-user-popup",8),G("markActivity",function(r){Y(n);let o=M();return X(o.markActivity.emit(r))})("closePopup",function(){Y(n);let r=M();return X(r.togglePopup())}),w()}if(t&2){let n=M();P("userId",n.user.id)("openedFromSource",n.OpenedFromSourceRef.SuggestedUsers)}}function m5e(t,e){t&1&&$(0,"ss-premium-tick")}function A5e(t,e){if(t&1){let n=fe();C(0,"span",9),G("click",function(r){Y(n);let o=M();return X(o.togglePopup(r))}),F(1,"You"),w()}}function g5e(t,e){if(t&1){let n=fe();C(0,"span",10),G("click",function(r){Y(n);let o=M();return X(o.togglePopup(r))}),F(1),w()}if(t&2){let n=M();y(),Ne(n.user.displayName)}}function v5e(t,e){if(t&1&&$(0,"ss-badge",7),t&2){let n=M();P("badge",n.user.userBadge)}}function _5e(t,e){if(t&1&&(C(0,"small"),F(1),w()),t&2){let n=M();y(),Ne(n.descriptionText)}}var P5=(()=>{let e=class e{get descriptionText(){let i=this.user;switch(this.descriptionField){case v_.Bio:return i.bio;case v_.Subject:return i.areaOfStudyName;case v_.Country:return i.countryName;default:return null}}constructor(i,r,o){this.settingsService=i,this.accountService=r,this.router=o,this.avatarSize=40,this.descriptionField=null,this.vertical=!1,this.markActivity=new Ae,this.OpenedFromSourceRef=Hi}ngOnInit(){this.currentUser=this.accountService.currentUser}togglePopup(i){if(i){if(!this.currentUser.emailConfirmed){this.router.navigate(["/verify-email"]);return}if(!this.accountService.isCurrentUserPhoneVerified()){this.router.navigate(["/verify-phone"]);return}if(!this.currentUser.completedBasicInfo){this.router.navigate(["/basic-info"]);return}this.markActivity.emit(this.source),i.stopPropagation()}this.userPopupOpened=!this.userPopupOpened}getUserBioOrSubject(){return this.user.bio||this.user.areaOfStudyName||""}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(Qt),L(tn))},e.\u0275cmp=re({type:e,selectors:[["ss-user-avatar-and-info"]],hostVars:2,hostBindings:function(r,o){r&2&&le("vertical",o.vertical)},inputs:{user:"user",avatarSize:"avatarSize",descriptionField:"descriptionField",source:"source",vertical:"vertical"},outputs:{markActivity:"markActivity"},standalone:!1,decls:11,vars:15,consts:[["trigger","cdkOverlayOrigin"],["cdkOverlayOrigin","",1,"user-item"],["role","button",3,"click","avatarColor","avatarThumbUrl","initials","userId","showOnlineStatus","size"],["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","transparent",3,"backdropClick","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayDisableClose"],[1,"user-info"],[1,"interactable-bold"],[1,"name"],[3,"badge"],["cssClass","margin-horizontal",3,"markActivity","closePopup","userId","openedFromSource"],[1,"name",3,"click"],[3,"click"]],template:function(r,o){if(r&1){let s=fe();C(0,"div",1,0)(2,"ss-user-avatar",2),G("click",function(l){return Y(s),X(o.togglePopup(l))}),w(),Vn(3,p5e,1,2,"ng-template",3),G("backdropClick",function(){return Y(s),X(o.togglePopup())}),C(4,"div",4)(5,"div",5),H(6,m5e,1,0,"ss-premium-tick"),H(7,A5e,2,0,"span",6),H(8,g5e,2,1,"span"),H(9,v5e,1,1,"ss-badge",7),w(),H(10,_5e,2,1,"small"),w()()}if(r&2){let s=It(1);y(2),P("avatarColor",o.user.avatarColor)("avatarThumbUrl",o.user.avatarThumbUrl)("initials",o.user.initials)("userId",o.user.id)("showOnlineStatus",!1)("size",o.avatarSize),y(),P("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",o.userPopupOpened)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayDisableClose",!0),y(3),Q(!o.settingsService.isB2BApp()&&o.user.showPremiumTick?6:-1),y(),Q(o.user.id===o.currentUser.id?7:-1),y(),Q(o.user.id!==o.currentUser.id?8:-1),y(),Q(o.user.userBadge?9:-1),y(),Q(o.descriptionText?10:-1)}},dependencies:[Ka,Ps,Ys,qf,JD,xP],styles:["[_nghost-%COMP%]{display:block;max-width:100%}.vertical[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]{flex-direction:column}.vertical[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{width:117px;margin-right:0}.vertical[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:117px;text-align:center}.vertical[_nghost-%COMP%]   .user-item[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-right:0}.user-item[_ngcontent-%COMP%]{display:flex;align-items:center}.user-item[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-right:12px}.user-info[_ngcontent-%COMP%]{overflow:hidden;margin-right:15px;text-overflow:ellipsis;white-space:nowrap}.user-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;overflow:hidden;color:var(--default-40);text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical}.user-info[_ngcontent-%COMP%]   .interactable-bold[_ngcontent-%COMP%]{display:flex;align-items:center}.user-info[_ngcontent-%COMP%]   .interactable-bold[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.user-info[_ngcontent-%COMP%]   .interactable-bold[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--accent-blurple)}.user-info[_ngcontent-%COMP%]   ss-badge[_ngcontent-%COMP%]{flex-shrink:0;margin-left:4px}ss-button-small[_ngcontent-%COMP%]{width:84px;margin-left:auto}"]});let t=e;return t})(),v_=function(t){return t.Bio="Bio",t.Subject="Subject",t.Country="Country",t.Interest="Interest",t}(v_||{});var Rue=(()=>{let e=class e{constructor(i){this.host=i,this.shouldHavePulseClass=!0}ngOnInit(){let i=this.host.nativeElement;this.className&&i.classList.add(this.className),i.style.setProperty("--skeleton-width",this.width??"100%"),i.style.setProperty("--skeleton-height",this.height??"20px")}};e.\u0275fac=function(r){return new(r||e)(L(Se))},e.\u0275cmp=re({type:e,selectors:[["ss-skeleton-loader"]],hostVars:2,hostBindings:function(r,o){r&2&&le("pulse",o.shouldHavePulseClass)},standalone:!1,decls:0,vars:0,template:function(r,o){},styles:["[_nghost-%COMP%]{display:block;width:var(--skeleton-width);height:var(--skeleton-height);border-radius:7px;background:var(--skeleton-background) no-repeat}  .pulse{animation:_ngcontent-%COMP%_pulse 1.5s cubic-bezier(.4,0,.2,1) infinite;animation-delay:.5s}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.dark-theme   [_nghost-%COMP%]{background:var(--grayscale-g4) no-repeat}"]});let t=e;return t})();var __=(()=>{let e=class e{constructor(i,r){this.templateRef=i,this.viewContainerRef=r,this.ssSkeletonLoader=!1,this.ssSkeletonLoaderSize=1}ngOnChanges(i){i.ssSkeletonLoader&&(this.viewContainerRef.clear(),i.ssSkeletonLoader.currentValue?Array.from({length:this.ssSkeletonLoaderSize}).forEach(()=>{let r=this.viewContainerRef.createComponent(Rue);Object.assign(r.instance,{width:this.ssSkeletonLoaderWidth,height:this.ssSkeletonLoaderHeight,className:this.ssSkeletonLoaderClassName})}):this.viewContainerRef.createEmbeddedView(this.templateRef))}};e.\u0275fac=function(r){return new(r||e)(L(Mi),L(mi))},e.\u0275dir=ye({type:e,selectors:[["","ssSkeletonLoader",""]],inputs:{ssSkeletonLoader:"ssSkeletonLoader",ssSkeletonLoaderSize:"ssSkeletonLoaderSize",ssSkeletonLoaderWidth:"ssSkeletonLoaderWidth",ssSkeletonLoaderHeight:"ssSkeletonLoaderHeight",ssSkeletonLoaderClassName:"ssSkeletonLoaderClassName"},standalone:!1,features:[gt]});let t=e;return t})();var Fue=(t,e)=>e.id;function y5e(t,e){t&1&&(C(0,"h2"),F(1,"Latest Room"),w())}function C5e(t,e){if(t&1&&(C(0,"div",15),F(1),w()),t&2){let n=M(2);y(),xo(" ",n.room.currentAnonymousParticipants," viewer",n.room.currentAnonymousParticipants!==1?"s":""," ")}}function w5e(t,e){if(t&1&&(C(0,"ss-html-tooltip"),$(1,"ss-icon",12),C(2,"div",13)(3,"em"),F(4,"Online Breakdown"),w(),C(5,"div",14),F(6),w(),H(7,C5e,2,2,"div",15),w()()),t&2){let n=M();y(),P("size",16),y(5),xo("",n.room.currentParticipants," participant",n.room.currentParticipants!==1?"s":""),y(),Q(n.room.currentAnonymousParticipants>0?7:-1)}}function E5e(t,e){t&1&&$(0,"div")}function x5e(t,e){t&1&&(C(0,"div",17),Vn(1,E5e,1,0,"div",19),w()),t&2&&(y(),P("ssSkeletonLoader",!0)("ssSkeletonLoaderHeight","24px")("ssSkeletonLoaderWidth","100%"))}function S5e(t,e){if(t&1){let n=fe();C(0,"ss-user-avatar",22),G("click",function(r){let o=Y(n).$implicit,s=M(3);return X(s.openPopup(o,r))}),w()}if(t&2){let n=e.$implicit,i=M(3);P("avatarColor",n.avatarColor)("avatarThumbUrl",n.avatarThumbUrl)("initials",n.initials)("userId",n.id)("showOnlineStatus",!1)("size",i.isMobile?32:24)}}function T5e(t,e){if(t&1){let n=fe();C(0,"ss-user-popup",24),G("closePopup",function(){Y(n);let r=M(4);return X(r.closePopup())}),w()}if(t&2){let n=M(4);P("userId",n.userPopupId)}}function I5e(t,e){if(t&1&&H(0,T5e,1,1,"ss-user-popup",23),t&2){let n=M(3);Q(n.userPopupId?0:-1)}}function k5e(t,e){if(t&1){let n=fe();C(0,"div",18,0),Bt(2,S5e,1,6,"ss-user-avatar",20,Fue),Vn(4,I5e,1,1,"ng-template",21),G("backdropClick",function(){Y(n);let r=M(2);return X(r.closePopup())}),w()}if(t&2){let n=It(1),i=M(2);P("hidden",(i.room.topParticipants==null?null:i.room.topParticipants.length)===0),y(2),Ft(i.room.topParticipants),y(2),P("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",i.userPopupOpened)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayDisableClose",!0)}}function M5e(t,e){if(t&1&&(C(0,"div",16),H(1,x5e,2,3,"div",17),H(2,k5e,5,5,"div",18),w()),t&2){let n=M();le("move-right",n.room.topParticipants&&n.room.topParticipants.length===0),y(),Q(!n.room.loadedParticipants&&!n.room.disabled?1:-1),y(),Q(n.room.loadedParticipants&&n.currentUser.id?2:-1)}}function D5e(t,e){t&1&&(C(0,"div",5),$(1,"ss-icon",25),C(2,"span"),F(3," Requires sign up"),w()()),t&2&&(y(),P("size",20)("iconVariant",20))}function P5e(t,e){if(t&1){let n=fe();C(0,"ss-button",26),G("buttonClick",function(){Y(n);let r=M();return X(r.navigateToRoomLastSession())}),w()}t&2&&P("iconOnly",!0)("iconSize",20)}function O5e(t,e){if(t&1){let n=fe();C(0,"ss-button",27),G("buttonClick",function(){Y(n);let r=M();return X(r.joinFocusRoomInLiteVersion())}),F(1," Join lite "),w()}if(t&2){let n=M();P("disabled",n.locked||!n.room.joinable)("matTooltip",n.room.joinable?"Try the lite version if you're having issues with the room.":"This room is private. If you want to join it - you can ask the administrator to add you to the list of users allowed to join.")}}function R5e(t,e){t&1&&$(0,"div")}function B5e(t,e){t&1&&(C(0,"div",10),Vn(1,R5e,1,0,"div",19),w()),t&2&&(y(),P("ssSkeletonLoader",!0)("ssSkeletonLoaderHeight","150px")("ssSkeletonLoaderWidth","100%"))}function F5e(t,e){if(t&1&&$(0,"ss-user-avatar-and-info",30),t&2){let n=e.$implicit,i=M(3);P("user",n)("avatarSize",52)("vertical",!0)("source",i.ActivitySourceRef.RoomBoxMiniBioOpened)("descriptionField",i.UserDescriptionFieldRef.Bio)}}function N5e(t,e){if(t&1&&Bt(0,F5e,1,5,"ss-user-avatar-and-info",30,Fue),t&2){let n=M(2);Ft(n.latestRoomUsers)}}function L5e(t,e){if(t&1){let n=fe();C(0,"ss-button",31),G("buttonClick",function(){Y(n);let r=M(2);return X(r.pinAllAndJoin())}),F(1," Pin all and join "),w()}}function U5e(t,e){if(t&1&&(C(0,"div",11)(1,"h3"),F(2,"Who's Online"),w(),C(3,"div",28),H(4,N5e,2,0),w(),H(5,L5e,2,0,"ss-button",29),w()),t&2){let n=M();y(4),Q(n.latestRoomUsersLoading?-1:4),y(),Q(n.latestRoomUsers.length>0?5:-1)}}var V5e=(()=>{let e=class e{get locked(){return!this.accountService.authenticated()&&this.room?.requiresAuth}constructor(i,r,o,s){this.settingsService=i,this.accountService=r,this.router=o,this.utilityService=s,this.isMobile=!1,this.hasSession=!1,this.latestRoomUsersLoading=!1,this.latestRoomUsers=[],this.isLatestRoom=!1,this.publicWebsite=!1,this.focusRoomClicked=new Ae,this.userPopupId=null,this.UserDescriptionFieldRef=v_,this.ActivitySourceRef=mt}ngOnInit(){this.currentUser=this.accountService.currentUser}joinFocusRoomInLiteVersion(){if(this.publicWebsite){this.focusRoomClicked.emit(this.room);return}this.router.navigate([],{queryParams:{roomUrl:this.room.roomUrl.replace("/focus/","/focus-lite/")},queryParamsHandling:"merge"})}joinFocusRoom(){if(this.publicWebsite){this.focusRoomClicked.emit(this.room);return}this.router.navigate([],{queryParams:{roomUrl:this.room.roomUrl},queryParamsHandling:"merge"})}pinAllAndJoin(){this.utilityService.userIdsToPin=this.latestRoomUsers.map(i=>i.id),this.joinFocusRoom()}navigateToRoomLastSession(){this.router.navigate(["/session-summary"],{queryParams:{roomName:this.room.roomName}})}openPopup(i,r){r.stopPropagation(),this.userPopupOpened=!0,this.userPopupId=i.id}closePopup(){this.userPopupOpened=!1,this.userPopupId=null}getRoomParticipantsLabel(){return this.room.disabled?"Temporarily offline":this.room.currentParticipants+this.room.currentAnonymousParticipants+" online"}};e.\u0275fac=function(r){return new(r||e)(L(Sn),L(Qt),L(tn),L(Ht))},e.\u0275cmp=re({type:e,selectors:[["ss-room-box"]],hostVars:4,hostBindings:function(r,o){r&2&&le("latest",o.isLatestRoom)("public-website",o.publicWebsite)},inputs:{room:"room",isMobile:"isMobile",hasSession:"hasSession",latestRoomUsersLoading:"latestRoomUsersLoading",latestRoomUsers:"latestRoomUsers",isLatestRoom:"isLatestRoom",publicWebsite:"publicWebsite"},outputs:{focusRoomClicked:"focusRoomClicked"},standalone:!1,decls:18,vars:16,consts:[["trigger","cdkOverlayOrigin"],[1,"inner-wrapper"],[1,"room-name-and-status"],[1,"room-status"],[1,"participants",3,"move-right"],[1,"locked"],[1,"button-wrapper"],["matTooltip","View latest session summary","iconName","document_text_clock","color","focus-room",1,"show-summary",3,"iconOnly","iconSize"],["type","button","color","secondary",1,"lite-room",3,"disabled","matTooltip"],["type","button",1,"join-room",3,"buttonClick","disabled","matTooltip"],[1,"skeleton-loader-wrapper"],[1,"whos-online-wrapper"],["color","default-60","iconName","info",3,"size"],["tooltip","",1,"room-box-tooltip-content"],[1,"interactable"],[1,"interactable","viewers"],[1,"participants"],[1,"loader-wrapper"],["cdkOverlayOrigin","",1,"participants-list",3,"hidden"],[4,"ssSkeletonLoader","ssSkeletonLoaderHeight","ssSkeletonLoaderWidth"],["role","button",3,"avatarColor","avatarThumbUrl","initials","userId","showOnlineStatus","size"],["cdkConnectedOverlay","","cdkConnectedOverlayBackdropClass","transparent",3,"backdropClick","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayDisableClose"],["role","button",3,"click","avatarColor","avatarThumbUrl","initials","userId","showOnlineStatus","size"],["cssClass","margin-horizontal",3,"userId"],["cssClass","margin-horizontal",3,"closePopup","userId"],["iconName","lock_closed","color","default-20",3,"size","iconVariant"],["matTooltip","View latest session summary","iconName","document_text_clock","color","focus-room",1,"show-summary",3,"buttonClick","iconOnly","iconSize"],["type","button","color","secondary",1,"lite-room",3,"buttonClick","disabled","matTooltip"],[1,"users-wrapper"],["color","secondary","iconName","pin",1,"pin-all-button"],[3,"user","avatarSize","vertical","source","descriptionField"],["color","secondary","iconName","pin",1,"pin-all-button",3,"buttonClick"]],template:function(r,o){r&1&&(H(0,y5e,2,0,"h2"),C(1,"div",1)(2,"div",2)(3,"h4"),F(4),w(),C(5,"p"),$(6,"span",3),F(7),H(8,w5e,8,4,"ss-html-tooltip"),w()(),H(9,M5e,3,4,"div",4),H(10,D5e,4,2,"div",5),w(),C(11,"div",6),H(12,P5e,1,2,"ss-button",7),H(13,O5e,2,2,"ss-button",8),C(14,"ss-button",9),G("buttonClick",function(){return o.joinFocusRoom()}),F(15," Join "),w()(),H(16,B5e,2,3,"div",10),H(17,U5e,6,2,"div",11)),r&2&&(Q(o.isLatestRoom?0:-1),y(),le("public-website-room",o.publicWebsite),y(3),Ne(o.room.roomDisplayName),y(2),le("offline",o.room.disabled),y(),ht(" ",o.getRoomParticipantsLabel()," "),y(),Q(o.room.currentParticipants+o.room.currentAnonymousParticipants>0&&!o.room.requiresAuth?8:-1),y(),Q(!o.locked&&!o.publicWebsite?9:-1),y(),Q(o.locked?10:-1),y(2),Q(o.hasSession?12:-1),y(),Q(o.publicWebsite?-1:13),y(),P("disabled",o.publicWebsite&&o.locked||!o.room.joinable)("matTooltip",o.room.joinable?"":"This room is private. If you want to join it - you can ask the administrator to add you to the list of users allowed to join."),y(2),Q(o.latestRoomUsersLoading?16:-1),y(),Q(o.isLatestRoom&&o.latestRoomUsers.length>0?17:-1))},dependencies:[Ka,Ps,ci,$l,bn,Ys,qf,__,D5,P5],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;order:2;width:213px;padding:8px;border-radius:16px;background-color:var(--room-box-background)}@media only screen and (max-width: 479px){[_nghost-%COMP%]{width:100%}}.public-website[_nghost-%COMP%]{width:auto;background-color:var(--accent-blue-80)}.latest[_nghost-%COMP%]{flex-basis:100%;order:1;padding:24px}.latest[_nghost-%COMP%]   .button-wrapper[_ngcontent-%COMP%]{margin-top:22px}[_nghost-%COMP%]   ss-user-avatar-and-info[_ngcontent-%COMP%]     .user-info{display:flex;flex-direction:column;align-items:center}h2[_ngcontent-%COMP%]{margin-bottom:22px}@media only screen and (max-width: 1024px){p[_ngcontent-%COMP%]{height:30px}}p[_ngcontent-%COMP%]   .room-status[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;margin:0 4px -1px 0;border-radius:50%;background-color:var(--positive)}p[_ngcontent-%COMP%]   .room-status.offline[_ngcontent-%COMP%]{background-color:var(--negative)}p[_ngcontent-%COMP%]   .interactable-bold[_ngcontent-%COMP%]{font-size:15px}p[_ngcontent-%COMP%]   ss-html-tooltip[_ngcontent-%COMP%]{position:relative;top:3px;display:inline-block;height:16px;border:1px solid var(--alt-20);border-radius:12px;color:var(--light-default);background:var(--overlay)}@media only screen and (max-width: 1024px){p[_ngcontent-%COMP%]   ss-html-tooltip[_ngcontent-%COMP%]{height:auto}}.inner-wrapper[_ngcontent-%COMP%]{padding:16px;border-radius:16px;text-align:center;background:var(--grayscale);flex:1}.inner-wrapper.public-website-room[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.inner-wrapper.public-website-room[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left}.inner-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .inner-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;margin-bottom:8px;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical}.inner-wrapper[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{word-break:break-all}.participants[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;width:100%;height:24px;overflow:hidden;margin-top:5px}@media only screen and (max-width: 1024px){.participants[_ngcontent-%COMP%]{height:32px}}.participants[_ngcontent-%COMP%]   .loader-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 12px);margin-right:12px}.participants[_ngcontent-%COMP%]   .participants-list[_ngcontent-%COMP%]{position:absolute;top:0;display:flex;justify-content:center;width:100%}.participants[_ngcontent-%COMP%]   .participants-list[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]{margin-right:8px}.participants[_ngcontent-%COMP%]   .participants-list[_ngcontent-%COMP%]   ss-user-avatar[_ngcontent-%COMP%]:last-of-type{margin-right:0}.locked[_ngcontent-%COMP%]{display:flex;align-items:center;width:fit-content;padding:4px 12px 4px 8px;margin:0 auto;border-radius:8px;background-color:var(--grayscale-g2);cursor:pointer}.locked[_ngcontent-%COMP%]:hover{background-color:var(--grayscale-g3)}.locked[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-line-clamp:1;-webkit-box-orient:vertical}.locked[_ngcontent-%COMP%]   ss-icon[_ngcontent-%COMP%]{margin-right:4px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:8px}.button-wrapper[_ngcontent-%COMP%]   .show-summary[_ngcontent-%COMP%]{margin-right:8px}.button-wrapper[_ngcontent-%COMP%]   .show-summary[_ngcontent-%COMP%]  button{padding:0 8px}@media only screen and (max-width: 1024px){.button-wrapper[_ngcontent-%COMP%]   .show-summary[_ngcontent-%COMP%]  button{height:36px}}.button-wrapper[_ngcontent-%COMP%]   .join-room[_ngcontent-%COMP%]{flex:1}.button-wrapper[_ngcontent-%COMP%]   .lite-room[_ngcontent-%COMP%]{margin-right:12px}.skeleton-loader-wrapper[_ngcontent-%COMP%], .whos-online-wrapper[_ngcontent-%COMP%]{margin-top:22px}.whos-online-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:22px}.whos-online-wrapper[_ngcontent-%COMP%]   .users-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:24px 8px}@media only screen and (max-width: 600px){.whos-online-wrapper[_ngcontent-%COMP%]   .users-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}}@media only screen and (max-width: 479px){.whos-online-wrapper[_ngcontent-%COMP%]   .users-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.whos-online-wrapper[_ngcontent-%COMP%]   .users-wrapper[_ngcontent-%COMP%]   ss-user-avatar-and-info[_ngcontent-%COMP%]     .user-info{width:auto}.whos-online-wrapper[_ngcontent-%COMP%]   .users-wrapper[_ngcontent-%COMP%]   ss-user-avatar-and-info[_ngcontent-%COMP%]     small{width:117px;text-align:center}.whos-online-wrapper[_ngcontent-%COMP%]   .pin-all-button[_ngcontent-%COMP%]{margin-top:22px}"]});let t=e;return t})();function H5e(t,e){t&1&&$(0,"div")}function Q5e(t,e){t&1&&$(0,"div")}var j5e=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-room-loader"]],standalone:!1,decls:2,vars:7,consts:[[4,"ssSkeletonLoader","ssSkeletonLoaderHeight","ssSkeletonLoaderWidth","ssSkeletonLoaderClassName"],[4,"ssSkeletonLoader","ssSkeletonLoaderHeight","ssSkeletonLoaderWidth"]],template:function(r,o){r&1&&Vn(0,H5e,1,0,"div",0)(1,Q5e,1,0,"div",1),r&2&&(P("ssSkeletonLoader",!0)("ssSkeletonLoaderHeight","116px")("ssSkeletonLoaderWidth","197px")("ssSkeletonLoaderClassName","name"),y(),P("ssSkeletonLoader",!0)("ssSkeletonLoaderHeight","36px")("ssSkeletonLoaderWidth","197px"))},dependencies:[__],styles:["[_nghost-%COMP%]{padding:8px;border:1px solid var(--grayscale-g4);border-radius:16px}[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;margin-bottom:9px}[_nghost-%COMP%]     .type{margin-right:auto}[_nghost-%COMP%]     .name{margin-bottom:8px}[_nghost-%COMP%]     .status{margin-bottom:8px}"]});let t=e;return t})();function $5e(t,e){if(t&1&&(C(0,"a",0),F(1),w()),t&2){let n=M();P("href",n.getLocation(),$A),y(),Ne(n.provider)}}var z5e=(()=>{let e=class e{get backgroundImage(){return`url('/assets/icons/socials/${this.provider.toLocaleLowerCase()}-${this.type}.svg')`}getLocation(){if(this.role==="link")switch(this.provider){case"FacebookGroup":return`https://facebook.com/groups/${this.handle}`;case"Facebook":return`https://facebook.com/${this.handle}`;case"Instagram":return`https://instagram.com/${this.handle}`;case"Twitter":return`https://twitter.com/${this.handle}`;case"YouTube":return`https://youtube.com/${this.handle}`;case"TikTok":return`https://www.tiktok.com/@${this.handle}`;case"LinkedIn":return`https://www.linkedin.com/in/${this.handle}`;case"LinkedInCompany":return`https://www.linkedin.com/company/${this.handle}`;case"WhatsApp":return`https://api.whatsapp.com/send?phone=${this.handle}`;case"Snapchat":return`https://www.snapchat.com/add/${this.handle}`;case"Discord":return`https://www.discord.com/invite/${this.handle}`;case"Telegram":return`https://www.t.me/${this.handle}`;case"Spotify":return`https://open.spotify.com/user/${this.handle}`;case"Signal":return`https://www.signal.me/${this.handle}`;default:return}}constructor(){this.provider="Facebook",this.type="dark",this.size="normal",this.role="img"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=re({type:e,selectors:[["ss-social-button"]],hostVars:5,hostBindings:function(r,o){r&2&&(ct("role",o.role),xn(o.size),Zn("background-image",o.backgroundImage))},inputs:{provider:"provider",handle:"handle",type:"type",size:"size",role:"role"},standalone:!1,decls:1,vars:1,consts:[["target","_blank","rel","noopener",3,"href"]],template:function(r,o){r&1&&H(0,$5e,2,2,"a",0),r&2&&Q(o.getLocation()?0:-1)},styles:["[_nghost-%COMP%]{display:inline-block;width:40px;height:40px;margin-right:20px;border-radius:50%;background-size:contain;background-repeat:no-repeat}[role=link][_nghost-%COMP%]:hover{box-shadow:var(--elevation-s3)}.small[_nghost-%COMP%]{width:30px;height:30px;margin-right:12px}.website[_nghost-%COMP%]{width:32px;height:32px;margin:0 12px;border-radius:11px}.large[_nghost-%COMP%]{width:48px;height:48px}.profile[_nghost-%COMP%]{flex-shrink:0;width:36px;height:36px;margin-right:0;background-position:center;background-size:auto;opacity:.4}.profile[_nghost-%COMP%]:hover{background:var(--widget-default);background-position:center;background-repeat:no-repeat;opacity:1}.profile[_nghost-%COMP%]:hover     ss-icon i{color:var(--default)}.profile[_nghost-%COMP%]:disabled{opacity:.1}a[_ngcontent-%COMP%]{display:block;width:100%;height:100%;font-size:0}.dark-theme[_nghost-%COMP%]   .profile[_ngcontent-%COMP%], .dark-theme   [_nghost-%COMP%]   .profile[_ngcontent-%COMP%]{background-color:var(--grayscale)}"]});let t=e;return t})();var G5e=(()=>{let e=class e{transform(i,r){if(i){let o=r*24*3600;return i>o?o:i}return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Sr({name:"normalizeTime",type:e,pure:!0,standalone:!1});let t=e;return t})();var Nue=(()=>{let e=class e{transform(i,r=!1){let o=i/60,s=Math.floor(o/60),a=Math.floor(o%60);return s===0&&a===0&&i>0&&(a=1),`<span>${r&&s===0?"":`${s}h `}${a}m</span>`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=Sr({name:"timeDisplayHoursMinutes",type:e,pure:!0,standalone:!1});let t=e;return t})();var W5e=(()=>{let e=class e{constructor(i){this.domSanitizer=i}transform(i){return this.domSanitizer.bypassSecurityTrustHtml(i)}};e.\u0275fac=function(r){return new(r||e)(L(su,16))},e.\u0275pipe=Sr({name:"trustHtmlFull",type:e,pure:!0,standalone:!1});let t=e;return t})();var K5e=(()=>{let e=class e{constructor(i){this.domSanitizer=i}transform(i){let r=this.domSanitizer.sanitize(jo.HTML,i);return r?this.domSanitizer.bypassSecurityTrustHtml(r.toString()):""}};e.\u0275fac=function(r){return new(r||e)(L(su,16))},e.\u0275pipe=Sr({name:"trustHtml",type:e,pure:!0,standalone:!1});let t=e;return t})();var f2t=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=$e({type:e}),e.\u0275inj=je({providers:[{provide:v0,useValue:"en-GB"}],imports:[t0,yq,Cq,Wh,LY,yN,ko,QN,$Y,qq,PY,zN,HY,due.forRoot({style:"zoom-in"}),jK.forChild({loader:$K({prefix:"./assets/i18n/",suffix:".json"})})]});let t=e;return t})();t2(qf,function(){return[qh,ci,kg,oy,VY,bn,Wp,Ys,_u,hue,ID,Oue,Mue,JD,xP,__]},function(){return[Nue]});export{V as a,De as b,gc as c,M8 as d,yO as e,CO as f,ue as g,At as h,Xe as i,O as j,fn as k,rs as l,Ji as m,ui as n,Re as o,mA as p,os as q,Y_ as r,se as s,dp as t,ea as u,X_ as v,ta as w,wo as x,hi as y,qe as z,yc as A,so as B,Jt as C,La as D,mh as E,zd as F,Ah as G,ss as H,_A as I,h$ as J,yi as K,nn as L,en as M,lt as N,xx as O,be as P,kn as Q,W as R,je as S,ie as T,K as U,E as V,Y as W,X,oa as Y,DA as Z,Ge as _,ut as $,na as aa,gn as ba,HA as ca,nF as da,gt as ea,ri as fa,Se as ga,Zd as ha,$a as ia,kb as ja,jo as ka,Eo as la,$A as ma,AG as na,u_e as oa,mF as pa,y as qa,Mi as ra,er as sa,_n as ta,L as ua,Fb as va,mi as wa,re as xa,$e as ya,ye as za,Sr as Aa,rn as Ba,Vn as Ca,Ae as Da,Ie as Ea,Di as Fa,QS as Ga,ct as Ha,H as Ia,Q as Ja,B0e as Ka,Mn as La,Bt as Ma,Ft as Na,P as Oa,C as Pa,w as Qa,$ as Ra,hs as Sa,Ss as Ta,aa as Ua,qF as Va,YF as Wa,YA as Xa,fe as Ya,wi as Za,G as _a,M as $a,Dn as ab,Vt as bb,Ur as cb,Fe as db,Ce as eb,we as fb,It as gb,Zn as hb,le as ib,xn as jb,F as kb,Ne as lb,ht as mb,xo as nb,j7 as ob,$7 as pb,Ze as qb,tt as rb,Je as sb,ZF as tb,Ts as ub,JF as vb,yt as wb,t2 as xb,vye as yb,Dl as zb,_ye as Ab,bye as Bb,kt as Cb,Ai as Db,oi as Eb,Eye as Fb,xye as Gb,Vb as Hb,iu as Ib,Pc as Jb,Hye as Kb,Qtt as Lb,zt as Mb,$b as Nb,He as Ob,$o as Pb,Oc as Qb,Xb as Rb,Y9 as Sb,TCe as Tb,ICe as Ub,Zb as Vb,e0 as Wb,DCe as Xb,OCe as Yb,RCe as Zb,I2 as _b,FCe as $b,NCe as ac,t0 as bc,ZA as cc,U2 as dc,twe as ec,rwe as fc,Mh as gc,Oe as hc,Pp as ic,a0 as jc,eg as kc,Mt as lc,yW as mc,Twe as nc,Iwe as oc,trt as pc,EW as qc,su as rc,wT as sc,on as tc,G2 as uc,Pn as vc,cu as wc,Hr as xc,la as yc,Fwe as zc,Pi as Ac,ig as Bc,rot as Cc,IT as Dc,Kwe as Ec,f0 as Fc,Hn as Gc,ar as Hc,A0 as Ic,lr as Jc,Gt as Kc,v0 as Lc,g0 as Mc,ZW as Nc,RT as Oc,Rc as Pc,Qr as Qc,Est as Rc,Ga as Sc,b0 as Tc,oN as Uc,Fh as Vc,Io as Wc,ug as Xc,oK as Yc,Up as Zc,aK as _c,Eat as $c,Ul as ad,Ds as bd,rlt as cd,Uh as dd,du as ed,lK as fd,Bc as gd,HT as hd,_Ee as id,S0 as jd,Ms as kd,hK as ld,xEe as md,ca as nd,hN as od,fg as pd,k0 as qd,Go as rd,da as sd,uu as td,GT as ud,Vh as vd,ua as wd,Ps as xd,Ka as yd,ko as zd,P0 as Ad,Nt as Bd,Qn as Cd,BK as Dd,ai as Ed,hu as Fd,fu as Gd,pu as Hd,mu as Id,yN as Jd,qa as Kd,QK as Ld,Vl as Md,jK as Nd,$K as Od,_s as Pd,vr as Qd,BQ as Rd,tn as Sd,B1 as Td,S2e as Ud,D2e as Vd,Ue as Wd,_Te as Xd,Bs as Yd,Fs as Zd,jl as _d,KN as $d,Hi as ae,bu as be,Yht as ce,Xht as de,Zht as ee,Jht as fe,eft as ge,tft as he,nft as ie,qN as je,ift as ke,yI as le,rft as me,oft as ne,sft as oe,aft as pe,lft as qe,cft as re,Xq as se,Zq as te,xg as ue,YN as ve,Za as we,dft as xe,uft as ye,hft as ze,fft as Ae,Jq as Be,pft as Ce,mft as De,Aft as Ee,gft as Fe,wI as Ge,vft as He,_ft as Ie,bft as Je,yft as Ke,Cft as Le,K0 as Me,q0 as Ne,wft as Oe,Eft as Pe,xft as Qe,Sft as Re,Tft as Se,eY as Te,Ift as Ue,kft as Ve,Mft as We,Dft as Xe,Pft as Ye,Oft as Ze,Rft as _e,Bft as $e,Fft as af,Nft as bf,Lft as cf,Uft as df,Vft as ef,Hft as ff,Qft as gf,jft as hf,Yk as if,Qvt as jf,Me as kf,Le as lf,cl as mf,_e as nf,Jo as of,Xl as pf,p3 as qf,$n as rf,cv as sf,gr as tf,ot as uf,U3 as vf,Lu as wf,Vse as xf,Sn as yf,Hse as zf,eOe as Af,io as Bf,tOe as Cf,dv as Df,nOe as Ef,Ht as Ff,nIt as Gf,iIt as Hf,rIt as If,oIt as Jf,Hae as Kf,N2e as Lf,Qae as Mf,jae as Nf,$ae as Of,sIt as Pf,yd as Qf,gl as Rf,a5e as Sf,o_ as Tf,Ukt as Uf,Ku as Vf,bn as Wf,uo as Xf,Ya as Yf,Xa as Zf,vg as _f,Oi as $f,uI as ag,gu as bg,cr as cg,pI as dg,Rs as eg,Ixe as fg,$p as gg,ON as hg,yq as ig,Cq as jg,Nc as kg,zh as lg,vu as mg,Gh as ng,ho as og,Dxe as pg,RN as qg,z0 as rg,Wh as sg,zp as tg,Cg as ug,QN as vg,Eg as wg,Gp as xg,qq as yg,ci as zg,zN as Ag,Wp as Bg,_u as Cg,Uc as Dg,ATe as Eg,gTe as Fg,vTe as Gg,F1 as Hg,Qt as Ig,U2e as Jg,N1 as Kg,TI as Lg,$l as Mg,XPe as Ng,Wr as Og,ud as Pg,Ig as Qg,Mpt as Rg,Dpt as Sg,Ppt as Tg,Opt as Ug,Rpt as Vg,$Te as Wg,IY as Xg,kY as Yg,Kp as Zg,PY as _g,NY as $g,Vc as ah,LY as bh,oy as ch,kg as dh,VY as eh,HY as fh,qh as gh,$Y as hh,_L as ih,GAt as jh,Yj as kh,iOe as lh,Zy as mh,Af as nh,Pu as oh,rOe as ph,jv as qh,Ao as rh,Kr as sh,L1 as th,U1 as uh,mt as vh,MD as wh,ID as xh,go as yh,Xi as zh,L1t as Ah,ZD as Bh,D5 as Ch,Pue as Dh,gHe as Eh,JD as Fh,BIt as Gh,i_ as Hh,Ace as Ih,tP as Jh,hue as Kh,Dd as Lh,QHe as Mh,Wf as Nh,Bd as Oh,zY as Ph,ZPe as Qh,JPe as Rh,V3 as Sh,lde as Th,Td as Uh,jj as Vh,$j as Wh,zj as Xh,Gj as Yh,Wj as Zh,Id as _h,cde as $h,ude as ai,hde as bi,fde as ci,pde as di,mde as ei,gde as fi,vde as gi,eue as hi,tue as ii,Nw as ji,Vf as ki,nue as li,iue as mi,jf as ni,aue as oi,wr as pi,qs as qi,gue as ri,Kf as si,m_ as ti,Ys as ui,Ww as vi,vue as wi,_ue as xi,ln as yi,yP as zi,g_ as Ai,CP as Bi,I5 as Ci,wP as Di,EP as Ei,wue as Fi,Eue as Gi,xue as Hi,Jw as Ii,Tue as Ji,Iue as Ki,kue as Li,qf as Mi,Mue as Ni,Xje as Oi,i5e as Pi,due as Qi,h5e as Ri,Oue as Si,xP as Ti,P5 as Ui,v_ as Vi,__ as Wi,V5e as Xi,j5e as Yi,z5e as Zi,G5e as _i,Nue as $i,W5e as aj,K5e as bj,f2t as cj};
