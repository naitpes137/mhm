import{Ai as I,Bd as C,Cd as f,Fd as M,Gd as _,Hd as b,Id as v,Mg as P,Oa as d,Pa as a,Qa as s,Ra as u,Ri as x,Wf as O,_a as m,kb as g,qa as l,ua as r,xa as h,zh as y}from"./chunk-4LPE7HNY.js";var H=(()=>{let i=class i{constructor(t,o,n,c){this.data=t,this.dialogRef=o,this.channelService=n,this.toastService=c,this.saving=!1,this.channelId=t.channelId}handleKeyboardEvent(t){t.key==="Escape"?this.onClose():t.key==="Enter"&&this.addUserToChannel()}onClose(){this.dialogRef.close()}addUserToChannel(){this.conversationUserId&&(this.saving=!0,this.channelService.addUserToChannel(this.channelId,this.conversationUserId).subscribe({next:t=>{this.saving=!1,this.dialogRef.close(t)},error:t=>this.handleErrors(t)}))}onUserSelected(t){this.conversationUserId=t?t.id:null}handleErrors(t){this.saving=!1,this.toastService.error({exceptionDetail:t[0]})}};i.\u0275fac=function(o){return new(o||i)(r(f),r(C),r(I),r(y))},i.\u0275cmp=h({type:i,selectors:[["ss-conversation-user-modal"]],hostBindings:function(o,n){o&1&&m("keydown",function(p){return n.handleKeyboardEvent(p)})},standalone:!1,decls:12,vars:5,consts:[[1,"mat-header"],["mat-dialog-title",""],["mat-dialog-close","",1,"close-modal"],["iconName","dismiss","color","default-20",3,"size","iconVariant"],["id","userId","placeholder","Start typing...",3,"selectionChange","channelId"],["mat-dialog-close","","color","tertiary"],[3,"buttonClick","isLoading","disabled"]],template:function(o,n){o&1&&(a(0,"div",0)(1,"h2",1),g(2,"Add user to channel"),s(),a(3,"button",2),u(4,"ss-icon",3),s()(),a(5,"mat-dialog-content")(6,"ss-user-autocomplete",4),m("selectionChange",function(p){return n.onUserSelected(p)}),s()(),a(7,"mat-dialog-actions")(8,"ss-button",5),g(9,"Close"),s(),a(10,"ss-button",6),m("buttonClick",function(){return n.addUserToChannel()}),g(11," Add User "),s()()),o&2&&(l(4),d("size",20)("iconVariant",20),l(2),d("channelId",n.channelId),l(4),d("isLoading",n.saving)("disabled",!n.conversationUserId))},dependencies:[M,_,v,b,P,O,x],styles:["mat-dialog-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]{margin-right:12px}mat-dialog-actions[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:last-of-type{margin-right:0}mat-radio-group[_ngcontent-%COMP%], .checkbox-wrapper[_ngcontent-%COMP%]{width:100%}mat-radio-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .checkbox-wrapper[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin-bottom:8px}mat-radio-group[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:last-of-type, .checkbox-wrapper[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.action-buttons-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.action-buttons-wrapper[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%], .action-buttons-wrapper[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]{margin-right:12px}.action-buttons-wrapper[_ngcontent-%COMP%]   ss-button[_ngcontent-%COMP%]:last-of-type, .action-buttons-wrapper[_ngcontent-%COMP%]   ss-button-small[_ngcontent-%COMP%]:last-of-type{margin-right:0}"]});let e=i;return e})();var U=function(e){return e.Regular="Regular",e.TeamPostingOnly="TeamPostingOnly",e}(U||{});var k=function(e){return e.Member="Member",e.Moderator="Moderator",e.Admin="Admin",e}(k||{});export{H as a,U as b,k as c};
