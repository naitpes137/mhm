import{De as c,Ig as f,N as u,R as S,U as a,Wd as p,l as o,lc as h,o as s}from"./chunk-4LPE7HNY.js";var g=(()=>{let e=class e{constructor(t,r){if(this.http=t,this.accountService=r,this.sidebarStateChange=new o(1),this.API_ENDPOINT=`${p.apiUrl}/accounts/me/sidebar-expanded`,this.accountService.authenticated())return;let n=localStorage.getItem(c);n&&this.setSidebarState(JSON.parse(n))}setSidebarState(t){if(this.sidebarStateChange.next(t),this.accountService.authenticated()){this.updateSidebarState(t).subscribe();return}localStorage.setItem(c,JSON.stringify(t))}updateSidebarState(t){return this.accountService.currentUser.sidebarExpanded===t?s():this.http.put(this.API_ENDPOINT,{sidebarExpanded:t}).pipe(u(()=>{this.accountService.currentUser.sidebarExpanded=t,this.accountService.currentUserChange.next()}))}};e.\u0275fac=function(r){return new(r||e)(a(h),a(f))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();export{g as a};
